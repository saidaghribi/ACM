"use strict";(self.webpackChunkacm_web=self.webpackChunkacm_web||[]).push([[219],{20219:function(e,t,n){n.r(t),n.d(t,{SettingModule:function(){return zv}});var i=n(44466),r=n(38583),a=n(95514),o=n(61181),l=n(42663),s=n(29790),d=n(15603),c=n(3679),p=n(39577),m=n(8239),u=n(74972),g=n(19449),h=n(58762),f=n(37716),v=n(28970),S=n(85627),y=n(65981),x=n(99266),E=n(35554),b=n(33013),C=n(57552),I=n(61137);const w=["ngxLoading"];function F(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"th",11),f.\u0275\u0275elementStart(1,"div",12),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275element(4,"p-sortIcon",13),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("pSortableColumn",e.field),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,3,e.header)," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("field",e.field)}}function _(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",19),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(8).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function L(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",19),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(8).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function D(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",19),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(8).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function k(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",19),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(8).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function T(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",20),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(8).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function M(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",20),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(8).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function V(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"select",21),f.\u0275\u0275listener("change",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(8).filter(t.target.value,n.field,"equals")}),f.\u0275\u0275elementStart(1,"option",22),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"option",23),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"option",24),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"option",25),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"option",26),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"option",27),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"option",28),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"option",29),f.\u0275\u0275text(23),f.\u0275\u0275pipe(24,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"option",30),f.\u0275\u0275text(26),f.\u0275\u0275pipe(27,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"option",31),f.\u0275\u0275text(29),f.\u0275\u0275pipe(30,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(31,"option",32),f.\u0275\u0275text(32),f.\u0275\u0275pipe(33,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"option",33),f.\u0275\u0275text(35),f.\u0275\u0275pipe(36,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"option",34),f.\u0275\u0275text(38),f.\u0275\u0275pipe(39,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,13,"category_loan.all")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(6,15,"party.type.financial-partners")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(9,17,"party.type.insurance-companies")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,19,"party.type.financial-backers")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(15,21,"party.type.business-partners")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(18,23,"party.type.technical-partners")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(21,25,"party.type.individuals")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(24,27,"party.type.lawyer")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(27,29,"party.type.bailiff")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(30,31,"party.type.expert")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(33,33,"party.type.consultant")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(36,35,"party.type.collection_company")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(39,37,"party.type.recovery_company")))}function A(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"select",21),f.\u0275\u0275listener("change",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(8).filter(t.target.value,n.field,"equals")}),f.\u0275\u0275elementStart(1,"option",22),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"option",35),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"option",36),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"option",37),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"option",38),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,5,"category_loan.all")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(6,7,"party.statut.active"),""),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(9,9,"party.statut.inactive"),""),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(12,11,"party.statut.reactivated"),""),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(15,13,"party.statut.black-list"),""))}function P(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",20),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(8).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function B(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",19),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(8).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function N(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",19),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(8).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function R(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"select",39),f.\u0275\u0275listener("change",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(8).filter(t.target.value,n.field,"equals")}),f.\u0275\u0275elementStart(1,"option",40),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"option",41),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"option",42),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}2&e&&(f.\u0275\u0275property("showClear",!0),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,4,"category_loan.all"),""),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(6,6,"setting.on")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(9,8,"setting.off")))}function O(e,t){1&e&&(f.\u0275\u0275elementStart(0,"th",14),f.\u0275\u0275template(1,_,1,0,"input",15),f.\u0275\u0275template(2,L,1,0,"input",15),f.\u0275\u0275template(3,D,1,0,"input",15),f.\u0275\u0275template(4,k,1,0,"input",15),f.\u0275\u0275template(5,T,1,0,"input",16),f.\u0275\u0275template(6,M,1,0,"input",16),f.\u0275\u0275template(7,V,40,39,"select",17),f.\u0275\u0275template(8,A,16,15,"select",17),f.\u0275\u0275template(9,P,1,0,"input",16),f.\u0275\u0275template(10,B,1,0,"input",15),f.\u0275\u0275template(11,N,1,0,"input",15),f.\u0275\u0275template(12,R,10,10,"select",18),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275property("ngSwitch",t.$implicit.field),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","firstName"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","lastName"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","email"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","addressParty"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","code_postal"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","phoneNumber"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","type"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","statut"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","numero_rne"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","pays"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","ville"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","enabled"))}function j(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275template(1,F,5,5,"th",8),f.\u0275\u0275element(2,"th",9),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"tr"),f.\u0275\u0275template(4,O,13,13,"th",10),f.\u0275\u0275element(5,"th",9),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",e),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngForOf",e)}}function G(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function U(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function $(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function J(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function z(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function K(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function W(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,t[e.field]))}}function q(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,t[e.field]))}}function H(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function Y(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,t[e.field]))}}function Q(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,t[e.field]))}}function X(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"bSwitch",48),f.\u0275\u0275listener("ngModelChange",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext().$implicit[n.field]=t})("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(2).$implicit;return f.\u0275\u0275nextContext().endableDisable(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275property("ngModel",t[e.field])("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("switch-handle-width",40)}}function Z(e,t){1&e&&(f.\u0275\u0275elementStart(0,"td",46),f.\u0275\u0275template(1,G,2,1,"div",47),f.\u0275\u0275template(2,U,2,1,"div",47),f.\u0275\u0275template(3,$,2,1,"div",47),f.\u0275\u0275template(4,J,2,1,"div",47),f.\u0275\u0275template(5,z,2,1,"div",47),f.\u0275\u0275template(6,K,2,1,"div",47),f.\u0275\u0275template(7,W,3,3,"div",47),f.\u0275\u0275template(8,q,3,3,"div",47),f.\u0275\u0275template(9,H,2,1,"div",47),f.\u0275\u0275template(10,Y,3,3,"div",47),f.\u0275\u0275template(11,Q,3,3,"div",47),f.\u0275\u0275template(12,X,2,5,"div",47),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275property("ngSwitch",t.$implicit.field),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","firstName"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","lastName"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","email"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","addressParty"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","code_postal"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","phoneNumber"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","type"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","statut"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","numero_rne"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","pays"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","ville"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","enabled"))}function ee(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"td"),f.\u0275\u0275elementStart(1,"button",49),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext().thirdPartyUpdate(t)}),f.\u0275\u0275element(2,"i",50),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}}function te(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"tr",43),f.\u0275\u0275template(1,Z,13,13,"td",44),f.\u0275\u0275template(2,ee,3,0,"td",45),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=t.columns,i=f.\u0275\u0275nextContext();f.\u0275\u0275property("pSelectableRow",e),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",n),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!i.sharedService.habilitationButton("UPDATE",i.currentPath))}}const ne=function(){return[5,10,20,50,100]};let ie=(()=>{class e{constructor(e,t,n,i,r,a,o,s){this.settingsService=e,this.translate=t,this.modal=n,this.formBuilder=i,this.devToolsServices=r,this.library=a,this.sharedService=o,this.router=s,this.ngxLoadingAnimationTypes=l.Sn,this.primaryColour="var(--primary)",this.config={animationType:l.Sn.none,primaryColour:this.primaryColour},this.loading=!0,this.branchesAcces=null,this.brancheEntitys=[],this.settingThirdPartyPagination=new u.F,this.emailMask=new RegExp(/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/),this.configBranches={displayKey:"description",search:!0,placeholder:" "},this.branchesArray=[],this.emptyResponsible=!1,this.currentPath="setting-third-party"}ngOnInit(){this.cols=[{field:"firstName",header:"setting.setting_users.first-name"},{field:"lastName",header:"setting.setting_users.last-name"},{field:"email",header:"customer.email"},{field:"addressParty",header:"customer.address"},{field:"code_postal",header:"customer_management.zip_code"},{field:"phoneNumber",header:"customer.telephone"},{field:"type",header:"collaterol.type"},{field:"statut",header:"setting.status"},{field:"numero_rne",header:"RNE"},{field:"pays",header:"customer_management.country"},{field:"ville",header:"customer_management.region"},{field:"enabled",header:"setting.status"}],this.selectedColumns=this.cols,this.pageSize=10,this.page=1,this.settingThirdPartyPagination.params=new g.$,this.sharedService.resetThirdParty(),this.settingsService.findSettingThirdPartyPagination(this.settingThirdPartyPagination).subscribe(e=>{this.settingThirdPartyPagination=e})}reloadThirdPartyList(e){var t=this;return(0,m.Z)(function*(){const n=new u.F;n.pageSize=e.rows,n.pageNumber=0===e.first?e.first:e.first/e.rows;const i=new g.$;void 0!==e.filters&&(i.firstName=void 0!==e.filters.firstName?e.filters.firstName.value:null,i.lastName=void 0!==e.filters.lastName?e.filters.lastName.value:null,i.email=void 0!==e.filters.email?e.filters.email.value:null,i.addressParty=void 0!==e.filters.addressParty?e.filters.addressParty.value:null,i.code_postal=void 0!==e.filters.code_postal?e.filters.code_postal.value:null,i.phoneNumber=void 0!==e.filters.phoneNumber?e.filters.phoneNumber.value:null,i.type=void 0!==e.filters.type?e.filters.type.value:null,i.statut=void 0!==e.filters.statut?e.filters.statut.value:null,i.numero_rne=void 0!==e.filters.numero_rne?e.filters.numero_rne.value:null,i.pays=void 0!==e.filters.pays?e.filters.pays.value:null,i.ville=void 0!==e.filters.ville?e.filters.ville.value:null,i.enabled=void 0!==e.filters.enabled?e.filters.enabled.value:null),n.params=i,void 0!==e.multiSortMeta&&e.multiSortMeta.length>0&&(n.sortField=e.multiSortMeta[0].field,n.sortDirection=e.multiSortMeta[0].order),yield t.settingsService.findSettingThirdPartyPagination(n).subscribe(e=>{t.settingThirdPartyPagination=e})})()}thirdPartyUpdate(e){this.sharedService.setThirdParty(e),this.router.navigate([h.J.EDIT_THIRD_PARTY],{queryParams:{source:"EDIT"}})}endableDisable(e){this.settingsService.updateEnableSettingThirdParty(e).toPromise().then(()=>{this.devToolsServices.openToast(0,"alert.success")}).finally(()=>this.ngOnInit())}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(y.F),f.\u0275\u0275directiveInject(x.F0))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-third-party"]],viewQuery:function(e,t){if(1&e&&f.\u0275\u0275viewQuery(w,5),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.ngxLoadingComponent=e.first)}},decls:11,vars:22,consts:[[3,"heading","icon","account","status"],[1,"card"],[1,"card-header"],[1,"card-body"],["sortMode","multiple","selectionMode","single",3,"responsive","autoLayout","value","lazy","lazyLoadOnInit","totalRecords","rowsPerPageOptions","paginator","pageLinks","rows","columns","selection","onLazyLoad","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["class","text-center",3,"pSortableColumn",4,"ngFor","ngForOf"],[2,"width","40px"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"text-center",3,"pSortableColumn"],[1,"center-elem","text-center"],[1,"pl-1",3,"field"],[3,"ngSwitch"],["class","form-control","type","text",3,"input",4,"ngSwitchCase"],["class","form-control","type","number",3,"input",4,"ngSwitchCase"],["class","form-control",3,"change",4,"ngSwitchCase"],["class","form-control ACM-Dashbord-productDescription-col",3,"showClear","change",4,"ngSwitchCase"],["type","text",1,"form-control",3,"input"],["type","number",1,"form-control",3,"input"],[1,"form-control",3,"change"],["value","null"],["value","Financial partners"],["value","Insurance companies"],["value","Financial backers"],["value","Business partners"],["value","Technical partners"],["value","Individuals"],["value","Lawyer"],["value","Bailiff"],["value","Expert"],["value","Consultant"],["value","Collection company"],["value","Recovery company"],["value","Active"],["value","Inactive"],["value","Reactivated"],["value","Black list"],[1,"form-control","ACM-Dashbord-productDescription-col",3,"showClear","change"],["value",""],["value","true"],["value","false"],[3,"pSelectableRow"],["class","text-center",3,"ngSwitch",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-center",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","switch-handle-width","ngModelChange","click"],[1,"btn","btn-success",3,"click"],[1,"pe-7s-pen","btn-icon-wrapper","text-white"]],template:function(e,t){1&e&&(f.\u0275\u0275element(0,"app-page-title",0),f.\u0275\u0275pipe(1,"translate"),f.\u0275\u0275elementStart(2,"div",1),f.\u0275\u0275elementStart(3,"div",2),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"div",3),f.\u0275\u0275elementStart(7,"p-table",4,5),f.\u0275\u0275listener("onLazyLoad",function(e){return t.reloadThirdPartyList(e)})("selectionChange",function(e){return t.settingThirdPartyEntity=e}),f.\u0275\u0275template(9,j,6,2,"ng-template",6),f.\u0275\u0275template(10,te,3,3,"ng-template",7),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275property("heading",f.\u0275\u0275pipeBind1(1,17,"setting.third-party.third-party"))("icon","lnr-user icon-gradient bg-ripe-malin")("account","")("status",-1),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(5,19,"setting.third-party.third-party")," "),f.\u0275\u0275advance(3),f.\u0275\u0275property("responsive",!0)("autoLayout",!0)("value",t.settingThirdPartyPagination.resultsThirdParties)("lazy",!0)("lazyLoadOnInit",!1)("totalRecords",t.settingThirdPartyPagination.totalElements)("rowsPerPageOptions",f.\u0275\u0275pureFunction0(21,ne))("paginator",!0)("pageLinks",5)("rows",10)("columns",t.selectedColumns)("selection",t.settingThirdPartyEntity))},directives:[E.T,a.iA,b.jx,r.NgForOf,a.lQ,a.fz,r.NgSwitch,r.NgSwitchCase,C.oH,c.YN,c.Kr,a.Ei,r.NgIf,I.U,c.JJ,c.On],pipes:[s.X$],styles:[""]}),e})();var re=n(49124),ae=n(72159),oe=n(5963),le=n(83446),se=n(27482);function de(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",7),f.\u0275\u0275elementStart(1,"div",8),f.\u0275\u0275elementStart(2,"div",9),f.\u0275\u0275elementStart(3,"div",10),f.\u0275\u0275element(4,"i",11),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div"),f.\u0275\u0275text(6),f.\u0275\u0275pipe(7,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(7,1,"setting.aml_setting.aml_setting"),""))}function ce(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",12),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"setting.aml_setting.aml_setting")," "))}function pe(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",12),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"setting.aml_setting.aml_setting_tab")," "))}function me(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",12),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"form",13),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onsave()}),f.\u0275\u0275elementStart(5,"div",14),f.\u0275\u0275elementStart(6,"p-fileUpload",15),f.\u0275\u0275listener("uploadHandler",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onUpload(t)})("onRemove",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onRemove()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div"),f.\u0275\u0275elementStart(8,"button",16),f.\u0275\u0275text(9),f.\u0275\u0275pipe(10,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,11,"setting.aml_setting.upload_aml_file")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("formGroup",e.fileForm),f.\u0275\u0275advance(2),f.\u0275\u0275propertyInterpolate("accept",e.sharedService.geTypeMimesOnlyCSV()),f.\u0275\u0275propertyInterpolate("maxFileSize",e.sharedService.getMaxSizeFileUpload()),f.\u0275\u0275property("auto",!0)("showUploadButton",!1)("showCancelButton",!1),f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("card-body d-flex justify-content-end ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(10,13,"button.add"),"")}}function ue(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275elementStart(6,"button",20),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(2),i=f.\u0275\u0275reference(8);return n.updateSettingAML(i,t)}),f.\u0275\u0275element(7,"fa-icon",21),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.key),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.value),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt"))}}function ge(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",17),f.\u0275\u0275elementStart(1,"table",18),f.\u0275\u0275elementStart(2,"thead"),f.\u0275\u0275elementStart(3,"tr"),f.\u0275\u0275elementStart(4,"th"),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"th"),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(10,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"tbody"),f.\u0275\u0275template(12,ue,8,3,"tr",19),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(6,3,"setting.setting_environments.key")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(9,5,"setting.setting_environments.value")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.settingAMLlist)}}const he=function(e){return{"text-end":e}};function fe(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",22),f.\u0275\u0275elementStart(1,"div",23),f.\u0275\u0275elementStart(2,"h5",24),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",25),f.\u0275\u0275elementStart(6,"span",26),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"form",27),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275elementStart(9,"div",3),f.\u0275\u0275elementStart(10,"div",28),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",29),f.\u0275\u0275element(15,"input",30),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"div",28),f.\u0275\u0275elementStart(17,"label"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"div",29),f.\u0275\u0275element(21,"input",31),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"div",32),f.\u0275\u0275elementStart(23,"button",33),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"button",34),f.\u0275\u0275text(27),f.\u0275\u0275pipe(28,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(20,he,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(4,10,"setting.aml_setting.update_setting_aml")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.groupForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,12,"setting.setting_environments.key")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,14,"setting.setting_environments.value")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,16,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(28,18,"button.save"))}}let ve=(()=>{class e{constructor(e,t,n,i,r,a,o,l,s){this.sharedFunction=e,this.datePipe=t,this.devToolsServices=n,this.sharedService=i,this.translate=r,this.settingsService=a,this.formBuilder=o,this.library=l,this.modal=s,this.settingAMLlist=[],this.uploadedFile=h.J.UPLOAD,this.settingDocTypes=[],this.acmDocuments=[],this.allDocuments=[]}ngOnInit(){this.settingsService.findSettingIScore().subscribe(e=>{this.settingAMLlist=e}),this.createFileForm()}createFileForm(){this.fileForm=this.formBuilder.group({file:["",c.kI.required]})}updateSettingAML(e,t){this.updateSetting=new oe.u,this.updateSetting=t,this.createForm(t),this.modal.open(e)}createForm(e){this.groupForm=this.formBuilder.group({key:[e.key],value:[e.value]})}onSubmit(){this.updateSetting.key=this.groupForm.controls.key.value,this.updateSetting.value=this.groupForm.controls.value.value,this.settingsService.updateAcmEnvironment(this.updateSetting).subscribe(),this.modal.dismissAll()}onUpload(e){if(e.files.length>0)for(const t of e.files)this.uploadedFile="",this.sharedService.geTypeMimesOnlyCSV().includes(t.type)?t.size<=this.sharedService.getMaxSizeFileUpload()?(this.uploadedFile=t,this.allDocuments.push(this.uploadedFile)):this.devToolsServices.openToastForMaxSizeImg(3,"alert.file_size",this.sharedService.getMaxSizeFileUpload()):this.devToolsServices.openToast(3,"alert.file_type")}onRemove(){this.uploadedFile=""}onsave(){void 0===this.allDocuments||0===this.allDocuments.length||""===this.uploadedFile?this.sharedFunction.openToast(3,"alert.no_document_to_save"):this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.upload").afterClosed().subscribe(e=>{if(e){const e=[];e.push(this.uploadedFile),this.settingsService.loadAmlData(e).subscribe(()=>this.devToolsServices.openToast(0,"alert.success"))}})}closeModale(){this.modal.dismissAll()}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(r.DatePipe),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(y.F),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(o.FF))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-aml"]],inputs:{navigationMode:"navigationMode"},decls:9,vars:5,consts:[["class","app-page-title",4,"ngIf"],[1,"card"],["class","card-header",4,"ngIf"],[1,"card-body"],[4,"ngIf"],["class","table-responsive",4,"ngIf"],["modalContent",""],[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"lnr-cog","icon-gradient","bg-tempting-azure"],[1,"card-header"],[3,"formGroup","ngSubmit"],[1,"col-xl-12","col-sm-12","pl-12","mb-3","mt-3"],["name","file","customUpload","true",3,"accept","maxFileSize","auto","showUploadButton","showCancelButton","uploadHandler","onRemove"],["type","submit",1,"btn","btn-primary"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],[1,"btn","btn-warning","text-white",3,"click"],[3,"icon"],[3,"ngClass"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button"],["aria-hidden","true",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","pb-4"],[1,"input-group","form-group"],["type","text","formControlName","key","disabled","",1,"form-control"],["type","text","formControlName","value",1,"form-control"],[1,"modal-footer"],[1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-1","btn","btn-primary"]],template:function(e,t){1&e&&(f.\u0275\u0275template(0,de,8,3,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275template(2,ce,3,3,"div",2),f.\u0275\u0275template(3,pe,3,3,"div",2),f.\u0275\u0275elementStart(4,"div",3),f.\u0275\u0275template(5,me,11,15,"div",4),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(6,ge,13,7,"div",5),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(7,fe,29,22,"ng-template",null,6,f.\u0275\u0275templateRefExtractor)),2&e&&(f.\u0275\u0275property("ngIf","setting"!==t.navigationMode),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf","setting"!==t.navigationMode),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","setting"===t.navigationMode),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf","setting"!==t.navigationMode),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","setting"===t.navigationMode))},directives:[r.NgIf,c._Y,c.JL,c.sg,C.MU,le.jv,se.p,r.NgForOf,p.BN,r.NgClass,C.HK,c.Fj,C.oH,c.JJ,c.u,le.wj],pipes:[s.X$],styles:[""]}),e})();var Se=n(55041),ye=n(94806),xe=n(82876),Ee=n(71386),be=n(80521),Ce=n(39490),Ie=n(19238),we=n(79765),Fe=n(75319),_e=n(67574),Le=n(33637),De=n(26561);function ke(e){const{subscriber:t,counter:n,period:i}=e;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}var Te=n(61927),Me=n(66682),Ve=n(46782),Ae=n(39761),Pe=n(88002),Be=n(15257),Ne=n(68307),Re=n(43190),Oe=n(70946);function je(e,t,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?e.setProperty(i,r,(null==n?void 0:n.has(i))?"important":""):e.removeProperty(i)}return e}function Ge(e,t){const n=t?"":"none";je(e.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function Ue(e,t,n){je(e.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},n)}function $e(e,t){return t?e+" "+t:e}function Je(e){const t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function ze(e,t){return e.getPropertyValue(t).split(",").map(e=>e.trim())}function Ke(e){const t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function We(e,t,n){const{top:i,bottom:r,left:a,right:o}=e;return n>=i&&n<=r&&t>=a&&t<=o}function qe(e,t,n){e.top+=t,e.bottom=e.top+e.height,e.left+=n,e.right=e.left+e.width}function He(e,t,n,i){const{top:r,right:a,bottom:o,left:l,width:s,height:d}=e,c=s*t,p=d*t;return i>r-p&&i<o+p&&n>l-c&&n<a+c}class Ye{constructor(e,t){this._document=e,this._viewportRuler=t,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),e.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Ke(e)})})}handleScroll(e){const t=(0,be.sA)(e),n=this.positions.get(t);if(!n)return null;const i=t===this._document?t.documentElement:t,r=n.scrollPosition;let a,o;if(t===this._document){const e=this._viewportRuler.getViewportScrollPosition();a=e.top,o=e.left}else a=t.scrollTop,o=t.scrollLeft;const l=r.top-a,s=r.left-o;return this.positions.forEach((e,n)=>{e.clientRect&&t!==n&&i.contains(n)&&qe(e.clientRect,l,s)}),r.top=a,r.left=o,{top:l,left:s}}}function Qe(e){const t=e.cloneNode(!0),n=t.querySelectorAll("[id]"),i=e.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<n.length;r++)n[r].removeAttribute("id");return"canvas"===i?tt(e,t):("input"===i||"select"===i||"textarea"===i)&&et(e,t),Xe("canvas",e,t,tt),Xe("input, textarea, select",e,t,et),t}function Xe(e,t,n,i){const r=t.querySelectorAll(e);if(r.length){const t=n.querySelectorAll(e);for(let e=0;e<r.length;e++)i(r[e],t[e])}}let Ze=0;function et(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${Ze++}`)}function tt(e,t){const n=t.getContext("2d");if(n)try{n.drawImage(e,0,0)}catch{}}const nt=(0,be.i$)({passive:!0}),it=(0,be.i$)({passive:!1}),rt=new Set(["position"]);class at{constructor(e,t,n,i,r,a){this._config=t,this._document=n,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new we.xQ,this._pointerMoveSubscription=Fe.w.EMPTY,this._pointerUpSubscription=Fe.w.EMPTY,this._scrollSubscription=Fe.w.EMPTY,this._resizeSubscription=Fe.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new we.xQ,this.started=new we.xQ,this.released=new we.xQ,this.ended=new we.xQ,this.entered=new we.xQ,this.exited=new we.xQ,this.dropped=new we.xQ,this.moved=this._moveEvents,this._pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){const t=this._handles.find(t=>{const n=(0,be.sA)(e);return!!n&&(n===t||t.contains(n))});t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)},this._pointerMove=e=>{const t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging){if(Math.abs(t.x-this._pickupPositionOnPage.x)+Math.abs(t.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const t=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),n=this._dropContainer;if(!t)return void this._endDragSequence(e);(!n||!n.isDragging()&&!n.isReceiving())&&(e.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(e)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),e.preventDefault();const n=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,t);else{const e=this._activeTransform;e.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,e.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(e.x,e.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${e.x} ${e.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:e,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=e=>{this._endDragSequence(e)},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new Ye(n,r),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=(0,Ce.Ig)(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Ge(e,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(e=>(0,Ce.fI)(e)),this._handles.forEach(e=>Ge(e,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&t.add(e)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=(0,Ce.fI)(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,it),t.addEventListener("touchstart",this._pointerDown,nt)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?(0,Ce.fI)(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&st(this._rootElement),st(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Ge(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Ge(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&st(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&st(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){dt(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const e=this._rootElement,n=e.parentNode,i=this._placeholder=this._createPlaceholderElement(),r=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();n.insertBefore(r,e),this._initialTransform=e.style.transform||"",this._preview=this._createPreviewElement(),Ue(e,!1,rt),this._document.body.appendChild(n.replaceChild(i,e)),this._getPreviewInsertionPoint(n,a).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const n=this.isDragging(),i=dt(t),r=!i&&0!==t.button,a=this._rootElement,o=(0,be.sA)(t),l=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),s=i?(0,Ie.yG)(t):(0,Ie.X6)(t);if(o&&o.draggable&&"mousedown"===t.type&&t.preventDefault(),n||r||l||s)return;this._handles.length&&(this._rootElementTapHighlight=a.style.webkitTapHighlightColor||"",a.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>this._updateOnScroll(e)),this._boundaryElement&&(this._boundaryRect=Ke(this._boundaryElement));const d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const c=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){Ue(this._rootElement,!0,rt),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,n=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),r=this._getDragDistance(i),a=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:r,dropPoint:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:r,dropPoint:i}),t.drop(this,n,this._initialIndex,this._initialContainer,a,r,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:n,y:i}){let r=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,e,t,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,n=e?e.template:null;let i;if(n&&e){const t=e.matchSize?this._rootElement.getBoundingClientRect():null,r=e.viewContainer.createEmbeddedView(n,e.context);r.detectChanges(),i=ct(r,this._document),this._previewRef=r,e.matchSize?pt(i,t):i.style.transform=ot(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const e=this._rootElement;i=Qe(e),pt(i,e.getBoundingClientRect()),this._initialTransform&&(i.style.transform=this._initialTransform)}return je(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},rt),Ge(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(e=>i.classList.add(e)):i.classList.add(t)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function(e){const t=getComputedStyle(e),n=ze(t,"transition-property"),i=n.find(e=>"transform"===e||"all"===e);if(!i)return 0;const r=n.indexOf(i),a=ze(t,"transition-duration"),o=ze(t,"transition-delay");return Je(a[r])+Je(o[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{const n=t=>{(!t||(0,be.sA)(t)===this._preview&&"transform"===t.propertyName)&&(this._preview.removeEventListener("transitionend",n),e(),clearTimeout(i))},i=setTimeout(n,1.5*t);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let n;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),n=ct(this._placeholderRef,this._document)):n=Qe(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(e,t){const n=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,r=i?i.getBoundingClientRect():n,a=dt(t)?t.targetTouches[0]:t,o=this._getViewportScrollPosition();return{x:r.left-n.left+(a.pageX-r.left-o.left),y:r.top-n.top+(a.pageY-r.top-o.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),n=dt(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=n.pageX-t.left,r=n.pageY-t.top;if(this._ownerSVGElement){const e=this._ownerSVGElement.getScreenCTM();if(e){const t=this._ownerSVGElement.createSVGPoint();return t.x=i,t.y=r,t.matrixTransform(e.inverse())}}return{x:i,y:r}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:i}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?i=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:e,y:t}=this._pickupPositionInElement,r=this._boundaryRect,a=this._previewRect,o=r.top+t,l=r.bottom-(a.height-t);n=lt(n,r.left+e,r.right-(a.width-e)),i=lt(i,o,l)}return{x:n,y:i}}_updatePointerDirectionDelta(e){const{x:t,y:n}=e,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-r.x),o=Math.abs(n-r.y);return a>this._config.pointerDirectionChangeThreshold&&(i.x=t>r.x?1:-1,r.x=t),o>this._config.pointerDirectionChangeThreshold&&(i.y=n>r.y?1:-1,r.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Ge(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,it),e.removeEventListener("touchstart",this._pointerDown,nt)}_applyRootElementTransform(e,t){const n=ot(e,t);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=$e(n,this._initialTransform)}_applyPreviewTransform(e,t){var n;const i=(null===(n=this._previewTemplate)||void 0===n?void 0:n.template)?void 0:this._initialTransform,r=ot(e,t);this._preview.style.transform=$e(r,i)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===i.width&&0===i.height)return;const r=n.left-i.left,a=i.right-n.right,o=n.top-i.top,l=i.bottom-n.bottom;n.width>i.width?(r>0&&(e+=r),a>0&&(e-=a)):e=0,n.height>i.height?(o>0&&(t+=o),l>0&&(t-=l)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:dt(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const n=(0,be.sA)(e);this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&qe(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const e=this._parentPositions.positions.get(this._document);return e?e.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,be.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const n=this._previewContainer||"global";if("parent"===n)return e;if("global"===n){const e=this._document;return t||e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body}return(0,Ce.fI)(n)}}function ot(e,t){return`translate3d(${Math.round(e)}px, ${Math.round(t)}px, 0)`}function lt(e,t,n){return Math.max(t,Math.min(n,e))}function st(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function dt(e){return"t"===e.type[0]}function ct(e,t){const n=e.rootNodes;if(1===n.length&&n[0].nodeType===t.ELEMENT_NODE)return n[0];const i=t.createElement("div");return n.forEach(e=>i.appendChild(e)),i}function pt(e,t){e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.transform=ot(t.left,t.top)}function mt(e,t,n){const i=ut(t,e.length-1),r=ut(n,e.length-1);if(i===r)return;const a=e[i],o=r<i?-1:1;for(let l=i;l!==r;l+=o)e[l]=e[l+o];e[r]=a}function ut(e,t){return Math.max(0,Math.min(t,e))}class gt{constructor(e,t,n,i,r){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new we.xQ,this.entered=new we.xQ,this.exited=new we.xQ,this.dropped=new we.xQ,this.sorted=new we.xQ,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Fe.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new we.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(e=0,t=Le.P){return(!(0,De.k)(e)||e<0)&&(e=0),(!t||"function"!=typeof t.schedule)&&(t=Le.P),new _e.y(n=>(n.add(t.schedule(ke,e,{subscriber:n,counter:0,period:e})),n))}(0,Te.Z).pipe((0,Ve.R)(this._stopScrollTimers)).subscribe(()=>{const e=this._scrollNode,t=this.autoScrollStep;1===this._verticalScrollDirection?ft(e,-t):2===this._verticalScrollDirection&&ft(e,t),1===this._horizontalScrollDirection?vt(e,-t):2===this._horizontalScrollDirection&&vt(e,t)})},this.element=(0,Ce.fI)(e),this._document=n,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new Ye(n,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,n,i){let r;this._draggingStarted(),null==i?(r=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(e,t,n))):r=i;const a=this._activeDraggables,o=a.indexOf(e),l=e.getPlaceholderElement();let s=a[r];if(s===e&&(s=a[r+1]),o>-1&&a.splice(o,1),s&&!this._dragDropRegistry.isDragging(s)){const t=s.getRootElement();t.parentElement.insertBefore(l,t),a.splice(r,0,e)}else if(this._shouldEnterAsFirstChild(t,n)){const t=a[0].getRootElement();t.parentNode.insertBefore(l,t),a.unshift(e)}else(0,Ce.fI)(this.element).appendChild(l),a.push(e);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,n,i,r,a,o){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:n,container:this,previousContainer:i,isPointerOverContainer:r,distance:a,dropPoint:o})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(t.filter(e=>e.isDragging()).every(t=>-1===e.indexOf(t))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=(0,Ce.fI)(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?ht("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,t=>t.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,n,i){if(this.sortingDisabled||!this._clientRect||!He(this._clientRect,.05,t,n))return;const r=this._itemPositions,a=this._getItemIndexFromPointerPosition(e,t,n,i);if(-1===a&&r.length>0)return;const o="horizontal"===this._orientation,l=ht(r,t=>t.drag===e),s=r[a],d=s.clientRect,c=l>a?1:-1,p=this._getItemOffsetPx(r[l].clientRect,d,c),m=this._getSiblingOffsetPx(l,r,c),u=r.slice();mt(r,l,a),this.sorted.next({previousIndex:l,currentIndex:a,container:this,item:e}),r.forEach((t,n)=>{if(u[n]===t)return;const i=t.drag===e,r=i?p:m,a=i?e.getPlaceholderElement():t.drag.getRootElement();t.offset+=r,o?(a.style.transform=$e(`translate3d(${Math.round(t.offset)}px, 0, 0)`,t.initialTransform),qe(t.clientRect,0,r)):(a.style.transform=$e(`translate3d(0, ${Math.round(t.offset)}px, 0)`,t.initialTransform),qe(t.clientRect,r,0))}),this._previousSwap.overlaps=We(d,t,n),this._previousSwap.drag=s.drag,this._previousSwap.delta=o?i.x:i.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let n,i=0,r=0;if(this._parentPositions.positions.forEach((a,o)=>{o===this._document||!a.clientRect||n||He(a.clientRect,.05,e,t)&&([i,r]=function(e,t,n,i){const r=St(t,i),a=yt(t,n);let o=0,l=0;if(r){const t=e.scrollTop;1===r?t>0&&(o=1):e.scrollHeight-t>e.clientHeight&&(o=2)}if(a){const t=e.scrollLeft;1===a?t>0&&(l=1):e.scrollWidth-t>e.clientWidth&&(l=2)}return[o,l]}(o,a.clientRect,e,t),(i||r)&&(n=o))}),!i&&!r){const{width:a,height:o}=this._viewportRuler.getViewportSize(),l={width:a,height:o,top:0,right:a,bottom:o,left:0};i=St(l,t),r=yt(l,e),n=window}n&&(i!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=r,this._scrollNode=n,(i||r)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=(0,Ce.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=(0,Ce.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:Ke(t)}}).sort((t,n)=>e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const e=(0,Ce.fI)(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var t;const n=e.getRootElement();if(n){const i=null===(t=this._itemPositions.find(t=>t.drag===e))||void 0===t?void 0:t.initialTransform;n.style.transform=i||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,n){const i="horizontal"===this._orientation,r=t[e].clientRect,a=t[e+-1*n];let o=r[i?"width":"height"]*n;if(a){const e=i?"left":"top",t=i?"right":"bottom";-1===n?o-=a.clientRect[e]-r[t]:o+=r[e]-a.clientRect[t]}return o}_getItemOffsetPx(e,t,n){const i="horizontal"===this._orientation;let r=i?t.left-e.left:t.top-e.top;return-1===n&&(r+=i?t.width-e.width:t.height-e.height),r}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const r=n[n.length-1].clientRect;return i?e>=r.right:t>=r.bottom}{const r=n[0].clientRect;return i?e<=r.left:t<=r.top}}_getItemIndexFromPointerPosition(e,t,n,i){const r="horizontal"===this._orientation,a=ht(this._itemPositions,({drag:a,clientRect:o},l,s)=>{if(a===e)return s.length<2;if(i){const e=r?i.x:i.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&e===this._previousSwap.delta)return!1}return r?t>=Math.floor(o.left)&&t<Math.floor(o.right):n>=Math.floor(o.top)&&n<Math.floor(o.bottom)});return-1!==a&&this.sortPredicate(a,e,this)?a:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&We(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,n){return this._siblings.find(i=>i._canReceive(e,t,n))}_canReceive(e,t,n){if(!this._clientRect||!We(this._clientRect,t,n)||!this.enterPredicate(e,this))return!1;const i=this._getShadowRoot().elementFromPoint(t,n);if(!i)return!1;const r=(0,Ce.fI)(this.element);return i===r||r.contains(i)}_startReceiving(e,t){const n=this._activeSiblings;!n.has(e)&&t.every(e=>this.enterPredicate(e,this)||this._draggables.indexOf(e)>-1)&&(n.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:e})=>{qe(e,t.top,t.left)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=(0,be.kV)((0,Ce.fI)(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function ht(e,t){for(let n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1}function ft(e,t){e===window?e.scrollBy(0,t):e.scrollTop+=t}function vt(e,t){e===window?e.scrollBy(t,0):e.scrollLeft+=t}function St(e,t){const{top:n,bottom:i,height:r}=e,a=.05*r;return t>=n-a&&t<=n+a?1:t>=i-a&&t<=i+a?2:0}function yt(e,t){const{left:n,right:i,width:r}=e,a=.05*r;return t>=n-a&&t<=n+a?1:t>=i-a&&t<=i+a?2:0}const xt=(0,be.i$)({passive:!1,capture:!0});let Et=(()=>{class e{constructor(e,t){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=e=>e.isDragging(),this.pointerMove=new we.xQ,this.pointerUp=new we.xQ,this.scroll=new we.xQ,this._preventDefaultWhileDragging=e=>{this._activeDragInstances.length>0&&e.preventDefault()},this._persistentTouchmoveListener=e=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))},this._document=t}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,xt)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,xt)}startDragging(e,t){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const e=t.type.startsWith("touch");this._globalListeners.set(e?"touchend":"mouseup",{handler:e=>this.pointerUp.next(e),options:!0}).set("scroll",{handler:e=>this.scroll.next(e),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:xt}),e||this._globalListeners.set("mousemove",{handler:e=>this.pointerMove.next(e),options:xt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((e,t)=>{this._document.addEventListener(t,e.handler,e.options)})})}}stopDragging(e){const t=this._activeDragInstances.indexOf(e);t>-1&&(this._activeDragInstances.splice(t,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const t=[this.scroll];return e&&e!==this._document&&t.push(new _e.y(t=>this._ngZone.runOutsideAngular(()=>{const n=e=>{this._activeDragInstances.length&&t.next(e)};return e.addEventListener("scroll",n,!0),()=>{e.removeEventListener("scroll",n,!0)}}))),(0,Me.T)(...t)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,t)=>{this._document.removeEventListener(t,e.handler,e.options)}),this._globalListeners.clear()}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275inject(f.NgZone),f.\u0275\u0275inject(r.DOCUMENT))},e.\u0275prov=f.\u0275\u0275defineInjectable({factory:function(){return new e(f.\u0275\u0275inject(f.NgZone),f.\u0275\u0275inject(r.DOCUMENT))},token:e,providedIn:"root"}),e})();const bt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Ct=(()=>{class e{constructor(e,t,n,i){this._document=e,this._ngZone=t,this._viewportRuler=n,this._dragDropRegistry=i}createDrag(e,t=bt){return new at(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new gt(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275inject(r.DOCUMENT),f.\u0275\u0275inject(f.NgZone),f.\u0275\u0275inject(Ee.rL),f.\u0275\u0275inject(Et))},e.\u0275prov=f.\u0275\u0275defineInjectable({factory:function(){return new e(f.\u0275\u0275inject(r.DOCUMENT),f.\u0275\u0275inject(f.NgZone),f.\u0275\u0275inject(Ee.rL),f.\u0275\u0275inject(Et))},token:e,providedIn:"root"}),e})();const It=new f.InjectionToken("CDK_DRAG_PARENT"),wt=new f.InjectionToken("CdkDropListGroup"),Ft=new f.InjectionToken("CDK_DRAG_CONFIG");let _t=0;const Lt=new f.InjectionToken("CdkDropList");let Dt=(()=>{class e{constructor(t,n,i,r,a,o,l){this.element=t,this._changeDetectorRef=i,this._scrollDispatcher=r,this._dir=a,this._group=o,this._destroyed=new we.xQ,this.connectedTo=[],this.id="cdk-drop-list-"+_t++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new f.EventEmitter,this.entered=new f.EventEmitter,this.exited=new f.EventEmitter,this.sorted=new f.EventEmitter,this._unsortedItems=new Set,this._dropListRef=n.createDropList(t),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(e,t)=>this.enterPredicate(e.data,t.data),this._dropListRef.sortPredicate=(e,t,n)=>this.sortPredicate(e,t.data,n.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),o&&o._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=(0,Ce.Ig)(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,t)=>e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,Ae.O)(this._dir.value),(0,Ve.R)(this._destroyed)).subscribe(e=>t.withDirection(e)),t.beforeStarted.subscribe(()=>{const n=(0,Ce.Eq)(this.connectedTo).map(t=>"string"==typeof t?e._dropLists.find(e=>e.id===t):t);if(this._group&&this._group._items.forEach(e=>{-1===n.indexOf(e)&&n.push(e)}),!this._scrollableParentsResolved){const e=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(e=>e.getElementRef().nativeElement);this._dropListRef.withScrollableParents(e),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=(0,Ce.Ig)(this.sortingDisabled),t.autoScrollDisabled=(0,Ce.Ig)(this.autoScrollDisabled),t.autoScrollStep=(0,Ce.su)(this.autoScrollStep,2),t.connectedTo(n.filter(e=>e&&e!==this).map(e=>e._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(e=>{this.entered.emit({container:this,item:e.item.data,currentIndex:e.currentIndex})}),e.exited.subscribe(e=>{this.exited.emit({container:this,item:e.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(e=>{this.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:this,item:e.item.data})}),e.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance,dropPoint:e.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:t,draggingDisabled:n,sortingDisabled:i,listAutoScrollDisabled:r,listOrientation:a}=e;this.disabled=n??!1,this.sortingDisabled=i??!1,this.autoScrollDisabled=r??!1,this.orientation=a||"vertical",t&&(this.lockAxis=t)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(f.ElementRef),f.\u0275\u0275directiveInject(Ct),f.\u0275\u0275directiveInject(f.ChangeDetectorRef),f.\u0275\u0275directiveInject(Ee.mF),f.\u0275\u0275directiveInject(Oe.Is,8),f.\u0275\u0275directiveInject(wt,12),f.\u0275\u0275directiveInject(Ft,8))},e.\u0275dir=f.\u0275\u0275defineDirective({type:e,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,t){2&e&&(f.\u0275\u0275attribute("id",t.id),f.\u0275\u0275classProp("cdk-drop-list-disabled",t.disabled)("cdk-drop-list-dragging",t._dropListRef.isDragging())("cdk-drop-list-receiving",t._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[f.\u0275\u0275ProvidersFeature([{provide:wt,useValue:void 0},{provide:Lt,useExisting:e}])]}),e._dropLists=[],e})();const kt=new f.InjectionToken("CdkDragHandle"),Tt=new f.InjectionToken("CdkDragPlaceholder"),Mt=new f.InjectionToken("CdkDragPreview");let Vt=(()=>{class e{constructor(t,n,i,r,a,o,l,s,d,c,p){this.element=t,this.dropContainer=n,this._ngZone=r,this._viewContainerRef=a,this._dir=l,this._changeDetectorRef=d,this._selfHandle=c,this._parentDrag=p,this._destroyed=new we.xQ,this.started=new f.EventEmitter,this.released=new f.EventEmitter,this.ended=new f.EventEmitter,this.entered=new f.EventEmitter,this.exited=new f.EventEmitter,this.dropped=new f.EventEmitter,this.moved=new _e.y(e=>{const t=this._dragRef.moved.pipe((0,Pe.U)(e=>({source:this,pointerPosition:e.pointerPosition,event:e.event,delta:e.delta,distance:e.distance}))).subscribe(e);return()=>{t.unsubscribe()}}),this._dragRef=s.createDrag(t,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),o&&this._assignDefaults(o),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=(0,Ce.Ig)(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.pipe((0,Be.q)(1),(0,Ve.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe((0,Ae.O)(this._handles),(0,Ne.b)(e=>{const t=e.filter(e=>e._parentDrag===this).map(e=>e.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)}),(0,Re.w)(e=>(0,Me.T)(...e.map(e=>e._stateChanges.pipe((0,Ae.O)(e))))),(0,Ve.R)(this._destroyed)).subscribe(e=>{const t=this._dragRef,n=e.element.nativeElement;e.disabled?t.disableHandle(n):t.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(e){const t=e.rootElementSelector,n=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=e._dragInstances.indexOf(this);t>-1&&e._dragInstances.splice(t,1),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const e=this.element.nativeElement,t=this.rootElementSelector?At(e,this.rootElementSelector):e;this._dragRef.withRootElement(t||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?At(this.element.nativeElement,e):(0,Ce.fI)(e):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,n=this.dragStartDelay,i=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof n&&n?n:(0,Ce.su)(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),e&&t.withDirection(e.value)}}),t.beforeStarted.pipe((0,Be.q)(1)).subscribe(()=>{var n,i;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(null===(n=r.classList)||void 0===n?void 0:n.contains("cdk-drag")){t.withParent((null===(i=e._dragInstances.find(e=>e.element.nativeElement===r))||void 0===i?void 0:i._dragRef)||null);break}r=r.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(e=>{this.ended.emit({source:this,distance:e.distance,dropPoint:e.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(e=>{this.entered.emit({container:e.container.data,item:this,currentIndex:e.currentIndex})}),e.exited.subscribe(e=>{this.exited.emit({container:e.container.data,item:this})}),e.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:this,distance:e.distance,dropPoint:e.dropPoint})})}_assignDefaults(e){const{lockAxis:t,dragStartDelay:n,constrainPosition:i,previewClass:r,boundaryElement:a,draggingDisabled:o,rootElementSelector:l,previewContainer:s}=e;this.disabled=o??!1,this.dragStartDelay=n||0,t&&(this.lockAxis=t),i&&(this.constrainPosition=i),r&&(this.previewClass=r),a&&(this.boundaryElement=a),l&&(this.rootElementSelector=l),s&&(this.previewContainer=s)}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(f.ElementRef),f.\u0275\u0275directiveInject(Lt,12),f.\u0275\u0275directiveInject(r.DOCUMENT),f.\u0275\u0275directiveInject(f.NgZone),f.\u0275\u0275directiveInject(f.ViewContainerRef),f.\u0275\u0275directiveInject(Ft,8),f.\u0275\u0275directiveInject(Oe.Is,8),f.\u0275\u0275directiveInject(Ct),f.\u0275\u0275directiveInject(f.ChangeDetectorRef),f.\u0275\u0275directiveInject(kt,10),f.\u0275\u0275directiveInject(It,12))},e.\u0275dir=f.\u0275\u0275defineDirective({type:e,selectors:[["","cdkDrag",""]],contentQueries:function(e,t,n){if(1&e&&(f.\u0275\u0275contentQuery(n,Mt,5),f.\u0275\u0275contentQuery(n,Tt,5),f.\u0275\u0275contentQuery(n,kt,5)),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t._previewTemplate=e.first),f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t._placeholderTemplate=e.first),f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t._handles=e)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,t){2&e&&f.\u0275\u0275classProp("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[f.\u0275\u0275ProvidersFeature([{provide:It,useExisting:e}]),f.\u0275\u0275NgOnChangesFeature]}),e._dragInstances=[],e})();function At(e,t){let n=e.parentElement;for(;n;){if(n.matches?n.matches(t):n.msMatchesSelector(t))return n;n=n.parentElement}return null}let Pt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=f.\u0275\u0275defineInjector({providers:[Ct],imports:[Ee.ZD]}),e})();class Bt{}var Nt=n(97199),Rt=n(15694),Ot=n(31900),jt=n(22134),Gt=n(54798),Ut=n(25465);function $t(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",8),f.\u0275\u0275elementStart(1,"div",9),f.\u0275\u0275elementStart(2,"button",10),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().addUdf()}),f.\u0275\u0275element(3,"fa-icon",11),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",e.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(5,2,"button.add")," ")}}function Jt(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",24),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.id),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.description," ")}}function zt(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"button",25),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext().index;return f.\u0275\u0275nextContext().deleteGroupe(t)}),f.\u0275\u0275element(1,"i",26),f.\u0275\u0275elementEnd()}}function Kt(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275element(4,"bSwitch",29),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(null==e||null==e.controls||null==e.controls.description?null:e.controls.description.value),f.\u0275\u0275advance(2),f.\u0275\u0275property("switch-size","mini")("switch-handle-width",40)("switch-animate",!0)("formControl",null==e||null==e.controls?null:e.controls.mandatory)("switch-off-color","danger")}}function Wt(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",27),f.\u0275\u0275elementStart(2,"table",28),f.\u0275\u0275elementStart(3,"thead"),f.\u0275\u0275elementStart(4,"tr"),f.\u0275\u0275elementStart(5,"th"),f.\u0275\u0275text(6),f.\u0275\u0275pipe(7,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"th"),f.\u0275\u0275text(9),f.\u0275\u0275pipe(10,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"tbody"),f.\u0275\u0275template(12,Kt,5,6,"tr",7),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(7,3,"udf.udf_filed")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(10,5,"udf.mandatory")),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngForOf",null==e||null==e.controls||null==e.controls.udfFields?null:e.controls.udfFields.controls)}}function qt(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275element(1,"hr",12),f.\u0275\u0275elementStart(2,"div",13),f.\u0275\u0275elementStart(3,"label"),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"div",14),f.\u0275\u0275elementStart(7,"div",15),f.\u0275\u0275elementStart(8,"select",16),f.\u0275\u0275listener("change",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().getUdfFiledList(t,!1,null)}),f.\u0275\u0275template(9,Jt,2,2,"option",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"div",18),f.\u0275\u0275template(11,zt,2,0,"button",19),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"div",20),f.\u0275\u0275element(13,"input",21),f.\u0275\u0275elementStart(14,"label",22),f.\u0275\u0275text(15),f.\u0275\u0275pipe(16,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"div",20),f.\u0275\u0275element(18,"input",21),f.\u0275\u0275elementStart(19,"label",22),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(22,Wt,13,7,"div",23),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=t.index,i=f.\u0275\u0275nextContext();f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(5,9,"udf.udf_group")),f.\u0275\u0275advance(4),f.\u0275\u0275property("formControl",e.controls.udfGroup),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.udfGroups),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",!i.listUDFGroups[n].mandatory),f.\u0275\u0275advance(2),f.\u0275\u0275property("formControl",e.controls.udfGroupMandatory),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(16,11,"udf.default-display")," "),f.\u0275\u0275advance(3),f.\u0275\u0275property("formControl",e.controls.displayInIB),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(21,13,"udf.display_in_ib")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",(null==e||null==e.controls||null==e.controls.udfFields?null:e.controls.udfFields.controls.length)>0)}}let Ht=(()=>{class e{constructor(e,t,n,i,r,a){this.udfService=e,this.formBuilder=t,this.library=n,this.sharedService=i,this.devToolsServices=r,this.dbService=a,this.udfGroup=new Rt.t,this.udfGroups=[],this.udfFields=[],this.udfField=new Ot.x,this.listUDFGroups=[],this.udfSettingNationality=[],this.indexFormUdf=0,this.indexFormUdfField=0}ngOnInit(){this.createForm(),this.initializeUDFGroup(this.workflowStepUdfGroupe)}initializeUDFGroup(e){if(this.workflowStepUdfGroupe?.length>0){this.indexFormUdf=0,this.getUdfGroup(this.indexFormUdf);let t=e.filter(e=>null===e.idUserDefinedFields);const n=this.udfForm.get("udfGroups");t.map(e=>{this.listUDFGroups.push(new Rt.t);const t=this.formBuilder.group({udfGroup:new c.NI(e.idUserDefinedFieldGroup),udfGroupMandatory:new c.NI(null!==e.mandatory&&e.mandatory),udfFields:this.formBuilder.array([]),displayInIB:new c.NI(null!==e.displayInIB&&e.displayInIB)});n.push(t),this.getUdfFiledList(this.indexFormUdf,!0,e.idUserDefinedFieldGroup),this.indexFormUdf++})}else this.indexFormUdf=0,this.listUDFGroups=[],this.udfGroups=[],this.udfFields=[],this.udfFields.length=0,this.getUdfGroup(this.indexFormUdf)}createForm(){this.udfForm=this.formBuilder.group({udfGroups:this.formBuilder.array([])})}getUdfGroup(e){""!==e&&(this.udfGroup=this.listUDFGroups[e]),void 0===this.udfGroup&&(this.udfGroup=new Rt.t),"1"===this.type?this.udfGroup.category="loan":"2"===this.type?this.udfGroup.category="collection":"3"===this.type?this.udfGroup.category="legal":"4"===this.type&&(this.udfGroup.category="others"),this.udfService.getUdfGroup(this.udfGroup).subscribe(e=>{this.udfGroups=e})}getUdfFiledList(e,t,n){var i=this;return(0,m.Z)(function*(){t||i.udfForm.get("udfGroups."+e+".udfFields").clear(),i.udfFields[e]=[],i.udfField.userDefinedFieldGroupDTO=new Rt.t,i.udfField.userDefinedFieldGroupDTO.id=t?n:i.udfForm.get("udfGroups."+e+".udfGroup").value?i.udfForm.get("udfGroups."+e+".udfGroup").value:0;let r=i.workflowStepUdfGroupe.filter(e=>e.idUserDefinedFieldGroup===n&&null!==e.idUserDefinedFields);0!==i.udfField.userDefinedFieldGroupDTO.id&&(yield i.udfService.getUdfField(i.udfField).subscribe(t=>{i.udfFields[e]=t,i.udfFields[e].map(e=>{e.mandatory=r.filter(t=>t.idUserDefinedFields===e.id)[0]?.mandatory});const n=i.udfForm.get("udfGroups."+e+".udfFields");for(let r=0;r<i.udfFields[e].length;r++){let t=i.formBuilder.group({id:new c.NI(i.udfFields[e][r].id),description:new c.NI(i.udfFields[e][r].description),mandatory:new c.NI(void 0===i.udfFields[e][r].mandatory||i.udfFields[e][r].mandatory)});n.push(t)}}))})()}addUdf(){this.listUDFGroups.push(new Rt.t),this.udfFields[this.indexFormUdf]=[];const e=this.formBuilder.group({udfGroup:new c.NI,udfGroupMandatory:new c.NI(!1),udfFields:this.formBuilder.array([]),displayInIB:new c.NI(!1)});this.udfForm.get("udfGroups").push(e),this.indexFormUdf++}deleteGroupe(e){this.udfForm.get("udfGroups").removeAt(e),this.listUDFGroups.splice(e,1),this.udfFields.splice(e,1),this.indexFormUdf--}clearForm(){this.udfForm.reset()}isOfflineModeEnabled(){return(0,jt.L0)()}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(Gt.H),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(y.F),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(Ut.ys))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-udf-step-workflow-setting"]],inputs:{idWorkflowStep:"idWorkflowStep",workflowStepUdfGroupe:"workflowStepUdfGroupe",type:"type"},decls:10,vars:5,consts:[[1,"card-header","d-flex","justify-content-between"],[1,"text-primary","text-uppercase","px-4","pt-3"],[1,"vertical-align-middle"],[1,"px-3"],[1,"hr"],["aria-labelledby","headingOne","data-parent","#accordionExample"],["class","card-body",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"card-body"],[1,"col-xl-12","d-flex","justify-content-end","pt-3"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[1,"mx-2",3,"icon"],[1,"solid"],[1,"position-relative","form-group"],[1,"row","no-gutters"],[1,"col-xl-6"],[1,"form-control",3,"formControl","change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-xl-1","px-3"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"col-xl-2","mt-1"],["type","checkbox",1,"form-check-input",3,"formControl"],[1,"custom-control-label","ms-2"],[4,"ngIf"],[3,"value"],[1,"btn","btn-danger",3,"click"],[1,"pe-7s-trash","btn-icon-wrapper","text-white"],[1,"table-responsive","mt-2"],[1,"mb-0","table","green"],[1,"px-2","mb-0",3,"switch-size","switch-handle-width","switch-animate","formControl","switch-off-color"]],template:function(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"h6",1),f.\u0275\u0275elementStart(2,"span",2),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div",3),f.\u0275\u0275element(6,"hr",4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",5),f.\u0275\u0275template(8,$t,6,4,"div",6),f.\u0275\u0275template(9,qt,23,15,"div",7),f.\u0275\u0275elementEnd()),2&e){let e;f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(4,3,"setting.udf.group_details")),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngIf",!t.isOfflineModeEnabled()),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",null==(e=t.udfForm.get("udfGroups"))?null:e.controls)}},directives:[r.NgIf,r.NgForOf,p.BN,C.HK,c.EJ,C.oH,c.JJ,c.oH,le.wj,c.Wl,c.YN,c.Kr,I.U],pipes:[s.X$],styles:[""]}),e})();var Yt=n(96387),Qt=n(37990),Xt=n(57702);const Zt=[{LinkName:"Loan portfolio owner",linkValue:-4},{LinkName:"Manager of loan portfolio owner",linkValue:-3},{LinkName:"Previous owner",linkValue:-2},{LinkName:"Manager of previous owner",linkValue:-1}],en=[{LinkName:"Previous owner",linkValue:-2},{LinkName:"Manager of previous owner",linkValue:-1}],tn=[{nameScreenigComponent:"Credit bureau Customer",codeScreenigComponent:"CREDIT_C"},{nameScreenigComponent:"Credit bureau Guarant",codeScreenigComponent:"CREDIT_G"},{nameScreenigComponent:"Aml Customer",codeScreenigComponent:"AML_C"},{nameScreenigComponent:"Aml Guarant",codeScreenigComponent:"AML_G"},{nameScreenigComponent:"KYC Customer",codeScreenigComponent:"KYC_C"},{nameScreenigComponent:"KYC Guarant",codeScreenigComponent:"KYC_G"},{nameScreenigComponent:"Score Customer",codeScreenigComponent:"SCORE_C"},{nameScreenigComponent:"Score Guarant",codeScreenigComponent:"SCORE_G"}],nn={displayKey:"nameScreenigComponent",search:!0,placeholder:" ",height:"30rem"},rn={displayKey:"description",search:!0,placeholder:" ",height:"25rem"},an={displayKey:"docCodde",search:!0,placeholder:" ",height:"30rem"},on=[{tapName:"New",tapValue:1},{tapName:"Draft",tapValue:2},{tapName:"Pending Approval",tapValue:3},{tapName:"Approved",tapValue:4}],ln={search:!0,displayKey:"code",searchOnKey:"code",placeholder:" "},sn={displayKey:"nameParticipant",search:!1,placeholder:" ",height:"30rem"},dn=[{collName:"Pervious action complete date",collValue:"1"},{collName:"Due Date",collValue:"2"}];var cn=n(35758);class pn{constructor(){this.lstDay=[],this.selectedDay=null,this.nbrMonth=null}}class mn{constructor(){this.echelleTypeRisks=[]}}class un{}var gn=n(7539),hn=n(36949),fn=n(82613);function vn(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h6",14),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"setting.setting_level.no_level_process_for_this_product")," "))}function Sn(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"button",63),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext().$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(22);return n.openPlaning(i,t.order,t)}),f.\u0275\u0275element(1,"i",64),f.\u0275\u0275elementEnd()}}function yn(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",34),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.libelle," ")}}const xn=function(e){return{"form-control":!0,"input-error":e}};function En(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",32),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"span",22),f.\u0275\u0275text(5," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"select",65),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.groupSetting=t}),f.\u0275\u0275template(7,yn,2,2,"option",57),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(3,5,"group_users"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(7,xn,!e.groupSetting))("ngModel",e.groupSetting)("compareWith",t.compareGroup),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",t.groupEntities)}}const bn=function(e){return{"disabled-option":e}};function Cn(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",68),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(2).$implicit;f.\u0275\u0275property("value",e.linkValue)("disabled",0===n.order&&(-1==e.linkValue||-2==e.linkValue))("ngClass",f.\u0275\u0275pureFunction1(4,bn,0===n.order&&(-1===e.linkValue||-2===e.linkValue))),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.LinkName," ")}}function In(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",69),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.order),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.stepName," ")}}function wn(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",32),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"span",22),f.\u0275\u0275text(5," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"select",66),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.previousStep=t}),f.\u0275\u0275template(7,Cn,2,6,"option",67),f.\u0275\u0275template(8,In,2,2,"option",38),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(),t=e.$implicit,n=e.index,i=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(3,5,"user-step-link"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(7,xn,!t.previousStep))("ngModel",t.previousStep),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.userLinks),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.previousSteps(i.genericWfSteps,n))}}function Fn(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",69),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.ihmRoute),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.description," ")}}function _n(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",70),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.tapValue)("disabled","New"==e.tapName),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.tapName," ")}}function Ln(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",42),f.\u0275\u0275elementStart(1,"mat-checkbox",71),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.approvalConditions=t})("change",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext(2);return n.changeApprovalConditions(t,n.newApplicationProcess)}),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("disabled",t.approvalConditionCheckedForLoanApp&&!e.approvalConditions)("ngModel",e.approvalConditions),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(3,3,"loan_workflow_setting.conditions-approval")," ")}}function Dn(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",34),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(e.label)}}function kn(e,t){1&e&&(f.\u0275\u0275elementStart(0,"thead"),f.\u0275\u0275elementStart(1,"tr"),f.\u0275\u0275elementStart(2,"th"),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"th"),f.\u0275\u0275text(6),f.\u0275\u0275pipe(7,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(8,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(4,2,"setting.label")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(7,4,"setting.editable")))}function Tn(e,t){1&e&&(f.\u0275\u0275elementStart(0,"td",54),f.\u0275\u0275elementStart(1,"div",72),f.\u0275\u0275text(2," OUI "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd())}function Mn(e,t){1&e&&(f.\u0275\u0275elementStart(0,"td",54),f.\u0275\u0275elementStart(1,"div",72),f.\u0275\u0275text(2," NON "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd())}function Vn(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td",54),f.\u0275\u0275elementStart(2,"div",72),f.\u0275\u0275text(3),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(4,Tn,3,0,"td",73),f.\u0275\u0275template(5,Mn,3,0,"td",73),f.\u0275\u0275elementStart(6,"td"),f.\u0275\u0275elementStart(7,"div",74),f.\u0275\u0275elementStart(8,"div",75),f.\u0275\u0275elementStart(9,"button",76),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index,n=f.\u0275\u0275nextContext().index;return f.\u0275\u0275nextContext().deleteRiskType(n,t)}),f.\u0275\u0275element(10,"i",77),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",e.labelRisk," "),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!0===e.isEditable),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",1!=e.isEditable)}}const An=function(){return{margin:"0px 0px 0px 17px"}},Pn=function(){return{margin:"0px 0px 0px 0px"}};function Bn(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",15),f.\u0275\u0275elementStart(1,"div",16),f.\u0275\u0275elementStart(2,"div",17),f.\u0275\u0275elementStart(3,"div",18),f.\u0275\u0275elementStart(4,"p",19),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",20),f.\u0275\u0275elementStart(8,"input",21),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.stepName=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"span",22),f.\u0275\u0275text(10," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"div",23),f.\u0275\u0275elementStart(12,"div"),f.\u0275\u0275elementStart(13,"mat-checkbox",24),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.automaticStep=t})("change",function(t){const n=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().showInputsMethod(t.checked,n)}),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"button",25),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().deleteStep(t)}),f.\u0275\u0275element(17,"i",26),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(18,Sn,2,0,"button",27),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",28),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().toggleCollapse(t,"GENERIC_WORKFLOW")}),f.\u0275\u0275element(20,"i",29),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(21,"div",30),f.\u0275\u0275elementStart(22,"div",31),f.\u0275\u0275elementStart(23,"div",32),f.\u0275\u0275elementStart(24,"label"),f.\u0275\u0275text(25),f.\u0275\u0275pipe(26,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"span",22),f.\u0275\u0275text(28," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(29,"select",33),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.stepType=t})("change",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().stepTypeChanged("GENERIC_WORKFLOW",t)}),f.\u0275\u0275elementStart(30,"option",34),f.\u0275\u0275text(31),f.\u0275\u0275pipe(32,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(33,"option",35),f.\u0275\u0275text(34),f.\u0275\u0275pipe(35,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(36,"option",35),f.\u0275\u0275text(37),f.\u0275\u0275pipe(38,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(39,En,8,9,"div",36),f.\u0275\u0275template(40,wn,9,9,"div",36),f.\u0275\u0275elementStart(41,"div",32),f.\u0275\u0275elementStart(42,"label"),f.\u0275\u0275text(43),f.\u0275\u0275pipe(44,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(45,"span",22),f.\u0275\u0275text(46," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(47,"select",37),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.screen=t}),f.\u0275\u0275template(48,Fn,2,2,"option",38),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(49,"div",32),f.\u0275\u0275elementStart(50,"label"),f.\u0275\u0275text(51),f.\u0275\u0275pipe(52,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(53,"p-multiSelect",39),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.documentTypes=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(54,"div",32),f.\u0275\u0275elementStart(55,"label"),f.\u0275\u0275text(56),f.\u0275\u0275pipe(57,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(58,"span",22),f.\u0275\u0275text(59," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(60,"select",33),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.codeStatutLoan=t})("change",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().checkBoxCheckers(t)}),f.\u0275\u0275template(61,_n,2,3,"option",40),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(62,Ln,4,5,"div",41),f.\u0275\u0275elementStart(63,"div",42),f.\u0275\u0275elementStart(64,"mat-checkbox",43),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.generationTask=t}),f.\u0275\u0275text(65),f.\u0275\u0275pipe(66,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(67,"div",32),f.\u0275\u0275elementStart(68,"label"),f.\u0275\u0275text(69),f.\u0275\u0275pipe(70,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(71,"div",44),f.\u0275\u0275elementStart(72,"p-multiSelect",45),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.selectedGenericWorkFlowParticipants=t})("onChange",function(t){const n=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().getListOfThirdParty(t,n)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(73,"div",46),f.\u0275\u0275elementStart(74,"div",47),f.\u0275\u0275element(75,"app-udf-step-workflow-setting",48),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(76,"div",47),f.\u0275\u0275elementStart(77,"div",49),f.\u0275\u0275elementStart(78,"h6",50),f.\u0275\u0275elementStart(79,"span",51),f.\u0275\u0275text(80),f.\u0275\u0275pipe(81,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(82,"hr",52),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(83,"div"),f.\u0275\u0275elementStart(84,"div"),f.\u0275\u0275elementStart(85,"table",53),f.\u0275\u0275elementStart(86,"tbody"),f.\u0275\u0275element(87,"td",54),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(88,"div",55),f.\u0275\u0275elementStart(89,"select",56),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.selectedTypeRisk=t}),f.\u0275\u0275template(90,Dn,2,2,"option",57),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(91,"bSwitch",58),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.editable=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(92,"button",59),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e),n=t.index,i=t.$implicit;return f.\u0275\u0275nextContext().addRisk(n,i)}),f.\u0275\u0275element(93,"fa-icon",3),f.\u0275\u0275text(94),f.\u0275\u0275pipe(95,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(96,"hr",60),f.\u0275\u0275elementStart(97,"table",53),f.\u0275\u0275template(98,kn,9,6,"thead",61),f.\u0275\u0275elementStart(99,"tbody"),f.\u0275\u0275template(100,Vn,11,3,"tr",62),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=t.index,i=f.\u0275\u0275nextContext();f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate2(" ",f.\u0275\u0275pipeBind1(6,56,"step")," ",n+1," "),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(82,xn,!e.stepName))("ngModel",e.stepName),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngModel",e.automaticStep),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(15,58,"automatic_step")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngStyle",0==e.order?f.\u0275\u0275pureFunction0(84,An):f.\u0275\u0275pureFunction0(85,Pn)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",0==e.order),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngClass",!0===i.newGenericWfExpands[n]?"lnr-chevron-up text-secondary":"lnr-chevron-down text-secondary"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngClass",!0===i.newGenericWfExpands[n]?"collapse show":"collapse"),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(26,60,"step_assgin")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(86,xn,!e.stepType))("ngModel",e.stepType),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue","group"),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(32,62,"Assign_to_Group")),f.\u0275\u0275advance(2),f.\u0275\u0275property("disabled",0==e.order)("ngValue","link"),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(35,64,"Assign_to_User")),f.\u0275\u0275advance(2),f.\u0275\u0275property("disabled",0==e.order)("ngValue","customer"),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(38,66,"Assign_to_Customer")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf","group"===e.stepType),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","link"===e.stepType),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(44,68,"screen_steps")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(88,xn,!e.screen))("ngModel",e.screen),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.ihmRoot),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(52,70,"collections.collection-dashboard.documents"),":"),f.\u0275\u0275advance(2),f.\u0275\u0275property("options",i.settingDocumentsType)("ngModel",e.documentTypes),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(57,72,"step_tab")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(90,xn,!e.codeStatutLoan))("ngModel",e.codeStatutLoan),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.stepTap),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.codeStatutLoan==i.stepTap[3].tapValue),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.generationTask),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(66,74,"loan_workflow_setting.generation_task")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(70,76,"setting.workflow.participants")),f.\u0275\u0275advance(3),f.\u0275\u0275property("filter",!1)("options",i.listThirdPartyOptions)("ngModel",e.selectedGenericWorkFlowParticipants),f.\u0275\u0275advance(3),f.\u0275\u0275property("idWorkflowStep",e.idWorkFlowStep)("workflowStepUdfGroupe",e.workflowStepUdfGroupe),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(81,78,"generic-wf.risk")),f.\u0275\u0275advance(9),f.\u0275\u0275property("ngModel",e.selectedTypeRisk),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.riskTypeList),f.\u0275\u0275advance(1),f.\u0275\u0275property("switch-size","big")("switch-animate",!0)("switch-off-color","danger")("ngModel",e.editable)("switch-handle-width",40)("value",!1),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",i.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(95,80,"button.add")," "),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngIf",e.listRiskSetting),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.listRiskSetting)}}function Nn(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",34),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.name," ")}}const Rn=function(e){return{"text-end":e}};function On(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",78),f.\u0275\u0275elementStart(1,"form",79),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275elementStart(2,"div",80),f.\u0275\u0275elementStart(3,"h4",81),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"button",82),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).dismiss("Cross click")}),f.\u0275\u0275elementStart(7,"span",83),f.\u0275\u0275text(8,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div",84),f.\u0275\u0275elementStart(10,"div",85),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"select",86),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().productEntityForDuplicate=t}),f.\u0275\u0275elementStart(15,"option",87),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(18,Nn,2,2,"option",57),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",88),f.\u0275\u0275elementStart(20,"div"),f.\u0275\u0275elementStart(21,"div",89),f.\u0275\u0275elementStart(22,"input",90),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().changeChecboxReject()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"label",91),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"div",92),f.\u0275\u0275elementStart(27,"button",93),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).close("Close click")}),f.\u0275\u0275text(28),f.\u0275\u0275pipe(29,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"button",94),f.\u0275\u0275text(31),f.\u0275\u0275pipe(32,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(27,Rn,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e.duplicateGroup),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(5,15,"setting.duplicate-setting")),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,17,"setting.product")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.productEntityForDuplicate),f.\u0275\u0275advance(1),f.\u0275\u0275property("value",null),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(17,19,"setting.select_product")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.productEntitys),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,21,"button.confirm_checkbox")),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(29,23,"button.close")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(32,25,"button.validate"))}}function jn(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",34),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e," ")}}function Gn(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",34),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e," ")}}function Un(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",108),f.\u0275\u0275elementStart(1,"input",109),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).fillListOfDay("LU")}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(2,"input",110),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).fillListOfDay("MA")}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"input",111),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).fillListOfDay("ME")}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"input",112),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).fillListOfDay("JE")}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"input",113),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).fillListOfDay("VE")}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"input",114),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).fillListOfDay("SA")}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"input",115),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).fillListOfDay("DI")}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"label",116),f.\u0275\u0275text(9,"L"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"label",117),f.\u0275\u0275text(11,"M"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"label",118),f.\u0275\u0275text(13,"M"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"label",119),f.\u0275\u0275text(15,"J"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"label",120),f.\u0275\u0275text(17,"V"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"label",121),f.\u0275\u0275text(19,"S"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"label",122),f.\u0275\u0275text(21,"D"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("checked",e.selectedDayLu),f.\u0275\u0275advance(1),f.\u0275\u0275property("checked",e.selectedDayMa),f.\u0275\u0275advance(1),f.\u0275\u0275property("checked",e.selectedDayMe),f.\u0275\u0275advance(1),f.\u0275\u0275property("checked",e.selectedDayJe),f.\u0275\u0275advance(1),f.\u0275\u0275property("checked",e.selectedDayVe),f.\u0275\u0275advance(1),f.\u0275\u0275property("checked",e.selectedDaySa),f.\u0275\u0275advance(1),f.\u0275\u0275property("checked",e.selectedDayDi)}}function $n(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",34),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e," ")}}function Jn(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"select",135),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(3).monthForAn=t}),f.\u0275\u0275element(1,"option",131),f.\u0275\u0275template(2,$n,2,2,"option",57),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(3);f.\u0275\u0275property("disabled","DR"!=e.planingDto.beginOrEndMonth)("ngModel",e.monthForAn),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.listOfMonth)}}function zn(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",34),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e," ")}}function Kn(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",34),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e," ")}}function Wn(e,t){1&e&&(f.\u0275\u0275elementStart(0,"label",136),f.\u0275\u0275text(1,"de "),f.\u0275\u0275elementEnd())}function qn(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",34),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e," ")}}function Hn(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"select",137),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(3).planingDto.month=t}),f.\u0275\u0275element(1,"option",131),f.\u0275\u0275template(2,qn,2,2,"option",57),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(3);f.\u0275\u0275property("disabled","TR"!=e.planingDto.beginOrEndMonth)("ngModel",e.planingDto.month),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.listOfMonth)}}function Yn(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",72),f.\u0275\u0275elementStart(1,"mat-radio-group",123),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).planingDto.beginOrEndMonth=t})("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).changeRdio()}),f.\u0275\u0275elementStart(2,"div",124),f.\u0275\u0275elementStart(3,"mat-radio-button",125),f.\u0275\u0275elementStart(4,"label",98),f.\u0275\u0275text(5,"le"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"input",126),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).planingDto.dateOfMonth=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(7,Jn,3,3,"select",127),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"div",72),f.\u0275\u0275elementStart(9,"mat-radio-button",128),f.\u0275\u0275elementStart(10,"label",98),f.\u0275\u0275text(11,"le"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"div",129),f.\u0275\u0275elementStart(13,"select",130),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).planingDto.nbrMonth=t}),f.\u0275\u0275element(14,"option",131),f.\u0275\u0275template(15,zn,2,2,"option",57),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"select",132),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).planingDto.selectedDay=t}),f.\u0275\u0275element(17,"option",131),f.\u0275\u0275template(18,Kn,2,2,"option",57),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(19,Wn,2,0,"label",133),f.\u0275\u0275template(20,Hn,3,3,"select",134),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("ngModel",e.planingDto.beginOrEndMonth),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngModel",e.planingDto.dateOfMonth)("disabled","DR"!=e.planingDto.beginOrEndMonth),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.checkAn),f.\u0275\u0275advance(6),f.\u0275\u0275property("ngModel",e.planingDto.nbrMonth)("disabled","TR"!=e.planingDto.beginOrEndMonth),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.numberOfMonth),f.\u0275\u0275advance(1),f.\u0275\u0275property("disabled","TR"!=e.planingDto.beginOrEndMonth)("ngModel",e.planingDto.selectedDay),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.days),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.checkAn),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.checkAn)}}function Qn(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",78),f.\u0275\u0275elementStart(1,"form",95),f.\u0275\u0275elementStart(2,"div",80),f.\u0275\u0275elementStart(3,"h4",81),f.\u0275\u0275text(4,"Occurence"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",82),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).dismiss("Cross click")}),f.\u0275\u0275elementStart(6,"span",83),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"div",96),f.\u0275\u0275elementStart(9,"div",97),f.\u0275\u0275elementStart(10,"div",72),f.\u0275\u0275elementStart(11,"label",98),f.\u0275\u0275text(12," R\xe9p\xe9ter chaque"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"select",99),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().changeToMonthValue(t.target.value)})("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().planingDto.category=t}),f.\u0275\u0275template(14,jn,2,2,"option",57),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"select",100),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().planingDto.dayRep=t}),f.\u0275\u0275template(16,Gn,2,2,"option",57),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(17,Un,22,7,"div",101),f.\u0275\u0275template(18,Yn,21,12,"div",102),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",92),f.\u0275\u0275elementStart(20,"div",103),f.\u0275\u0275elementStart(21,"div"),f.\u0275\u0275elementStart(22,"div",104),f.\u0275\u0275elementStart(23,"input",105),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().comfirmStatus=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"label",106),f.\u0275\u0275text(25),f.\u0275\u0275pipe(26,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"button",93),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).dismiss("Cross click")}),f.\u0275\u0275text(28),f.\u0275\u0275pipe(29,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"button",107),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().confirmPlaning()}),f.\u0275\u0275text(31),f.\u0275\u0275pipe(32,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(22,Rn,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(5),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(8),f.\u0275\u0275property("ngModel",e.planingDto.category),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",e.typePlan),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngModel",e.planingDto.dayRep),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",e.nbrDay),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!e.checkMonth),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.checkMonth),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngModel",e.comfirmStatus),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(26,16,"button.confirm_checkbox")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(29,18,"button.close")),f.\u0275\u0275advance(2),f.\u0275\u0275property("disabled",0==e.comfirmStatus),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(32,20,"button.validate"))}}let Xn=(()=>{class e{constructor(e,t,n,i,r,a,o){this.settingsService=e,this.formBuilder=t,this.modalService=n,this.library=i,this.devToolsServices=r,this.translate=a,this.sharedService=o,this.selectedScreenComponents=[],this.genericWfSteps=[],this.newGenericWfExpands=[],this.settingDocumentsType=[],this.applicationFeesByProduct=[],this.approvalConditionCheckedForLoanApp=!1,this.productEntityForDuplicate=new ye.J,this.settingDocumentProduct=new Qt.f,this.userLinks=en,this.configScreenComponent=nn,this.configCollectionParticipants=rn,this.configDocProd=an,this.stepTap=on,this.today=new Date,this.newApplicationProcess=h.J.GENERIC_WORKFLOW,this.showInputs=!1,this.nbrDay=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99],this.typePlan=["JOUR","SEMAINE","MOIS","AN"],this.numberOfMonth=["premier","deuxi\xe9me","troisi\xe9me","qutrei\xe9me"],this.days=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],this.listOfMonth=["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],this.planingDto=new pn,this.dayOfWeek=[],this.checkMonth=!1,this.checkFillListDays=!1,this.checkAn=!1,this.selectedDayLu=!1,this.selectedDayMa=!1,this.selectedDayMe=!1,this.selectedDayJe=!1,this.selectedDayVe=!1,this.selectedDaySa=!1,this.selectedDayDi=!1,this.selectedTypeRisk=new mn,this.editable=!1,this.licenceAutomaticStep=!1,this.listIdsWorkFlowSteps=[]}ngOnInit(){var e=this;return(0,m.Z)(function*(){e.listThirdPartyOptions=[{label:"Insurance companies",value:"Insurance companies"},{label:"Financial backers",value:"Financial backers"},{label:"Business partners",value:"Business partners"},{label:"Technical partners",value:"Technical partners"},{label:"Control agency",value:"Control agency"},{label:"Individuals",value:"Individuals"},{label:"Lawyer",value:"Lawyer"},{label:"Bailiff",value:"Bailiff"}],e.activationKey=e.sharedService.getActivationKey().filter(e=>e===h.J.JOURNAL_ENTRY_MODULE),e.expiryDate=e.sharedService.getActivationKey().filter(e=>e.includes("EXPIRYDATE"))[0].split(":")[1],e.expiryDate&&(e.expiryDate=new Date(e.expiryDate.substring(4),e.expiryDate.substring(2,4)-1,e.expiryDate.substring(0,2)),e.testExpiryDate=e.expiryDate>e.today);const t=new Yt.h;t.productId=e.productEntity.id,t.process=h.J.GENERIC_WORKFLOW,t.enabled=!0,yield e.newLoanAppStepList(t),e.getDocuments(),e.loadDatas(),e.getlstRisk()})()}getlstRisk(){this.settingsService.findAllSettingRiskTypeEnabled().subscribe(e=>{this.riskTypeList=e})}addRisk(e,t){let n=new un;n.idRiskSetting=t.selectedTypeRisk.id,n.labelRisk=t.selectedTypeRisk.label,n.isEditable=t.editable,null===this.genericWfSteps[e].listRiskSetting&&(this.genericWfSteps[e].listRiskSetting=[]),this.genericWfSteps[e].listRiskSetting.push(n)}deleteRiskType(e,t){this.genericWfSteps[e].listRiskSetting.splice(t,1)}loadDatas(){const e=new Bt;e.settingsWorkflow=!0,e.codeIHMRoute="IHM_GENERIC_WF",(0,cn.D)([this.settingsService.findGroup(new Nt.P),this.settingsService.findAllHabilitationIhmRoute(e),this.settingsService.findAllGroup()]).subscribe(([e,t,n])=>{this.groupEntities=e,this.ihmRoot=t,this.optionsGroupUsers=n})}ngOnChanges(e){var t=this;return(0,m.Z)(function*(){if(void 0!==e.productEntity&&e.productEntity.currentValue!==e.productEntity.previousValue){const e=new Yt.h;e.productId=t.productEntity.id,e.process=h.J.GENERIC_WORKFLOW,e.enabled=!0,yield t.newLoanAppStepList(e)}})()}getDocuments(){const e=new Xt.J;e.categorie=6,e.enabled=!0,this.settingsService.findDocumentTypes(e).subscribe(e=>{this.settingDocumentsType=e})}newLoanAppStepList(e){var t=this;return(0,m.Z)(function*(){yield t.settingsService.findWorkFlowSteps(e).toPromise().then(e=>{t.genericWfSteps=e,e.forEach(e=>{e.selectedGenericWorkFlowParticipants=(0,jt.r1)(t.listThirdPartyOptions,"value",e.genericWorkFlowParticipants),e.stepType===h.J.GROUP&&(e.groupSetting=new Nt.P,e.groupSetting.code=e.groupCode,e.groupSetting.libelle=e.userGroup),!0===e.approvalConditions&&(t.approvalConditionCheckedForLoanApp=!0)});for(let n=0;n<e.length;n++)t.newGenericWfExpands[n]=!1})})()}changeApprovalConditions(e,t){t==h.J.GENERIC_WORKFLOW&&(this.approvalConditionCheckedForLoanApp=e.checked)}addStep(e){const t=new Yt.h;t.productId=this.productEntity.id,t.enabled=!1,t.amount=0,t.minAmount=0,t.idWorkFlowStep=Date.now(),this.listIdsWorkFlowSteps.push(t.idWorkFlowStep),e==h.J.GENERIC_WORKFLOW&&(t.order=this.genericWfSteps.length,this.genericWfSteps.push(t),this.newGenericWfExpands[this.genericWfSteps.length-1]=!0)}drop(e,t){let n,i;t==h.J.GENERIC_WORKFLOW&&(n=this.genericWfSteps,i=this.newGenericWfExpands),mt(n,e.previousIndex,e.currentIndex);for(let r=0;r<n.length;r++)n[r].order=r;mt(i,e.previousIndex,e.currentIndex),0===e.currentIndex&&(-1==n[0].previousStep||-2==n[0].previousStep)&&(n[0].previousStep=null)}deleteStep(e){this.genericWfSteps.splice(e,1),this.newGenericWfExpands.splice(e,1)}toggleCollapse(e,t){t==h.J.GENERIC_WORKFLOW&&(this.newGenericWfExpands[e]=!this.newGenericWfExpands[e])}stepTypeChanged(e,t){e==h.J.GENERIC_WORKFLOW&&"group"!==this.genericWfSteps[t].stepType&&(this.genericWfSteps[t].groupSetting=null)}compareGroup(e,t){if(e&&t)return e.code===t.code}previousSteps(e,t){return e.slice(0,t)}saveProcess(e){var t=this;return(0,m.Z)(function*(){let n,i=!1,r=!1;if(t.genericWfSteps.forEach(e=>{e.stepType===h.J.GROUP?(null==e.groupSetting&&(r=!0),n=e.groupSetting):e.stepType===h.J.LINK&&null==e.previousStep&&(r=!0),("null"==e.rejectionCondition||"undefined"==e.rejectionCondition)&&(e.rejectionCondition=null),("null"==e.acceptationCondition||"undefined"==e.acceptationCondition)&&(e.acceptationCondition=null)}),!t.genericWfSteps.some(({stepName:e="",stepType:n=null,screen:r=null,codeStatutLoan:a=null})=>{if(!(e&&n&&r&&a))return t.devToolsServices.openToast(3,"alert.check-data"),i=!0,!0})&&!r&&!1===i){let i=!0,r=!0,a=!0,o=[];switch(e){case h.J.GENERIC_WORKFLOW:t.genericWfSteps.forEach(i=>{i.lstFeesListValue=[],i.process=e,i.stepType===h.J.GROUP&&void 0!==i.groupSetting&&void 0!==n&&(i.userGroup=i.groupSetting.libelle,i.groupCode=i.groupSetting.code),void 0===i.stepType&&(t.devToolsServices.openToast(1,"alert.check-data"),r=!1)}),t.udfStepWorkflowSettingComponent.forEach(e=>{let n=[];e.udfForm.value.udfGroups.forEach(t=>{let i=!1;t.udfFields.forEach(r=>{r.mandatory&&(i=!0);let a={idWorkFlowStepUdfGroup:null,idUserDefinedFieldGroup:parseInt(t.udfGroup),idWorkflowStep:e.idWorkflowStep,idUserDefinedFields:r.id,idCollectionStep:null,mandatory:r.mandatory,displayInIB:null};n.push(a)});let r={idWorkFlowStepUdfGroup:null,idUserDefinedFieldGroup:parseInt(t.udfGroup),idWorkflowStep:e.idWorkflowStep,idUserDefinedFields:null,idCollectionStep:null,mandatory:i,displayInIB:null};n.push(r)}),t.genericWfSteps.filter(t=>t.idWorkFlowStep===e.idWorkflowStep).map(e=>e.workflowStepUdfGroupe=n)}),o=t.genericWfSteps}Array.isArray(t.listIdsWorkFlowSteps)&&t.listIdsWorkFlowSteps.length>0&&o.forEach(e=>{t.listIdsWorkFlowSteps.includes(e.idWorkFlowStep)&&(e.idWorkFlowStep=null),Array.isArray(e.workflowStepUdfGroupe)&&e.workflowStepUdfGroupe.forEach(e=>{t.listIdsWorkFlowSteps.includes(e.idWorkflowStep)&&(e.idWorkflowStep=null)})}),i&&r&&a&&t.settingsService.saveApprovalSteps(o,t.productEntity.id,e).subscribe(e=>{t.devToolsServices.openToast(0,"alert.success")})}})()}checkBoxCheckers(e){parseInt(e.codeStatutLoan)!==on[3].tapValue&&(e.approvalConditions=!1),this.approvalConditionCheckedForLoanApp=!!this.genericWfSteps.find(e=>!0===e.approvalConditions)}duplicateStep(e,t){this.comfirmStatus=!1,this.productType=t,this.duplicateGroup=null,this.productEntityForDuplicate=null,this.duplicateGroup=this.formBuilder.group({productValues:new c.NI(this.productEntitys,c.kI.required),confirm:new c.NI("",c.kI.required)}),this.duplicateGroup.reset(),this.modalService.open(e,{size:"md"})}changeChecboxReject(){!1===this.comfirmStatus?this.comfirmStatus=!0:(this.comfirmStatus=!1,this.duplicateGroup.controls.confirm.setValue(""))}getDirection(){return Se.y.direction}onSubmit(){if(this.duplicateGroup.valid){this.approvalConditionCheckedForLoanApp=!1;const e=new Yt.h;e.productId=this.productEntityForDuplicate.id,e.enabled=!0,this.productType===h.J.GENERIC_WORKFLOW&&(e.process=h.J.GENERIC_WORKFLOW,this.settingsService.findWorkFlowSteps(e).subscribe(e=>{e.forEach(e=>{e.stepType===h.J.GROUP&&(e.groupSetting=new Nt.P,e.groupSetting.code=e.groupCode,e.groupSetting.libelle=e.userGroup),e.approvalConditions&&(this.approvalConditionCheckedForLoanApp=!0)}),this.genericWfSteps=e,this.genericWfSteps.sort((e,t)=>e.order-t.order);for(let t=0;t<e.length;t++)this.newGenericWfExpands[t]=!1;this.genericWfSteps.forEach(e=>e.productId=this.productEntity.id)})),this.modalService.dismissAll()}}ngOnDestroy(){}showInputsMethod(e,t){this.showInputs=e,e||(t.acceptationCondition=null,t.rejectionCondition=null,t.minScoreAccepted=null,t.minScoreRejected=null,t.maxScoreAccepted=null,t.maxScoreRejected=null)}openPlaning(e,t,n){this.indexApplicationStepForPlaning=t,this.modalService.open(e,{size:"md"}),this.checkFillListDays&&(this.planingDto.lstDay=this.dayOfWeek),n.planingDto?(this.planingDto=n.planingDto,"MOIS"===this.planingDto.category||"AN"===this.planingDto.category?(this.checkMonth=!0,this.planingDto.lstDay=[]):(this.checkMonth=!1,this.planingDto.dateOfRep=null,this.planingDto.beginOrEndMonth=null),"AN"===this.planingDto.category?(this.checkAn=!0,this.planingDto.lstDay=[],"TR"!=this.planingDto.beginOrEndMonth&&(this.monthForAn||(this.monthForAn=this.planingDto.month,this.planingDto.month=null))):(this.checkAn=!1,this.planingDto.dateOfRep=null),this.fillDayList(n)):this.planingDto=new pn}fillDayList(e){0!=this.planingDto.lstDay.length&&(this.selectedDayLu=0!=e.planingDto.lstDay.filter(e=>"LU"===e).length,this.selectedDayMa=0!=e.planingDto.lstDay.filter(e=>"MA"===e).length,this.selectedDayMe=0!=e.planingDto.lstDay.filter(e=>"ME"===e).length,this.selectedDayJe=0!=e.planingDto.lstDay.filter(e=>"JE"===e).length,this.selectedDayVe=0!=e.planingDto.lstDay.filter(e=>"VE"===e).length,this.selectedDaySa=0!=e.planingDto.lstDay.filter(e=>"SA"===e).length,this.selectedDayDi=0!=e.planingDto.lstDay.filter(e=>"DI"===e).length)}confirmPlaning(){const e=this.genericWfSteps.filter(e=>e.order===this.indexApplicationStepForPlaning);e&&(this.monthForAn&&(this.planingDto.month=this.monthForAn),this.genericWfSteps[this.genericWfSteps.indexOf(e[0])].planingDto=this.planingDto),this.modalService.dismissAll(),this.comfirmStatus=!1}changeRdio(){"DR"!=this.planingDto.beginOrEndMonth?(this.planingDto.dateOfMonth=null,this.monthForAn=null):(this.planingDto.nbrMonth=null,this.planingDto.selectedDay=null,this.planingDto.month=null)}changeToMonthValue(e){this.checkMonth="2: MOIS"===e||"3: AN"===e,this.planingDto.lstDay=[],this.planingDto.dateOfRep=null,this.planingDto.beginOrEndMonth=null,this.planingDto.dayRep=null,this.planingDto.beginOrEndMonth=null,this.planingDto.dateOfMonth=null,this.planingDto.selectedDay=null,this.planingDto.nbrMonth=null,this.selectedDayLu=!1,this.selectedDayMa=!1,this.selectedDayMe=!1,this.selectedDayJe=!1,this.selectedDayVe=!1,this.selectedDaySa=!1,this.selectedDayDi=!1,this.checkAn="3: AN"===e}fillListOfDay(e){this.checkFillListDays=!0,this.dayOfWeek=this.planingDto.lstDay;const t=this.dayOfWeek.filter(t=>t===e);null==t||null==t||0==t.length?this.dayOfWeek.push(e):this.dayOfWeek.splice(this.dayOfWeek.indexOf(e),1),this.planingDto.lstDay=this.dayOfWeek}getListOfThirdParty(e,t){this.genericWfSteps[t].genericWorkFlowParticipants="";const{value:n}=e;n.forEach(e=>{this.genericWfSteps[t].genericWorkFlowParticipants+=e.value.toString()+","}),this.genericWfSteps[t].genericWorkFlowParticipants=this.genericWfSteps[t].genericWorkFlowParticipants.substring(0,this.genericWfSteps[t].genericWorkFlowParticipants.length-1)}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(y.F))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-generic-workflow"]],viewQuery:function(e,t){if(1&e&&f.\u0275\u0275viewQuery(Ht,5),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.udfStepWorkflowSettingComponent=e)}},inputs:{productEntity:"productEntity",productEntitys:"productEntitys",ihmRoot:"ihmRoot",optionsGroupUsers:"optionsGroupUsers",groupEntities:"groupEntities"},features:[f.\u0275\u0275NgOnChangesFeature],decls:23,vars:15,consts:[[1,"card"],[1,"p-3","d-flex","justify-content-end"],[1,"btn-icon","btn","btn-success",3,"click"],[1,"mx-2",3,"icon"],[1,"btn-icon","btn","btn-warning",2,"margin-left","18px",3,"click"],[1,"pe-7s-photo-gallery","btn-icon-wrapper"],[1,"card-body"],["cdkDropList","",1,"example-list-without-overflow",3,"cdkDropListDropped"],["class","text-danger p-4 m-0",4,"ngIf"],["class","example-box","cdkDrag","",4,"ngFor","ngForOf"],[1,"card-footer"],[1,"btn","btn-primary","text-white",3,"click"],["content",""],["contentPlaning",""],[1,"text-danger","p-4","m-0"],["cdkDrag","",1,"example-box"],[1,"card","col-12"],["data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"card-header"],[1,"px-3"],[1,"text-primary","m-0"],[1,"col-9","row","px-3"],["type","text",3,"ngClass","ngModel","ngModelChange"],[1,"text-danger"],[1,"mx-auto","row"],[1,"m-2",3,"ngModel","ngModelChange","change"],[1,"btn-icon","btn-icon-only","btn-outline-2x","btn","btn-outline-danger","ml-2",2,"margin-left","10px",3,"ngStyle","click"],[1,"lnr-trash","btn-icon-wrapper"],["style","margin-left: 15px;","class","btn-icon btn-icon-only btn-outline-2x btn btn-outline-primary",3,"click",4,"ngIf"],[1,"mx-auto",3,"click"],[3,"ngClass"],["aria-labelledby","headingOne","data-parent","#accordionExample",3,"ngClass"],[1,"card-body","row"],[1,"position-relative","form-group","col-4","col-md-4","py-2"],[3,"ngClass","ngModel","ngModelChange","change"],[3,"ngValue"],[3,"disabled","ngValue"],["class","position-relative form-group col-4 col-md-4 py-2",4,"ngIf"],[3,"ngClass","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["optionLabel","libelle",3,"options","ngModel","ngModelChange"],[3,"value","disabled",4,"ngFor","ngForOf"],["class","position-relative form-group col-4 col-md-4 mt-3",4,"ngIf"],[1,"position-relative","form-group","col-4","col-md-4","mt-3"],[3,"ngModel","ngModelChange"],[1,""],["optionLabel","label",3,"filter","options","ngModel","ngModelChange","onChange"],[1,"row"],[1,"position-relative","form-group","col-sm-6"],["type","4",3,"idWorkflowStep","workflowStepUdfGroupe"],[1,"card-header","d-flex"],[1,"text-primary","text-uppercase","px-4","pt-3"],[1,"vertical-align-middle"],[1,"hr"],[1,"mb-0","t","table","table-hover"],[1,"col-sm-5"],[1,"col-xl-12","d-flex","justify-content-end","pt-3",2,"margin","12px 0px 32px 0px"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"px-2","mb-0",3,"switch-size","switch-animate","switch-off-color","ngModel","switch-handle-width","value","ngModelChange"],[1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-primary",2,"margin-left","250px",3,"click"],[1,"solid"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn-icon","btn-icon-only","btn-outline-2x","btn","btn-outline-primary",2,"margin-left","15px",3,"click"],[1,"lnr-calendar-full","btn-icon-wrapper"],[3,"ngClass","ngModel","compareWith","ngModelChange"],["required","",3,"ngClass","ngModel","ngModelChange"],[3,"value","disabled","ngClass",4,"ngFor","ngForOf"],[3,"value","disabled","ngClass"],[3,"value"],[3,"value","disabled"],[3,"disabled","ngModel","ngModelChange","change"],[1,"input-group"],["class","col-sm-5",4,"ngIf"],[1,"row","d-flex","justify-content-end","px-3"],[1,"px-2"],[1,"btn","btn-danger",3,"click"],[1,"pe-7s-trash","btn-icon-wrapper","text-white"],[3,"dir","ngClass"],[1,"position-relative","col-xl-12","px-0","col-md-12",3,"formGroup","ngSubmit"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button","aria-label","Close",3,"click"],["aria-hidden","true"],[1,"modal-body","row"],[1,"position-relative","col-xl-12","col-md-12"],["id","selectedValue","formControlName","productValues","required","",1,"form-control",3,"ngModel","ngModelChange"],["default","","disabled","",3,"value"],[1,"position-relative","form-group"],[1,"form-group","form-check"],["id","exampleCustomCheckboxReject","type","checkbox","formControlName","confirm",1,"form-check-input",3,"change"],["for","exampleCustomCheckboxReject",1,"form-check-label"],[1,"modal-footer","py-1"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","submit",1,"btn","btn-success","text-white"],[1,"position-relative","col-xl-12","px-0","col-md-12"],[1,"modal-body","row","no-gutters"],[1,"position-relative"],[1,"custom-control-label","pt-2",2,"margin-right","15px"],["id","selectedValueTypeOfPlaning","name","category","required","",1,"form-control",2,"margin-right","15px",3,"ngModel","change","ngModelChange"],["id","selectedValueNumberOfDay","name","dayRep","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","select-size center-div",4,"ngIf"],["class","input-group  ",4,"ngIf"],[1,"form-group"],[1,"custom-checkbox","custom-control"],["id","exampleCustomCheckboxReview","name","comfirmStatus","type","checkbox",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","exampleCustomCheckboxReview",1,"custom-control-label","ms-2"],[1,"btn","btn-success","text-white",3,"disabled","click"],[1,"select-size","center-div"],["type","checkbox","name","s-size","id","LU",3,"checked","change"],["type","checkbox","name","s-size","id","MA",3,"checked","change"],["type","checkbox","name","s-size","id","ME",3,"checked","change"],["type","checkbox","name","s-size","id","JE",3,"checked","change"],["type","checkbox","name","s-size","id","VE",3,"checked","change"],["type","checkbox","name","s-size","id","SA",3,"checked","change"],["type","checkbox","name","s-size","id","DI",3,"checked","change"],["for","LU",1,"label","custom-check-box"],["for","MA",1,"label","custom-check-box"],["for","ME",1,"label","custom-check-box"],["for","JE",1,"label","custom-check-box"],["for","VE",1,"label","custom-check-box"],["for","SA",1,"label","custom-check-box"],["for","DI",1,"label","custom-check-box"],["labelPosition","after","name","beginOrEndMonth",2,"margin","16px",3,"ngModel","ngModelChange","change"],[1,"input-group",2,"margin-bottom","5px"],["value","DR",1,"example-margin","px-2",2,"margin","14px 1px 0px 0px"],["type","number","name","dateOfMonth",1,"form-control",2,"margin","5px","width","183px",3,"ngModel","disabled","ngModelChange"],["class","form-control","id","month1","name","month1","style","margin: 5px;width: 93px;","required","",3,"disabled","ngModel","ngModelChange",4,"ngIf"],["value","TR",1,"example-margin","px-2",2,"margin-top","9px"],[1,"form-group",2,"display","flex"],["id","selectedValueDayCreteria","name","dayCreteria","required","",1,"form-control",2,"margin-right","8px",3,"ngModel","disabled","ngModelChange"],["disabled",""],["id","selectedValueMonthCreteria","name","monthCreteria","required","",1,"form-control","mr-3",3,"disabled","ngModel","ngModelChange"],["style","margin: 9px;",4,"ngIf"],["class","form-control mr-3","id","month","name","month","required","",3,"disabled","ngModel","ngModelChange",4,"ngIf"],["id","month1","name","month1","required","",1,"form-control",2,"margin","5px","width","93px",3,"disabled","ngModel","ngModelChange"],[2,"margin","9px"],["id","month","name","month","required","",1,"form-control","mr-3",3,"disabled","ngModel","ngModelChange"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275elementStart(2,"button",2),f.\u0275\u0275listener("click",function(){return t.addStep("GENERIC_WORKFLOW")}),f.\u0275\u0275element(3,"fa-icon",3),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"button",4),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(20);return t.duplicateStep(n,"GENERIC_WORKFLOW")}),f.\u0275\u0275element(7,"i",5),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"div",6),f.\u0275\u0275elementStart(11,"div",7),f.\u0275\u0275listener("cdkDropListDropped",function(e){return t.drop(e,"GENERIC_WORKFLOW")}),f.\u0275\u0275template(12,vn,3,3,"h6",8),f.\u0275\u0275template(13,Bn,101,92,"div",9),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",10),f.\u0275\u0275elementStart(15,"div"),f.\u0275\u0275elementStart(16,"button",11),f.\u0275\u0275listener("click",function(){return t.saveProcess("GENERIC_WORKFLOW")}),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(19,On,33,29,"ng-template",null,12,f.\u0275\u0275templateRefExtractor),f.\u0275\u0275template(21,Qn,33,24,"ng-template",null,13,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(5,9,"add_new_step")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(9,11,"setting.setting_configuration_product.duplicate")," "),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngIf",0===t.genericWfSteps.length),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",t.genericWfSteps),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(18,13,"button.save")," "))},directives:[p.BN,Dt,r.NgIf,r.NgForOf,Vt,c.Fj,r.NgClass,c.JJ,c.On,gn.oG,r.NgStyle,C.HK,c.EJ,c.YN,c.Kr,hn.NU,Ht,C.oH,I.U,c.Q7,Oe.Lv,c._Y,c.JL,c.sg,C.MU,le.jv,c.u,le.wj,c.Wl,c.F,fn.VQ,fn.U0,c.wV],pipes:[s.X$],styles:[""]}),e})();var Zn=n(65939);function ei(e,t){1&e&&(f.\u0275\u0275elementStart(0,"td"),f.\u0275\u0275text(1,"Activated"),f.\u0275\u0275elementEnd())}function ti(e,t){1&e&&(f.\u0275\u0275elementStart(0,"td"),f.\u0275\u0275text(1,"Expired"),f.\u0275\u0275elementEnd())}function ni(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"td"),f.\u0275\u0275elementStart(1,"button",8),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().enabledTextKey()}),f.\u0275\u0275element(2,"fa-icon",9),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",e.library.getIconDefinition("fas","pencil-alt"))}}function ii(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"td"),f.\u0275\u0275elementStart(1,"button",10),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().disabledTextKey()}),f.\u0275\u0275element(2,"fa-icon",9),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",e.library.getIconDefinition("fas","check-circle"))}}function ri(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",27),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"notifications.change_status_all_users")," "))}function ai(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",27),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"notifications.change_status")," "))}const oi=function(e){return{"text-end":e}};function li(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",11),f.\u0275\u0275elementStart(1,"div",12),f.\u0275\u0275elementStart(2,"div",13),f.\u0275\u0275elementStart(3,"div",14),f.\u0275\u0275element(4,"div",15),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div",16),f.\u0275\u0275elementStart(6,"h4",17),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"button",18),f.\u0275\u0275elementStart(10,"span",19),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModal()}),f.\u0275\u0275text(11,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"div",20),f.\u0275\u0275template(13,ri,3,3,"div",21),f.\u0275\u0275template(14,ai,3,3,"div",21),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",14),f.\u0275\u0275elementStart(16,"mat-checkbox",22),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().getCheckboxValue(t)}),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",23),f.\u0275\u0275elementStart(20,"div",24),f.\u0275\u0275elementStart(21,"button",25),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().getAnswer(!0)}),f.\u0275\u0275text(22),f.\u0275\u0275pipe(23,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"button",26),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().getAnswer(!1)}),f.\u0275\u0275text(25),f.\u0275\u0275pipe(26,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(16,oi,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(8,8,"confirmation_dialog.title")),f.\u0275\u0275advance(6),f.\u0275\u0275property("ngIf","change_status_all_users"===e.messageDisplayed),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","change_status"===e.messageDisplayed),f.\u0275\u0275advance(2),f.\u0275\u0275property("hidden",!e.showCheckbox),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(18,10,"notifications.apply_for_all_user")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(23,12,"button.yes")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(26,14,"button.no")," ")}}let si=(()=>{class e{constructor(e,t,n,i,r){this.sharedService=e,this.library=t,this.settingsService=n,this.router=i,this.datePipe=r,this.activationKey=[],this.today=new Date,this.modifyValue=!0,this.listActivationKey=[],this.module="",this.acmEnvironnements=[]}ngOnInit(){this.settingsService.getEnvirementValueByKeys([h.J.KEY_LICENCE,h.J.CRON_MAILING_LICENCE,h.J.MAIL_PERIODE_LICENCE]).subscribe(e=>{null!==e&&(this.acmEnvironnements=e,this.sharedService.setActivationKey(e.filter(e=>e.key===h.J.KEY_LICENCE)[0].value.split(",")),this.sharedService.setCreptedKey(e.filter(e=>e.key===h.J.KEY_LICENCE)[0].creptedKey),this.sharedService.setEnvironnementLicence(e.filter(e=>e.key===h.J.KEY_LICENCE)[0]),this.expiryDate=this.sharedService.getActivationKey().filter(e=>e.includes("EXPIRYDATE"))[0].split(":")[1],this.creptedKey=this.sharedService.getCreptedKey(),this.expiryDate&&(this.expiryDate=new Date(this.expiryDate.substring(4),this.expiryDate.substring(2,4)-1,this.expiryDate.substring(0,2)),this.testExpiryDate=this.expiryDate>this.today))}),this.getModuleFromKey()}getModuleFromKey(){this.listActivationKey=this.sharedService.getActivationKey(),this.listActivationKey=this.listActivationKey.filter(e=>!e.includes(":"));for(let e=0;e<this.listActivationKey.length;e++)this.module+=this.listActivationKey[e]+", ";this.module=this.module.substring(0,this.module.length-2)}enabledTextKey(){this.modifyValue=!1}disabledTextKey(){this.modifyValue=!0,this.acmEnvironnementEntity=this.sharedService.getEnvironnementLicence(),this.acmEnvironnementEntity.value=this.creptedKey,this.sharedService.setEnvironnementLicence(this.acmEnvironnementEntity),this.environnementCronMailing=this.acmEnvironnements.filter(e=>e.key===h.J.CRON_MAILING_LICENCE)[0],this.settingsService.updateAcmEnvironment(this.environnementCronMailing).subscribe(e=>{this.settingsService.updateAcmEnvironment(this.acmEnvironnementEntity).subscribe(e=>{window.location.reload()})})}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(y.F),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(x.F0),f.\u0275\u0275directiveInject(r.DatePipe))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-system-licence"]],decls:34,vars:26,consts:[[1,"card"],[1,"card-header"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],["triggers","mouseenter:mouseleave",3,"ngbPopover","popoverTitle"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],[4,"ngIf"],["content",""],[1,"btn","btn-warning","text-white","mr-4",3,"click"],[3,"icon"],[1,"btn","btn-success","text-white","mr-4",3,"click"],[3,"ngClass"],[1,"modal-header","py-2"],[1,"row","no-gutters","align-items-center"],[1,"col-xl-3"],[1,"fa","fa-question-circle","text-info","ACM-icon-question"],[1,"col-xl-9"],[1,"modal-title"],["type","button",1,"close"],["aria-hidden","true",3,"click"],[1,"modal-body","row","no-gutters"],["mat-dialog-content","",4,"ngIf"],[3,"hidden","change"],[1,"modal-footer","py-0"],["mat-dialog-actions","",1,"my-2"],["mat-button","","cdkFocusInitial","",1,"btn","btn-outline-2x","btn-outline-success","active",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","btn-outline-2x","btn-outline-danger","active",3,"click"],["mat-dialog-content",""]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"div",2),f.\u0275\u0275elementStart(6,"table",3),f.\u0275\u0275elementStart(7,"thead"),f.\u0275\u0275elementStart(8,"tr"),f.\u0275\u0275elementStart(9,"th"),f.\u0275\u0275text(10),f.\u0275\u0275pipe(11,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"th"),f.\u0275\u0275text(13),f.\u0275\u0275pipe(14,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"th"),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(18,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"tbody"),f.\u0275\u0275elementStart(20,"tr"),f.\u0275\u0275elementStart(21,"td"),f.\u0275\u0275elementStart(22,"div",4),f.\u0275\u0275pipe(23,"translate"),f.\u0275\u0275elementStart(24,"input",5),f.\u0275\u0275listener("ngModelChange",function(e){return t.creptedKey=e}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(25,ei,2,0,"td",6),f.\u0275\u0275template(26,ti,2,0,"td",6),f.\u0275\u0275elementStart(27,"td"),f.\u0275\u0275text(28),f.\u0275\u0275pipe(29,"date"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(30,ni,3,1,"td",6),f.\u0275\u0275template(31,ii,3,1,"td",6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(32,li,27,18,"ng-template",null,7,f.\u0275\u0275templateRefExtractor)),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,13,"setting.licence.licence")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(11,15,"setting.licence.key")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(14,17,"setting.status")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(17,19,"setting.expairy-date")),f.\u0275\u0275advance(6),f.\u0275\u0275propertyInterpolate("ngbPopover",t.module),f.\u0275\u0275property("popoverTitle",f.\u0275\u0275pipeBind1(23,21,"setting.activated-module")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",t.creptedKey)("disabled",t.modifyValue),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!t.testExpiryDate),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind2(29,23,t.expiryDate,"dd/MM/yyyy")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",t.modifyValue),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!t.modifyValue))},directives:[o.o8,c.Fj,C.oH,c.JJ,c.On,r.NgIf,p.BN,r.NgClass,gn.oG],pipes:[s.X$,r.DatePipe],styles:[""]}),e})();var di=n(8756);function ci(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275elementStart(4,"bSwitch",6),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(18);return n.endableDisable(i,t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.category),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("switch-handle-width",40)}}function pi(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",22),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"notifications.change_status_all_users_synchro")," "))}function mi(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",22),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"notifications.change_status_all_users_synchro")," "))}const ui=function(e){return{"text-end":e}};function gi(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",7),f.\u0275\u0275elementStart(1,"div",8),f.\u0275\u0275elementStart(2,"div",9),f.\u0275\u0275elementStart(3,"div",10),f.\u0275\u0275element(4,"div",11),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div",12),f.\u0275\u0275elementStart(6,"h4",13),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"button",14),f.\u0275\u0275elementStart(10,"span",15),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModal()}),f.\u0275\u0275text(11,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"div",16),f.\u0275\u0275template(13,pi,3,3,"div",17),f.\u0275\u0275template(14,mi,3,3,"div",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",18),f.\u0275\u0275elementStart(16,"div",19),f.\u0275\u0275elementStart(17,"button",20),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().getAnswer(!0)}),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"button",21),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().getAnswer(!1)}),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(12,ui,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(8,6,"confirmation_dialog.title")," "),f.\u0275\u0275advance(6),f.\u0275\u0275property("ngIf","change_status_all_users"===e.messageDisplayed),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","change_status"===e.messageDisplayed),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(19,8,"button.yes")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(22,10,"button.no")," ")}}let hi=(()=>{class e{constructor(e,t,n,i,r){this.settingsService=e,this.translate=t,this.devToolsServices=n,this.modal=i,this.dialog=r,this.SettingNotificationsEntitys=[],this.showCheckbox=!1,this.isChecked=!1}ngOnInit(){this.settingsService.findAllSettingCalendarSynchro().subscribe(e=>{this.SettingNotificationsEntitys=e})}endableDisable(e,t){!1===t.enabled?(this.showCheckbox=!1,this.messageDisplayed="change_status_all_users",this.dialog.open(e,{disableClose:!0}),this.settingNotificationsEntitySelected=t):(this.showCheckbox=!0,this.messageDisplayed="change_status",this.dialog.open(e,{disableClose:!0}),this.settingNotificationsEntitySelected=t)}getAnswer(e){var t=this;return(0,m.Z)(function*(){!1===t.showCheckbox?!0===e?(t.settingNotificationsEntitySelected.updateUserNotification=!0,yield t.settingsService.updateSettingNotification(t.settingNotificationsEntitySelected).toPromise().then(()=>t.dialog.closeAll())):(t.settingNotificationsEntitySelected.enabled=!t.settingNotificationsEntitySelected.enabled,t.dialog.closeAll()):!0===e?!0===t.isChecked?(t.settingNotificationsEntitySelected.updateUserNotification=!0,yield t.settingsService.updateSettingNotification(t.settingNotificationsEntitySelected).toPromise().then(()=>t.dialog.closeAll())):(t.settingNotificationsEntitySelected.updateUserNotification=!1,yield t.settingsService.updateSettingNotification(t.settingNotificationsEntitySelected).toPromise().then(()=>t.dialog.closeAll())):(t.settingNotificationsEntitySelected.enabled=!t.settingNotificationsEntitySelected.enabled,t.dialog.closeAll())})()}getCheckboxValue(e){this.isChecked=e.checked}closeModal(){this.dialog.closeAll(),this.settingNotificationsEntitySelected.enabled=!this.settingNotificationsEntitySelected.enabled}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(di.uw))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-synchronize-calendar"]],decls:19,vars:10,consts:[[1,"card"],[1,"card-header"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],["content",""],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","switch-handle-width","ngModelChange","click"],[3,"ngClass"],[1,"modal-header","py-2"],[1,"row","no-gutters","align-items-center"],[1,"col-xl-3"],[1,"fa","fa-question-circle","text-info","ACM-icon-question"],[1,"col-xl-9"],[1,"modal-title"],["type","button",1,"close"],["aria-hidden","true",3,"click"],[1,"modal-body","row","no-gutters"],["mat-dialog-content","",4,"ngIf"],[1,"modal-footer","py-0"],["mat-dialog-actions","",1,"my-2"],["mat-button","","cdkFocusInitial","",1,"btn","btn-outline-2x","btn-outline-success","active",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","btn-outline-2x","btn-outline-danger","active",3,"click"],["mat-dialog-content",""]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"div",2),f.\u0275\u0275elementStart(6,"table",3),f.\u0275\u0275elementStart(7,"thead"),f.\u0275\u0275elementStart(8,"tr"),f.\u0275\u0275elementStart(9,"th"),f.\u0275\u0275text(10),f.\u0275\u0275pipe(11,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"th"),f.\u0275\u0275text(13),f.\u0275\u0275pipe(14,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"tbody"),f.\u0275\u0275template(16,ci,5,6,"tr",4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(17,gi,23,14,"ng-template",null,5,f.\u0275\u0275templateRefExtractor)),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,4,"setting.setting_notifications.synchronize-calendar")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(11,6,"setting.category")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(14,8,"setting.status")),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngForOf",t.SettingNotificationsEntitys))},directives:[r.NgForOf,I.U,c.JJ,c.On,r.NgClass,r.NgIf],pipes:[s.X$],styles:[""]}),e})();function fi(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275elementStart(4,"bSwitch",5),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().endableDisable(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.type),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("switch-handle-width",40)}}let vi=(()=>{class e{constructor(e,t,n,i,r){this.settingsService=e,this.translate=t,this.devToolsServices=n,this.modal=i,this.dialog=r,this.customerSettingEntitys=[],this.showCheckbox=!1,this.isChecked=!1}ngOnInit(){this.settingsService.findAllSettingCustomer().subscribe(e=>{this.customerSettingEntitys=e})}endableDisable(e){var t=this;return(0,m.Z)(function*(){yield t.settingsService.updateSettingCustomer(e).toPromise().then()})()}getCheckboxValue(e){this.isChecked=e.checked}closeModal(){this.dialog.closeAll(),this.customerSettingEntitySelected.enabled=!this.customerSettingEntitySelected.enabled}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(di.uw))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-customer-setting"]],decls:17,vars:10,consts:[[1,"card"],[1,"card-header"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","switch-handle-width","ngModelChange","click"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"div",2),f.\u0275\u0275elementStart(6,"table",3),f.\u0275\u0275elementStart(7,"thead"),f.\u0275\u0275elementStart(8,"tr"),f.\u0275\u0275elementStart(9,"th"),f.\u0275\u0275text(10),f.\u0275\u0275pipe(11,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"th"),f.\u0275\u0275text(13),f.\u0275\u0275pipe(14,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"tbody"),f.\u0275\u0275template(16,fi,5,6,"tr",4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,4,"setting.customer-setting")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(11,6,"category_loan.category_loan")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(14,8,"expenses.expenses_status")),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngForOf",t.customerSettingEntitys))},directives:[r.NgForOf,I.U,c.JJ,c.On],pipes:[s.X$],styles:[""]}),e})();function Si(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275elementStart(6,"bSwitch",6),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(21);return n.endableDisable(i,t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.category),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.typeNotif),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("switch-handle-width",40)}}function yi(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",23),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"notifications.change_status_all_users")," "))}function xi(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",23),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"notifications.change_status")," "))}const Ei=function(e){return{"text-end":e}};function bi(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",7),f.\u0275\u0275elementStart(1,"div",8),f.\u0275\u0275elementStart(2,"div",9),f.\u0275\u0275elementStart(3,"div",10),f.\u0275\u0275element(4,"div",11),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div",12),f.\u0275\u0275elementStart(6,"h4",13),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"button",14),f.\u0275\u0275elementStart(10,"span",15),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModal()}),f.\u0275\u0275text(11,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"div",16),f.\u0275\u0275template(13,yi,3,3,"div",17),f.\u0275\u0275template(14,xi,3,3,"div",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",10),f.\u0275\u0275elementStart(16,"mat-checkbox",18),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().getCheckboxValue(t)}),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",19),f.\u0275\u0275elementStart(20,"div",20),f.\u0275\u0275elementStart(21,"button",21),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().getAnswer(!0)}),f.\u0275\u0275text(22),f.\u0275\u0275pipe(23,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"button",22),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().getAnswer(!1)}),f.\u0275\u0275text(25),f.\u0275\u0275pipe(26,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(16,Ei,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(8,8,"confirmation_dialog.title")," "),f.\u0275\u0275advance(6),f.\u0275\u0275property("ngIf","change_status_all_users"===e.messageDisplayed),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","change_status"===e.messageDisplayed),f.\u0275\u0275advance(2),f.\u0275\u0275property("hidden",!e.showCheckbox),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(18,10,"notifications.apply_for_all_user")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(23,12,"button.yes")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(26,14,"button.no")," ")}}let Ci=(()=>{class e{constructor(e,t,n,i,r){this.settingsService=e,this.translate=t,this.devToolsServices=n,this.modal=i,this.dialog=r,this.SettingNotificationsEntitys=[],this.showCheckbox=!1,this.isChecked=!1}ngOnInit(){this.settingsService.findAllSettingNotification().subscribe(e=>{this.SettingNotificationsEntitys=e})}endableDisable(e,t){!1===t.enabled?(this.showCheckbox=!1,this.messageDisplayed="change_status_all_users",this.dialog.open(e,{disableClose:!0}),this.settingNotificationsEntitySelected=t):(this.showCheckbox=!0,this.messageDisplayed="change_status",this.dialog.open(e,{disableClose:!0}),this.settingNotificationsEntitySelected=t)}getAnswer(e){var t=this;return(0,m.Z)(function*(){!1===t.showCheckbox?!0===e?(t.settingNotificationsEntitySelected.updateUserNotification=!0,yield t.settingsService.updateSettingNotification(t.settingNotificationsEntitySelected).toPromise().then(()=>t.dialog.closeAll())):(t.settingNotificationsEntitySelected.enabled=!t.settingNotificationsEntitySelected.enabled,t.dialog.closeAll()):!0===e?!0===t.isChecked?(t.settingNotificationsEntitySelected.updateUserNotification=!0,yield t.settingsService.updateSettingNotification(t.settingNotificationsEntitySelected).toPromise().then(()=>t.dialog.closeAll())):(t.settingNotificationsEntitySelected.updateUserNotification=!1,yield t.settingsService.updateSettingNotification(t.settingNotificationsEntitySelected).toPromise().then(()=>t.dialog.closeAll())):(t.settingNotificationsEntitySelected.enabled=!t.settingNotificationsEntitySelected.enabled,t.dialog.closeAll())})()}getCheckboxValue(e){this.isChecked=e.checked}closeModal(){this.dialog.closeAll(),this.settingNotificationsEntitySelected.enabled=!this.settingNotificationsEntitySelected.enabled}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(di.uw))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-notification"]],decls:22,vars:13,consts:[[1,"card"],[1,"card-header"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],["content",""],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","switch-handle-width","ngModelChange","click"],[3,"ngClass"],[1,"modal-header","py-2"],[1,"row","no-gutters","align-items-center"],[1,"col-xl-3"],[1,"fa","fa-question-circle","text-info","ACM-icon-question"],[1,"col-xl-9"],[1,"modal-title"],["type","button",1,"close"],["aria-hidden","true",3,"click"],[1,"modal-body","row","no-gutters"],["mat-dialog-content","",4,"ngIf"],[3,"hidden","change"],[1,"modal-footer","py-0"],["mat-dialog-actions","",1,"my-2"],["mat-button","","cdkFocusInitial","",1,"btn","btn-outline-2x","btn-outline-success","active",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","btn-outline-2x","btn-outline-danger","active",3,"click"],["mat-dialog-content",""]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"div",2),f.\u0275\u0275elementStart(6,"table",3),f.\u0275\u0275elementStart(7,"thead"),f.\u0275\u0275elementStart(8,"tr"),f.\u0275\u0275elementStart(9,"th"),f.\u0275\u0275text(10),f.\u0275\u0275pipe(11,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"th"),f.\u0275\u0275text(13),f.\u0275\u0275pipe(14,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"th"),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"tbody"),f.\u0275\u0275template(19,Si,7,7,"tr",4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(20,bi,27,18,"ng-template",null,5,f.\u0275\u0275templateRefExtractor)),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,5,"setting.setting_notifications.setting_notification")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(11,7,"setting.category")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(14,9,"setting.setting_notifications.type_notification")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(17,11,"setting.status")),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngForOf",t.SettingNotificationsEntitys))},directives:[r.NgForOf,I.U,c.JJ,c.On,r.NgClass,r.NgIf,gn.oG],pipes:[s.X$],styles:[""]}),e})();var Ii=n(21362);function wi(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275text(8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"td"),f.\u0275\u0275text(10),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"td"),f.\u0275\u0275text(12),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"td"),f.\u0275\u0275elementStart(14,"button",15),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(56);return n.updateFee(i,t)}),f.\u0275\u0275element(15,"fa-icon",16),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.label),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.code),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.value),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.percentage),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.amount),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.nextInstallementInterestNumber),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt"))}}function Fi(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",36),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.key),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,2,e.value)," ")}}function _i(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",25),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"select",35),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).feeTypeChanged(t.target.value)}),f.\u0275\u0275template(6,Fi,3,4,"option",29),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,2,"setting.charge_fee.fee_type")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.feeTypeList)}}function Li(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",36),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.key),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,2,e.value)," ")}}function Di(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",36),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.id),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.code,"")}}function ki(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",25),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"select",37),f.\u0275\u0275template(6,Di,2,2,"option",29),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,2,"setting.charge_fee.code")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.listFees)}}function Ti(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",25),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",26),f.\u0275\u0275element(5,"input",38),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,1,"setting.charge_fee.next_installement_interest_number")))}const Mi=function(e){return{"text-end":e}};function Vi(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",17),f.\u0275\u0275elementStart(1,"div",18),f.\u0275\u0275elementStart(2,"h5",19),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",20),f.\u0275\u0275elementStart(6,"span",21),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"form",22),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275elementStart(9,"div",23),f.\u0275\u0275template(10,_i,7,4,"div",24),f.\u0275\u0275elementStart(11,"div",25),f.\u0275\u0275elementStart(12,"label"),f.\u0275\u0275text(13),f.\u0275\u0275pipe(14,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",26),f.\u0275\u0275element(16,"input",27),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"div",25),f.\u0275\u0275elementStart(18,"label"),f.\u0275\u0275text(19),f.\u0275\u0275pipe(20,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(21,"div"),f.\u0275\u0275elementStart(22,"select",28),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onChange(t)}),f.\u0275\u0275template(23,Li,3,4,"option",29),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(24,ki,7,4,"div",24),f.\u0275\u0275template(25,Ti,6,3,"div",24),f.\u0275\u0275elementStart(26,"div",25),f.\u0275\u0275elementStart(27,"label"),f.\u0275\u0275text(28),f.\u0275\u0275pipe(29,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"div",26),f.\u0275\u0275element(31,"input",30),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(32,"div",25),f.\u0275\u0275elementStart(33,"label"),f.\u0275\u0275text(34),f.\u0275\u0275pipe(35,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(36,"div",26),f.\u0275\u0275element(37,"input",31),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(38,"div",32),f.\u0275\u0275elementStart(39,"button",33),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(40),f.\u0275\u0275pipe(41,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(42,"button",34),f.\u0275\u0275text(43),f.\u0275\u0275pipe(44,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(31,Mi,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,17,"update"===e.action?"setting.charge_fee.update_fee":"setting.charge_fee.add_fee"),""),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.groupForm),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf","0"===e.sharedService.useExternalCBS),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(14,19,"setting.charge_fee.label")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(20,21,"setting.charge_fee.value")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.listValues),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","1"===e.sharedService.useExternalCBS),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","0"===e.sharedService.useExternalCBS),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(29,23,"setting.charge_fee.percentage")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(35,25,"setting.charge_fee.values.fixed_amount")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(41,27,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(44,29,"button.save"))}}let Ai=(()=>{class e{constructor(e,t,n,i,r,a,o){this.settingsService=e,this.formBuilder=t,this.translate=n,this.modal=i,this.devToolsServices=r,this.library=a,this.sharedService=o,this.settingChargeFeeEntity=new Ii.T,this.settingChargeFeeEntitys=[],this.listFees=[],this.listValues=[],this.listValuesNormalFees=[{key:h.J.LOAN_AMOUNT,value:"setting.charge_fee.values.loan_amount"},{key:h.J.PERSONAL_CONTRIBUTION,value:"setting.charge_fee.values.personal_contribution"},{key:h.J.MANUAL_ENTRY,value:"setting.charge_fee.values.manual_entry"},{key:h.J.FIXED_AMOUNT,value:"setting.charge_fee.values.fixed_amount"}],this.listValuesPayoutFees=[{key:h.J.BALANCE_POURCENTAGE,value:"setting.charge_fee.values.balance_pourcentage"},{key:h.J.MINIMUM_BALANCE,value:"setting.charge_fee.values.minimum_balance"},{key:h.J.NEXT_INSTALLEMENT_INTEREST,value:"setting.charge_fee.values.next_installement_interest"},{key:h.J.BALANCE_INTEREST_POURCENTAGE,value:"setting.charge_fee.values.balance_interest_pourcentage"}],this.listValuePenaltyFees=[{key:h.J.BALANCE_AMOUNT,value:"setting.charge_fee.values.balance_amount"},{key:h.J.IMPAYED_AMOUNT,value:"setting.charge_fee.values.impayed_amount"},{key:h.J.IMPAYED_PRINCIPAL,value:"setting.charge_fee.values.impayed_principal"},{key:h.J.FIXED_AMOUNT_PER_TERM,value:"setting.charge_fee.values.fixed_amount"},{key:h.J.FIXED_AMOUNT_PER_DAY,value:"setting.charge_fee.values.fixed_amount_per_day"}],this.feeTypeList=[{key:h.J.NORMAL_FEES,value:"Normal Fees"},{key:h.J.PENALTY_FEES,value:"Penalty Fees"},{key:h.J.PAYOUT_FEES,value:"Loan Payout Fees"}],this.percentageValues=[h.J.IMPAYED_PRINCIPAL,h.J.IMPAYED_AMOUNT,h.J.BALANCE_AMOUNT,h.J.LOAN_AMOUNT,h.J.PERSONAL_CONTRIBUTION,h.J.BALANCE_POURCENTAGE,h.J.MINIMUM_BALANCE,h.J.BALANCE_INTEREST_POURCENTAGE],this.amountValues=[h.J.FIXED_AMOUNT,h.J.FIXED_AMOUNT_PER_DAY,h.J.FIXED_AMOUNT_PER_TERM]}ngOnInit(){var e=this;return(0,m.Z)(function*(){e.pageSize=5,e.page=1,yield e.settingsService.findAllSettingChargeFee().subscribe(t=>{e.settingChargeFeeEntitys=t}),e.getFeesFromListValues()})()}getDirection(){return Se.y.direction}addFee(e){this.updateSetting=new Ii.T,this.action="create",this.createForm(new Ii.T),this.listValues=[],this.modal.open(e)}createForm(e){var t=this;return(0,m.Z)(function*(){t.groupForm=t.formBuilder.group({label:[e.label,[jt.MS]],cufeeID:[e.cufeeId],value:[e.value,c.kI.required],feeType:[e.feeType],percentage:[{value:e.percentage,disabled:!0},(0,jt.eG)(new RegExp("^(?:[1-9][0-9]?|100)$"))],amount:[{value:e.amount,disabled:!0},[(0,jt.eG)(new RegExp("^[1-9][0-9]*$"))]],nextInstallementInterestNumber:[{value:e.nextInstallementInterestNumber,disabled:!0}]}),t.groupForm.get("value").setValue(e.value)})()}onSubmit(){this.groupForm.valid&&("update"===this.action?this.update():"create"===this.action&&this.create())}onChange(e){const t=this.groupForm.get("percentage"),n=this.groupForm.get("amount"),i=this.groupForm.get("nextInstallementInterestNumber");this.percentageValues.find(t=>t==e.target.value)?(t.enable(),t.setValue(0)):(t.disable(),t.setValue(null)),this.amountValues.find(t=>t==e.target.value)?(n.enable(),n.setValue(0)):(n.disable(),n.setValue(null)),e.target.value==h.J.NEXT_INSTALLEMENT_INTEREST?(i.enable(),i.setValue(0)):(i.disable(),i.setValue(null))}closeModale(){this.modal.dismissAll()}create(){this.updateSetting.label=this.groupForm.controls.label.value,this.updateSetting.value=this.groupForm.controls.value.value,this.updateSetting.percentage=this.groupForm.controls.percentage.value,this.updateSetting.amount=this.groupForm.controls.amount.value,this.updateSetting.cufeeId=this.groupForm.controls.cufeeID.value,this.updateSetting.code=this.listFees.find(e=>e.id==this.updateSetting.cufeeId)?.code,this.updateSetting.feeType=this.groupForm.controls.feeType.value,this.settingsService.createSettingChargeFee(this.updateSetting).subscribe(e=>{this.settingChargeFeeEntitys.push(e),this.modal.dismissAll()})}updateFee(e,t){var n=this;return(0,m.Z)(function*(){n.action="update",n.updateSetting=t,yield n.createForm(t),n.feeTypeChanged(t.feeType),n.modal.open(e);const i=n.groupForm.get("percentage"),r=n.groupForm.get("amount"),a=n.groupForm.get("value"),o=n.groupForm.get("nextInstallementInterestNumber");n.percentageValues.find(e=>e==a.value)?(i.enable(),i.setValue(t.percentage)):(i.disable(),i.setValue(null)),n.amountValues.find(e=>e==a.value)?(r.enable(),r.setValue(t.amount)):(r.disable(),r.setValue(null)),null!=t.nextInstallementInterestNumber?(o.enable(),o.setValue(t.nextInstallementInterestNumber)):(o.disable(),o.setValue(null))})()}update(){this.action="update",this.updateSetting.label=this.groupForm.controls.label.value,this.updateSetting.value=this.groupForm.controls.value.value,this.updateSetting.percentage=this.groupForm.controls.percentage.value,this.updateSetting.amount=this.groupForm.controls.amount.value,this.updateSetting.cufeeId=this.groupForm.controls.cufeeID.value,this.updateSetting.code=this.listFees.find(e=>e.id==this.updateSetting.cufeeId)?.code,this.updateSetting.feeType=this.groupForm.controls.feeType.value,this.updateSetting.nextInstallementInterestNumber=this.groupForm.controls.nextInstallementInterestNumber.value,this.settingsService.updateSettingChargeFee(this.updateSetting).subscribe(),this.modal.dismissAll()}getFeesFromListValues(){var e=this;return(0,m.Z)(function*(){yield e.settingsService.getApplicationFees().subscribe(t=>{e.listFees=[];const n=new Set;t.forEach(t=>{n.has(t.cufeeID)||(n.add(t.cufeeID),e.listFees.push({id:t.cufeeID,code:t.code}))})})})()}feeTypeChanged(e){switch(e){case h.J.NORMAL_FEES:this.listValues=this.listValuesNormalFees;break;case h.J.PENALTY_FEES:this.listValues=this.listValuePenaltyFees;break;case h.J.PAYOUT_FEES:this.listValues=this.listValuesPayoutFees}if(this.listValues.length>0){const e=this.groupForm.get("value"),t=this.groupForm.get("percentage"),n=this.groupForm.get("amount");e.value===h.J.LOAN_AMOUNT||e.value===h.J.PERSONAL_CONTRIBUTION?(t.enable(),t.setValue(0)):(t.disable(),t.setValue(null)),e.value===h.J.FIXED_AMOUNT?(n.enable(),n.setValue(0)):(n.disable(),n.setValue(null))}}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(y.F))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-charge-fee"]],decls:57,vars:55,consts:[[1,"card"],[1,"card-header"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[2,"margin-right","7px",3,"icon"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],[1,"card-footer","pb-0"],[1,"row","no-gutters","w-100"],[1,"col-xl-6","col-lg-6","col-md-12"],["size","sm",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],[1,"d-flex","justify-content-lg-end"],["name","pageSize",1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["modalContent",""],[1,"btn","btn-warning","text-white",3,"click"],[3,"icon"],[3,"dir","ngClass"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button"],["aria-hidden","true",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"card-body"],["class","position-relative pb-4",4,"ngIf"],[1,"position-relative","pb-4"],[1,"form-group"],["type","text","formControlName","label",1,"form-control"],["type","text","formControlName","value",1,"form-control","form-group",3,"change"],[3,"value",4,"ngFor","ngForOf"],["type","number","formControlName","percentage",1,"form-control"],["type","number","formControlName","amount",1,"form-control"],[1,"modal-footer"],["type","reset",1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-1","btn","btn-primary"],["type","text","formControlName","feeType",1,"form-control","form-group",3,"change"],[3,"value"],["type","text","formControlName","cufeeID",1,"form-control","form-group"],["type","number","formControlName","nextInstallementInterestNumber",1,"form-control"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"button",2),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(56);return t.addFee(n)}),f.\u0275\u0275element(6,"fa-icon",3),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div"),f.\u0275\u0275elementStart(10,"div",4),f.\u0275\u0275elementStart(11,"table",5),f.\u0275\u0275elementStart(12,"thead"),f.\u0275\u0275elementStart(13,"tr"),f.\u0275\u0275elementStart(14,"th"),f.\u0275\u0275text(15),f.\u0275\u0275pipe(16,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"th"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"th"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"th"),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"th"),f.\u0275\u0275text(27),f.\u0275\u0275pipe(28,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(29,"th"),f.\u0275\u0275text(30),f.\u0275\u0275pipe(31,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(32,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(33,"tbody"),f.\u0275\u0275template(34,wi,16,7,"tr",6),f.\u0275\u0275pipe(35,"slice"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(36,"div",7),f.\u0275\u0275elementStart(37,"div",8),f.\u0275\u0275elementStart(38,"div",9),f.\u0275\u0275elementStart(39,"ngb-pagination",10),f.\u0275\u0275listener("pageChange",function(e){return t.page=e}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(40,"div",9),f.\u0275\u0275elementStart(41,"div",11),f.\u0275\u0275elementStart(42,"select",12),f.\u0275\u0275listener("ngModelChange",function(e){return t.pageSize=e}),f.\u0275\u0275elementStart(43,"option",13),f.\u0275\u0275text(44),f.\u0275\u0275pipe(45,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(46,"option",13),f.\u0275\u0275text(47),f.\u0275\u0275pipe(48,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(49,"option",13),f.\u0275\u0275text(50),f.\u0275\u0275pipe(51,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(52,"option",13),f.\u0275\u0275text(53),f.\u0275\u0275pipe(54,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(55,Vi,45,33,"ng-template",null,14,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,27,"setting.charge_fee.charge_fees")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(8,29,"setting.charge_fee.add_fee")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(16,31,"setting.charge_fee.label")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,33,"setting.charge_fee.code")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,35,"setting.charge_fee.value")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,37,"setting.charge_fee.percentage")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(28,39,"setting.amount")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(31,41,"setting.charge_fee.next_installement_interest_number")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",f.\u0275\u0275pipeBind3(35,43,t.settingChargeFeeEntitys,(t.page-1)*t.pageSize,(t.page-1)*t.pageSize+t.pageSize)),f.\u0275\u0275advance(5),f.\u0275\u0275property("collectionSize",t.settingChargeFeeEntitys.length)("page",t.page)("pageSize",t.pageSize)("maxSize",3)("boundaryLinks",!0),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",t.pageSize),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue",5),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(45,47,"pagination.5_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",10),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(48,49,"pagination.10_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",20),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(51,51,"pagination.20_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",50),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(54,53,"pagination.50_item")))},directives:[p.BN,r.NgForOf,o.N9,c.EJ,c.JJ,c.On,c.YN,c.Kr,Oe.Lv,r.NgClass,c._Y,c.JL,c.sg,C.MU,le.jv,r.NgIf,C.HK,c.Fj,C.oH,c.u,le.wj,c.wV],pipes:[s.X$,r.SlicePipe],styles:[""]}),e})();var Pi=n(32132),Bi=n(31398);function Ni(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275text(8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"td"),f.\u0275\u0275elementStart(10,"bSwitch",15),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().endableDisable(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"td"),f.\u0275\u0275elementStart(12,"button",16),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(53);return n.updateMotif(i,t)}),f.\u0275\u0275element(13,"fa-icon",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.categorie),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.code),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.libelle),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.description),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("switch-handle-width",40),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt"))}}function Ri(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",37),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275propertyInterpolate("value",e.categorie),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(e.categorie)}}function Oi(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",37),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275propertyInterpolate("value",e.codeExternal),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate2("",e.codeExternal," ",e.description,"")}}function ji(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",25),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",32),f.\u0275\u0275elementStart(5,"select",38),f.\u0275\u0275template(6,Oi,2,3,"option",27),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,2,"setting.idExterne")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.externalIdsList)}}const Gi=function(e){return{"text-end":e}};function Ui(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",18),f.\u0275\u0275elementStart(1,"div",19),f.\u0275\u0275elementStart(2,"h5",20),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",21),f.\u0275\u0275elementStart(6,"span",22),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"form",23),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275elementStart(9,"div",24),f.\u0275\u0275elementStart(10,"div",25),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div"),f.\u0275\u0275elementStart(15,"select",26),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onChange(t)}),f.\u0275\u0275template(16,Ri,2,2,"option",27),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(17,ji,7,4,"div",28),f.\u0275\u0275elementStart(18,"div",25),f.\u0275\u0275elementStart(19,"label"),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"div",29),f.\u0275\u0275elementStart(23,"input",30),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().genreretCodeForLabel()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"div",25),f.\u0275\u0275elementStart(25,"label"),f.\u0275\u0275text(26),f.\u0275\u0275pipe(27,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"div",29),f.\u0275\u0275element(29,"input",31),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"div",25),f.\u0275\u0275elementStart(31,"label"),f.\u0275\u0275text(32),f.\u0275\u0275pipe(33,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"div",32),f.\u0275\u0275element(35,"textarea",33),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(36,"div",34),f.\u0275\u0275elementStart(37,"button",35),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(38),f.\u0275\u0275pipe(39,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(40,"button",36),f.\u0275\u0275text(41),f.\u0275\u0275pipe(42,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(29,Gi,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(4,15,"setting.setting_motif.update_setting_motifs")),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.groupForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,17,"setting.category")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.categories),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!0===e.isReject),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(21,19,"setting.label")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(27,21,"setting.code")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(33,23,"setting.description")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(39,25,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(42,27,"button.save"))}}let $i=(()=>{class e{constructor(e,t,n,i,r,a,o){this.settingsService=e,this.translate=t,this.loanDetailsServices=n,this.modal=i,this.formBuilder=r,this.devToolsServices=a,this.library=o,this.settingMotifRejetsEntitys=[],this.externalIdsList=[],this.settingMotifRejetsEntity=new Pi.k,this.changeCodeForCategory=!1}ngOnInit(){var e=this;return(0,m.Z)(function*(){e.pageSize=5,e.page=1,yield e.settingsService.findAllSettingMotifRejects().subscribe(t=>{e.settingMotifRejetsEntitys=t,e.categories=e.settingMotifRejetsEntitys.filter((e,t,n)=>n.findIndex(t=>t.categorie===e.categorie)===t)}),e.isReject=!1})()}endableDisable(e){this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.disable_motifs_Reject").afterClosed().subscribe(t=>{t?this.settingsService.updateSettingMotifRejects(e).subscribe():e.enabled=!e.enabled})}getDirection(){return Se.y.direction}updateMotif(e,t){this.action="update",this.updateSetting=t,this.updateSetting.categorie===h.J.REJECT_CATEGORIE||this.updateSetting.categorie===h.J.CANCEL_CATEGORIE||this.updateSetting.categorie===h.J.DECLINE_CATEGORIE?(0===this.externalIdsList.length&&this.settingsService.getAllMotifRejectsIdsABACUS().subscribe(e=>{this.externalIdsList=e}),this.isReject=!0):this.isReject=!1,this.createForm(t),this.modal.open(e)}createForm(e){let t=null;0!==e.codeExternal&&(t=e.codeExternal),this.groupForm=this.formBuilder.group({category:[e.categorie,[c.kI.required]],code:[e.code,jt.MS],label:[e.libelle,jt.MS],idExterne:t,description:e.description}),!0===this.isReject?this.groupForm.controls.idExterne.setValidators([c.kI.required]):!1===this.isReject&&this.groupForm.controls.idExterne.clearValidators()}onChange(e){e.target.value===h.J.REJECT_CATEGORIE||e.target.value===h.J.CANCEL_CATEGORIE||e.target.value===h.J.DECLINE_CATEGORIE?(this.settingsService.getAllMotifRejectsIdsABACUS().subscribe(e=>{this.externalIdsList=e}),this.groupForm.controls.idExterne.setValidators([c.kI.required]),this.isReject=!0):(this.groupForm.controls.idExterne.clearValidators(),this.isReject=!1),e.target.value===h.J.REJECT_CATEGORIE||e.target.value===h.J.CANCEL_CATEGORIE||e.target.value===h.J.DECLINE_CATEGORIE||e.target.value===h.J.RECOMMEND_CATEGORIE||e.target.value===h.J.REVIEW_CATEGORIE||e.target.value===h.J.SUBJECT_IB||e.target.value===h.J.REVIEW_AGREEMENTS_CATEGORIE||e.target.value===h.J.REJECT_EXPENSES?(this.changeCodeForCategory=!0,this.genreretCodeForCategory()):this.changeCodeForCategory=!1}save(){this.action="update",this.updateSetting.categorie=this.groupForm.controls.category.value,this.updateSetting.code=this.groupForm.controls.code.value,this.updateSetting.libelle=this.groupForm.controls.label.value,this.updateSetting.description=this.groupForm.controls.description.value,!0===this.isReject&&(this.updateSetting.codeExternal=this.groupForm.controls.idExterne.value),this.settingsService.updateSettingMotifRejects(this.updateSetting).subscribe(),this.modal.dismissAll()}addMotif(e){this.updateSetting=new Pi.k,this.action="create",this.createForm(new Pi.k),this.modal.open(e)}create(){this.updateSetting.categorie=this.groupForm.controls.category.value,this.updateSetting.code=this.groupForm.controls.code.value,this.updateSetting.libelle=this.groupForm.controls.label.value,this.updateSetting.description=this.groupForm.controls.description.value,!0===this.isReject&&(this.updateSetting.codeExternal=this.groupForm.controls.idExterne.value),this.settingsService.createSettingMotifRejects(this.updateSetting).subscribe(e=>{this.settingMotifRejetsEntitys.push(e),this.modal.dismissAll()})}onSubmit(){this.groupForm.valid&&("update"===this.action?this.save():"create"===this.action&&this.create())}closeModale(){this.modal.dismissAll()}genreretCodeForCategory(){let e=0;this.settingMotifRejetsEntity.categorie=this.groupForm.controls.category.value,this.settingsService.findAllEnabledDisabledSettingMotifRejects(this.settingMotifRejetsEntity).toPromise().then(t=>{e=t.length+1,this.groupForm.controls.code.setValue(this.settingMotifRejetsEntity.categorie+"_"+h.J.REASON+"_"+e)})}genreretCodeForLabel(){if(!this.changeCodeForCategory){const e=this.groupForm.controls.label.value.replace(/ /g,"_").toUpperCase();this.groupForm.controls.code.setValue(e)}}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(Bi.H),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(p.by))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-motifs-rejet"]],decls:54,vars:52,consts:[[1,"card"],[1,"card-header"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[2,"margin-right","7px",3,"icon"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],[1,"card-footer","pb-0"],[1,"row","no-gutters","w-100"],[1,"col-xl-6","col-lg-6","col-md-12"],["size","sm",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],[1,"d-flex","justify-content-lg-end"],["name","pageSize",1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["modalContent",""],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","switch-handle-width","ngModelChange","click"],[1,"btn","btn-warning","text-white",3,"click"],[3,"icon"],[3,"dir","ngClass"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button"],["aria-hidden","true",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"position-relative","pb-4"],["type","text","formControlName","category",1,"form-control","form-group",3,"change"],[3,"value",4,"ngFor","ngForOf"],["class","position-relative pb-4",4,"ngIf"],[1,"form-group"],["type","text","formControlName","label",1,"form-control",3,"change"],["type","text","formControlName","code","disabled","",1,"form-control"],[1,"input-group"],["formControlName","description",1,"form-control"],[1,"modal-footer"],[1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-1","btn","btn-primary"],[3,"value"],["type","text","formControlName","idExterne",1,"form-control","form-group"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"button",2),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(53);return t.addMotif(n)}),f.\u0275\u0275element(6,"fa-icon",3),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div"),f.\u0275\u0275elementStart(10,"div",4),f.\u0275\u0275elementStart(11,"table",5),f.\u0275\u0275elementStart(12,"thead"),f.\u0275\u0275elementStart(13,"tr"),f.\u0275\u0275elementStart(14,"th"),f.\u0275\u0275text(15),f.\u0275\u0275pipe(16,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"th"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"th"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"th"),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"th"),f.\u0275\u0275text(27),f.\u0275\u0275pipe(28,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(29,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"tbody"),f.\u0275\u0275template(31,Ni,14,10,"tr",6),f.\u0275\u0275pipe(32,"slice"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(33,"div",7),f.\u0275\u0275elementStart(34,"div",8),f.\u0275\u0275elementStart(35,"div",9),f.\u0275\u0275elementStart(36,"ngb-pagination",10),f.\u0275\u0275listener("pageChange",function(e){return t.page=e}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"div",9),f.\u0275\u0275elementStart(38,"div",11),f.\u0275\u0275elementStart(39,"select",12),f.\u0275\u0275listener("ngModelChange",function(e){return t.pageSize=e}),f.\u0275\u0275elementStart(40,"option",13),f.\u0275\u0275text(41),f.\u0275\u0275pipe(42,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(43,"option",13),f.\u0275\u0275text(44),f.\u0275\u0275pipe(45,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(46,"option",13),f.\u0275\u0275text(47),f.\u0275\u0275pipe(48,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(49,"option",13),f.\u0275\u0275text(50),f.\u0275\u0275pipe(51,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(52,Ui,43,31,"ng-template",null,14,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,26,"setting.setting_motif.setting_motifs")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(8,28,"setting.setting_motif.add_motifs")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(16,30,"setting.category")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,32,"setting.code")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,34,"setting.label")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,36,"setting.description")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(28,38,"setting.status")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",f.\u0275\u0275pipeBind3(32,40,t.settingMotifRejetsEntitys,(t.page-1)*t.pageSize,(t.page-1)*t.pageSize+t.pageSize)),f.\u0275\u0275advance(5),f.\u0275\u0275property("collectionSize",t.settingMotifRejetsEntitys.length)("page",t.page)("pageSize",t.pageSize)("maxSize",3)("boundaryLinks",!0),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",t.pageSize),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue",5),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(42,44,"pagination.5_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",10),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(45,46,"pagination.10_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",20),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(48,48,"pagination.20_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",50),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(51,50,"pagination.50_item")))},directives:[p.BN,r.NgForOf,o.N9,c.EJ,c.JJ,c.On,c.YN,c.Kr,I.U,Oe.Lv,r.NgClass,c._Y,c.JL,c.sg,C.MU,le.jv,C.oH,C.HK,c.u,le.wj,r.NgIf,c.Fj],pipes:[s.X$,r.SlicePipe],styles:[""]}),e})(),Ji=(()=>{class e{constructor(e,t,n,i,r){this.translate=e,this.formBuilder=t,this.devToolsServices=n,this.library=i,this.settingService=r,this.acmEnvironnement=new oe.u}ngOnInit(){this.groupForm=this.formBuilder.group({apr:[null]}),this.settingService.getEnvirementValueByKeys([h.J.APR_KEY]).subscribe(e=>{this.acmEnvironnement=e[0],this.groupForm.controls.apr.setValue(0==e.length?null:e[0].value)})}updateApr(){this.acmEnvironnement.value=this.groupForm.controls.apr.value,this.settingService.updateAcmEnvironment(this.acmEnvironnement).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(v.g))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-apr-setting"]],decls:29,vars:19,consts:[[1,"card"],[1,"card-header"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],[3,"formGroup"],["formControlName","apr","name","apr-select",1,"form-control"],["selected","","disabled","",3,"ngValue"],[3,"ngValue"],[1,"card-footer"],[1,"btn","btn-primary","text-white",3,"click"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"div",2),f.\u0275\u0275elementStart(6,"table",3),f.\u0275\u0275elementStart(7,"thead"),f.\u0275\u0275element(8,"tr"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"tbody"),f.\u0275\u0275elementStart(10,"tr"),f.\u0275\u0275elementStart(11,"td"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"td"),f.\u0275\u0275elementStart(15,"form",4),f.\u0275\u0275elementStart(16,"select",5),f.\u0275\u0275elementStart(17,"option",6),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"option",7),f.\u0275\u0275text(21,"APR from Abacus"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"option",7),f.\u0275\u0275text(23,"APR formula TN"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"div",8),f.\u0275\u0275elementStart(25,"div"),f.\u0275\u0275elementStart(26,"button",9),f.\u0275\u0275listener("click",function(){return t.updateApr()}),f.\u0275\u0275text(27),f.\u0275\u0275pipe(28,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,11,"setting.apr_calculation_method")," "),f.\u0275\u0275advance(10),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,13,"setting.calculation_option")),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",t.groupForm),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",null),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,15,"setting.select_apr_method")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue","abacus_apr"),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue","tn_apr"),f.\u0275\u0275advance(3),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(28,17,"button.save")))},directives:[c._Y,c.JL,c.sg,C.MU,le.jv,c.EJ,C.oH,c.JJ,c.u,le.wj,c.YN,c.Kr],pipes:[s.X$],styles:[""]}),e})();var zi=n(3896);function Ki(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275text(8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"td"),f.\u0275\u0275text(10),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"td"),f.\u0275\u0275elementStart(12,"button",15),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(53);return n.updateMotif(i,t)}),f.\u0275\u0275element(13,"fa-icon",16),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.category),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.subject),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.assignement),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.pripority),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.processingTimeLine),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt"))}}function Wi(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",37),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275propertyInterpolate("value",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(e)}}function qi(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",13),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e.libelle),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.libelle," ")}}function Hi(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",37),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275propertyInterpolate("value",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(e)}}const Yi=function(e){return{"text-end":e}};function Qi(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",17),f.\u0275\u0275elementStart(1,"div",18),f.\u0275\u0275elementStart(2,"h5",19),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",20),f.\u0275\u0275elementStart(6,"span",21),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"form",22),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275elementStart(9,"div",23),f.\u0275\u0275elementStart(10,"div",24),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div"),f.\u0275\u0275elementStart(15,"select",25),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onChange(t)}),f.\u0275\u0275template(16,Wi,2,2,"option",26),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"div",24),f.\u0275\u0275elementStart(18,"label"),f.\u0275\u0275text(19),f.\u0275\u0275pipe(20,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(21,"div"),f.\u0275\u0275elementStart(22,"select",27),f.\u0275\u0275template(23,qi,2,2,"option",28),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"div",24),f.\u0275\u0275elementStart(25,"label"),f.\u0275\u0275text(26),f.\u0275\u0275pipe(27,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"div"),f.\u0275\u0275element(29,"input",29),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"div",24),f.\u0275\u0275elementStart(31,"label"),f.\u0275\u0275text(32),f.\u0275\u0275pipe(33,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"div",30),f.\u0275\u0275elementStart(35,"div"),f.\u0275\u0275elementStart(36,"select",31),f.\u0275\u0275template(37,Hi,2,2,"option",26),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(38,"div",24),f.\u0275\u0275elementStart(39,"label"),f.\u0275\u0275text(40),f.\u0275\u0275pipe(41,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(42,"div",32),f.\u0275\u0275element(43,"input",33),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(44,"div",34),f.\u0275\u0275elementStart(45,"button",35),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(46),f.\u0275\u0275pipe(47,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(48,"button",36),f.\u0275\u0275text(49),f.\u0275\u0275pipe(50,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(33,Yi,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(4,17,"setting.setting_claim.update_claims")),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.groupForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,19,"setting.category")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.customerType),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(20,21,"setting.setting_claim.assignement"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.groupEntities),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(27,23,"setting.setting_claim.subject")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(33,25,"setting.claim.periority")),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngForOf",e.prioritys),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(41,27,"setting.setting_claim.processing_timelines")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(47,29,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(50,31,"button.save"))}}let Xi=(()=>{class e{constructor(e,t,n,i,r,a,o){this.settingsService=e,this.translate=t,this.loanDetailsServices=n,this.modal=i,this.formBuilder=r,this.devToolsServices=a,this.library=o,this.settingClaimsEntitys=[],this.externalIdsList=[],this.settingClaimsEntity=new zi.t,this.changeCodeForCategory=!1,this.customerType=[h.J.CUSTOMER_CATEGORY_PROSPECT,h.J.CUSTOMER_CATEGORY_CUSTOMER],this.prioritys=["MINOR","SIMPLE","MAJOR","BLOCKING"]}ngOnInit(){var e=this;return(0,m.Z)(function*(){e.pageSize=5,e.page=1,yield e.settingsService.findAllSettingClaims().subscribe(t=>{e.settingClaimsEntitys=t}),e.settingsService.findGroup(new Nt.P).subscribe(t=>{e.groupEntities=t})})()}getDirection(){return Se.y.direction}updateMotif(e,t){this.action="update",this.updateSetting=t,this.createForm(t),this.modal.open(e)}createForm(e){this.groupForm=this.formBuilder.group({category:[e.category,[c.kI.required]],subject:[e.subject,c.kI.required],assignement:[e.assignement,c.kI.required],processingTimeLine:e.processingTimeLine,pripority:[e.pripority,c.kI.required]})}onChange(e){e.target.value===h.J.CUSTOMER_CATEGORY_PROSPECT&&(this.checkTypeCustomer=!0,this.settingsService.findGroup(new Nt.P).subscribe(e=>{this.groupEntities=e}))}save(){this.action="update",this.updateSetting.category=this.groupForm.controls.category.value,this.updateSetting.assignement=this.groupForm.controls.assignement.value,this.updateSetting.subject=this.groupForm.controls.subject.value,this.updateSetting.pripority=this.groupForm.controls.pripority.value,this.settingsService.updateSettingClaims(this.updateSetting).subscribe(),this.modal.dismissAll()}addMotif(e){this.updateSetting=new zi.t,this.action="create",this.createForm(new zi.t),this.modal.open(e)}create(){this.updateSetting.category=this.groupForm.controls.category.value,this.updateSetting.assignement=this.groupForm.controls.assignement.value,this.updateSetting.subject=this.groupForm.controls.subject.value,this.updateSetting.pripority=this.groupForm.controls.pripority.value,this.updateSetting.processingTimeLine=this.groupForm.controls.processingTimeLine.value?this.groupForm.controls.processingTimeLine.value:0,this.updateSetting.processingTimeLine=this.groupForm.controls.processingTimeLine.value,this.settingsService.createSettingClaims(this.updateSetting).subscribe(e=>{this.settingClaimsEntitys.push(e),this.modal.dismissAll()})}onSubmit(){this.groupForm.valid&&("update"===this.action?this.save():"create"===this.action&&this.create())}closeModale(){this.modal.dismissAll()}genreretCodeForLabel(){if(!this.changeCodeForCategory){const e=this.groupForm.controls.label.value.replace(/ /g,"_").toUpperCase();this.groupForm.controls.code.setValue(e)}}compareGroup(e,t){if(e&&t)return e.code===t.code}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(Bi.H),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(p.by))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-claims-customer"]],decls:54,vars:52,consts:[[1,"card"],[1,"card-header"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[2,"margin-right","7px",3,"icon"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],[1,"card-footer","pb-0"],[1,"row","no-gutters","w-100"],[1,"col-xl-6","col-lg-6","col-md-12"],["size","sm",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],[1,"d-flex","justify-content-lg-end"],["name","pageSize",1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["modalContent",""],[1,"btn","btn-warning","text-white",3,"click"],[3,"icon"],[3,"dir","ngClass"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button"],["aria-hidden","true",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"position-relative","pb-4"],["type","text","formControlName","category",1,"form-control","form-group",3,"change"],[3,"value",4,"ngFor","ngForOf"],["formControlName","assignement",1,"form-control","form-group"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text","formControlName","subject",1,"form-control"],[1,"input-group","form-group"],["type","text","formControlName","pripority",1,"form-control","form-group"],[1,"input-group"],["type","number","formControlName","processingTimeLine",1,"form-control"],[1,"modal-footer"],[1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-1","btn","btn-primary"],[3,"value"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"button",2),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(53);return t.addMotif(n)}),f.\u0275\u0275element(6,"fa-icon",3),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div"),f.\u0275\u0275elementStart(10,"div",4),f.\u0275\u0275elementStart(11,"table",5),f.\u0275\u0275elementStart(12,"thead"),f.\u0275\u0275elementStart(13,"tr"),f.\u0275\u0275elementStart(14,"th"),f.\u0275\u0275text(15),f.\u0275\u0275pipe(16,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"th"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"th"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"th"),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"th"),f.\u0275\u0275text(27),f.\u0275\u0275pipe(28,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(29,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"tbody"),f.\u0275\u0275template(31,Ki,14,6,"tr",6),f.\u0275\u0275pipe(32,"slice"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(33,"div",7),f.\u0275\u0275elementStart(34,"div",8),f.\u0275\u0275elementStart(35,"div",9),f.\u0275\u0275elementStart(36,"ngb-pagination",10),f.\u0275\u0275listener("pageChange",function(e){return t.page=e}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"div",9),f.\u0275\u0275elementStart(38,"div",11),f.\u0275\u0275elementStart(39,"select",12),f.\u0275\u0275listener("ngModelChange",function(e){return t.pageSize=e}),f.\u0275\u0275elementStart(40,"option",13),f.\u0275\u0275text(41),f.\u0275\u0275pipe(42,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(43,"option",13),f.\u0275\u0275text(44),f.\u0275\u0275pipe(45,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(46,"option",13),f.\u0275\u0275text(47),f.\u0275\u0275pipe(48,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(49,"option",13),f.\u0275\u0275text(50),f.\u0275\u0275pipe(51,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(52,Qi,51,35,"ng-template",null,14,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,26,"setting.setting_claims")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(8,28,"setting.setting_claim.add")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(16,30,"setting.category")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,32,"setting.setting_claim.subject")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,34,"setting.setting_claim.assignement")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,36,"setting.claim.periority")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(28,38,"setting.setting_claim.processing_timelines")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",f.\u0275\u0275pipeBind3(32,40,t.settingClaimsEntitys,(t.page-1)*t.pageSize,(t.page-1)*t.pageSize+t.pageSize)),f.\u0275\u0275advance(5),f.\u0275\u0275property("collectionSize",t.settingClaimsEntitys.length)("page",t.page)("pageSize",t.pageSize)("maxSize",3)("boundaryLinks",!0),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",t.pageSize),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue",5),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(42,44,"pagination.5_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",10),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(45,46,"pagination.10_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",20),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(48,48,"pagination.20_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",50),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(51,50,"pagination.50_item")))},directives:[p.BN,r.NgForOf,o.N9,c.EJ,c.JJ,c.On,c.YN,c.Kr,Oe.Lv,r.NgClass,c._Y,c.JL,c.sg,C.MU,le.jv,C.oH,C.HK,c.u,le.wj,c.Fj,c.wV],pipes:[s.X$,r.SlicePipe],styles:[""]}),e})();function Zi(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"td"),f.\u0275\u0275element(1,"input",22),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275property("checked","1"===e.value)}}function er(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"td"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(e.value)}}function tr(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(3,Zi,2,1,"td",18),f.\u0275\u0275template(4,er,2,1,"td",18),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275elementStart(8,"bSwitch",19),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext(2).endableDisable(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"td"),f.\u0275\u0275elementStart(10,"button",20),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(2),i=f.\u0275\u0275reference(92);return n.updateAcmEnvironment(i,t)}),f.\u0275\u0275element(11,"fa-icon",21),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.key),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","CHECKBOX"===e.type),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","CHECKBOX"!==e.type),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.description),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("switch-handle-width",40),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt"))}}function nr(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",15),f.\u0275\u0275elementStart(1,"div",2),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"div",3),f.\u0275\u0275elementStart(6,"table",16),f.\u0275\u0275elementStart(7,"thead"),f.\u0275\u0275elementStart(8,"tr"),f.\u0275\u0275elementStart(9,"th"),f.\u0275\u0275text(10),f.\u0275\u0275pipe(11,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"th"),f.\u0275\u0275text(13),f.\u0275\u0275pipe(14,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"th"),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"th"),f.\u0275\u0275text(19),f.\u0275\u0275pipe(20,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(21,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"tbody"),f.\u0275\u0275template(23,tr,12,10,"tr",5),f.\u0275\u0275pipe(24,"slice"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"div",6),f.\u0275\u0275elementStart(26,"div",7),f.\u0275\u0275elementStart(27,"div",8),f.\u0275\u0275elementStart(28,"ngb-pagination",9),f.\u0275\u0275listener("pageChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().page=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(29,"div",8),f.\u0275\u0275elementStart(30,"div",10),f.\u0275\u0275elementStart(31,"select",17),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().pageSize=t}),f.\u0275\u0275elementStart(32,"option",12),f.\u0275\u0275text(33),f.\u0275\u0275pipe(34,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(35,"option",12),f.\u0275\u0275text(36),f.\u0275\u0275pipe(37,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(38,"option",12),f.\u0275\u0275text(39),f.\u0275\u0275pipe(40,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(41,"option",12),f.\u0275\u0275text(42),f.\u0275\u0275pipe(43,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,20,"setting.setting_technical.setting_technical")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(11,22,"setting.setting_environments.key")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(14,24,"setting.setting_environments.value")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(17,26,"setting.description")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(20,28,"setting.status")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",f.\u0275\u0275pipeBind3(24,30,e.technicalAcmEnvironnements,(e.page-1)*e.pageSize,(e.page-1)*e.pageSize+e.pageSize)),f.\u0275\u0275advance(5),f.\u0275\u0275property("collectionSize",e.technicalAcmEnvironnements.length)("page",e.page)("pageSize",e.pageSize)("maxSize",3)("boundaryLinks",!0),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",e.pageSize),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue",5),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(34,34,"pagination.5_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",10),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(37,36,"pagination.10_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",20),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(40,38,"pagination.20_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",50),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(43,40,"pagination.50_item"))}}function ir(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"td"),f.\u0275\u0275elementStart(1,"div",23),f.\u0275\u0275element(2,"input",24),f.\u0275\u0275element(3,"label",25),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(2),f.\u0275\u0275property("checked","1"===e.value)}}function rr(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"td"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(e.value)}}function ar(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(3,ir,4,1,"td",18),f.\u0275\u0275template(4,rr,2,1,"td",18),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275elementStart(8,"bSwitch",19),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().endableDisable(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"td"),f.\u0275\u0275elementStart(10,"button",20),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(92);return n.updateAcmEnvironment(i,t)}),f.\u0275\u0275element(11,"fa-icon",21),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.key),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","CHECKBOX"===e.type),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","CHECKBOX"!==e.type),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.description),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("switch-handle-width",40),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt"))}}function or(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"td"),f.\u0275\u0275element(1,"input",22),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275property("checked","1"===e.value)}}function lr(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"td"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(e.value)}}function sr(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(3,or,2,1,"td",18),f.\u0275\u0275template(4,lr,2,1,"td",18),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275elementStart(8,"bSwitch",26),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().endableDisable(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"td"),f.\u0275\u0275elementStart(10,"button",20),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(92);return n.updateAcmEnvironment(i,t)}),f.\u0275\u0275element(11,"fa-icon",21),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.key),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","CHECKBOX"===e.type),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","CHECKBOX"!==e.type),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.description),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.enabled)("switch-handle-width",40)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger"),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt"))}}function dr(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"td"),f.\u0275\u0275element(1,"p-multiSelect",41),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("filter",!1)("options",e.valueList)("styleClass","full-width")}}function cr(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",34),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",35),f.\u0275\u0275element(5,"input",42),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,1,"setting.setting_environments.value")))}function pr(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",34),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",35),f.\u0275\u0275element(5,"input",43),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,1,"setting.description")))}function mr(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",34),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",35),f.\u0275\u0275elementStart(5,"bSwitch",44),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).checkbox=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,6,"setting.status")),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",e.checkbox)("switch-handle-width",40)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")}}function ur(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",34),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",35),f.\u0275\u0275element(5,"input",45),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,1,"setting.description")))}function gr(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",48),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.libelle),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(e.libelle)}}function hr(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",34),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",35),f.\u0275\u0275elementStart(5,"select",46),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).codeMotifReject(t)}),f.\u0275\u0275template(6,gr,2,2,"option",47),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,2,"reject.reject_reason")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.settingMotifRejetsEntitys)}}const fr=function(e){return{"text-end":e}};function vr(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",27),f.\u0275\u0275elementStart(1,"div",28),f.\u0275\u0275elementStart(2,"h5",29),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",30),f.\u0275\u0275elementStart(6,"span",31),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"form",32),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275elementStart(9,"div",33),f.\u0275\u0275elementStart(10,"div",34),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",35),f.\u0275\u0275element(15,"input",36),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(16,dr,2,3,"td",18),f.\u0275\u0275template(17,cr,6,3,"div",37),f.\u0275\u0275template(18,pr,6,3,"div",37),f.\u0275\u0275template(19,mr,6,8,"div",37),f.\u0275\u0275template(20,ur,6,3,"div",37),f.\u0275\u0275template(21,hr,7,4,"div",37),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"div",38),f.\u0275\u0275elementStart(23,"button",39),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"button",40),f.\u0275\u0275text(27),f.\u0275\u0275pipe(28,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(25,fr,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(4,17,"setting.setting_motif.update_setting_motifs")),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.groupForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,19,"setting.setting_environments.key")),f.\u0275\u0275advance(3),f.\u0275\u0275attribute("disabled","update"===e.action?"":null),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","LISTVALUES"===e.acmEnvironnementEntity.type),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","CHECKBOX"!==e.acmEnvironnementEntity.type&&"LISTVALUES"!==e.acmEnvironnementEntity.type&&!e.displayListMotifRejet),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","CHECKBOX"!==e.acmEnvironnementEntity.type&&e.displayListMotifRejet),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","CHECKBOX"===e.acmEnvironnementEntity.type),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!e.displayListMotifRejet),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.displayListMotifRejet),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,21,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(28,23,"button.save"))}}let Sr=(()=>{class e{constructor(e,t,n,i,r,a,o,l){this.settingsService=e,this.translate=t,this.modal=n,this.formBuilder=i,this.devToolsServices=r,this.library=a,this.sharedService=o,this.loanDetailsServices=l,this.acmEnvironnementEntitys=[],this.acmEnvironnementEntity=new oe.u,this.updateAcmEnvirement=new oe.u,this.technicalAcmEnvironnements=[],this.functionalAcmEnvironnements=[],this.reminderAcmEnvironnements=[],this.settingMotifRejetsEntitys=[],this.settingMotifRejetsEntity=new Pi.k,this.displayListMotifRejet=!1,this.valueList=["Branch_id","object_id","product_id"],this.configList={search:!0,placeholder:""}}ngOnInit(){this.userConnected=this.sharedService.getUser(),this.pageSize=5,this.page=1,this.pageSize2=5,this.page2=1,this.pageSize3=5,this.page3=1,this.settingsService.getEnvirementValueByCatgeory(h.J.TECHNICAL).subscribe(e=>{this.technicalAcmEnvironnements=e}),this.settingsService.getEnvirementValueByCatgeory(h.J.FUNCTIONAL).subscribe(e=>{this.functionalAcmEnvironnements=e}),this.settingsService.getEnvirementValueByCatgeory(h.J.REMINDER).subscribe(e=>{this.reminderAcmEnvironnements=e}),this.settingMotifRejetsEntity.categorie=h.J.REJECT_CATEGORIE,this.loanDetailsServices.getReason(this.settingMotifRejetsEntity).subscribe(e=>{this.settingMotifRejetsEntitys=e})}createForm(e){this.groupForm=this.formBuilder.group({key:[e.key,[c.kI.required]],value:["",c.kI.required],description:[e.description,c.kI.required]}),this.groupForm.controls.value.setValue("LISTVALUES"===e.type?e.value.split(","):e.value)}endableDisable(e){this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.disable_environnemet").afterClosed().subscribe(t=>{t?this.settingsService.updateAcmEnvironment(e).subscribe():e.enabled=!e.enabled}),this.displayListMotifRejet=!1}getDirection(){return Se.y.direction}closeModale(){this.modal.dismissAll()}onSubmit(){this.groupForm.valid&&(this.acmEnvironnementEntity.key=this.groupForm.controls.key.value,this.value="","LISTVALUES"===this.acmEnvironnementEntity.type?(this.groupForm.controls.value.value.forEach(e=>{this.value=this.value+e+","}),this.acmEnvironnementEntity.value=this.value):this.acmEnvironnementEntity.value=!1===this.groupForm.controls.value.value?"0":!0===this.groupForm.controls.value.value?"1":this.groupForm.controls.value.value,this.acmEnvironnementEntity.description=this.groupForm.controls.description.value,this.save())}save(){"update"===this.action?(this.settingsService.updateAcmEnvironment(this.acmEnvironnementEntity).subscribe(e=>{this.acmEnvironnementEntity.key===h.J.RENEWEL_LOAN_CONDITION&&this.sharedService.setRenewalConditionStatus("0"!==e.value)}),this.displayListMotifRejet=!1):"create"===this.action&&this.settingsService.createAcmEnvironment(this.acmEnvironnementEntity).subscribe(e=>{this.acmEnvironnementEntitys.push(e)}),this.modal.dismissAll()}updateAcmEnvironment(e,t){"CHECKBOX"===t.type&&(this.checkbox="0"!==t.value),"MOTIF_TO_REJECT_LOANS_NOT_ISSUED"===t.key&&(this.displayListMotifRejet=!0),this.action="update",this.acmEnvironnementEntity=t,this.createForm(t),this.modal.open(e)}createAcmEnvironment(e){this.action="create",this.createForm(new oe.u),this.modal.open(e)}codeMotifReject(e){let t=e.target.value,n=this.settingMotifRejetsEntitys.filter(e=>e.libelle===t);this.groupForm.controls.value.setValue(n[0].codeExternal)}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(y.F),f.\u0275\u0275directiveInject(Bi.H))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-environment"]],decls:93,vars:85,consts:[["class","card",4,"ngIf"],[1,"card","py-2"],[1,"card-header"],[1,"table-responsive"],[1,"align-middle","mb-0","table","table-hover"],[4,"ngFor","ngForOf"],[1,"card-footer","pb-0"],[1,"row","no-gutters","w-100"],[1,"col-xl-6","col-lg-6","col-md-12"],["size","sm",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],[1,"d-flex","justify-content-lg-end"],["name","pageSize2",1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["name","pageSize3",1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],["modalContent",""],[1,"card"],[1,"mb-0","t","table","table-hover"],["name","pageSize",1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","switch-handle-width","ngModelChange","click"],[1,"btn","btn-warning","text-white",3,"click"],[3,"icon"],["type","checkbox","disabled","",1,"custom-control-input",3,"checked"],[1,"custom-checkbox","custom-control"],["id","eCheckbox1","type","checkbox","disabled","",1,"custom-control-input",3,"checked"],["for","eCheckbox1",1,"custom-control-label"],[1,"px-2","mb-0",3,"ngModel","switch-handle-width","switch-size","switch-animate","switch-off-color","ngModelChange","click"],[3,"dir","ngClass"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button"],["aria-hidden","true",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"position-relative","pb-4"],[1,"input-group","form-group"],["type","text","formControlName","key",1,"form-control"],["class","position-relative pb-4",4,"ngIf"],[1,"modal-footer"],[1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-1","btn","btn-primary"],["formControlName","value",3,"filter","options","styleClass"],["type","text","formControlName","value",1,"form-control"],["type","text","formControlName","value","disabled","",1,"form-control"],["formControlName","value",1,"px-2","mb-0",3,"ngModel","switch-handle-width","switch-size","switch-animate","switch-off-color","ngModelChange"],["type","text","formControlName","description",1,"form-control"],["formControlName","description",1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(f.\u0275\u0275template(0,nr,44,42,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275elementStart(2,"div",2),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div"),f.\u0275\u0275elementStart(6,"div"),f.\u0275\u0275elementStart(7,"div",3),f.\u0275\u0275elementStart(8,"table",4),f.\u0275\u0275elementStart(9,"thead"),f.\u0275\u0275elementStart(10,"tr"),f.\u0275\u0275elementStart(11,"th"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"th"),f.\u0275\u0275text(15),f.\u0275\u0275pipe(16,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"th"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"th"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(23,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"tbody"),f.\u0275\u0275template(25,ar,12,10,"tr",5),f.\u0275\u0275pipe(26,"slice"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"div",6),f.\u0275\u0275elementStart(28,"div",7),f.\u0275\u0275elementStart(29,"div",8),f.\u0275\u0275elementStart(30,"ngb-pagination",9),f.\u0275\u0275listener("pageChange",function(e){return t.page2=e}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(31,"div",8),f.\u0275\u0275elementStart(32,"div",10),f.\u0275\u0275elementStart(33,"select",11),f.\u0275\u0275listener("ngModelChange",function(e){return t.pageSize2=e}),f.\u0275\u0275elementStart(34,"option",12),f.\u0275\u0275text(35),f.\u0275\u0275pipe(36,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"option",12),f.\u0275\u0275text(38),f.\u0275\u0275pipe(39,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(40,"option",12),f.\u0275\u0275text(41),f.\u0275\u0275pipe(42,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(43,"option",12),f.\u0275\u0275text(44),f.\u0275\u0275pipe(45,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(46,"div",1),f.\u0275\u0275elementStart(47,"div",2),f.\u0275\u0275text(48),f.\u0275\u0275pipe(49,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(50,"div"),f.\u0275\u0275elementStart(51,"div"),f.\u0275\u0275elementStart(52,"div",3),f.\u0275\u0275elementStart(53,"table",4),f.\u0275\u0275elementStart(54,"thead"),f.\u0275\u0275elementStart(55,"tr"),f.\u0275\u0275elementStart(56,"th"),f.\u0275\u0275text(57),f.\u0275\u0275pipe(58,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(59,"th"),f.\u0275\u0275text(60),f.\u0275\u0275pipe(61,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(62,"th"),f.\u0275\u0275text(63),f.\u0275\u0275pipe(64,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(65,"th"),f.\u0275\u0275text(66),f.\u0275\u0275pipe(67,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(68,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(69,"tbody"),f.\u0275\u0275template(70,sr,12,10,"tr",5),f.\u0275\u0275pipe(71,"slice"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(72,"div",6),f.\u0275\u0275elementStart(73,"div",7),f.\u0275\u0275elementStart(74,"div",8),f.\u0275\u0275elementStart(75,"ngb-pagination",9),f.\u0275\u0275listener("pageChange",function(e){return t.page3=e}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(76,"div",8),f.\u0275\u0275elementStart(77,"div",10),f.\u0275\u0275elementStart(78,"select",13),f.\u0275\u0275listener("ngModelChange",function(e){return t.pageSize3=e}),f.\u0275\u0275elementStart(79,"option",12),f.\u0275\u0275text(80),f.\u0275\u0275pipe(81,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(82,"option",12),f.\u0275\u0275text(83),f.\u0275\u0275pipe(84,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(85,"option",12),f.\u0275\u0275text(86),f.\u0275\u0275pipe(87,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(88,"option",12),f.\u0275\u0275text(89),f.\u0275\u0275pipe(90,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(91,vr,29,27,"ng-template",null,14,f.\u0275\u0275templateRefExtractor)),2&e&&(f.\u0275\u0275property("ngIf","Super.Admin"===t.userConnected.login),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,41,"setting.setting_functional.setting_functional")," "),f.\u0275\u0275advance(9),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,43,"setting.setting_environments.key")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(16,45,"setting.setting_environments.value")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,47,"setting.description")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,49,"setting.status")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",f.\u0275\u0275pipeBind3(26,51,t.functionalAcmEnvironnements,(t.page2-1)*t.pageSize2,(t.page2-1)*t.pageSize2+t.pageSize2)),f.\u0275\u0275advance(5),f.\u0275\u0275property("collectionSize",t.functionalAcmEnvironnements.length)("page",t.page2)("pageSize",t.pageSize2)("maxSize",3)("boundaryLinks",!0),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",t.pageSize2),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue",5),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(36,55,"pagination.5_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",10),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(39,57,"pagination.10_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",20),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(42,59,"pagination.20_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",50),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(45,61,"pagination.50_item")),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(49,63,"setting.setting_reminder.setting_reminder")," "),f.\u0275\u0275advance(9),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(58,65,"setting.setting_environments.key")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(61,67,"setting.setting_environments.value")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(64,69,"setting.description")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(67,71,"setting.status")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",f.\u0275\u0275pipeBind3(71,73,t.reminderAcmEnvironnements,(t.page3-1)*t.pageSize3,(t.page3-1)*t.pageSize3+t.pageSize3)),f.\u0275\u0275advance(5),f.\u0275\u0275property("collectionSize",t.reminderAcmEnvironnements.length)("page",t.page3)("pageSize",t.pageSize3)("maxSize",3)("boundaryLinks",!0),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",t.pageSize3),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue",5),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(81,77,"pagination.5_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",10),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(84,79,"pagination.10_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",20),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(87,81,"pagination.20_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",50),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(90,83,"pagination.50_item")))},directives:[r.NgIf,r.NgForOf,o.N9,c.EJ,c.JJ,c.On,c.YN,c.Kr,I.U,p.BN,C.oH,Oe.Lv,r.NgClass,c._Y,c.JL,c.sg,C.MU,le.jv,C.HK,c.Fj,c.u,le.wj,hn.NU],pipes:[s.X$,r.SlicePipe],styles:[""]}),e})();class yr{constructor(){}}function xr(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"th",13),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.header," ")}}function Er(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275template(1,xr,2,1,"th",12),f.\u0275\u0275element(2,"th"),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",e)}}function br(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275element(1,"i",19),f.\u0275\u0275elementEnd())}function Cr(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function Ir(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function wr(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function Fr(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",20),f.\u0275\u0275element(2,"input",21),f.\u0275\u0275element(3,"label",22),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(2),f.\u0275\u0275property("checked",t[e.field])}}function _r(e,t){1&e&&(f.\u0275\u0275elementStart(0,"td",17),f.\u0275\u0275template(1,br,2,0,"div",18),f.\u0275\u0275template(2,Cr,2,1,"div",18),f.\u0275\u0275template(3,Ir,2,1,"div",18),f.\u0275\u0275template(4,wr,2,1,"div",18),f.\u0275\u0275template(5,Fr,4,1,"div",18),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275property("ngSwitch",t.$implicit.field),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","levelOrder"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","code"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","title"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","description"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","enabled"))}function Lr(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"tr",14),f.\u0275\u0275template(1,_r,6,6,"td",15),f.\u0275\u0275elementStart(2,"td"),f.\u0275\u0275elementStart(3,"button",16),f.\u0275\u0275element(4,"fa-icon",4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=t.columns,n=t.rowIndex,i=f.\u0275\u0275nextContext();f.\u0275\u0275property("pReorderableRow",n),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",e),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",i.library.getIconDefinition("fas","pencil-alt"))}}function Dr(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h4",40),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(2,1,"setting.setting_level.add_new_setting_level")," "))}function kr(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h4",40),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,"setting.setting_level.update_setting_level")))}const Tr=function(e){return{"text-end":e}};function Mr(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",23),f.\u0275\u0275elementStart(1,"form",24),f.\u0275\u0275listener("ngSubmit",function(){return(0,f.\u0275\u0275restoreView(e).dismiss)(f.\u0275\u0275nextContext().onSubmit())}),f.\u0275\u0275elementStart(2,"div",25),f.\u0275\u0275template(3,Dr,3,3,"h4",26),f.\u0275\u0275template(4,kr,3,3,"h4",26),f.\u0275\u0275elementStart(5,"button",27),f.\u0275\u0275listener("click",function(){return(0,f.\u0275\u0275restoreView(e).dismiss)(f.\u0275\u0275nextContext().reset())}),f.\u0275\u0275elementStart(6,"span",28),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"div",29),f.\u0275\u0275elementStart(9,"div",30),f.\u0275\u0275elementStart(10,"label"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"div",31),f.\u0275\u0275element(14,"input",32),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",30),f.\u0275\u0275elementStart(16,"label"),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementStart(19,"span",33),f.\u0275\u0275text(20,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(21,"div",31),f.\u0275\u0275element(22,"input",34),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"div",30),f.\u0275\u0275elementStart(24,"label"),f.\u0275\u0275text(25),f.\u0275\u0275pipe(26,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"div",31),f.\u0275\u0275element(28,"input",35),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(29,"div",30),f.\u0275\u0275elementStart(30,"label"),f.\u0275\u0275text(31),f.\u0275\u0275pipe(32,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(33,"div",31),f.\u0275\u0275element(34,"bSwitch",36),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(35,"div",37),f.\u0275\u0275elementStart(36,"button",38),f.\u0275\u0275listener("click",function(){return(0,f.\u0275\u0275restoreView(e).close)(f.\u0275\u0275nextContext().reset())}),f.\u0275\u0275text(37),f.\u0275\u0275pipe(38,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(39,"button",39),f.\u0275\u0275text(40),f.\u0275\u0275pipe(41,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(31,Tr,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e.popupForm),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",0===e.updateId),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",0!==e.updateId),f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(12,19,"setting.code"),""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(18,21,"setting.label")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(26,23,"setting.description"),""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(32,25,"setting.status"),""),f.\u0275\u0275advance(3),f.\u0275\u0275property("switch-size","small")("switch-animate",!0)("switch-off-color","danger")("switch-handle-width",40),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(38,27,"button.cancel")),f.\u0275\u0275advance(2),f.\u0275\u0275property("disabled",e.popupForm.invalid),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(41,29,"button.save"))}}let Vr=(()=>{class e{constructor(e,t,n,i,r,a){this.settingsService=e,this.translate=t,this.formBuilder=n,this.modalService=i,this.devToolsServices=r,this.library=a,this.settingLevels=[],this.updateId=0,this.updateOrdre=!1}ngOnInit(){this.cols=[{field:"levelOrder",header:""},{field:"code",header:"Code"},{field:"title",header:"Label"},{field:"description",header:"Description"},{field:"enabled",header:"Status"}],this.settingsService.findAllSettingLevel().subscribe(e=>{this.settingLevels=e})}createForm(){this.popupForm=this.formBuilder.group({code:["",c.kI.required],title:["",c.kI.required],description:[""],status:[!1]})}openLarge(e){this.createForm(),this.changeCode(),this.modalService.open(e,{size:"md"})}getDirection(){return Se.y.direction}onSubmit(){0!==this.updateId?this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.update_document_type").afterClosed().subscribe(e=>{e?this.update().then(()=>{this.reset()}):this.reset()}):this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.add_document_type").afterClosed().subscribe(e=>{e?this.create():this.reset()})}editLevel(e,t){this.createForm();const n=t;this.updateId=t.id,this.popupForm.controls.code.setValue(n.code),this.popupForm.controls.title.setValue(n.title),this.popupForm.controls.description.setValue(n.description),this.popupForm.controls.status.setValue(n.enabled),this.modalService.open(e,{size:"md"})}reset(){this.createForm(),this.updateId=0}update(){var e=this;return(0,m.Z)(function*(){yield e.settingLevels.map(t=>{t.id===e.updateId&&(t.code=e.popupForm.controls.code.value,t.title=e.popupForm.controls.title.value,t.description=e.popupForm.controls.description.value,t.enabled=e.popupForm.controls.status.value,e.settingsService.updateLevel(t).subscribe(()=>{e.devToolsServices.openToast(0,"alert.success")}))})})()}create(){const e=Math.max.apply(Math,this.settingLevels.map(e=>e.levelOrder))+1,t=new yr;t.code=this.popupForm.controls.code.value,t.title=this.popupForm.controls.title.value,t.description=this.popupForm.controls.description.value,t.enabled=this.popupForm.controls.status.value,t.levelOrder=e,this.settingsService.createLevel(t).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.settingLevels.push(e)})}changeCode(){if(0===this.updateId){let e=0;if(0!==this.settingLevels.length&&(e=e=Math.max.apply(Math,this.settingLevels.map(e=>e.levelOrder))),this.settingLevels.some(e=>e.title.toUpperCase()===this.popupForm.controls.title.value.toUpperCase()))this.popupForm.controls.title.setErrors({incorrect:!0});else{const t="Approval_l"+(e+1);this.settingLevels.some(e=>e.code===t)?this.popupForm.controls.code.setErrors({incorrect:!0}):this.popupForm.controls.code.setValue(t.toUpperCase())}}}onchange(e){this.updateOrdre=!0}updateOrder(){this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.change_order_level").afterClosed().subscribe(e=>{e&&this.settingsService.updateOrderLevel(this.settingLevels).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.updateOrdre=!1})})}refresh(){this.settingsService.findAllSettingLevel().subscribe(e=>{this.settingLevels=e,this.updateOrdre=!1})}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(p.by))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-level"]],decls:23,vars:24,consts:[[1,"card-hover-shadow-2x","mb-1","card"],[1,"card-header"],[1,"lnr-cog","px-2"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[1,"mx-2",3,"icon"],["sortField","levelOrder","sortOrder","1",3,"columns","value","reorderableColumns","onRowReorder"],["pTemplate","header"],["pTemplate","body"],[1,"card-footer"],[1,"btn","btn-primary","text-white",3,"disabled","click"],[1,"mx-1","btn","btn-danger","text-white",3,"disabled","click"],["content6",""],["pReorderableColumn","",4,"ngFor","ngForOf"],["pReorderableColumn",""],[3,"pReorderableRow"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"btn","btn-warning"],[3,"ngSwitch"],[4,"ngSwitchCase"],["pReorderableRowHandle","",1,"pi","pi-bars",2,"display","flex","justify-content","center"],[1,"custom-checkbox","custom-control"],["id","eCheckbox1","type","checkbox","disabled","",1,"custom-control-input",3,"checked"],["for","eCheckbox1",1,"custom-control-label"],[3,"dir","ngClass"],[3,"formGroup","ngSubmit"],[1,"modal-header","py-2"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",3,"click"],["aria-hidden","true"],[1,"container","p-3"],[1,"position-relative","pb-4"],[1,"input-group"],["type","text","formControlName","code","disabled","",1,"form-control"],[1,"text-danger"],["type","text","formControlName","title",1,"form-control"],["type","text","formControlName","description",1,"form-control"],["formControlName","status",1,"px-2","mb-0",3,"switch-size","switch-animate","switch-off-color","switch-handle-width"],[1,"modal-footer","py-1"],[1,"mb-2","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"modal-title"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275element(2,"i",2),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementStart(5,"div"),f.\u0275\u0275elementStart(6,"button",3),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(22);return t.openLarge(n)}),f.\u0275\u0275element(7,"fa-icon",4),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"p-table",5),f.\u0275\u0275listener("onRowReorder",function(e){return t.onchange(e)}),f.\u0275\u0275template(11,Er,3,1,"ng-template",6),f.\u0275\u0275template(12,Lr,5,3,"ng-template",7),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"div",8),f.\u0275\u0275elementStart(14,"div"),f.\u0275\u0275elementStart(15,"button",9),f.\u0275\u0275listener("click",function(){return t.updateOrder()}),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"button",10),f.\u0275\u0275listener("click",function(){return t.refresh()}),f.\u0275\u0275text(19),f.\u0275\u0275pipe(20,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(21,Mr,42,33,"ng-template",null,11,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,16,"setting.setting_level.setting_level")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(9,18,"button.add")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("columns",t.cols)("value",t.settingLevels)("reorderableColumns",!0),f.\u0275\u0275advance(4),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(1),f.\u0275\u0275property("disabled",!t.updateOrdre),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(17,20,"button.save")),f.\u0275\u0275advance(2),f.\u0275\u0275property("disabled",!t.updateOrdre),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(20,22,"button.cancel")))},directives:[p.BN,a.iA,b.jx,r.NgForOf,a.Af,a.qO,r.NgSwitch,r.NgSwitchCase,a.Mv,C.oH,Oe.Lv,r.NgClass,c._Y,c.JL,c.sg,C.MU,le.jv,r.NgIf,c.Fj,c.JJ,c.u,le.wj,I.U],pipes:[s.X$],styles:[""]}),e})();const Ar=["ngxLoading"];function Pr(e,t){1&e&&(f.\u0275\u0275elementStart(0,"span"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate2(" ",f.\u0275\u0275pipeBind1(2,2,"setting.reset_setting.msg_warnning_1")," ",f.\u0275\u0275pipeBind1(3,4,"setting.reset_setting.setting_udf")," "))}function Br(e,t){1&e&&(f.\u0275\u0275elementStart(0,"span"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate2(" ",f.\u0275\u0275pipeBind1(2,2,"setting.reset_setting.msg_warnning_1")," ",f.\u0275\u0275pipeBind1(3,4,"setting.reset_setting.setting_list_values")," "))}function Nr(e,t){1&e&&(f.\u0275\u0275elementStart(0,"span"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate2(" ",f.\u0275\u0275pipeBind1(2,2,"setting.reset_setting.msg_warnning_1")," ",f.\u0275\u0275pipeBind1(3,4,"setting.reset_setting.setting_address")," "))}const Rr=function(e){return{"text-end":e}},Or=function(e,t,n){return{animationType:e,primaryColour:t,tertiaryColour:n,backdropBorderRadius:"3px"}};function jr(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",10),f.\u0275\u0275elementStart(1,"div",0),f.\u0275\u0275element(2,"ngx-loading",11),f.\u0275\u0275elementStart(3,"form",12),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275elementStart(4,"div",13),f.\u0275\u0275elementStart(5,"h5",14),f.\u0275\u0275text(6),f.\u0275\u0275pipe(7,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"button",15),f.\u0275\u0275elementStart(9,"span",16),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(10,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"div",17),f.\u0275\u0275elementStart(12,"div",18),f.\u0275\u0275elementStart(13,"h4"),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"div",18),f.\u0275\u0275template(17,Pr,4,6,"span",19),f.\u0275\u0275template(18,Br,4,6,"span",19),f.\u0275\u0275template(19,Nr,4,6,"span",19),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"div",18),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"div",20),f.\u0275\u0275elementStart(24,"div",21),f.\u0275\u0275elementStart(25,"input",22),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().changeCheckboxConfirm1()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"label",23),f.\u0275\u0275text(27),f.\u0275\u0275pipe(28,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(29,"div",20),f.\u0275\u0275elementStart(30,"div",21),f.\u0275\u0275elementStart(31,"input",24),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().changeCheckboxConfirm2()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(32,"label",25),f.\u0275\u0275text(33),f.\u0275\u0275pipe(34,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(35,"div",26),f.\u0275\u0275elementStart(36,"button",27),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(37),f.\u0275\u0275pipe(38,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(39,"button",28),f.\u0275\u0275text(40),f.\u0275\u0275pipe(41,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(32,Rr,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(2),f.\u0275\u0275property("show",e.loadingReset)("config",f.\u0275\u0275pureFunction3(34,Or,e.ngxLoadingAnimationTypes.circle,e.primaryColour,e.primaryColour)),f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e.modalForm),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(7,18,"setting.reset_setting.reset_setting")),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(15,20,"setting.reset_setting.msg_warnning")),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngIf",1===e.category),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",2===e.category),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",3===e.category),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(22,22,"setting.reset_setting.msg_warnning_2")," "),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(28,24,"button.confirm_checkbox")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(34,26,"setting.reset_setting.confirm_message")),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(38,28,"button.exit")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(41,30,"button.refresh"))}}let Gr=(()=>{class e{constructor(e,t,n,i,r,a){this.settingsService=e,this.translate=t,this.modal=n,this.devToolsServices=i,this.formBuilder=r,this.library=a,this.ngxLoadingAnimationTypes=l.Sn,this.primaryColour="var(--primary)",this.config={animationType:l.Sn.none,primaryColour:this.primaryColour},this.loadingReset=!1}ngOnInit(){}onSubmit(){var e=this;return(0,m.Z)(function*(){e.modalForm.valid&&e.checkConfirm1&&e.checkConfirm2&&(1===e.category?(e.loadingReset=!0,yield e.settingsService.resetSettingUDF().toPromise().then(t=>{e.response=t,e.loadingReset=!1,e.devToolsServices.openToast(0,"alert.success"),e.modal.dismissAll()})):2===e.category?(e.loadingReset=!0,yield e.settingsService.resetSettingListValues().toPromise().then(t=>{e.response=t,e.loadingReset=!1,e.devToolsServices.openToast(0,"alert.success"),e.modal.dismissAll()})):3===e.category?(e.loadingReset=!0,yield e.settingsService.resetSettingAddress().toPromise().then(t=>{e.response=t,e.loadingReset=!1,e.devToolsServices.openToast(0,"alert.success"),e.modal.dismissAll()})):4===e.category?(e.loadingReset=!0,yield e.settingsService.reloadSettingProduct().toPromise().then(t=>{e.response=t,e.loadingReset=!1,t.includes("DONE")?e.devToolsServices.openToast(0,t):e.devToolsServices.openToast(3,t),e.modal.dismissAll()},t=>{400===t.status&&(e.loadingReset=!1,e.modal.dismissAll())})):5===e.category&&(e.loadingReset=!0,yield e.settingsService.synchronizeIB().toPromise().then(t=>{e.response=t,e.loadingReset=!1,t.includes("DONE")?e.devToolsServices.openToast(0,t):e.devToolsServices.openToast(3,t),e.modal.dismissAll()},t=>{400===t.status&&(e.loadingReset=!1,e.devToolsServices.openToast(3,"An error occurred in IB"),e.modal.dismissAll())})))})()}openModal(e,t){this.category=t,this.modal.open(e),this.createForm(),this.checkConfirm2=!1,this.checkConfirm1=!1}createForm(){this.modalForm=this.formBuilder.group({confirm1:["",c.kI.required],confirm2:["",c.kI.required]})}closeModale(){this.modal.dismissAll()}getDirection(){return Se.y.direction}changeCheckboxConfirm1(){!1===this.checkConfirm1?this.checkConfirm1=!0:(this.checkConfirm1=!1,this.modalForm.controls.confirm1.setValue(""))}changeCheckboxConfirm2(){!1===this.checkConfirm2?this.checkConfirm2=!0:(this.checkConfirm2=!1,this.modalForm.controls.confirm2.setValue(""))}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(p.by))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-reset-data"]],viewQuery:function(e,t){if(1&e&&f.\u0275\u0275viewQuery(Ar,5),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.ngxLoadingComponent=e.first)}},decls:72,vars:44,consts:[[1,"card"],[1,"card-header"],[1,"lnr-cog","px-2"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],[1,"btn","btn-warning","text-white",3,"click"],[3,"icon"],[1,"card-footer","pb-0"],[1,"row","no-gutters","w-100"],["modalContent",""],[3,"dir","ngClass"],[3,"show","config"],[1,"position-relative","col-xl-12","px-0","col-md-12",3,"formGroup","ngSubmit"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button"],["aria-hidden","true",3,"click"],[1,"card-body"],[1,"position-relative","col-xl-12","col-md-12"],[4,"ngIf"],[1,"position-relative","form-group"],[1,"custom-checkbox","custom-control"],["id","confirm1","type","checkbox","formControlName","confirm1",1,"custom-control-input",3,"change"],["for","confirm1",1,"custom-control-label","ms-2"],["id","confirm2","type","checkbox","formControlName","confirm2",1,"custom-control-input",3,"change"],["for","confirm2",1,"custom-control-label"],[1,"modal-footer"],[1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-1","btn","btn-primary"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275element(2,"i",2),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div"),f.\u0275\u0275elementStart(6,"div",3),f.\u0275\u0275elementStart(7,"table",4),f.\u0275\u0275elementStart(8,"thead"),f.\u0275\u0275elementStart(9,"tr"),f.\u0275\u0275elementStart(10,"th"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"th"),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(16,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"tbody"),f.\u0275\u0275elementStart(18,"tr"),f.\u0275\u0275elementStart(19,"td"),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"td"),f.\u0275\u0275text(23),f.\u0275\u0275pipe(24,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"td"),f.\u0275\u0275elementStart(26,"button",5),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(71);return t.openModal(n,1)}),f.\u0275\u0275element(27,"fa-icon",6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"tr"),f.\u0275\u0275elementStart(29,"td"),f.\u0275\u0275text(30),f.\u0275\u0275pipe(31,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(32,"td"),f.\u0275\u0275text(33),f.\u0275\u0275pipe(34,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(35,"td"),f.\u0275\u0275elementStart(36,"button",5),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(71);return t.openModal(n,2)}),f.\u0275\u0275element(37,"fa-icon",6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(38,"tr"),f.\u0275\u0275elementStart(39,"td"),f.\u0275\u0275text(40),f.\u0275\u0275pipe(41,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(42,"td"),f.\u0275\u0275text(43),f.\u0275\u0275pipe(44,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(45,"td"),f.\u0275\u0275elementStart(46,"button",5),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(71);return t.openModal(n,3)}),f.\u0275\u0275element(47,"fa-icon",6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(48,"tr"),f.\u0275\u0275elementStart(49,"td"),f.\u0275\u0275text(50),f.\u0275\u0275pipe(51,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(52,"td"),f.\u0275\u0275text(53),f.\u0275\u0275pipe(54,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(55,"td"),f.\u0275\u0275elementStart(56,"button",5),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(71);return t.openModal(n,4)}),f.\u0275\u0275element(57,"fa-icon",6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(58,"tr"),f.\u0275\u0275elementStart(59,"td"),f.\u0275\u0275text(60),f.\u0275\u0275pipe(61,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(62,"td"),f.\u0275\u0275text(63),f.\u0275\u0275pipe(64,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(65,"td"),f.\u0275\u0275elementStart(66,"button",5),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(71);return t.openModal(n,5)}),f.\u0275\u0275element(67,"fa-icon",6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(68,"div",7),f.\u0275\u0275element(69,"div",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(70,jr,42,38,"ng-template",null,9,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,18,"setting.reset_setting.reset_setting")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,20,"setting.label")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(15,22,"setting.description")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(21,24,"setting.reset_setting.reset_setting_udf")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(24,26,"setting.reset_setting.reset_setting_udf_description")),f.\u0275\u0275advance(4),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","pencil-alt")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(31,28,"setting.reset_setting.reset_setting_list_values")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(34,30,"setting.reset_setting.reset_setting_list_values_description")),f.\u0275\u0275advance(4),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","pencil-alt")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(41,32,"setting.reset_setting.reset_setting_address")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(44,34,"setting.reset_setting.reset_setting_address_description")),f.\u0275\u0275advance(4),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","pencil-alt")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(51,36,"setting.reset_setting.load_refresh_setting_product")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(54,38,"setting.reset_setting.load_refresh_setting_product_description")),f.\u0275\u0275advance(4),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","pencil-alt")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(61,40,"setting.reset_setting.synchronize_ib")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(64,42,"setting.reset_setting.synchronize_ib_description")),f.\u0275\u0275advance(4),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","pencil-alt")))},directives:[p.BN,Oe.Lv,r.NgClass,l.RJ,c._Y,c.JL,c.sg,C.MU,le.jv,r.NgIf,C.HK,c.Wl,C.oH,c.JJ,c.u,le.wj],pipes:[s.X$],styles:[""]}),e})();class Ur{}var $r=n(44760),Jr=n(88075),zr=n(39075);const Kr=function(){return{marginTop:"4.5rem",left:"0.2rem"}};let Wr=(()=>{class e{constructor(e,t,n,i,r){this.settingsService=e,this.loanSharedService=t,this.gedService=n,this.sanitizer=i,this.devToolsServices=r,this.customer=new $r.x,this.image="../../../../assets/images/avatars/user.jpg",this.imageClient="",this.clientDocument=new Ur}ngOnInit(){this.clientDocument.idDocument=0,this.settingsService.getClientPhoto(this.clientDocument.idDocument).subscribe(e=>{if(e.size>0){const t=new Blob([e],{type:""}),n=URL.createObjectURL(t);this.image=this.sanitizer.bypassSecurityTrustUrl(n)}else this.image="../../../../assets/images/avatars/user.jpg"})}addImageClient(e){const t=[];if(t.push(e.target.files[0]),e.target.files&&e.target.files[0]){const n=new FileReader;n.readAsDataURL(e.target.files[0]),n.onload=e=>{const i=new Image;i.src=n.result,i.onload=()=>{i.naturalWidth>150||i.naturalHeight>150?this.devToolsServices.openToast(3,"alert.size_image"):(this.clientDocument.idCustomer=0,this.clientDocument.loanId=0,this.clientDocument.idDocument=0,this.settingsService.updateClientPhoto(t,this.clientDocument).subscribe(e=>{const t=new Blob([e],{type:""}),n=URL.createObjectURL(t);this.image=this.sanitizer.bypassSecurityTrustUrl(n)}))}}}}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(y.F),f.\u0275\u0275directiveInject(Jr.G),f.\u0275\u0275directiveInject(zr.H7),f.\u0275\u0275directiveInject(S.R))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-client"]],decls:16,vars:11,consts:[[1,"card-hover-shadow-2x","mb-1","card"],[1,"card-header"],[1,"lnr-cog","px-2"],[1,"card-body"],[1,"col-xl-2","col-sm-3","text-center","pb-3"],["alt","image",1,"img-thumbnail",3,"src"],["type","button",1,"mb-2","mx-2","btn-icon","btn-icon-only","btn-pill","btn","btn-light","ACM_top-left",3,"click"],[1,"lnr-camera","btn-icon-wrapper"],["type","file","accept","image/x-png",2,"display","none",3,"name","change"],["fileInput",""],[1,"text-secondary","text-center","pt-2","ACM-image-client"],[1,"card-footer"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275element(2,"i",2),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div",3),f.\u0275\u0275elementStart(6,"div",4),f.\u0275\u0275element(7,"img",5),f.\u0275\u0275elementStart(8,"button",6),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275reference(11).click()}),f.\u0275\u0275element(9,"i",7),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"input",8,9),f.\u0275\u0275listener("change",function(e){return t.addImageClient(e)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"span",10),f.\u0275\u0275text(13),f.\u0275\u0275pipe(14,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(15,"div",11),f.\u0275\u0275elementEnd()}2&e&&(f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,6,"setting.setting_client")," "),f.\u0275\u0275advance(4),f.\u0275\u0275property("src",t.image,f.\u0275\u0275sanitizeUrl),f.\u0275\u0275advance(1),f.\u0275\u0275styleMap(f.\u0275\u0275pureFunction0(10,Kr)),f.\u0275\u0275advance(2),f.\u0275\u0275property("name","file"),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(14,8,"setting.image_client")))},pipes:[s.X$],styles:[""]}),e})();class qr{}function Hr(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275text(8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"td"),f.\u0275\u0275elementStart(10,"button",12),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(30);return n.editRenewalConditionModal(i,t)}),f.\u0275\u0275element(11,"fa-icon",7),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"button",13),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e),n=t.$implicit,i=t.index;return f.\u0275\u0275nextContext().deleteRenewalCondition(n,i)}),f.\u0275\u0275element(13,"fa-icon",7),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.year),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.minAmount),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.maxAmount),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.pourcentage),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt")),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","trash"))}}function Yr(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h4",30),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,"setting.renewal_condition.add")))}function Qr(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h4",30),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,"setting.renewal_condition.edit")))}const Xr=function(e){return{"text-end":e}};function Zr(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",14),f.\u0275\u0275elementStart(1,"form",15),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275elementStart(2,"div",16),f.\u0275\u0275template(3,Yr,3,3,"h4",17),f.\u0275\u0275template(4,Qr,3,3,"h4",17),f.\u0275\u0275elementStart(5,"button",18),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).dismiss("Cross click")}),f.\u0275\u0275elementStart(6,"span",19),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"div",20),f.\u0275\u0275elementStart(9,"div",21),f.\u0275\u0275elementStart(10,"label"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"div",22),f.\u0275\u0275elementStart(14,"input",23),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().yearValue=t})("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().changeYear()}),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"div",21),f.\u0275\u0275elementStart(17,"label"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"div",22),f.\u0275\u0275elementStart(21,"input",24),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onChangeMinAmount()}),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"div",21),f.\u0275\u0275elementStart(24,"label"),f.\u0275\u0275text(25),f.\u0275\u0275pipe(26,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"div",22),f.\u0275\u0275element(28,"input",25),f.\u0275\u0275pipe(29,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"div",21),f.\u0275\u0275elementStart(31,"label"),f.\u0275\u0275text(32),f.\u0275\u0275pipe(33,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"div",22),f.\u0275\u0275element(35,"input",26),f.\u0275\u0275pipe(36,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"div",27),f.\u0275\u0275elementStart(38,"button",28),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).close("Close click")}),f.\u0275\u0275text(39),f.\u0275\u0275pipe(40,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(41,"button",29),f.\u0275\u0275text(42),f.\u0275\u0275pipe(43,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(43,Xr,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e.renewalConditionSettingForm),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf","CREATE"===e.action),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","UPDATE"===e.action),f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,23,"setting.renewal_condition.year")),f.\u0275\u0275advance(3),f.\u0275\u0275propertyInterpolate("placeholder",f.\u0275\u0275pipeBind1(15,25,"setting.renewal_condition.year")),f.\u0275\u0275property("readonly",e.modeEdit)("ngModel",e.yearValue),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,27,"setting.renewal_condition.amount_from")),f.\u0275\u0275advance(3),f.\u0275\u0275propertyInterpolate("placeholder",f.\u0275\u0275pipeBind1(22,29,"setting.renewal_condition.amount_from")),f.\u0275\u0275property("readonly",e.yearSelected),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(26,31,"setting.renewal_condition.amount_to")),f.\u0275\u0275advance(3),f.\u0275\u0275propertyInterpolate("placeholder",f.\u0275\u0275pipeBind1(29,33,"setting.renewal_condition.amount_to")),f.\u0275\u0275property("readonly",e.yearSelected),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(33,35,"setting.renewal_condition.percentage")),f.\u0275\u0275advance(3),f.\u0275\u0275propertyInterpolate("placeholder",f.\u0275\u0275pipeBind1(36,37,"setting.renewal_condition.percentage")),f.\u0275\u0275property("readonly",e.yearSelected),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(40,39,"button.close")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(43,41,"button.save"))}}let ea=(()=>{class e{constructor(e,t,n,i,r,a){this.settingsService=e,this.formBuilder=t,this.modalService=n,this.translate=i,this.devToolsServices=r,this.library=a,this.renewalConditionSettings=[],this.yearSelected=!0,this.renewalCondition=new qr,this.ordre=0}ngOnInit(){const e=new qr;this.settingsService.getRenewalConditionSettings(e).subscribe(e=>{this.renewalConditionSettings=e})}createForm(e){this.yearValue=e.year,this.renewalConditionSettingForm=this.formBuilder.group({year:[e.year,c.kI.required],minAmount:[e.minAmount,c.kI.required],maxAmount:[e.maxAmount,c.kI.required],percentage:[e.pourcentage,c.kI.required]})}addRenewalConditionModal(e){var t=this;return(0,m.Z)(function*(){t.modeEdit=!1,t.yearSelected=!0,t.action="CREATE",t.renewalCondition=new qr,t.createForm(t.renewalCondition),t.modalService.open(e,{size:"md"})})()}editRenewalConditionModal(e,t){var n=this;return(0,m.Z)(function*(){n.modeEdit=!0,n.action="UPDATE",n.renewalCondition=t,n.createForm(n.renewalCondition),n.updateBornValidators(),n.modalService.open(e,{size:"md"})})()}onSubmit(){this.devToolsServices.makeFormAsTouched(this.renewalConditionSettingForm),this.renewalConditionSettingForm.valid&&(this.renewalCondition.year=this.renewalConditionSettingForm.controls.year.value,this.renewalCondition.minAmount=this.renewalConditionSettingForm.controls.minAmount.value,this.renewalCondition.maxAmount=this.renewalConditionSettingForm.controls.maxAmount.value,this.renewalCondition.pourcentage=this.renewalConditionSettingForm.controls.percentage.value,"CREATE"===this.action&&this.settingsService.createRenewalConditionSetting(this.renewalCondition).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.renewalConditionSettings.push(e),this.renewalConditionSettings.sort((e,t)=>e.year-t.year),this.modalService.dismissAll()}),"UPDATE"===this.action&&this.settingsService.updateRenewalConditionSetting(this.renewalCondition).subscribe(()=>{this.devToolsServices.openToast(0,"alert.success"),this.modalService.dismissAll()}))}onChangeMinAmount(){if("UPDATE"===this.action){if(null!=this.renewalConditionSettingForm.controls.minAmount.value){if(this.getMaxOrdre()===this.renewalCondition.ordre)this.renewalConditionSettingForm.controls.maxAmount.setValidators([c.kI.min(this.renewalConditionSettingForm.controls.minAmount.value+1),c.kI.required]);else{const e=this.renewalConditionSettings.filter(e=>e.year===this.yearValue&&e.ordre===this.renewalCondition.ordre+1)[0].minAmount;this.renewalConditionSettingForm.controls.maxAmount.setValidators([c.kI.min(this.renewalConditionSettingForm.controls.minAmount.value+1),c.kI.max(e-1),c.kI.required])}this.renewalConditionSettingForm.get("maxAmount").updateValueAndValidity(),this.renewalConditionSettingForm.updateValueAndValidity(),this.devToolsServices.makeFormAsTouched(this.renewalConditionSettingForm)}}else"CREATE"===this.action&&null!=this.renewalConditionSettingForm.controls.minAmount.value&&(this.renewalConditionSettingForm.controls.maxAmount.setValidators([c.kI.min(this.renewalConditionSettingForm.controls.minAmount.value+1),c.kI.required]),this.renewalConditionSettingForm.get("maxAmount").updateValueAndValidity(),this.renewalConditionSettingForm.updateValueAndValidity())}changeYear(){if(null!=this.renewalConditionSettingForm.controls.year.value){this.yearSelected=!1;let e=0;if(this.renewalConditionSettings.filter(e=>e.year===this.yearValue).length>0&&(e=this.getMaxOrdre()),this.renewalCondition.ordre=e+1,1!==this.renewalCondition.ordre){const e=this.renewalConditionSettings.filter(e=>e.year===this.yearValue&&e.ordre===this.renewalCondition.ordre-1)[0].maxAmount;this.renewalConditionSettingForm.controls.minAmount.clearValidators(),this.renewalConditionSettingForm.controls.maxAmount.clearValidators(),this.renewalConditionSettingForm.controls.maxAmount.reset(),this.renewalConditionSettingForm.controls.minAmount.setValidators([c.kI.min(e+1),c.kI.required])}}else this.yearSelected=!0}getminOrdre(){return Math.min.apply(Math,this.renewalConditionSettings.filter(e=>e.year===this.yearValue).map(e=>e.ordre))}getMaxOrdre(){return Math.max.apply(Math,this.renewalConditionSettings.filter(e=>e.year===this.yearValue).map(e=>e.ordre))}updateBornValidators(){if(null!=this.renewalConditionSettingForm.controls.year.value)if(this.yearSelected=!1,1===this.renewalConditionSettings.filter(e=>e.year===this.yearValue).length)this.renewalConditionSettingForm.controls.maxAmount.clearValidators(),this.renewalConditionSettingForm.controls.maxAmount.setValidators([c.kI.min(this.renewalCondition.minAmount+1),c.kI.required]);else if(this.getminOrdre()===this.renewalCondition.ordre){const e=this.renewalConditionSettings.filter(e=>e.year===this.yearValue&&e.ordre===this.renewalCondition.ordre+1)[0].minAmount;this.renewalConditionSettingForm.controls.minAmount.clearValidators(),this.renewalConditionSettingForm.controls.maxAmount.clearValidators(),this.renewalConditionSettingForm.controls.minAmount.setValidators([c.kI.max(e-1),c.kI.required]),this.renewalConditionSettingForm.controls.maxAmount.setValidators([c.kI.max(e-1),c.kI.min(this.renewalCondition.minAmount+1),c.kI.required])}else if(this.getMaxOrdre()===this.renewalCondition.ordre){const e=this.renewalConditionSettings.filter(e=>e.year===this.yearValue&&e.ordre===this.renewalCondition.ordre-1)[0].maxAmount;this.renewalConditionSettingForm.controls.minAmount.clearValidators(),this.renewalConditionSettingForm.controls.maxAmount.clearValidators(),this.renewalConditionSettingForm.controls.minAmount.setValidators([c.kI.min(e+1),c.kI.required]),this.renewalConditionSettingForm.controls.maxAmount.setValidators([c.kI.min(this.renewalCondition.minAmount+1),c.kI.required])}else{const e=this.renewalConditionSettings.filter(e=>e.year===this.yearValue&&e.ordre===this.renewalCondition.ordre-1)[0].maxAmount,t=this.renewalConditionSettings.filter(e=>e.year===this.yearValue&&e.ordre===this.renewalCondition.ordre+1)[0].minAmount;this.renewalConditionSettingForm.controls.minAmount.clearValidators(),this.renewalConditionSettingForm.controls.maxAmount.clearValidators(),this.renewalConditionSettingForm.controls.minAmount.setValidators([c.kI.min(e+1),c.kI.max(t-1),c.kI.required]),this.renewalConditionSettingForm.controls.maxAmount.setValidators([c.kI.max(t-1),c.kI.min(this.renewalCondition.minAmount+1),c.kI.required])}else this.yearSelected=!0}deleteRenewalCondition(e,t){this.devToolsServices.openConfirmDialogWithoutRedirect("delete renewal condition").afterClosed().subscribe(n=>{n&&this.settingsService.deleteRenewalConditionSetting(e.id).subscribe(()=>{this.devToolsServices.openToast(0,"alert.success"),this.renewalConditionSettings.splice(t,1)})})}getDirection(){return Se.y.direction}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(p.by))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-renewal-condition-settings"]],decls:31,vars:17,consts:[[1,"card"],[1,"card-header"],[1,"lnr-cog","px-2"],[1,""],[1,"table-responsive"],[1,"mb-0","t","table","table-hover","text-center"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-sm","btn-primary",3,"click"],[1,"mx-2",3,"icon"],[4,"ngFor","ngForOf"],[1,"card-footer","pb-0"],[1,"row","no-gutters","w-100"],["renewalModalContent",""],[1,"btn","btn-sm","btn-warning","text-white","mx-1",3,"click"],[1,"btn","btn-sm","btn-danger","text-white",3,"click"],[3,"dir","ngClass"],[1,"form","col-xl-12","col-md-12","px-0",3,"formGroup","ngSubmit"],[1,"modal-header","py-2"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",3,"click"],["aria-hidden","true"],[1,"modal-body","no-gutters"],[1,"position-relative"],[1,"input-group","form-group"],["type","number","formControlName","year",1,"form-control",3,"readonly","ngModel","placeholder","ngModelChange","change"],["type","number","formControlName","minAmount",1,"form-control",3,"readonly","placeholder","change"],["type","number","formControlName","maxAmount",1,"form-control",3,"readonly","placeholder"],["type","number","formControlName","percentage",1,"form-control",3,"readonly","placeholder"],[1,"modal-footer","py-1"],["type","reset",1,"btn","btn-outline-danger",3,"click"],["type","submit",1,"btn","btn-success"],[1,"modal-title"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275element(2,"i",2),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div",3),f.\u0275\u0275elementStart(6,"div",4),f.\u0275\u0275elementStart(7,"table",5),f.\u0275\u0275elementStart(8,"thead"),f.\u0275\u0275elementStart(9,"tr"),f.\u0275\u0275elementStart(10,"th"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"th"),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"th"),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"th"),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"th"),f.\u0275\u0275elementStart(23,"button",6),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(30);return t.addRenewalConditionModal(n)}),f.\u0275\u0275element(24,"fa-icon",7),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"tbody"),f.\u0275\u0275template(26,Hr,14,6,"tr",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"div",9),f.\u0275\u0275element(28,"div",10),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(29,Zr,44,45,"ng-template",null,11,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,7,"setting.renewal_condition.renewal_condition_setting")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,9,"setting.renewal_condition.year")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(15,11,"setting.renewal_condition.amount_from")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(18,13,"setting.renewal_condition.amount_to")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(21,15,"setting.renewal_condition.percentage")),f.\u0275\u0275advance(4),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",t.renewalConditionSettings))},directives:[p.BN,r.NgForOf,Oe.Lv,r.NgClass,c._Y,c.JL,c.sg,C.MU,le.jv,r.NgIf,C.HK,c.wV,c.Fj,C.oH,c.JJ,c.u,le.wj],pipes:[s.X$],styles:[""]}),e})();class ta{constructor(){}}function na(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275elementStart(8,"bSwitch",9),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().endableDisable(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"td"),f.\u0275\u0275elementStart(10,"button",10),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(30);return n.updateRiskType(i,t)}),f.\u0275\u0275element(11,"fa-icon",11),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"button",12),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().deleteRiskType(t)}),f.\u0275\u0275element(13,"fa-icon",11),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.label),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.description),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.echelleListString),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("switch-handle-width",40),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt")),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","trash"))}}function ia(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",28),f.\u0275\u0275elementStart(1,"h5",29),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"button",30),f.\u0275\u0275elementStart(5,"span",31),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).closeModale()}),f.\u0275\u0275text(6,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,4,"setting.update-risk-type")),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,"")}}function ra(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",28),f.\u0275\u0275elementStart(1,"h5",29),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"button",30),f.\u0275\u0275elementStart(5,"span",31),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).closeModale()}),f.\u0275\u0275text(6,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,4,"setting.add-risk-type")),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,"")}}function aa(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"td",35),f.\u0275\u0275elementStart(1,"div",20),f.\u0275\u0275element(2,"input",36),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().index;f.\u0275\u0275advance(2),f.\u0275\u0275propertyInterpolate1("formControlName","label",e,"")}}function oa(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"td",35),f.\u0275\u0275elementStart(1,"div",20),f.\u0275\u0275element(2,"input",36),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().index;f.\u0275\u0275advance(2),f.\u0275\u0275propertyInterpolate1("formControlName","description",e,"")}}function la(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"td"),f.\u0275\u0275elementStart(1,"div",37),f.\u0275\u0275elementStart(2,"div",38),f.\u0275\u0275elementStart(3,"button",39),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(),n=t.index,i=t.$implicit;return f.\u0275\u0275nextContext(2).deleteEchelle(n,i)}),f.\u0275\u0275element(4,"i",40),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}}function sa(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"td",41),f.\u0275\u0275elementStart(1,"div",20),f.\u0275\u0275element(2,"input",42),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().index;f.\u0275\u0275advance(2),f.\u0275\u0275propertyInterpolate1("formControlName","forDelete",e,"")}}function da(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275template(1,aa,3,1,"td",32),f.\u0275\u0275template(2,oa,3,1,"td",32),f.\u0275\u0275template(3,la,5,0,"td",33),f.\u0275\u0275template(4,sa,3,1,"td",34),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!e.forDelete),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!e.forDelete),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!e.forDelete),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!e.forDelete)}}const ca=function(e){return{"text-end":e}};function pa(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",13),f.\u0275\u0275template(1,ia,7,6,"div",14),f.\u0275\u0275template(2,ra,7,6,"div",14),f.\u0275\u0275elementStart(3,"form",15),f.\u0275\u0275elementStart(4,"div",16),f.\u0275\u0275elementStart(5,"label"),f.\u0275\u0275text(6),f.\u0275\u0275pipe(7,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"span",17),f.\u0275\u0275text(9,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"div",18),f.\u0275\u0275element(11,"input",19),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"div",16),f.\u0275\u0275elementStart(13,"label"),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"div",20),f.\u0275\u0275element(17,"textarea",21),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"div",22),f.\u0275\u0275elementStart(19,"div",1),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementStart(22,"div"),f.\u0275\u0275elementStart(23,"button",2),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().addEchelle()}),f.\u0275\u0275element(24,"fa-icon",3),f.\u0275\u0275text(25),f.\u0275\u0275pipe(26,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"form",23),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onsave()}),f.\u0275\u0275elementStart(28,"div"),f.\u0275\u0275elementStart(29,"table",5),f.\u0275\u0275elementStart(30,"thead"),f.\u0275\u0275elementStart(31,"tr"),f.\u0275\u0275elementStart(32,"th"),f.\u0275\u0275text(33),f.\u0275\u0275pipe(34,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(35,"th"),f.\u0275\u0275text(36),f.\u0275\u0275pipe(37,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(38,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(39,"tbody"),f.\u0275\u0275template(40,da,5,4,"tr",6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(41,"div",24),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(42,"div",25),f.\u0275\u0275elementStart(43,"button",26),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(44),f.\u0275\u0275pipe(45,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(46,"button",27),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275text(47),f.\u0275\u0275pipe(48,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(35,ca,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","UPDATE"===e.popuppMode),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","ADD"===e.popuppMode),f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e.groupForm),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(7,19,"setting.label")),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(15,21,"setting.description")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(21,23,"setting.echelle")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",e.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(26,25,"setting.add-echelle")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("formGroup",e.echelleForm),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(34,27,"setting.label")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(37,29,"setting.description")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.echelleList),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(45,31,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(48,33,"button.save"))}}function ma(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",56),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"notifications.change_status_all_users")," "))}function ua(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",56),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"notifications.change_status")," "))}function ga(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",43),f.\u0275\u0275elementStart(1,"div",28),f.\u0275\u0275elementStart(2,"div",44),f.\u0275\u0275elementStart(3,"div",45),f.\u0275\u0275element(4,"div",46),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div",47),f.\u0275\u0275elementStart(6,"h4",29),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"button",48),f.\u0275\u0275elementStart(10,"span",31),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModal()}),f.\u0275\u0275text(11,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"div",49),f.\u0275\u0275template(13,ma,3,3,"div",50),f.\u0275\u0275template(14,ua,3,3,"div",50),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",45),f.\u0275\u0275elementStart(16,"mat-checkbox",51),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().getCheckboxValue(t)}),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",52),f.\u0275\u0275elementStart(20,"div",53),f.\u0275\u0275elementStart(21,"button",54),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().getAnswer(!0)}),f.\u0275\u0275text(22),f.\u0275\u0275pipe(23,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"button",55),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().getAnswer(!1)}),f.\u0275\u0275text(25),f.\u0275\u0275pipe(26,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(16,ca,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(8,8,"confirmation_dialog.title")," "),f.\u0275\u0275advance(6),f.\u0275\u0275property("ngIf","change_status_all_users"===e.messageDisplayed),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","change_status"===e.messageDisplayed),f.\u0275\u0275advance(2),f.\u0275\u0275property("hidden",!e.showCheckbox),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(18,10,"notifications.apply_for_all_user")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(23,12,"button.yes")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(26,14,"button.no")," ")}}let ha=(()=>{class e{constructor(e,t,n,i,r,a,o){this.settingsService=e,this.library=t,this.translate=n,this.modal=i,this.formBuilder=r,this.dialog=a,this.devToolsServices=o,this.settingTypeRisk=[],this.showCheckbox=!1,this.echelleList=[]}ngOnInit(){this.settingsService.findAllSettingRiskType().subscribe(e=>{this.settingTypeRisk=e,this.settingTypeRisk.forEach(e=>{e.echelleListString=e.echelleTypeRisks.map(e=>e.label).join(", ")})})}endableDisable(e){this.settingsService.updateSettingRiskType(e).subscribe(e=>{console.log(e)})}addRiskType(e){this.createForm(new mn),this.popuppMode="ADD",this.modal.open(e,{size:"lg"})}createForm(e){"UPDATE"===this.popuppMode?this.groupForm=this.formBuilder.group({label:e.label,description:e.description}):(this.echelleForm=new c.cw({}),this.groupForm=this.formBuilder.group({label:["",jt.MS],description:""}))}createFormEchelle(e){if(this.echelleForm=new c.cw({}),"UPDATE"===this.popuppMode){for(var t=0;t<e.length;t++)this.echelleForm.addControl("label"+t,new c.NI(e[t].label,c.kI.required)),this.echelleForm.addControl("description"+t,new c.NI(e[t].description,c.kI.required)),this.echelleForm.addControl("forDelete"+t,new c.NI(!1));this.echelleList=this.settingRiskTypeForUpdate.echelleTypeRisks}}closeModale(){this.modal.dismissAll(),this.echelleList=[],this.echelleForm=new c.cw({})}getDirection(){return Se.y.direction}onSubmit(){if(this.devToolsServices.makeFormAsTouched(this.groupForm),this.groupForm.valid)if("UPDATE"===this.popuppMode){this.settingRiskTypeForUpdate.label=this.groupForm.controls.label.value,this.settingRiskTypeForUpdate.description=this.groupForm.controls.description.value;for(let e=0;e<this.echelleList.length;e++){const t=new ta;t.description=this.echelleForm.controls["description"+e].value,t.label=this.echelleForm.controls["label"+e].value,this.echelleList[e]=t}this.settingRiskTypeForUpdate.echelleTypeRisks=this.echelleList,this.settingsService.updateSettingRiskType(this.settingRiskTypeForUpdate).subscribe(e=>{console.log(e),this.closeModale(),this.ngOnInit()})}else{const e=new mn;e.label=this.groupForm.controls.label.value,e.description=this.groupForm.controls.description.value;for(let t=0;t<this.echelleList.length;t++){const n=new ta;n.description=this.echelleForm.controls["description"+t].value,n.label=this.echelleForm.controls["label"+t].value,e.echelleTypeRisks.push(n)}this.settingsService.SaveSettingRiskType(e).subscribe(e=>{console.log(e),this.closeModale(),this.ngOnInit()})}}updateRiskType(e,t){this.settingRiskTypeForUpdate=t,this.popuppMode="UPDATE",this.createForm(t),this.createFormEchelle(t.echelleTypeRisks),this.modal.open(e,{size:"lg"})}deleteRiskType(e){this.devToolsServices.openConfirmDialogWithoutRedirect("Delete type risque").afterClosed().subscribe(t=>{t&&this.settingsService.deleteSettingRiskType(e.id).subscribe(()=>{this.devToolsServices.openToast(0,"alert.success"),this.ngOnInit()})})}deleteEchelle(e,t){this.echelleForm.removeControl("description"+e),this.echelleForm.removeControl("user"+e),this.echelleForm.removeControl("approvalConditionDate"+e),this.echelleList.splice(e,1),t.forDelete=!0}addEchelle(){this.echelleForm.addControl("label"+this.echelleList.length,new c.NI("",c.kI.required)),this.echelleForm.addControl("description"+this.echelleList.length,new c.NI("",c.kI.required)),this.echelleForm.addControl("forDelete"+this.echelleList.length,new c.NI(!1)),this.echelleList.push(new ta)}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(di.uw),f.\u0275\u0275directiveInject(S.R))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-type-risk"]],decls:33,vars:23,consts:[[1,"card"],[1,"card-header"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[2,"margin-right","7px",3,"icon"],[1,"mb-0","t","table","table-hove"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],["modalContent",""],["content",""],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","switch-handle-width","ngModelChange","click"],[1,"btn","btn-warning","text-white","mr-4",3,"click"],[3,"icon"],[1,"btn","btn-danger","text-white",3,"click"],[3,"dir","ngClass"],["class","modal-header py-2",4,"ngIf"],[1,"form",3,"formGroup"],[1,"position-relative","pb-4"],[1,"text-danger"],[1,"form-group"],["type","text","formControlName","label",1,"form-control"],[1,"input-group"],["formControlName","description",1,"form-control"],[1,"py-1"],[1,"form",3,"formGroup","ngSubmit"],[1,"modal-footer","py-1"],[1,"modal-footer"],[1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],[1,"mb-1","btn","btn-primary",3,"click"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button"],["aria-hidden","true",3,"click"],["class","col-sm-5",4,"ngIf"],[4,"ngIf"],["class","col-sm-1","hidden","",4,"ngIf"],[1,"col-sm-5"],[1,"form-control",3,"formControlName"],[1,"row","d-flex","justify-content-end","px-3"],[1,"px-2"],[1,"btn","btn-danger",3,"click"],[1,"pe-7s-trash","btn-icon-wrapper","text-white"],["hidden","",1,"col-sm-1"],["type","text",1,"form-control",3,"formControlName"],[3,"ngClass"],[1,"row","no-gutters","align-items-center"],[1,"col-xl-3"],[1,"fa","fa-question-circle","text-info","ACM-icon-question"],[1,"col-xl-9"],["type","button",1,"close"],[1,"modal-body","row","no-gutters"],["mat-dialog-content","",4,"ngIf"],[3,"hidden","change"],[1,"modal-footer","py-0"],["mat-dialog-actions","",1,"my-2"],["mat-button","","cdkFocusInitial","",1,"btn","btn-outline-2x","btn-outline-success","active",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","btn-outline-2x","btn-outline-danger","active",3,"click"],["mat-dialog-content",""]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"button",2),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(30);return t.addRiskType(n)}),f.\u0275\u0275element(6,"fa-icon",3),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div"),f.\u0275\u0275elementStart(10,"div",4),f.\u0275\u0275elementStart(11,"table",5),f.\u0275\u0275elementStart(12,"thead"),f.\u0275\u0275elementStart(13,"tr"),f.\u0275\u0275elementStart(14,"th"),f.\u0275\u0275text(15),f.\u0275\u0275pipe(16,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"th"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"th"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"th"),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(26,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"tbody"),f.\u0275\u0275template(28,na,14,10,"tr",6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(29,pa,49,37,"ng-template",null,7,f.\u0275\u0275templateRefExtractor),f.\u0275\u0275template(31,ga,27,18,"ng-template",null,8,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,11,"setting.type-de-risque"),"\n"),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(8,13,"setting.setting_configuration_product.add")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(16,15,"setting.label")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,17,"setting.description")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,19,"setting.echelle")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,21,"setting.status")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",t.settingTypeRisk))},directives:[p.BN,r.NgForOf,I.U,c.JJ,c.On,Oe.Lv,r.NgClass,r.NgIf,c._Y,c.JL,c.sg,C.MU,le.jv,C.HK,c.Fj,C.oH,c.u,le.wj,gn.oG],pipes:[s.X$],styles:[""]}),e})();class fa{constructor(){}}class va{}class Sa{constructor(){this.settingJournalEnteries=[],this.code="",this.description=""}}class ya{constructor(){this.settingJournalEntryType=new Sa,this.code="",this.libelle="",this.description=""}}var xa=n(96516);function Ea(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275elementStart(8,"bSwitch",25),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext(2).endableDisable(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"td"),f.\u0275\u0275elementStart(10,"button",26),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;f.\u0275\u0275nextContext();const n=f.\u0275\u0275reference(107);return f.\u0275\u0275nextContext().updateJournalEntryType(n,t)}),f.\u0275\u0275element(11,"fa-icon",27),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"button",28),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e),n=t.$implicit,i=t.index;return f.\u0275\u0275nextContext(2).deleteSettingJournalEntryType(n,i)}),f.\u0275\u0275element(13,"fa-icon",27),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.code),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.description),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.journalDescription),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("switch-handle-width",40),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt")),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","trash"))}}function ba(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",13),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",e.code," ")}}function Ca(e,t){1&e&&f.\u0275\u0275text(0),2&e&&f.\u0275\u0275textInterpolate1(" ",t.$implicit.number," ")}function Ia(e,t){1&e&&f.\u0275\u0275text(0),2&e&&f.\u0275\u0275textInterpolate1(" ",t.$implicit.number," ")}const wa=function(){return{width:"100%"}};function Fa(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementContainerStart(0,29),f.\u0275\u0275elementStart(1,"tr"),f.\u0275\u0275elementStart(2,"td",30),f.\u0275\u0275elementStart(3,"div"),f.\u0275\u0275element(4,"input",31),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td",30),f.\u0275\u0275elementStart(6,"div"),f.\u0275\u0275element(7,"input",32),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"td",33),f.\u0275\u0275elementStart(9,"div"),f.\u0275\u0275element(10,"input",34),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"td",33),f.\u0275\u0275elementStart(12,"div"),f.\u0275\u0275elementStart(13,"select",35),f.\u0275\u0275listener("change",function(t){const n=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext(2).supplierEnable(t.target.value,n)}),f.\u0275\u0275elementStart(14,"option"),f.\u0275\u0275text(15,"Loan principal"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"option"),f.\u0275\u0275text(17,"Loan interest"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"option"),f.\u0275\u0275text(19,"Total asset"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"option"),f.\u0275\u0275text(21,"Personnel contribution"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"option"),f.\u0275\u0275text(23,"Withholding Tax"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"option"),f.\u0275\u0275text(25,"Total asset HT"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"td",33),f.\u0275\u0275elementStart(27,"div",36),f.\u0275\u0275elementStart(28,"div"),f.\u0275\u0275element(29,"input",37),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"span",38),f.\u0275\u0275elementStart(31,"button",39),f.\u0275\u0275text(32,"%"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(33,"td",33),f.\u0275\u0275elementStart(34,"div",36),f.\u0275\u0275elementStart(35,"p-autoComplete",40),f.\u0275\u0275listener("completeMethod",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).filterCreditAcount(t)}),f.\u0275\u0275pipe(36,"translate"),f.\u0275\u0275template(37,Ca,1,1,"ng-template",41),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(38,"td",33),f.\u0275\u0275elementStart(39,"div",36),f.\u0275\u0275elementStart(40,"p-autoComplete",42),f.\u0275\u0275listener("completeMethod",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).filterCreditAcount(t)}),f.\u0275\u0275pipe(41,"translate"),f.\u0275\u0275template(42,Ia,1,1,"ng-template",41),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(43,"td",33),f.\u0275\u0275elementStart(44,"div",43),f.\u0275\u0275elementStart(45,"mat-checkbox",44),f.\u0275\u0275text(46),f.\u0275\u0275pipe(47,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(48,"td"),f.\u0275\u0275elementStart(49,"div",45),f.\u0275\u0275elementStart(50,"div",46),f.\u0275\u0275elementStart(51,"button",47),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext(2).deleteJournalEntries(t)}),f.\u0275\u0275element(52,"i",48),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementContainerEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(2);f.\u0275\u0275property("formGroup",e),f.\u0275\u0275advance(35),f.\u0275\u0275styleMap(f.\u0275\u0275pureFunction0(24,wa)),f.\u0275\u0275propertyInterpolate("placeholder",f.\u0275\u0275pipeBind1(36,18,"setting.journal-entry.debit_account")),f.\u0275\u0275property("suggestions",n.listCreditAcount)("size",30)("minLength",1)("forceSelection",!0)("inputStyle",f.\u0275\u0275pureFunction0(25,wa)),f.\u0275\u0275advance(5),f.\u0275\u0275styleMap(f.\u0275\u0275pureFunction0(26,wa)),f.\u0275\u0275propertyInterpolate("placeholder",f.\u0275\u0275pipeBind1(41,20,"setting.journal-entry.credit_account")),f.\u0275\u0275property("suggestions",n.listCreditAcount)("size",30)("minLength",1)("forceSelection",!0)("inputStyle",f.\u0275\u0275pureFunction0(27,wa)),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(47,22,"setting.journal-entry.supplier")," ")}}function _a(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",59),f.\u0275\u0275elementStart(1,"h5",60),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"button",61),f.\u0275\u0275elementStart(5,"span",62),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(3).closeModale()}),f.\u0275\u0275text(6,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(3);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,4,"setting.journal-entry.update_setting_Journal_entry_type")),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,"")}}function La(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",59),f.\u0275\u0275elementStart(1,"h5",60),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"button",61),f.\u0275\u0275elementStart(5,"span",62),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(3).closeModale()}),f.\u0275\u0275text(6,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(3);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,4,"setting.journal-entry.add_setting_Journal_entry_type")),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,"")}}function Da(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",13),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",e.valueJson," ")}}const ka=function(e){return{"text-end":e}};function Ta(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",49),f.\u0275\u0275template(1,_a,7,6,"div",50),f.\u0275\u0275template(2,La,7,6,"div",50),f.\u0275\u0275elementStart(3,"form",29),f.\u0275\u0275elementStart(4,"div",51),f.\u0275\u0275elementStart(5,"div",52),f.\u0275\u0275elementStart(6,"label"),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"span",17),f.\u0275\u0275text(10,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"div",53),f.\u0275\u0275element(12,"input",54),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"div",52),f.\u0275\u0275elementStart(14,"label"),f.\u0275\u0275text(15),f.\u0275\u0275pipe(16,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"div",36),f.\u0275\u0275element(18,"textarea",34),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",52),f.\u0275\u0275elementStart(20,"label"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"span",17),f.\u0275\u0275text(24,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"div",36),f.\u0275\u0275elementStart(26,"select",55),f.\u0275\u0275elementStart(27,"option",19),f.\u0275\u0275text(28),f.\u0275\u0275pipe(29,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(30,Da,2,2,"option",20),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(31,"div",56),f.\u0275\u0275elementStart(32,"button",57),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).closeModale()}),f.\u0275\u0275text(33),f.\u0275\u0275pipe(34,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(35,"button",58),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).onSubmit()}),f.\u0275\u0275text(36),f.\u0275\u0275pipe(37,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(25,ka,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","UPDATE"===e.popuppMode),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","ADD"===e.popuppMode),f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e.groupForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(8,13,"setting.code")),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(16,15,"setting.description")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,17,"setting.journal")),f.\u0275\u0275advance(5),f.\u0275\u0275property("compareWith",e.compareJournal),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(29,19,"setting.journal-entry.journal-select")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.journalEntities),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(34,21,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(37,23,"button.save"))}}function Ma(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275elementStart(2,"div",2),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementStart(5,"div"),f.\u0275\u0275elementStart(6,"button",3),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275reference(107);return f.\u0275\u0275nextContext().addJournalEntryType(t)}),f.\u0275\u0275element(7,"fa-icon",4),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"div"),f.\u0275\u0275elementStart(11,"table",5),f.\u0275\u0275elementStart(12,"thead"),f.\u0275\u0275elementStart(13,"tr"),f.\u0275\u0275elementStart(14,"th"),f.\u0275\u0275text(15),f.\u0275\u0275pipe(16,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"th"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"th"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"th"),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(26,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"tbody"),f.\u0275\u0275template(28,Ea,14,10,"tr",6),f.\u0275\u0275pipe(29,"slice"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"div",7),f.\u0275\u0275elementStart(31,"div",8),f.\u0275\u0275elementStart(32,"div",9),f.\u0275\u0275elementStart(33,"ngb-pagination",10),f.\u0275\u0275listener("pageChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().page=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"div",9),f.\u0275\u0275elementStart(35,"div",11),f.\u0275\u0275elementStart(36,"select",12),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().pageSize=t}),f.\u0275\u0275elementStart(37,"option",13),f.\u0275\u0275text(38),f.\u0275\u0275pipe(39,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(40,"option",13),f.\u0275\u0275text(41),f.\u0275\u0275pipe(42,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(43,"option",13),f.\u0275\u0275text(44),f.\u0275\u0275pipe(45,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(46,"option",13),f.\u0275\u0275text(47),f.\u0275\u0275pipe(48,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(49,"div",14),f.\u0275\u0275elementStart(50,"div",1),f.\u0275\u0275elementStart(51,"div",2),f.\u0275\u0275text(52),f.\u0275\u0275pipe(53,"translate"),f.\u0275\u0275elementStart(54,"div"),f.\u0275\u0275elementStart(55,"button",3),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().addJournalEnteries()}),f.\u0275\u0275element(56,"fa-icon",4),f.\u0275\u0275text(57),f.\u0275\u0275pipe(58,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(59,"div",15),f.\u0275\u0275elementStart(60,"div",16),f.\u0275\u0275elementStart(61,"label"),f.\u0275\u0275text(62),f.\u0275\u0275pipe(63,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(64,"span",17),f.\u0275\u0275text(65,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(66,"select",18),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().selectedType=t})("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().getJournalEnteries()}),f.\u0275\u0275elementStart(67,"option",19),f.\u0275\u0275text(68),f.\u0275\u0275pipe(69,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(70,ba,2,2,"option",20),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(71,"div"),f.\u0275\u0275elementStart(72,"table",5),f.\u0275\u0275elementStart(73,"thead"),f.\u0275\u0275elementStart(74,"tr"),f.\u0275\u0275elementStart(75,"th"),f.\u0275\u0275text(76),f.\u0275\u0275pipe(77,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(78,"th"),f.\u0275\u0275text(79),f.\u0275\u0275pipe(80,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(81,"th"),f.\u0275\u0275text(82),f.\u0275\u0275pipe(83,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(84,"th"),f.\u0275\u0275text(85),f.\u0275\u0275pipe(86,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(87,"th"),f.\u0275\u0275text(88),f.\u0275\u0275pipe(89,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(90,"th"),f.\u0275\u0275text(91),f.\u0275\u0275pipe(92,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(93,"th"),f.\u0275\u0275text(94),f.\u0275\u0275pipe(95,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(96,"th"),f.\u0275\u0275text(97),f.\u0275\u0275pipe(98,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(99,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(100,"tbody"),f.\u0275\u0275template(101,Fa,53,28,"ng-container",21),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(102,"div",22),f.\u0275\u0275elementStart(103,"button",23),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onsave()}),f.\u0275\u0275text(104),f.\u0275\u0275pipe(105,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(106,Ta,38,27,"ng-template",null,24,f.\u0275\u0275templateRefExtractor),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,45,"setting.journal-entry.type")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",e.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(9,47,"setting.setting_configuration_product.add")," "),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(16,49,"setting.code")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,51,"setting.description")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,53,"setting.journal")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,55,"setting.status")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",f.\u0275\u0275pipeBind3(29,57,e.settingJournalEntryTypeEntitys,(e.page-1)*e.pageSize,(e.page-1)*e.pageSize+e.pageSize)),f.\u0275\u0275advance(5),f.\u0275\u0275property("collectionSize",e.settingJournalEntryTypeEntitys.length)("page",e.page)("pageSize",e.pageSize)("maxSize",3)("boundaryLinks",!0),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",e.pageSize),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue",5),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(39,61,"pagination.5_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",10),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(42,63,"pagination.10_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",20),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(45,65,"pagination.20_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",50),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(48,67,"pagination.50_item")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(53,69,"setting.journal-entry.journal_entries")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",e.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(58,71,"setting.journal-entry.add_journal_enteries_")," "),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(63,73,"setting.journal-entry.type")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngModel",e.selectedType),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(69,75,"setting.journal-entry.journal-entries-type-select")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.settingJournalEntryTypeEntitys),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(77,77,"setting.code")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(80,79,"setting.label")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(83,81,"setting.description")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(86,83,"setting.amount")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(89,85,"setting.journal-entry.percentage")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(92,87,"setting.journal-entry.debit_account")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(95,89,"setting.journal-entry.credit_account")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(98,91,"setting.journal-entry.supplier")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.journalEntriesForms),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(105,93,"button.save")," ")}}let Va=(()=>{class e{constructor(e,t,n,i,r,a,o,l,s){this.settingsService=e,this.translate=t,this.loanDetailsServices=n,this.sharedService=i,this.modal=r,this.formBuilder=a,this.devToolsServices=o,this.library=l,this.datePipe=s,this.settingJournalEntryTypeEntitys=[],this.settingJournalEntryTypeEntityForCreate=new Sa,this.externalIdsList=[],this.SettingJournalEntryTypeEntityEntityTypeEntity=new Sa,this.changeCodeForCategory=!1,this.listFormJournalEntriesForm=[],this.journalEntriesForms=[],this.journalEntries=[],this.listCreditAcount=[],this.activationKey=[],this.today=new Date,this.selectedType=new Sa,this.journalEnteriesList=[],this.journalEntities=[]}ngOnInit(){var e=this;return(0,m.Z)(function*(){e.activationKey=e.sharedService.getActivationKey().filter(e=>e===h.J.JOURNAL_ENTRY_MODULE),0!==e.activationKey.length&&(e.journalEntrieForm=new c.cw({}),e.pageSize=5,e.page=1,yield e.settingsService.findAllSettingJournalEntryType().subscribe(t=>{e.settingJournalEntryTypeEntitys=t}),e.isReject=!1)})()}getDirection(){return Se.y.direction}createForm(e){const t=new va;t.idExtern=e.journalId?.toString(),t.valueJson=e.journalDescription,this.groupForm=this.formBuilder.group({code:[e.code,c.kI.required],description:e.description,journal:[void 0===t.idExtern?"":t,c.kI.required]})}addJournalEntryType(e){this.journalEntryTypeForUpdate=new Sa,this.popuppMode="ADD",this.getJournals(),this.createForm(new Sa),this.modal.open(e)}updateJournalEntryType(e,t){this.popuppMode="UPDATE",this.getJournals(),this.journalEntryTypeForUpdate=t,this.createForm(t),this.modal.open(e)}create(){null!=this.journalEntryTypeForUpdate&&(this.settingJournalEntryTypeEntityForCreate.id=this.journalEntryTypeForUpdate.id),this.settingJournalEntryTypeEntityForCreate.code=this.groupForm.controls.code.value,this.settingJournalEntryTypeEntityForCreate.description=this.groupForm.controls.description.value,this.settingJournalEntryTypeEntityForCreate.journalId=this.groupForm.controls.journal.value.idExtern,this.settingJournalEntryTypeEntityForCreate.journalDescription=this.groupForm.controls.journal.value.valueJson,this.settingsService.createSettingJournalEntry(this.settingJournalEntryTypeEntityForCreate).toPromise().then(e=>{this.selectedType=e,this.settingsService.findAllSettingJournalEntryType().subscribe(e=>{this.settingJournalEntryTypeEntitys=e,this.modal.dismissAll(),this.devToolsServices.openToast(0,"alert.success")})})}onSubmit(){this.groupForm.valid&&this.create()}closeModale(){this.modal.dismissAll()}deleteJournalEntry(){this.modal.dismissAll()}deleteSettingJournalEntryType(e,t){this.devToolsServices.openConfirmDialogWithoutRedirect("Delete journal entry type").afterClosed().subscribe(n=>{n&&(null==e.settingJournalEnteries||0===e.settingJournalEnteries.length?this.settingsService.deleteSettingJournalEntryCondition(e.id).subscribe(()=>{this.devToolsServices.openToast(0,"alert.success"),this.settingJournalEntryTypeEntitys.splice(t,1)}):this.devToolsServices.openToast(3,"alert.delete_journal_entry_type"))})}endableDisable(e){this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.disable_journal_entry_type").afterClosed().subscribe(t=>{t?this.settingsService.updateSettingJournalEntry(e).subscribe(e=>{},t=>{e.enabled=!e.enabled}):e.enabled=!e.enabled})}deleteJournalEntries(e){this.journalEntriesForms.splice(e,1),this.journalEntries.splice(e,1)}addJournalEnteries(){null!=this.selectedType&&""!==this.selectedType.code&&(this.journalEntriesForms[this.journalEntries.length]=this.formBuilder.group({}),this.journalEntriesForms[this.journalEntries.length].addControl("label",new c.NI("",c.kI.required)),this.journalEntriesForms[this.journalEntries.length].addControl("code",new c.NI("",c.kI.required)),this.journalEntriesForms[this.journalEntries.length].addControl("description",new c.NI("",c.kI.required)),this.journalEntriesForms[this.journalEntries.length].addControl("amount",new c.NI("",c.kI.required)),this.journalEntriesForms[this.journalEntries.length].addControl("percentage",new c.NI("100",[c.kI.min(1),c.kI.required])),this.journalEntriesForms[this.journalEntries.length].addControl("debitAcount",new c.NI("",c.kI.required)),this.journalEntriesForms[this.journalEntries.length].addControl("creditAcount",new c.NI("",c.kI.required)),this.journalEntriesForms[this.journalEntries.length].addControl("bySupplier",new c.NI(!1)),this.journalEntriesForms[this.journalEntries.length].controls.bySupplier.disable(),this.journalEntries.push(new ya))}filterCreditAcount(e){this.settingsService.findCreditAcountFromAbacus(e.query).subscribe(e=>{this.listCreditAcount=e})}onsave(){this.journalEnteriesList=[];let e=!1;for(let t=0;t<this.journalEntries.length;t++)if(this.journalEntriesForms[t].valid){const n=new ya;n.id=null,n.code=this.journalEntriesForms[t].controls.code.value,n.libelle=this.journalEntriesForms[t].controls.label.value,n.description=this.journalEntriesForms[t].controls.description.value,n.amount=this.journalEntriesForms[t].controls.amount.value,n.bySupplier=this.journalEntriesForms[t].controls.bySupplier.value,n.percentage=this.journalEntriesForms[t].controls.percentage.value,n.debitAccount=this.journalEntriesForms[t].controls.debitAcount.value.number,n.creditAccount=this.journalEntriesForms[t].controls.creditAcount.value.number,n.idDebitAcount=this.journalEntriesForms[t].controls.debitAcount.value.accountID,n.idCreditAccount=this.journalEntriesForms[t].controls.creditAcount.value.accountID,n.idTypeJournalEntry=this.selectedType.id,n.settingJournalEntryType=this.selectedType,this.journalEnteriesList.push(n),e=!0}e&&this.settingsService.createJournalEnteries(this.journalEnteriesList,this.selectedType.id).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.selectedType.settingJournalEnteries=e})}getJournalEnteries(){let e,t;if(this.journalEntries=[...this.selectedType.settingJournalEnteries],this.journalEntriesForms=[],this.journalEntries.length)for(let n=0;n<this.journalEntries.length;n++){const i=this.journalEntries[n];this.journalEntriesForms[n]||(this.journalEntriesForms[n]=this.formBuilder.group({})),this.journalEntriesForms[n].addControl("code",new c.NI(i.code,c.kI.required)),this.journalEntriesForms[n].addControl("label",new c.NI(i.libelle,c.kI.required)),this.journalEntriesForms[n].addControl("description",new c.NI(i.description,c.kI.required)),this.journalEntriesForms[n].addControl("amount",new c.NI(i.amount,c.kI.required)),this.journalEntriesForms[n].addControl("percentage",new c.NI(i.percentage,[c.kI.min(1),c.kI.required])),e=new fa,e.number=i.debitAccount,e.accountID=i.idDebitAcount,this.journalEntriesForms[n].addControl("debitAcount",new c.NI(e,c.kI.required)),t=new fa,t.number=i.creditAccount,t.accountID=i.idCreditAccount,this.journalEntriesForms[n].addControl("creditAcount",new c.NI(t,c.kI.required)),this.journalEntriesForms[n].addControl("bySupplier",new c.NI(i.bySupplier)),"Withholding Tax"===i.amount||"Total asset"===i.amount?this.journalEntriesForms[n].controls.bySupplier.enable():this.journalEntriesForms[n].controls.bySupplier.disable()}else this.addJournalEnteries()}getJournals(){0===this.journalEntities.length&&this.settingsService.findJournals().subscribe(e=>{this.journalEntities=e})}compareJournal(e,t){return e.idExtern===t.idExtern}supplierEnable(e,t){"Withholding Tax"===e||"Total asset"===e?this.journalEntriesForms[t].controls.bySupplier.enable():(this.journalEntriesForms[t].controls.bySupplier.setValue(!1),this.journalEntriesForms[t].controls.bySupplier.disable())}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(Bi.H),f.\u0275\u0275directiveInject(y.F),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(r.DatePipe))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-journal-entry-type"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"card"],[1,"card-header"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[2,"margin-right","7px",3,"icon"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],[1,"card-footer","pb-0"],[1,"row","no-gutters","w-100"],[1,"col-xl-6","col-lg-6","col-md-12"],["size","sm",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],[1,"d-flex","justify-content-lg-end"],["name","pageSize",1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"py-1"],[1,"col-xl-4","col-md-4","px-1"],[1,"position-relative","form-group"],[1,"text-danger"],["name","journalEntryType",1,"form-control",3,"ngModel","ngModelChange","change"],["selected","","value","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],["class","form",3,"formGroup",4,"ngFor","ngForOf"],[1,"modal-footer","py-1"],["type","submit",1,"btn","btn-primary",3,"click"],["modalContent",""],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","switch-handle-width","ngModelChange","click"],[1,"btn","btn-warning","text-white","mr-4",3,"click"],[3,"icon"],[1,"btn","btn-danger","text-white",3,"click"],[1,"form",3,"formGroup"],[1,"col-sm-1"],["formControlName","code",1,"form-control"],["formControlName","label",1,"form-control"],[1,"col-sm-2"],["formControlName","description",1,"form-control"],["formControlName","amount",1,"form-control",3,"change"],[1,"input-group"],["type","number","formControlName","percentage","min","0",1,"form-control"],[1,"input-group-append"],["ngxclipboard","","type","button","ng-reflect-target-elm","",1,"btn","btn-light","border","hl"],["formControlName","debitAcount","field","number","id","debitAcount",3,"placeholder","suggestions","size","minLength","forceSelection","inputStyle","completeMethod"],["pTemplate","item"],["formControlName","creditAcount","field","number","id","creditAcount",3,"placeholder","suggestions","size","minLength","forceSelection","inputStyle","completeMethod"],[1,"input-group",2,"flex-wrap","nowrap !important"],["formControlName","bySupplier"],[1,"row","d-flex","justify-content-end","px-3"],[1,"px-2"],[1,"btn","btn-danger",3,"click"],[1,"pe-7s-trash","btn-icon-wrapper","text-white"],[3,"dir","ngClass"],["class","modal-header py-2",4,"ngIf"],[1,"card-body"],[1,"position-relative","pb-4"],[1,"input-group","form-group"],["type","text","formControlName","code",1,"form-control"],["formControlName","journal",1,"form-control",3,"compareWith"],[1,"modal-footer"],[1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],[1,"mb-1","btn","btn-primary",3,"click"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button"],["aria-hidden","true",3,"click"]],template:function(e,t){1&e&&f.\u0275\u0275template(0,Ma,108,95,"div",0),2&e&&f.\u0275\u0275property("ngIf",0!==t.activationKey.length)},directives:[r.NgIf,p.BN,r.NgForOf,o.N9,c.EJ,c.JJ,c.On,c.YN,c.Kr,C.HK,C.oH,I.U,c.JL,c.sg,C.MU,le.jv,c.Fj,c.u,le.wj,c.wV,c.qQ,xa.Qc,b.jx,gn.oG,Oe.Lv,r.NgClass,c._Y],pipes:[s.X$,r.SlicePipe],styles:[""]}),e})();var Aa=n(59395);function Pa(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275text(8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"td"),f.\u0275\u0275text(10),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"td"),f.\u0275\u0275text(12),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"td"),f.\u0275\u0275elementStart(14,"bSwitch",15),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.active=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().endableDisable(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"td"),f.\u0275\u0275elementStart(16,"button",16),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(59);return n.editCurrency(i,t)}),f.\u0275\u0275element(17,"fa-icon",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"button",18),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().disableCurrency(t)}),f.\u0275\u0275element(19,"fa-icon",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.code),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.description),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.symbol),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.decimalPlaces),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.rounding),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.roundDecimal),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.active)("switch-size","mini")("switch-handle-width",40)("switch-animate",!0)("switch-off-color","danger"),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt")),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","trash"))}}const Ba=function(e){return{"text-end":e}};function Na(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",19),f.\u0275\u0275elementStart(1,"div",20),f.\u0275\u0275elementStart(2,"h5",21),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",22),f.\u0275\u0275elementStart(6,"span",23),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"form",24),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275elementStart(9,"div",25),f.\u0275\u0275elementStart(10,"div",26),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",27),f.\u0275\u0275element(15,"input",28),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"div",26),f.\u0275\u0275elementStart(17,"label"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"div",27),f.\u0275\u0275element(21,"input",29),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"div",26),f.\u0275\u0275elementStart(23,"label"),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"div",27),f.\u0275\u0275element(27,"input",30),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"div",26),f.\u0275\u0275elementStart(29,"label"),f.\u0275\u0275text(30),f.\u0275\u0275pipe(31,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(32,"div",27),f.\u0275\u0275element(33,"input",31),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"div",26),f.\u0275\u0275elementStart(35,"label"),f.\u0275\u0275text(36),f.\u0275\u0275pipe(37,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(38,"div",27),f.\u0275\u0275elementStart(39,"select",32),f.\u0275\u0275elementStart(40,"option",33),f.\u0275\u0275text(41),f.\u0275\u0275pipe(42,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(43,"option",34),f.\u0275\u0275text(44),f.\u0275\u0275pipe(45,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(46,"option",35),f.\u0275\u0275text(47),f.\u0275\u0275pipe(48,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(49,"option",36),f.\u0275\u0275text(50),f.\u0275\u0275pipe(51,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(52,"option",37),f.\u0275\u0275text(53),f.\u0275\u0275pipe(54,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(55,"div",26),f.\u0275\u0275elementStart(56,"label"),f.\u0275\u0275text(57),f.\u0275\u0275pipe(58,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(59,"div",27),f.\u0275\u0275element(60,"input",38),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(61,"div",26),f.\u0275\u0275element(62,"input",39),f.\u0275\u0275elementStart(63,"label",40),f.\u0275\u0275text(64),f.\u0275\u0275pipe(65,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(66,"div",41),f.\u0275\u0275elementStart(67,"button",42),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(68),f.\u0275\u0275pipe(69,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(70,"button",43),f.\u0275\u0275text(71),f.\u0275\u0275pipe(72,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(51,Ba,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,21,"update"===e.action?"setting.currency-setting.update-currency-setting":"setting.currency-setting.add-currency-setting"),""),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.groupForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,23,"setting.currency-setting.code")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,25,"setting.currency-setting.description")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,27,"setting.currency-setting.symbol")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(31,29,"setting.currency-setting.decimal-places")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(37,31,"setting.currency-setting.rounding")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(42,33,"setting.currency-setting.round_down")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(45,35,"setting.currency-setting.round_up")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(48,37,"setting.currency-setting.round_half_up")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(51,39,"setting.currency-setting.round_half_down")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(54,41,"setting.currency-setting.dont_round")),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(58,43,"setting.currency-setting.round-decimal")),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(65,45,"setting.currency-setting.active")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(69,47,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(72,49,"button.save"))}}let Ra=(()=>{class e{constructor(e,t,n,i,r,a){this.translate=e,this.library=t,this.modal=n,this.formBuilder=i,this.devToolsServices=r,this.settingService=a,this.action="create"}ngOnInit(){this.pageSize=5,this.page=1,this.settingService.findCurrencySetting(new Aa.q).subscribe(e=>{this.currencyList=e})}closeModale(){this.modal.dismissAll()}onSubmit(){this.devToolsServices.makeFormAsTouched(this.groupForm),this.groupForm.valid&&(this.currencySetting.code=this.groupForm.controls.code.value,this.currencySetting.description=this.groupForm.controls.description.value,this.currencySetting.symbol=this.groupForm.controls.symbol.value,this.currencySetting.decimalPlaces=this.groupForm.controls.decimalPlaces.value,this.currencySetting.rounding=this.groupForm.controls.rounding.value,this.currencySetting.active=this.groupForm.controls.active.value,this.currencySetting.roundDecimal=this.groupForm.controls.roundDecimal.value,this.settingService.saveCurrencySetting(this.currencySetting).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.modal.dismissAll(),this.ngOnInit()}))}addCurrency(e){this.action="create",this.currencySetting=new Aa.q,this.currencySetting.active=!1,this.createForm(this.currencySetting),this.modal.open(e)}editCurrency(e,t){this.action="update",this.currencySetting=t,this.createForm(t),this.modal.open(e)}disableCurrency(e){this.currencySetting=e,this.currencySetting.enabled=!1,this.devToolsServices.openConfirmDialogWithoutRedirect("setting.currency-setting.delete-currency-setting").afterClosed().subscribe(e=>{e&&this.settingService.saveCurrencySetting(this.currencySetting).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.ngOnInit()})})}createForm(e){this.groupForm=this.formBuilder.group({code:[e.code,[jt.MS]],description:[e.description,[jt.MS]],symbol:[e.symbol,[jt.MS]],decimalPlaces:[e.decimalPlaces,[jt.MS]],roundDecimal:[e.roundDecimal,[jt.MS]],rounding:[e.rounding,[jt.MS]],active:[e.active]})}getDirection(){return Se.y.direction}endableDisable(e){this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.disable_journal_entry_type").afterClosed().subscribe(t=>{t?this.settingService.saveCurrencySetting(e).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.modal.dismissAll(),this.ngOnInit()}):e.enabled=!e.enabled})}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(v.g))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-currency-setting"]],decls:60,vars:58,consts:[[1,"card"],[1,"card-header"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[2,"margin-right","7px",3,"icon"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],[1,"card-footer","pb-0"],[1,"row","no-gutters","w-100"],[1,"col-xl-6","col-lg-6","col-md-12"],["size","sm",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],[1,"d-flex","justify-content-lg-end"],["name","pageSize",1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["modalContent",""],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-handle-width","switch-animate","switch-off-color","ngModelChange","click"],[1,"btn","btn-sm","btn-warning","text-white","mx-1",3,"click"],[1,"mx-2",3,"icon"],[1,"btn","btn-sm","btn-danger","text-white",3,"click"],[3,"dir","ngClass"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button"],["aria-hidden","true",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"position-relative","pb-4"],[1,"form-group"],["type","text","formControlName","code",1,"form-control"],["type","text","formControlName","description",1,"form-control"],["type","text","formControlName","symbol",1,"form-control"],["type","number","formControlName","decimalPlaces",1,"form-control"],["formControlName","rounding",1,"form-control","form-group"],["value","DOWN"],["value","UP"],["value","HALF_UP"],["value","HALF_DOWN"],["value","DO_NOT_ROUND"],["type","number","formControlName","roundDecimal",1,"form-control"],["type","checkbox","formControlName","active",1,"form-check-input"],[1,"custom-control-label","ms-2"],[1,"modal-footer"],["type","reset",1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-1","btn","btn-primary"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"button",2),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(59);return t.addCurrency(n)}),f.\u0275\u0275element(6,"fa-icon",3),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div"),f.\u0275\u0275elementStart(10,"div",4),f.\u0275\u0275elementStart(11,"table",5),f.\u0275\u0275elementStart(12,"thead"),f.\u0275\u0275elementStart(13,"tr"),f.\u0275\u0275elementStart(14,"th"),f.\u0275\u0275text(15),f.\u0275\u0275pipe(16,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"th"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"th"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"th"),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"th"),f.\u0275\u0275text(27),f.\u0275\u0275pipe(28,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(29,"th"),f.\u0275\u0275text(30),f.\u0275\u0275pipe(31,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(32,"th"),f.\u0275\u0275text(33),f.\u0275\u0275pipe(34,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(35,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(36,"tbody"),f.\u0275\u0275template(37,Pa,20,13,"tr",6),f.\u0275\u0275pipe(38,"slice"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(39,"div",7),f.\u0275\u0275elementStart(40,"div",8),f.\u0275\u0275elementStart(41,"div",9),f.\u0275\u0275elementStart(42,"ngb-pagination",10),f.\u0275\u0275listener("pageChange",function(e){return t.page=e}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(43,"div",9),f.\u0275\u0275elementStart(44,"div",11),f.\u0275\u0275elementStart(45,"select",12),f.\u0275\u0275listener("ngModelChange",function(e){return t.pageSize=e}),f.\u0275\u0275elementStart(46,"option",13),f.\u0275\u0275text(47),f.\u0275\u0275pipe(48,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(49,"option",13),f.\u0275\u0275text(50),f.\u0275\u0275pipe(51,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(52,"option",13),f.\u0275\u0275text(53),f.\u0275\u0275pipe(54,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(55,"option",13),f.\u0275\u0275text(56),f.\u0275\u0275pipe(57,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(58,Na,73,53,"ng-template",null,14,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,28,"setting.currency-setting.currency-setting")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(8,30,"setting.setting_configuration_product.add")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(16,32,"setting.currency-setting.code")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,34,"setting.currency-setting.description")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,36,"setting.currency-setting.symbol")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,38,"setting.currency-setting.decimal-places")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(28,40,"setting.currency-setting.rounding")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(31,42,"setting.currency-setting.round-decimal")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(34,44,"setting.currency-setting.active")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",f.\u0275\u0275pipeBind3(38,46,t.currencyList,(t.page-1)*t.pageSize,(t.page-1)*t.pageSize+t.pageSize)),f.\u0275\u0275advance(5),f.\u0275\u0275property("collectionSize",null==t.currencyList?null:t.currencyList.length)("page",t.page)("pageSize",t.pageSize)("maxSize",3)("boundaryLinks",!0),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",t.pageSize),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue",5),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(48,50,"pagination.5_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",10),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(51,52,"pagination.10_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",20),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(54,54,"pagination.20_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",50),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(57,56,"pagination.50_item")))},directives:[p.BN,r.NgForOf,o.N9,c.EJ,c.JJ,c.On,c.YN,c.Kr,I.U,Oe.Lv,r.NgClass,c._Y,c.JL,c.sg,C.MU,le.jv,C.HK,c.Fj,C.oH,c.u,le.wj,c.wV,c.Wl],pipes:[s.X$,r.SlicePipe],styles:[""]}),e})();class Oa{}var ja=n(15509);function Ga(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275elementStart(6,"button",15),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(44);return n.editClosedDays(i,t)}),f.\u0275\u0275element(7,"fa-icon",16),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"button",17),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().disableClosedDays(t)}),f.\u0275\u0275element(9,"fa-icon",16),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.closedDays),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(null==e?null:e.branchNames),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt")),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","trash"))}}function Ua(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",32),f.\u0275\u0275elementStart(2,"label",33),f.\u0275\u0275element(3,"input",34),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=t.index;f.\u0275\u0275advance(3),f.\u0275\u0275property("formControlName",n),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(5,2,e.header)," ")}}function $a(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"form",24),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).onSubmit()}),f.\u0275\u0275elementStart(1,"div",25),f.\u0275\u0275elementStart(2,"div",26),f.\u0275\u0275elementStart(3,"label"),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(6,"p-multiSelect",27),f.\u0275\u0275pipe(7,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"div",28),f.\u0275\u0275template(9,Ua,6,4,"div",6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"div",29),f.\u0275\u0275elementStart(11,"button",30),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).closeModale()}),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"button",31),f.\u0275\u0275text(15),f.\u0275\u0275pipe(16,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275property("formGroup",e.groupForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(5,10,"setting.closed-days-setting.branch")),f.\u0275\u0275advance(2),f.\u0275\u0275propertyInterpolate("placeholder",f.\u0275\u0275pipeBind1(7,12,"customer_management.branch_default_select")),f.\u0275\u0275property("filter",!1)("options",e.branchEntities)("styleClass","full-width")("required",e.displayMultiSelect),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngForOf",e.days_of_week),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,14,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(16,16,"button.save"))}}const Ja=function(e){return{"text-end":e}};function za(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",18),f.\u0275\u0275elementStart(1,"div",19),f.\u0275\u0275elementStart(2,"h5",20),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",21),f.\u0275\u0275elementStart(6,"span",22),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(8,$a,17,18,"form",23),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(9,Ja,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,7,"update"===e.action?"setting.closed-days-setting.update-closed-days-setting":"setting.closed-days-setting.add-closed-days-setting"),""),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngIf",e.loadForm)}}let Ka=(()=>{class e{constructor(e,t,n,i,r,a){this.settingsService=e,this.modal=t,this.fb=n,this.translate=i,this.library=r,this.devToolsServices=a,this.days_of_week=[{value:"SUNDAY",header:"DAYS.SUNDAY"},{value:"MONDAY",header:"DAYS.MONDAY"},{value:"TUESDAY",header:"DAYS.TUESDAY"},{value:"WEDNESDAY",header:"DAYS.WEDNESDAY"},{value:"THURSDAY",header:"DAYS.THURSDAY"},{value:"FRIDAY",header:"DAYS.FRIDAY"},{value:"SATURDAY",header:"DAYS.SATURDAY"}],this.branchEntities=[],this.loadForm=!1,this.closedDaysList=[],this.action="create"}ngOnInit(){this.pageSize=5,this.page=1,this.settingsService.findBranches(new ja._).toPromise().then(e=>{this.branchEntities=e,this.settingsService.findClosedDaysSetting(new Oa).toPromise().then(e=>{e.map(e=>{const t=e.branchIds.split(";").map(e=>{const t=this.branchEntities.find(t=>t.id===parseInt(e.trim()));return t?t.name:""});e.branchNames=t.join(", "),e.branchNames=e.branchNames.replace(/^,|, $/g,"")}),this.closedDaysList=e})})}createForm(e){this.loadForm=!1;const t=e?.branchIds?.split(";").filter(e=>""!=e).map(e=>this.branchEntities.find(t=>t.id===parseInt(e.trim())));this.groupForm=this.fb.group({branch:[t,[jt.MS]],days:this.fb.array([])});const n=this.groupForm.get("days"),i=e?.closedDays?.split(";")||[];this.days_of_week.forEach(e=>{let t=i?.includes(e.value);n.push(new c.NI(t))}),this.loadForm=!0}addClosedDays(e){this.action="create",this.closedDays=new Oa,this.createForm(new Oa),this.modal.open(e)}editClosedDays(e,t){this.action="update",this.closedDays=t,this.createForm(this.closedDays),this.modal.open(e)}onSubmit(){this.devToolsServices.makeFormAsTouched(this.groupForm),this.groupForm.valid&&(this.closedDays.branchIds=this.groupForm.controls.branch.value.map(e=>e?.branchID).join(";"),this.closedDays.branchIds=`;${this.closedDays.branchIds};`,this.closedDays.closedDays=this.days_of_week.filter((e,t)=>this.groupForm.controls.days.value[t]).map(e=>e.value).join(";"),this.settingsService.saveClosedDaysSetting(this.closedDays).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.modal.dismissAll(),this.ngOnInit()}))}disableClosedDays(e){this.closedDays=e,this.closedDays.enabled=!1,this.devToolsServices.openConfirmDialogWithoutRedirect("setting.closed-days-setting.delete-closed-days-setting").afterClosed().subscribe(e=>{e&&this.settingsService.saveClosedDaysSetting(this.closedDays).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.ngOnInit()})})}closeModale(){this.modal.dismissAll()}getDirection(){return Se.y.direction}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(S.R))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-closed-days-setting"]],decls:45,vars:43,consts:[[1,"card"],[1,"card-header"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[2,"margin-right","7px",3,"icon"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],[1,"card-footer","pb-0"],[1,"row","no-gutters","w-100"],[1,"col-xl-6","col-lg-6","col-md-12"],["size","sm",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],[1,"d-flex","justify-content-lg-end"],["name","pageSize",1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["modalContent",""],[1,"btn","btn-sm","btn-warning","text-white","mx-1",3,"click"],[1,"mx-2",3,"icon"],[1,"btn","btn-sm","btn-danger","text-white",3,"click"],[3,"dir","ngClass"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button"],["aria-hidden","true",3,"click"],["class","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"position-relative","pb-4"],["formControlName","branch","optionLabel","description",3,"filter","options","styleClass","placeholder","required"],["formArrayName","days",1,"position-relative","pb-4"],[1,"modal-footer"],["type","reset",1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-1","btn","btn-primary"],[1,"custom-checkbox","custom-control","m-2"],[1,"custom-control-label","m-2"],["type","checkbox",1,"custom-control-input","m-2",3,"formControlName"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"button",2),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(44);return t.addClosedDays(n)}),f.\u0275\u0275element(6,"fa-icon",3),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div"),f.\u0275\u0275elementStart(10,"div",4),f.\u0275\u0275elementStart(11,"table",5),f.\u0275\u0275elementStart(12,"thead"),f.\u0275\u0275elementStart(13,"tr"),f.\u0275\u0275elementStart(14,"th"),f.\u0275\u0275text(15),f.\u0275\u0275pipe(16,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"th"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(20,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(21,"tbody"),f.\u0275\u0275template(22,Ga,10,4,"tr",6),f.\u0275\u0275pipe(23,"slice"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"div",7),f.\u0275\u0275elementStart(25,"div",8),f.\u0275\u0275elementStart(26,"div",9),f.\u0275\u0275elementStart(27,"ngb-pagination",10),f.\u0275\u0275listener("pageChange",function(e){return t.page=e}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"div",9),f.\u0275\u0275elementStart(29,"div",11),f.\u0275\u0275elementStart(30,"select",12),f.\u0275\u0275listener("ngModelChange",function(e){return t.pageSize=e}),f.\u0275\u0275elementStart(31,"option",13),f.\u0275\u0275text(32),f.\u0275\u0275pipe(33,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"option",13),f.\u0275\u0275text(35),f.\u0275\u0275pipe(36,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"option",13),f.\u0275\u0275text(38),f.\u0275\u0275pipe(39,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(40,"option",13),f.\u0275\u0275text(41),f.\u0275\u0275pipe(42,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(43,za,9,11,"ng-template",null,14,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,23,"setting.closed-days-setting.closed-days-setting")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(8,25,"setting.setting_configuration_product.add")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(16,27,"setting.closed-days-setting.closed-days-names")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(19,29,"setting.closed-days-setting.branch")," "),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",f.\u0275\u0275pipeBind3(23,31,t.closedDaysList,(t.page-1)*t.pageSize,(t.page-1)*t.pageSize+t.pageSize)),f.\u0275\u0275advance(5),f.\u0275\u0275property("collectionSize",null==t.closedDaysList?null:t.closedDaysList.length)("page",t.page)("pageSize",t.pageSize)("maxSize",3)("boundaryLinks",!0),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",t.pageSize),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue",5),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(33,35,"pagination.5_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",10),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(36,37,"pagination.10_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",20),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(39,39,"pagination.20_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",50),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(42,41,"pagination.50_item")))},directives:[p.BN,r.NgForOf,o.N9,c.EJ,c.JJ,c.On,c.YN,c.Kr,Oe.Lv,r.NgClass,r.NgIf,c._Y,c.JL,c.sg,C.MU,le.jv,hn.NU,c.u,le.wj,c.Q7,c.CE,c.Wl,C.oH],pipes:[s.X$,r.SlicePipe],styles:[""]}),e})();class Wa{}var qa=n(88598);const Ha=function(e,t){return{textDecoration:e,color:t}};function Ya(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"span",15),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(2);f.\u0275\u0275property("ngStyle",f.\u0275\u0275pureFunction2(3,Ha,n.isClosedDate(e)?"line-through":"inherit",n.isClosedDate(e)?"grey":"inherit"))("title",n.getHolidayType(e)),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.day," ")}}function Qa(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",12),f.\u0275\u0275elementStart(1,"p-calendar",13),f.\u0275\u0275template(2,Ya,2,6,"ng-template",14),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275property("inline",!0)("showWeek",!0))}function Xa(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"date"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"td"),f.\u0275\u0275text(5),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"td"),f.\u0275\u0275elementStart(7,"bSwitch",26),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.isRecurring=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"td"),f.\u0275\u0275text(9),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"td"),f.\u0275\u0275elementStart(11,"button",27),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(2),i=f.\u0275\u0275reference(22);return n.editHoliday(i,t)}),f.\u0275\u0275element(12,"fa-icon",28),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"button",29),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext(2).disableHoliday(t)}),f.\u0275\u0275element(14,"fa-icon",28),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind2(3,10,e.holidayDate,"dd/MM/yyyy")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(e.holidayType),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.isRecurring)("switch-size","mini")("switch-handle-width",40)("switch-animate",!0)("switch-off-color","danger"),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",e.branchNames," "),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt")),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","trash"))}}function Za(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",12),f.\u0275\u0275elementStart(2,"div",16),f.\u0275\u0275elementStart(3,"table",17),f.\u0275\u0275elementStart(4,"thead"),f.\u0275\u0275elementStart(5,"tr"),f.\u0275\u0275elementStart(6,"th"),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"th"),f.\u0275\u0275text(10),f.\u0275\u0275pipe(11,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"th"),f.\u0275\u0275text(13),f.\u0275\u0275pipe(14,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"th"),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(18,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"tbody"),f.\u0275\u0275template(20,Xa,15,13,"tr",18),f.\u0275\u0275pipe(21,"slice"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"div",19),f.\u0275\u0275elementStart(23,"div",20),f.\u0275\u0275elementStart(24,"div",21),f.\u0275\u0275elementStart(25,"ngb-pagination",22),f.\u0275\u0275listener("pageChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().page=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"div",21),f.\u0275\u0275elementStart(27,"div",23),f.\u0275\u0275elementStart(28,"select",24),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().pageSize=t}),f.\u0275\u0275elementStart(29,"option",25),f.\u0275\u0275text(30),f.\u0275\u0275pipe(31,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(32,"option",25),f.\u0275\u0275text(33),f.\u0275\u0275pipe(34,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(35,"option",25),f.\u0275\u0275text(36),f.\u0275\u0275pipe(37,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(38,"option",25),f.\u0275\u0275text(39),f.\u0275\u0275pipe(40,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(8,19,"setting.holiday-setting.date")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(11,21,"setting.holiday-setting.type")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(14,23,"setting.holiday-setting.is-recurring")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(17,25,"setting.closed-days-setting.branch")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",f.\u0275\u0275pipeBind3(21,27,e.holidayList,(e.page-1)*e.pageSize,(e.page-1)*e.pageSize+e.pageSize)),f.\u0275\u0275advance(5),f.\u0275\u0275property("collectionSize",null==e.holidayList?null:e.holidayList.length)("page",e.page)("pageSize",e.pageSize)("maxSize",3)("boundaryLinks",!0),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",e.pageSize),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue",5),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(31,31,"pagination.5_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",10),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(34,33,"pagination.10_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",20),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(37,35,"pagination.20_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",50),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(40,37,"pagination.50_item"))}}const eo=function(e){return{"text-end":e}};function to(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",30),f.\u0275\u0275elementStart(1,"div",31),f.\u0275\u0275elementStart(2,"h5",32),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",33),f.\u0275\u0275elementStart(6,"span",34),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"form",35),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275elementStart(9,"div",4),f.\u0275\u0275elementStart(10,"div",36),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(14,"p-multiSelect",37),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"div",36),f.\u0275\u0275elementStart(17,"label"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"div",38),f.\u0275\u0275element(21,"input",39),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"div",36),f.\u0275\u0275elementStart(23,"label"),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"div",38),f.\u0275\u0275element(27,"input",40),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"div",36),f.\u0275\u0275element(29,"input",41),f.\u0275\u0275elementStart(30,"label",42),f.\u0275\u0275text(31),f.\u0275\u0275pipe(32,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(33,"div",43),f.\u0275\u0275elementStart(34,"button",44),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(35),f.\u0275\u0275pipe(36,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"button",45),f.\u0275\u0275text(38),f.\u0275\u0275pipe(39,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(34,eo,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,18,"update"===e.action?"setting.holiday-setting.update-holiday-setting":"setting.holiday-setting.add-holiday-setting"),""),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.groupForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,20,"setting.closed-days-setting.branch")),f.\u0275\u0275advance(2),f.\u0275\u0275propertyInterpolate("placeholder",f.\u0275\u0275pipeBind1(15,22,"customer_management.branch_default_select")),f.\u0275\u0275property("filter",!1)("options",e.branchEntities)("styleClass","full-width")("required",e.displayMultiSelect),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,24,"setting.holiday-setting.type")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,26,"setting.holiday-setting.date")),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(32,28,"setting.holiday-setting.is-recurring")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(36,30,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(39,32,"button.save"))}}let no=(()=>{class e{constructor(e,t,n,i,r,a){this.translate=e,this.library=t,this.formBuilder=n,this.modal=i,this.settingsService=r,this.devToolsServices=a,this.calendarMode=!0,this.closedDates=[],this.branchEntities=[],this.action="create"}ngOnInit(){this.pageSize=5,this.page=1,this.settingsService.findBranches(new ja._).toPromise().then(e=>{this.branchEntities=e,this.settingsService.findHolidaysSetting(new Wa).toPromise().then(e=>{e.map(e=>{const t=e.branchIds.split(";").map(e=>{const t=this.branchEntities.find(t=>t.id===parseInt(e.trim()));return t?t.name:""});e.branchNames=t.join(", "),e.branchNames=e.branchNames.replace(/^,|, $/g,"")}),this.holidayList=e,this.holidayList.forEach(e=>this.closedDates.push(new Date(e.holidayDate).toISOString().split("T")[0]))})})}isClosedDate(e){const t=`${e.year}-${("0"+(e.month+1)).slice(-2)}-${("0"+e.day).slice(-2)}`;return this.closedDates.includes(t)}addHoliday(e){this.action="create",this.holiday=new Wa,this.holiday.isRecurring=!1,this.createForm(this.holiday),this.modal.open(e)}editHoliday(e,t){this.action="update",this.holiday=t,this.createForm(t),this.modal.open(e)}disableHoliday(e){this.holiday=e,this.holiday.enabled=!1,this.devToolsServices.openConfirmDialogWithoutRedirect("setting.holiday-setting.delete-holiday-setting").afterClosed().subscribe(e=>{e&&this.settingsService.saveHolidaysSetting(this.holiday).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.ngOnInit()})})}createForm(e){const t=e?.branchIds?.split(";").filter(e=>""!=e).map(e=>this.branchEntities.find(t=>t.id===parseInt(e.trim())));this.groupForm=this.formBuilder.group({holidayDate:[e.holidayDate?new Date(e.holidayDate).toISOString().split("T")[0]:"",[jt.MS]],branch:[t,[jt.MS]],holidayType:[e.holidayType,[jt.MS]],isRecurring:[e.isRecurring]})}onSubmit(){this.devToolsServices.makeFormAsTouched(this.groupForm),this.groupForm.valid&&(this.holiday.holidayDate=this.groupForm.controls.holidayDate.value,this.holiday.holidayType=this.groupForm.controls.holidayType.value,this.holiday.isRecurring=this.groupForm.controls.isRecurring.value,this.holiday.branchIds=this.groupForm.controls.branch.value.map(e=>e.id).join(";"),this.holiday.branchIds=`;${this.holiday.branchIds};`,this.settingsService.saveHolidaysSetting(this.holiday).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.modal.dismissAll(),this.ngOnInit()}))}setCalendarMode(){this.calendarMode=!0}setListMode(){this.calendarMode=!1}closeModale(){this.modal.dismissAll()}getDirection(){return Se.y.direction}getHolidayType(e){let t=this.holidayList.find(t=>new Date(t.holidayDate).toISOString().split("T")[0]===`${e.year}-${("0"+(e.month+1)).slice(-2)}-${("0"+e.day).slice(-2)}`);if(t)return t.holidayType}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(S.R))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-holidays-setting"]],decls:23,vars:18,consts:[[1,"card"],[1,"card-header"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[2,"margin-right","7px",3,"icon"],[1,"card-body"],["role","group","aria-label","Button group with icons",1,"btn-group"],["type","button",1,"btn","btn-primary",3,"click"],[1,"vsm-icon","pe-7s-date"],[1,"vsm-icon","pe-7s-menu"],["class","py-3",4,"ngIf"],[4,"ngIf"],["modalContent",""],[1,"py-3"],[1,"max-w-full",3,"inline","showWeek"],["pTemplate","date"],[3,"ngStyle","title"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],[1,"card-footer","pb-0"],[1,"row","no-gutters","w-100"],[1,"col-xl-6","col-lg-6","col-md-12"],["size","sm",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],[1,"d-flex","justify-content-lg-end"],["name","pageSize",1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-handle-width","switch-animate","switch-off-color","ngModelChange"],[1,"btn","btn-sm","btn-warning","text-white","mx-1",3,"click"],[1,"mx-2",3,"icon"],[1,"btn","btn-sm","btn-danger","text-white",3,"click"],[3,"dir","ngClass"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button"],["aria-hidden","true",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","pb-4"],["formControlName","branch","optionLabel","description",3,"filter","options","styleClass","placeholder","required"],[1,"form-group"],["type","text","formControlName","holidayType",1,"form-control"],["type","date","formControlName","holidayDate",1,"form-control"],["type","checkbox","formControlName","isRecurring",1,"form-check-input"],[1,"custom-control-label","ms-2"],[1,"modal-footer"],["type","reset",1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-1","btn","btn-primary"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"button",2),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(22);return t.addHoliday(n)}),f.\u0275\u0275element(6,"fa-icon",3),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div",4),f.\u0275\u0275elementStart(10,"div",5),f.\u0275\u0275elementStart(11,"button",6),f.\u0275\u0275listener("click",function(){return t.setCalendarMode()}),f.\u0275\u0275element(12,"i",7),f.\u0275\u0275text(13),f.\u0275\u0275pipe(14,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"button",6),f.\u0275\u0275listener("click",function(){return t.setListMode()}),f.\u0275\u0275element(16,"i",8),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(19,Qa,3,2,"div",9),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(20,Za,41,39,"div",10),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(21,to,40,36,"ng-template",null,11,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,10,"setting.holiday-setting.holiday-setting")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(8,12,"setting.setting_configuration_product.add")," "),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(14,14,"setting.holiday-setting.calendar")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(18,16,"setting.holiday-setting.list")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",t.calendarMode&&t.holidayList),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!t.calendarMode))},directives:[p.BN,r.NgIf,qa.f,b.jx,r.NgStyle,r.NgForOf,o.N9,c.EJ,c.JJ,c.On,c.YN,c.Kr,I.U,Oe.Lv,r.NgClass,c._Y,c.JL,c.sg,C.MU,le.jv,hn.NU,c.u,le.wj,c.Q7,C.HK,c.Fj,C.oH,c.Wl],pipes:[s.X$,r.SlicePipe,r.DatePipe],styles:[""]}),e})();class io{}var ro=n(9308),ao=n(30165),oo=n(72084),lo=n(45961),so=n(14449);function co(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275elementStart(8,"button",14),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(43);return n.openLarge(i,t)}),f.\u0275\u0275element(9,"fa-icon",15),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.codeSMSEvent),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.messageBody),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.category),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt"))}}function po(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h4",39),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(2,1,"setting.add_new_sms")," "))}function mo(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h4",39),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,"setting.edit_sms_template")))}function uo(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",40),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(e)}}function go(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",40),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(e)}}function ho(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",40),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(e)}}function fo(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"select",41),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).updateMessageBody(t.target.value)}),f.\u0275\u0275template(2,ho,2,2,"option",25),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.Keywords)}}const vo=function(e){return{"text-end":e}};function So(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",16),f.\u0275\u0275elementStart(1,"form",17),f.\u0275\u0275elementStart(2,"div",18),f.\u0275\u0275template(3,po,3,3,"h4",19),f.\u0275\u0275template(4,mo,3,3,"h4",19),f.\u0275\u0275elementStart(5,"button",20),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275elementStart(6,"span",21),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"div",22),f.\u0275\u0275elementStart(9,"label"),f.\u0275\u0275text(10),f.\u0275\u0275pipe(11,"translate"),f.\u0275\u0275elementStart(12,"span",23),f.\u0275\u0275text(13,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div"),f.\u0275\u0275elementStart(15,"select",24),f.\u0275\u0275template(16,uo,2,2,"option",25),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"div",26),f.\u0275\u0275elementStart(18,"label"),f.\u0275\u0275text(19),f.\u0275\u0275pipe(20,"translate"),f.\u0275\u0275elementStart(21,"span",23),f.\u0275\u0275text(22,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"div"),f.\u0275\u0275element(24,"input",27),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"div",28),f.\u0275\u0275elementStart(26,"div",29),f.\u0275\u0275elementStart(27,"div",30),f.\u0275\u0275elementStart(28,"label"),f.\u0275\u0275text(29),f.\u0275\u0275pipe(30,"translate"),f.\u0275\u0275elementStart(31,"span",23),f.\u0275\u0275text(32,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(33,"div"),f.\u0275\u0275element(34,"textarea",31),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(35,"div",32),f.\u0275\u0275elementStart(36,"div",29),f.\u0275\u0275elementStart(37,"label"),f.\u0275\u0275text(38),f.\u0275\u0275pipe(39,"translate"),f.\u0275\u0275element(40,"span",23),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(41,"div",33),f.\u0275\u0275elementStart(42,"select",34),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onListSelectionChange(t.target.value)}),f.\u0275\u0275template(43,go,2,2,"option",25),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(44,"div"),f.\u0275\u0275template(45,fo,3,1,"div",35),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(46,"div",36),f.\u0275\u0275elementStart(47,"button",37),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(48),f.\u0275\u0275pipe(49,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(50,"button",38),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275text(51),f.\u0275\u0275pipe(52,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(29,vo,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e.popupForm),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",0===e.updateId),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",0!==e.updateId),f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(11,17,"setting.category"),""),f.\u0275\u0275advance(6),f.\u0275\u0275property("ngForOf",e.categoryList),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(20,19,"setting.SMSEventCode"),""),f.\u0275\u0275advance(10),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(30,21,"setting.Message_Body")," "),f.\u0275\u0275advance(9),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(39,23,"setting.keyword"),""),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngForOf",e.KeywordsList),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.selectedKeyword),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(49,25,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(52,27,"button.save"))}}let yo=(()=>{class e{constructor(e,t,n,i,r,a,o,l){this.settingsService=e,this.translate=t,this.formBuilder=n,this.modalService=i,this.devToolsServices=r,this.library=a,this.customerListService=o,this.collectionService=l,this.settingSMSFilter=new io,this.setting_SMS1=new io,this.setting_SMS=new io,this.settingSMS=[],this.updateId=0,this.checksms=!0,this.loanKeys=new ao.t,this.customerKeys=new $r.x,this.collectionKeys=new ro.F}ngOnInit(){var e=this;return(0,m.Z)(function*(){e.categoryList=[h.J.LOAN,h.J.COLLECTION,h.J.LEGAL,h.J.TOPUP],e.KeywordsList=[h.J.LOAN,h.J.CUSTOMER,h.J.Collection],e.pageSize=5,e.page=1,yield e.loadSettingSMS(),e.createKeywordsList()})()}loadSettingSMS(){this.settingsService.findAllSettingSMS(this.settingSMSFilter).subscribe(e=>{this.settingSMS=e})}openLarge(e,t){console.log(t),this.createForm(t),null!=t.idAcmTemplateSMS&&(this.setting_SMS=t),this.modalService.open(e,{size:"lg"}),this.updateId=null==t.idAcmTemplateSMS?0:1}createForm(e){this.popupForm=this.formBuilder.group({codeSMSEvent:[e.codeSMSEvent,[c.kI.required]],messageBody:[e.messageBody,c.kI.required],selectedCategory:[e.category,c.kI.required],selectedKeywords:[],selectedKey:[]})}checkSMSValid(){for(const e of this.settingSMS)if(e.codeSMSEvent===this.popupForm.controls.codeSMSEvent.value){this.checksms=!1,this.devToolsServices.openToast(3,"alert.existing_event_code");break}}onListSelectionChange(e){this.selectedKeywords=e,"collection"===e?(this.Keywords=Object.keys(this.collectionKeys),this.selectedKeyword=!0):"loan"===e?(this.Keywords=Object.keys(this.loanKeys),this.selectedKeyword=!0):"customer"===e&&(this.Keywords=Object.keys(this.customerKeys),this.selectedKeyword=!0)}filterCollectionEntity(e){const t={};for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];("string"==typeof i||"boolean"==typeof i||i instanceof Date||"number"==typeof i)&&(t[n]=i)}return t}filterCustomerEntity(e){const t={};for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];("string"==typeof i||"boolean"==typeof i||i instanceof Date||"number"==typeof i)&&(t[n]=i)}return t}filterLoanEntity(e){const t={};for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];("string"==typeof i||"boolean"==typeof i||i instanceof Date||"number"==typeof i)&&(t[n]=i)}return t}updateMessageBody(e){let t=this.popupForm.get("messageBody").value||"";e&&(t+=" ${"+this.selectedKeywords+"."+e+"}"),this.popupForm.get("messageBody").setValue(t)}getDirection(){return Se.y.direction}closeModale(){this.modalService.dismissAll()}onSubmit(){if(this.popupForm.valid)if(0!==this.updateId)this.setting_SMS.messageBody=this.popupForm.controls.messageBody.value,this.setting_SMS.category=this.popupForm.controls.selectedCategory.value,this.setting_SMS.codeSMSEvent=this.popupForm.controls.codeSMSEvent.value,this.settingsService.updateSettingSMS(this.setting_SMS).subscribe(()=>{this.loadSettingSMS(),this.modalService.dismissAll(),this.updateId=0,this.devToolsServices.openToast(0,"alert.success")});else if(this.checkSMSValid(),this.checksms){const e=new io;e.codeSMSEvent=this.popupForm.controls.codeSMSEvent.value,e.messageBody=this.popupForm.controls.messageBody.value,e.category=this.popupForm.controls.selectedCategory.value,this.settingsService.saveSettingSMS(e).subscribe(()=>{this.loadSettingSMS(),this.modalService.dismissAll(),this.updateId=0,this.devToolsServices.openToast(0,"alert.success")})}}createKeywordsList(){this.loanKeys.loanId=0,this.loanKeys.applyAmountTotal=0,this.loanKeys.approvelAmount=0,this.loanKeys.applyDate="",this.loanKeys.cuLoanReFinanceReason="",this.loanKeys.currencyId="",this.loanKeys.gracePeriod="",this.loanKeys.industryCode=0,this.loanKeys.industryCodeDescription="",this.loanKeys.issueDate=new Date,this.loanKeys.loanSourceOffunds="",this.loanKeys.portfolioId="",this.loanKeys.productId=0,this.loanKeys.processInstanceId=0,this.loanKeys.idLoanExtern="",this.loanKeys.statut="",this.loanKeys.idAccountExtern=0,this.loanKeys.accountNumber="",this.loanKeys.creationDate="",this.loanKeys.termPeriodNum=0,this.loanKeys.paymentPeriod="",this.loanKeys.paymentFreq=0,this.loanKeys.issueFeeAmount=0,this.loanKeys.productCode="",this.loanKeys.productDescription="",this.loanKeys.productRate=0,this.loanKeys.customerId=0,this.loanKeys.loanReasonId=0,this.loanKeys.loanReasonCode="",this.loanKeys.loanReasonDescription="",this.loanKeys.portfolioCode="",this.loanKeys.portfolioDescription="",this.loanKeys.currencySymbol="",this.loanKeys.currencyDecimalPlaces="",this.loanKeys.customerName="",this.loanKeys.customerNameNoPipe="",this.loanKeys.owner="",this.loanKeys.ownerName="",this.loanKeys.statutLibelle="",this.loanKeys.statutWorkflow=0,this.loanKeys.etapeWorkflow=0,this.loanKeys.workflowNextAction="",this.loanKeys.pourcentage="",this.loanKeys.ihmRoot="",this.loanKeys.note="",this.loanKeys.dateLastUpdate=new Date,this.loanKeys.contactDateCustomerDecision=new Date,this.loanKeys.commentsCustomerDecision="",this.loanKeys.confirm=!1,this.loanKeys.normalPayment="",this.loanKeys.codeExternMotifRejet=0,this.loanKeys.category="",this.loanKeys.loanCalculationMode=0,this.loanKeys.listMissingData=[],this.loanKeys.customerDTO=new $r.x,this.loanKeys.customerType="",this.loanKeys.parentId=0,this.loanKeys.approvelAmountGroupe=0,this.loanKeys.childMissingInfo=!1,this.loanKeys.initialPaymentDate=new Date,this.loanKeys.ignoreOddDays=!1,this.loanKeys.communityCULoanID=0,this.loanKeys.guarantorSourceId=0,this.loanKeys.sourceOfFundsID=0,this.loanKeys.refinanceReasonId=0,this.loanKeys.districtCodeId=0,this.loanKeys.interestFreq=0,this.loanKeys.intPayPeriodNum=0,this.loanKeys.termPeriodID=0,this.loanKeys.loanInstancesDtos=[],this.loanKeys.userDefinedFieldsLinksDTOs=[],this.loanKeys.updateLoan=!1,this.loanKeys.branchID=0,this.loanKeys.branchDescription="",this.loanKeys.branchName="",this.loanKeys.periodsDeferred=0,this.loanKeys.periodsDeferredType=0,this.loanKeys.assignCustomer=!1,this.loanKeys.guarantors=[],this.loanKeys.apr=0,this.loanKeys.effectiveIntRate=0,this.loanKeys.productDTO=new ye.J,this.loanKeys.changed=!1,this.loanKeys.groupOwner="",this.loanKeys.groupOwnerName="",this.loanKeys.collaterals=[],this.loanKeys.feeAmt1=0,this.loanKeys.updateLoanAbacus=!1,this.loanKeys.stepName="",this.loanKeys.workFlowAction="",this.loanKeys.loanApplicationStatus="",this.loanKeys.openingBalance=0,this.loanKeys.loanAssetsDtos=[],this.loanKeys.quantitySupplier=0,this.loanKeys.balanceSupplier=0,this.loanKeys.isOwnerOrValidator=!1,this.loanKeys.reviewFrom=0,this.loanKeys.totalInterest=0,this.loanKeys.personalContribution=0,this.loanKeys.workflowCompleted=!1,this.loanKeys.reviewOnlySelectedStep=!1,this.loanKeys.idIbLoan=0,this.loanKeys.otherInformations="",this.loanKeys.customRate=0,this.customerKeys.id=0,this.customerKeys.customerIdExtern=0,this.customerKeys.customerNumber="",this.customerKeys.customerName="",this.customerKeys.customerNameNoPipe="",this.customerKeys.firstName="",this.customerKeys.secondName="",this.customerKeys.middleName="",this.customerKeys.lastName="",this.customerKeys.customerOpenDate="",this.customerKeys.dateOfBirth=new Date,this.customerKeys.dateOfBirthHijri="",this.customerKeys.accountPortfolioID="",this.customerKeys.accountPortfolioCode="",this.customerKeys.accountPortfolioDescription="",this.customerKeys.altName="",this.customerKeys.customerAddress="",this.customerKeys.branchId=0,this.customerKeys.branchesName="",this.customerKeys.branchesDescription="",this.customerKeys.age=0,this.customerKeys.arrearDay=0,this.customerKeys.arrearSchedule=0,this.customerKeys.telephone1="",this.customerKeys.telephone2="",this.customerKeys.telephone3="",this.customerKeys.customerType="",this.customerKeys.customerCategory="",this.customerKeys.organisationId=0,this.customerKeys.groupeId=0,this.customerKeys.telephone="",this.customerKeys.fax="",this.customerKeys.registerNumber="",this.customerKeys.webSite="",this.customerKeys.sector="",this.customerKeys.organisationIdExtern="",this.customerKeys.email="",this.customerKeys.gender="",this.customerKeys.organizationName="",this.customerKeys.accountYearEnd=new Date,this.customerKeys.customerLinksRelationshipDTOs=[],this.customerKeys.customerLinksDTOs=[],this.customerKeys.solidarityName="",this.customerKeys.listAddress=[],this.customerKeys.updateCustomer=!1,this.customerKeys.isCustomer=!1,this.customerKeys.userDefinedFieldsLinksDTOs=[],this.customerKeys.amountGuarantor=0,this.customerKeys.listUDF=[],this.customerKeys.guarantors=[],this.customerKeys.listUDFGroup=[],this.customerKeys.expiryHijryDate=null,this.customerKeys.identity="",this.customerKeys.industryCode=null,this.customerKeys.resident=!1,this.customerKeys.colorCustomerKYC="",this.customerKeys.currentCustomerKYC=0,this.customerKeys.existkyc=!1,this.customerKeys.thirdPartyHistoriqueKyc=null,this.customerKeys.currentCustomerAML=0,this.customerKeys.colorCustomerAml="",this.customerKeys.existaml=!1,this.customerKeys.thirdPartyHistoriqueAml=null,this.customerKeys.currentCustomerISCORE=0,this.customerKeys.colorCustomerISCORE="",this.customerKeys.existISCORE=!1,this.customerKeys.thirdPartyHistoriqueISCORE=null,this.customerKeys.customerLinkCategory="",this.customerKeys.maritalStatus="",this.customerKeys.imageGrpOrg=null,this.customerKeys.photo=null,this.customerKeys.mezaCardId=0,this.customerKeys.disbursementMethodUpdatedToOtherThanMezaCard=!1,this.customerKeys.mezaCardStatus="",this.customerKeys.acmMezaCardDTO=null,this.customerKeys.disbursementMethodSelected="",this.customerKeys.dateInsertion=new Date,this.customerKeys.action="",this.customerKeys.enableCriticalData=!1,this.customerKeys.enabled=!1,this.customerKeys.ibCustomerId=0,this.customerKeys.udfLinksGroupeFieldsDTOs=[],this.customerKeys.isSupplier=!1,this.customerKeys.beneficialEffective="",this.customerKeys.prospectionSource="",this.customerKeys.prospectionComment="",this.customerKeys.supplierRecommandation=0,this.collectionKeys.id=0,this.collectionKeys.typeCustomer="",this.collectionKeys.accountNumber="",this.collectionKeys.productDescription="",this.collectionKeys.productId=0,this.collectionKeys.customerName="",this.collectionKeys.branchDescription="",this.collectionKeys.branchId=0,this.collectionKeys.currencyDecimalPlaces=0,this.collectionKeys.currencySymbol="",this.collectionKeys.amount=0,this.collectionKeys.loanOfficer="",this.collectionKeys.firstUnpaidInstallment=new Date,this.collectionKeys.unpaidAmount=0,this.collectionKeys.lateDays=0,this.collectionKeys.numberOfUnpaidInstallment=0,this.collectionKeys.status=0,this.collectionKeys.idAcmCollectionStep=0,this.collectionKeys.enabled=!1,this.collectionKeys.dateInsertion=new Date,this.collectionKeys.dateLastUpdate=new Date,this.collectionKeys.customerIdExtern=0,this.collectionKeys.idLoanExtern=0,this.collectionKeys.collectionInstancesDtos=[],this.collectionKeys.availableDate=new Date,this.collectionKeys.statutLibelle="",this.collectionKeys.statutLibelleDone="",this.collectionKeys.ownerName="",this.collectionKeys.owner="",this.collectionKeys.collectionType="",this.collectionKeys.idParentCollection=0,this.collectionKeys.acmThirdPartyCollections=[],this.collectionKeys.acmParticipantsCollections=[],this.collectionKeys.pendingCollectionInstance=new oo.Y,this.collectionKeys.statutWorkflow=""}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(lo.c),f.\u0275\u0275directiveInject(so.f))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-sms"]],decls:44,vars:43,consts:[[1,"card-hover-shadow-2x","mb-1","card"],[1,"card-header"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[1,"mx-2",3,"icon"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],[1,"card-footer","pb-0"],[1,"row","no-gutters","w-100"],[1,"col-xl-6","col-lg-6","col-md-12"],["size","sm",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],[1,"d-flex","justify-content-lg-end"],["name","pageSize2",1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["content",""],[1,"btn","btn-warning","text-white",3,"click"],[3,"icon"],[3,"dir","ngClass"],[3,"formGroup"],[1,"modal-header","py-2"],["class","modal-title",4,"ngIf"],["type","button","aria-label","Close",3,"click"],["aria-hidden","true"],[1,"position-relative","pb-4"],[1,"text-danger"],["formControlName","selectedCategory",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"p-2","pb-4"],["type","text","formControlName","codeSMSEvent",1,"form-control"],[1,"container","p-3"],[1,"row"],[1,"position-relative","col-8"],["formControlName","messageBody","rows","20","cols","200",1,"form-control"],[1,"position-relative","col-4"],[1,"input-group","mb-2"],["formControlName","selectedKeywords",1,"form-control",3,"change"],[4,"ngIf"],[1,"modal-footer","py-1"],[1,"mb-2","mx-2","btn","btn-outline-danger",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"modal-title"],[3,"value"],["formControlName","selectedKey",1,"form-control",3,"change"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275elementStart(2,"div"),f.\u0275\u0275elementStart(3,"button",2),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(43);return t.openLarge(n,t.setting_SMS1)}),f.\u0275\u0275element(4,"fa-icon",3),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"table",4),f.\u0275\u0275elementStart(8,"thead"),f.\u0275\u0275elementStart(9,"tr"),f.\u0275\u0275elementStart(10,"th"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"th"),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"th"),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(19,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"tbody"),f.\u0275\u0275template(21,co,10,4,"tr",5),f.\u0275\u0275pipe(22,"slice"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"div",6),f.\u0275\u0275elementStart(24,"div",7),f.\u0275\u0275elementStart(25,"div",8),f.\u0275\u0275elementStart(26,"ngb-pagination",9),f.\u0275\u0275listener("pageChange",function(e){return t.page=e}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"div",8),f.\u0275\u0275elementStart(28,"div",10),f.\u0275\u0275elementStart(29,"select",11),f.\u0275\u0275listener("ngModelChange",function(e){return t.pageSize=e}),f.\u0275\u0275elementStart(30,"option",12),f.\u0275\u0275text(31),f.\u0275\u0275pipe(32,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(33,"option",12),f.\u0275\u0275text(34),f.\u0275\u0275pipe(35,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(36,"option",12),f.\u0275\u0275text(37),f.\u0275\u0275pipe(38,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(39,"option",12),f.\u0275\u0275text(40),f.\u0275\u0275pipe(41,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(42,So,53,31,"ng-template",null,13,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(6,23,"button.add")," "),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,25,"setting.SMSEventCode")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(15,27,"setting.Message_Body")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(18,29,"setting.category")," "),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",f.\u0275\u0275pipeBind3(22,31,t.settingSMS,(t.page-1)*t.pageSize,(t.page-1)*t.pageSize+t.pageSize)),f.\u0275\u0275advance(5),f.\u0275\u0275property("collectionSize",t.settingSMS.length)("page",t.page)("pageSize",t.pageSize)("maxSize",3)("boundaryLinks",!0),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",t.pageSize),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue",5),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(32,35,"pagination.5_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",10),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(35,37,"pagination.10_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",20),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(38,39,"pagination.20_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",50),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(41,41,"pagination.50_item")))},directives:[p.BN,r.NgForOf,o.N9,c.EJ,c.JJ,c.On,c.YN,c.Kr,Oe.Lv,r.NgClass,c._Y,c.JL,c.sg,C.MU,le.jv,r.NgIf,C.oH,c.u,le.wj,c.Fj],pipes:[s.X$,r.SlicePipe],styles:[""]}),e})();function xo(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",25),f.\u0275\u0275elementStart(1,"small"),f.\u0275\u0275elementStart(2,"small"),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(4,1,"alert.max_age")))}function Eo(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",25),f.\u0275\u0275elementStart(1,"small"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,1,"alert.max_term")))}function bo(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",25),f.\u0275\u0275elementStart(1,"small"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,1,"alert.max_deferred_period")))}function Co(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",26),f.\u0275\u0275elementStart(1,"div"),f.\u0275\u0275elementStart(2,"button",27),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(4,4,"button.save"))}}const Io=function(){return{standalone:!0}};let wo=(()=>{class e{constructor(e,t,n,i){this.translate=e,this.formBuilder=t,this.devToolsServices=n,this.settingService=i,this.enabled=!0}ngOnChanges(e){this.productEntity=e.productEntity.currentValue,this.getGeneralSettingProduct()}ngOnInit(){this.getGeneralSettingProduct()}getGeneralSettingProduct(){this.product=this.productEntity,this.createForm(),this.generalSettingForm.controls.code.setValue(this.productEntity.code),this.generalSettingForm.controls.description.setValue(this.productEntity.description),this.generalSettingForm.controls.maximumAge.setValue(this.productEntity.maximumAge),this.generalSettingForm.controls.minimumAge.setValue(this.productEntity.minimumAge),this.generalSettingForm.controls.maxAccounts.setValue(this.productEntity.maxAccounts),this.generalSettingForm.controls.maximumTerm.setValue(this.productEntity.maximumTerm),this.generalSettingForm.controls.minimumTerm.setValue(this.productEntity.minimumTerm),this.generalSettingForm.controls.maximumDeferredPeriod.setValue(this.productEntity.maximumDeferredPeriod),this.generalSettingForm.controls.minimumDeferredPeriod.setValue(this.productEntity.minimumDeferredPeriod),0!=this.productEntity.rate?(this.enabled=!1,this.generalSettingForm.controls.rateValue.setValue(this.productEntity.rate)):(this.enabled=!0,this.generalSettingForm.controls.rateValue.setValue(this.productEntity.flatInterestRate))}enableFlatInterestRate(){this.generalSettingForm.controls.rateValue.setValue(this.enabled?this.productEntity.flatInterestRate:this.productEntity.rate)}onSubmit(){this.product.code=this.generalSettingForm.value.code,this.product.description=this.generalSettingForm.value.description,this.product.maximumAge=this.generalSettingForm.value.maximumAge,this.product.minimumAge=this.generalSettingForm.value.minimumAge,this.product.maxAccounts=this.generalSettingForm.value.maxAccounts,this.product.maximumTerm=this.generalSettingForm.value.maximumTerm,this.product.minimumTerm=this.generalSettingForm.value.minimumTerm,this.product.maximumDeferredPeriod=this.generalSettingForm.value.maximumDeferredPeriod,this.product.minimumDeferredPeriod=this.generalSettingForm.value.minimumDeferredPeriod,this.enabled?(this.product.flatInterestRate=this.generalSettingForm.value.rateValue,this.product.rate=0):(this.product.rate=this.generalSettingForm.value.rateValue,this.product.flatInterestRate=0),this.generalSettingForm.valid&&this.settingService.updateProduct(this.product).subscribe(()=>{this.devToolsServices.openToast(0,"alert.success")})}createForm(){this.generalSettingForm=this.formBuilder.group({code:["",c.kI.required],description:["",c.kI.required],minimumAge:["",c.kI.required],maximumAge:["",c.kI.required],maxAccounts:["",c.kI.required],minimumTerm:["",c.kI.required],maximumTerm:["",c.kI.required],minimumDeferredPeriod:["",c.kI.required],maximumDeferredPeriod:["",c.kI.required],rateValue:["0",c.kI.required]},{validators:[this.ageRangeValidator,this.termRangeValidator,this.deferredageRangeValidator]})}ageRangeValidator(e){const t=e.get("minimumAge")?.value,n=e.get("maximumAge")?.value;return null!==t&&null!==n&&n<=t?{ageRangeInvalid:!0}:null}termRangeValidator(e){const t=e.get("minimumTerm")?.value,n=e.get("maximumTerm")?.value;return null!==t&&null!==n&&n<=t?{termRangeInvalid:!0}:null}deferredageRangeValidator(e){const t=e.get("minimumDeferredPeriod")?.value,n=e.get("maximumDeferredPeriod")?.value;return null!==t&&null!==n&&n<=t?{deferredRangeInvalid:!0}:null}getUpdatedData(){return this.product.code=this.generalSettingForm.value.code,this.product.description=this.generalSettingForm.value.description,this.product.maximumAge=this.generalSettingForm.value.maximumAge,this.product.minimumAge=this.generalSettingForm.value.minimumAge,this.product.maxAccounts=this.generalSettingForm.value.maxAccounts,this.product.maximumTerm=this.generalSettingForm.value.maximumTerm,this.product.minimumTerm=this.generalSettingForm.value.minimumTerm,this.product.maximumDeferredPeriod=this.generalSettingForm.value.maximumDeferredPeriod,this.product.minimumDeferredPeriod=this.generalSettingForm.value.minimumDeferredPeriod,this.enabled?(this.product.flatInterestRate=this.generalSettingForm.value.rateValue,this.product.rate=0):(this.product.rate=this.generalSettingForm.value.rateValue,this.product.flatInterestRate=0),!!this.generalSettingForm.valid&&this.product}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(v.g))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-product-general-configuration"]],inputs:{productEntity:"productEntity",isEditMode:"isEditMode"},features:[f.\u0275\u0275NgOnChangesFeature],decls:105,vars:56,consts:[[1,"card"],[1,"card-header"],[1,"form","col-xl-12","col-md-12","px-0",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"row","p-2"],[1,"form-group","col-xl-6","col-md-6"],[1,"input-group"],["formControlName","code","type","text","min","0",1,"form-control","col-md-4"],["formControlName","description","type","text","min","0",1,"form-control","col-md-4"],[1,"form-group","ACM-image-client","col-xl-1","col-md-1"],[1,"form-group","col-xl-1","col-md-1"],["formControlName","minimumAge","type","number","min","0",1,"form-control"],["formControlName","maximumAge","type","number","min","0",1,"form-control"],["class","d-flex justify-content-end error-msg",4,"ngIf"],["formControlName","maxAccounts","type","number","min","0",1,"form-control","col-md-4"],["formControlName","minimumTerm","type","number","min","0",1,"form-control"],["formControlName","maximumTerm","type","number","min","0",1,"form-control"],["formControlName","minimumDeferredPeriod","type","number","min","0",1,"form-control"],["formControlName","maximumDeferredPeriod","type","number","min","0",1,"form-control"],[1,"form-group","col-xl-3","col-md-3"],["formControlName","rateValue","type","number","min","0",1,"form-control","col-md-4"],[1,"input-group","d-flex","align-items-center"],[1,"px-3"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","ngModelOptions","switch-off-color","ngModelChange","click"],["class","card-footer",4,"ngIf"],[1,"d-flex","justify-content-end","error-msg"],[1,"card-footer"],["type","submit",1,"btn","btn-primary","text-white"]],template:function(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"form",2),f.\u0275\u0275listener("ngSubmit",function(){return t.onSubmit()}),f.\u0275\u0275elementStart(5,"div",3),f.\u0275\u0275elementStart(6,"div",4),f.\u0275\u0275elementStart(7,"div",5),f.\u0275\u0275elementStart(8,"label"),f.\u0275\u0275text(9),f.\u0275\u0275pipe(10,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"div",5),f.\u0275\u0275elementStart(12,"div",6),f.\u0275\u0275element(13,"input",7),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",4),f.\u0275\u0275elementStart(15,"div",5),f.\u0275\u0275elementStart(16,"label"),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",5),f.\u0275\u0275elementStart(20,"div",6),f.\u0275\u0275element(21,"input",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"div",4),f.\u0275\u0275elementStart(23,"div",5),f.\u0275\u0275elementStart(24,"label"),f.\u0275\u0275text(25),f.\u0275\u0275pipe(26,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"div",9),f.\u0275\u0275elementStart(28,"label"),f.\u0275\u0275text(29),f.\u0275\u0275pipe(30,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(31,"div",10),f.\u0275\u0275elementStart(32,"div",6),f.\u0275\u0275element(33,"input",11),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"div",9),f.\u0275\u0275elementStart(35,"label"),f.\u0275\u0275text(36),f.\u0275\u0275pipe(37,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(38,"div",10),f.\u0275\u0275elementStart(39,"div",6),f.\u0275\u0275element(40,"input",12),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(41,xo,5,3,"div",13),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(42,"div",4),f.\u0275\u0275elementStart(43,"div",5),f.\u0275\u0275elementStart(44,"label"),f.\u0275\u0275text(45),f.\u0275\u0275pipe(46,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(47,"div",5),f.\u0275\u0275elementStart(48,"div",6),f.\u0275\u0275element(49,"input",14),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(50,"div",4),f.\u0275\u0275elementStart(51,"div",5),f.\u0275\u0275elementStart(52,"label"),f.\u0275\u0275text(53),f.\u0275\u0275pipe(54,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(55,"div",9),f.\u0275\u0275elementStart(56,"label"),f.\u0275\u0275text(57),f.\u0275\u0275pipe(58,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(59,"div",10),f.\u0275\u0275elementStart(60,"div",6),f.\u0275\u0275element(61,"input",15),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(62,"div",9),f.\u0275\u0275elementStart(63,"label"),f.\u0275\u0275text(64),f.\u0275\u0275pipe(65,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(66,"div",10),f.\u0275\u0275elementStart(67,"div",6),f.\u0275\u0275element(68,"input",16),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(69,Eo,4,3,"div",13),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(70,"div",4),f.\u0275\u0275elementStart(71,"div",5),f.\u0275\u0275elementStart(72,"label"),f.\u0275\u0275text(73),f.\u0275\u0275pipe(74,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(75,"div",9),f.\u0275\u0275elementStart(76,"label"),f.\u0275\u0275text(77),f.\u0275\u0275pipe(78,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(79,"div",10),f.\u0275\u0275elementStart(80,"div",6),f.\u0275\u0275element(81,"input",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(82,"div",9),f.\u0275\u0275elementStart(83,"label"),f.\u0275\u0275text(84),f.\u0275\u0275pipe(85,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(86,"div",10),f.\u0275\u0275elementStart(87,"div",6),f.\u0275\u0275element(88,"input",18),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(89,bo,4,3,"div",13),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(90,"div",4),f.\u0275\u0275elementStart(91,"div",5),f.\u0275\u0275elementStart(92,"label"),f.\u0275\u0275text(93),f.\u0275\u0275pipe(94,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(95,"div",19),f.\u0275\u0275elementStart(96,"div",6),f.\u0275\u0275element(97,"input",20),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(98,"div",19),f.\u0275\u0275elementStart(99,"div",21),f.\u0275\u0275elementStart(100,"label",22),f.\u0275\u0275text(101),f.\u0275\u0275pipe(102,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(103,"bSwitch",23),f.\u0275\u0275listener("ngModelChange",function(e){return t.enabled=e})("click",function(){return t.enableFlatInterestRate()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(104,Co,5,6,"div",24),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){let e,n,i;f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,25,"setting.general_config")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("formGroup",t.generalSettingForm),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(10,27,"setting.product_fields.product_code")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(18,29,"setting.product_fields.product_description")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(26,31,"setting.product_fields.age_group")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(30,33,"setting.product_fields.age_min")," "),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(37,35,"setting.product_fields.age_max")," "),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngIf",(null==t.generalSettingForm.errors?null:t.generalSettingForm.errors.ageRangeInvalid)&&(null==(e=t.generalSettingForm.get("maximumAge"))?null:e.touched)),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(46,37,"setting.product_fields.max_accounts_per_product")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(54,39,"setting.product_fields.loan_terms")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(58,41,"setting.product_fields.loan_terms_min")," "),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(65,43,"setting.product_fields.loan_terms_max")," "),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngIf",(null==t.generalSettingForm.errors?null:t.generalSettingForm.errors.termRangeInvalid)&&(null==(n=t.generalSettingForm.get("maximumTerm"))?null:n.touched)),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(74,45,"setting.product_fields.defered_period")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(78,47,"setting.product_fields.defered_period_min")," "),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(85,49,"setting.product_fields.defered_period_max")," "),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngIf",(null==t.generalSettingForm.errors?null:t.generalSettingForm.errors.deferredRangeInvalid)&&(null==(i=t.generalSettingForm.get("maximumDeferredPeriod"))?null:i.touched)),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(94,51,"setting.product_fields.default_rate")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(102,53,"setting.product_fields.flat_interest_rate")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",t.enabled)("switch-size","small")("switch-animate",!0)("ngModelOptions",f.\u0275\u0275pureFunction0(55,Io))("switch-off-color","danger"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.isEditMode)}},directives:[c._Y,c.JL,c.sg,C.MU,le.jv,C.HK,c.Fj,C.oH,c.JJ,c.u,le.wj,c.wV,c.qQ,r.NgIf,I.U,c.On],pipes:[s.X$],styles:[""]}),e})();class Fo{}var _o=n(56949);const Lo=["ngxLoading"],Do=function(){return{marginRight:"1rem"}};function ko(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275elementStart(1,"button",13),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext().$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(44);return n.updateConfiguration(i,t)}),f.\u0275\u0275element(2,"fa-icon",3),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementContainerEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275styleMap(f.\u0275\u0275pureFunction0(3,Do)),f.\u0275\u0275advance(1),f.\u0275\u0275property("icon",e.library.getIconDefinition("fas","pencil-alt"))}}function To(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"button",13,11),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext().index,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(44);return n.switchUpdateMode(i,t)}),f.\u0275\u0275element(2,"fa-icon",3),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275styleMap(f.\u0275\u0275pureFunction0(3,Do)),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",e.library.getIconDefinition("fas","pencil-alt"))}}function Mo(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275text(8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"td"),f.\u0275\u0275text(10),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"td"),f.\u0275\u0275text(12),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"td"),f.\u0275\u0275text(14),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"td"),f.\u0275\u0275text(16),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"td"),f.\u0275\u0275template(18,ko,3,4,"ng-container",10),f.\u0275\u0275template(19,To,3,4,"ng-template",null,11,f.\u0275\u0275templateRefExtractor),f.\u0275\u0275elementStart(21,"button",12),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e),n=t.$implicit,i=t.index;return f.\u0275\u0275nextContext().remove(n,i)}),f.\u0275\u0275element(22,"fa-icon",3),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275reference(20),i=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.minimumAmount),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.maximumAmount),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.minimumTerm),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.maximumTerm),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.termType),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.greenRate),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.orangeRate),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.redRate),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",i.isEditMode)("ngIfElse",n),f.\u0275\u0275advance(4),f.\u0275\u0275property("icon",i.library.getIconDefinition("fas","trash"))}}function Vo(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",34),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.id),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.label," ")}}function Ao(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",34),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.id),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.label," ")}}const Po=function(e){return{"text-end":e}};function Bo(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",14),f.\u0275\u0275elementStart(1,"div",15),f.\u0275\u0275elementStart(2,"h5",16),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",17),f.\u0275\u0275elementStart(6,"span",18),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"form",19),f.\u0275\u0275elementStart(9,"div",20),f.\u0275\u0275elementStart(10,"div",21),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",22),f.\u0275\u0275element(15,"input",23),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"div",21),f.\u0275\u0275elementStart(17,"label"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"div",22),f.\u0275\u0275element(21,"input",24),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"div",21),f.\u0275\u0275elementStart(23,"label"),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"div",22),f.\u0275\u0275element(27,"input",25),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"div",21),f.\u0275\u0275elementStart(29,"label"),f.\u0275\u0275text(30),f.\u0275\u0275pipe(31,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(32,"div",22),f.\u0275\u0275element(33,"input",26),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"div",21),f.\u0275\u0275elementStart(35,"label"),f.\u0275\u0275text(36),f.\u0275\u0275pipe(37,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(38,"div",22),f.\u0275\u0275element(39,"input",27),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(40,"div",21),f.\u0275\u0275elementStart(41,"label"),f.\u0275\u0275text(42),f.\u0275\u0275pipe(43,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(44,"div",22),f.\u0275\u0275element(45,"input",28),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(46,"div",21),f.\u0275\u0275elementStart(47,"label"),f.\u0275\u0275text(48),f.\u0275\u0275pipe(49,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(50,"div",22),f.\u0275\u0275element(51,"input",29),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(52,"div",21),f.\u0275\u0275elementStart(53,"label"),f.\u0275\u0275text(54),f.\u0275\u0275pipe(55,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(56,"ngx-select-dropdown",30),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().deferredPeriodTypeMethode()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(57,"div",31),f.\u0275\u0275elementStart(58,"div",32),f.\u0275\u0275elementStart(59,"label"),f.\u0275\u0275text(60),f.\u0275\u0275pipe(61,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(62,"select",33),f.\u0275\u0275elementStart(63,"option",34),f.\u0275\u0275listener("value",function(){return null}),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(64,Vo,2,2,"option",35),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(65,"div",36),f.\u0275\u0275elementStart(66,"label"),f.\u0275\u0275text(67),f.\u0275\u0275pipe(68,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(69,"div",22),f.\u0275\u0275element(70,"input",37),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(71,"div",21),f.\u0275\u0275elementStart(72,"label"),f.\u0275\u0275text(73),f.\u0275\u0275pipe(74,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(75,"select",38),f.\u0275\u0275elementStart(76,"option",34),f.\u0275\u0275listener("value",function(){return null}),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(77,Ao,2,2,"option",35),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(78,"div",21),f.\u0275\u0275elementStart(79,"label"),f.\u0275\u0275text(80),f.\u0275\u0275pipe(81,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(82,"p-multiSelect",39),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(83,"div",40),f.\u0275\u0275elementStart(84,"button",41),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(85),f.\u0275\u0275pipe(86,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(87,"button",42),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275text(88),f.\u0275\u0275pipe(89,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(59,Po,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(4,29,"setting.setting_configuration_product.configuration_product")),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.productDetailsForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,31,"setting.amount_min")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,33,"setting.amount_max")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,35,"setting.term_min")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(31,37,"setting.term_max")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(37,39,"setting.setting_configuration_product.greenRate")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(43,41,"setting.setting_configuration_product.orangeRate")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(49,43,"setting.setting_configuration_product.redRate")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(55,45,"setting.setting_configuration_product.deferred_period_types")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("multiple",!0)("options",e.allDeferredPeriodTypeEntities)("config",e.configDeferredPeriodType),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(61,47,"setting.setting_configuration_product.penalty_charge_fee")," "),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.penaltyChargeFees),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(68,49,"setting.setting_configuration_product.penalty_grace_period")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(74,51,"setting.setting_configuration_product.payout_charge_fee")," "),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.payoutChargeFees),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(81,53,"setting.setting_configuration_product.disbursement-fees")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("filter",!1)("options",e.normalChargeFees)("styleClass","full-width"),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(86,55,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(89,57,"button.save"))}}const No=function(e,t,n){return{animationType:e,primaryColour:t,tertiaryColour:n,backdropBorderRadius:"3px"}},Ro="var(--primary)";let Oo=(()=>{class e{constructor(e,t,n,i,r,a){this.modal=e,this.formBuilder=t,this.translate=n,this.settingsService=i,this.devToolsServices=r,this.library=a,this.ngxLoadingAnimationTypes=l.Sn,this.primaryColour=Ro,this.config={animationType:l.Sn.none,primaryColour:Ro},this.slideConfig6={className:"center",infinite:!0,slidesToShow:1,speed:500,adaptiveHeight:!0,dots:!0},this.loading=!0,this.productDetailsEntitys=[],this.updateId=0,this.enabled=!1,this.allDeferredPeriodTypeEntities=[],this.configDeferredPeriodType={displayKey:"code",search:!0,placeholder:" "},this.configChargeFee={displayKey:"id",valueKey:"value.id",search:!0,placeholder:" "}}ngOnInit(){this.productDetailsEntitys=this.productEntity.productDetailsDTOs,this.getDeferredPeriodTypes();let e=new Ii.T;e.feeTypes=[h.J.PENALTY_FEES,h.J.PAYOUT_FEES,h.J.NORMAL_FEES],this.settingsService.findSettingChargeFee(e).subscribe(e=>{this.penaltyChargeFees=e.filter(e=>e.feeType===h.J.PENALTY_FEES),this.payoutChargeFees=e.filter(e=>e.feeType===h.J.PAYOUT_FEES),this.normalChargeFees=e.filter(e=>e.feeType===h.J.NORMAL_FEES)})}ngOnChanges(e){this.productEntity=e.productEntity.currentValue,this.productDetailsEntitys=this.productEntity.productDetailsDTOs,this.loading=!1}getDirection(){return Se.y.direction}closeModale(){this.modal.dismissAll()}addConfiguration(e){this.updateId=0,this.createForm(),this.modal.open(e)}updateConfiguration(e,t){var n=this;return(0,m.Z)(function*(){if(n.createForm(),yield n.settingsService.findProduct(t.idProduct).toPromise().then(e=>{t=e.productDetailsDTOs[0]}),n.updateId=t.id,n.enabled=t.enabled,n.productDetailsForm.controls.amountMin.setValue(t.minimumAmount),n.productDetailsForm.controls.amountMax.setValue(t.maximumAmount),n.productDetailsForm.controls.termMin.setValue(t.minimumTerm),n.productDetailsForm.controls.termMax.setValue(t.maximumTerm),n.productDetailsForm.controls.termType.setValue(t.termType),n.productDetailsForm.controls.greenRate.setValue(t.greenRate),n.productDetailsForm.controls.orangeRate.setValue(t.orangeRate),n.productDetailsForm.controls.redRate.setValue(t.redRate),n.productDetailsForm.controls.panaltyFee.setValue(t.penaltySettingChargeFeeId),n.productDetailsForm.controls.penaltyGracePeriod.setValue(t.penaltyGracePeriod),n.productDetailsForm.controls.payoutFee.setValue(t.payoutSettingChargeFeeId),null!=t.disbursmentFeesSetting){let e=t.disbursmentFeesSetting.split(";").map(e=>Number(e));n.productDetailsForm.controls.disbursementFees.setValue(n.normalChargeFees.filter(t=>e.includes(t.id)))}if(null!=t.deferredPeriodTypes&&""!==t.deferredPeriodTypes){const e=(t.deferredPeriodTypes.match(/,/g)||[]).length+1;t.deferredPeriodTypes.split(",",e).forEach(e=>{n.allDeferredPeriodTypeEntities.find(t=>{t.deferredPeriodTypeId===+e&&n.productDetailsForm.controls.deferredPeriodTypes.value.push(t)})})}else n.productDetailsForm.controls.deferredPeriodTypes.setValue([]);n.modal.open(e,{size:"md"})})()}createForm(){this.productDetailsForm=this.formBuilder.group({amountMin:["",c.kI.required],amountMax:["",c.kI.required],termMin:["",c.kI.required],termMax:["",c.kI.required],termType:["",c.kI.required],greenRate:["",c.kI.required],orangeRate:["",c.kI.required],redRate:["",c.kI.required],panaltyFee:[""],penaltyGracePeriod:[0],payoutFee:[""],deferredPeriodTypes:[[],c.kI.required],disbursementFees:[[]]})}create(){this.modal.dismissAll();const e=new Fo;e.minimumAmount=this.productDetailsForm.controls.amountMin.value,e.maximumAmount=this.productDetailsForm.controls.amountMax.value,e.minimumTerm=this.productDetailsForm.controls.termMin.value,e.maximumTerm=this.productDetailsForm.controls.termMax.value,e.termType=h.J.TERM_TYPE_MONTH,e.idProduct=this.productEntity.id,e.enabled=!1,e.greenRate=this.productDetailsForm.controls.greenRate.value,e.orangeRate=this.productDetailsForm.controls.orangeRate.value,e.redRate=this.productDetailsForm.controls.redRate.value,e.penaltySettingChargeFeeId=this.productDetailsForm.controls.panaltyFee.value?.id,e.penaltyGracePeriod=this.productDetailsForm.controls.penaltyGracePeriod.value,e.payoutSettingChargeFeeId=this.productDetailsForm.controls.payoutFee.value?.id,null!=this.deferredPeriodTypeList&&(e.deferredPeriodTypes=this.deferredPeriodTypeList.slice(0,-1)),this.isEditMode?this.settingsService.createProductDetails(e).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.productDetailsEntitys.push(e)}):(e.id=this.productDetailsEntitys.length+1,this.productDetailsEntitys.push(e))}update(){var e=this;return(0,m.Z)(function*(){e.modal.dismissAll();const t=new Fo;t.id=e.updateId,t.minimumAmount=e.productDetailsForm.controls.amountMin.value,t.maximumAmount=e.productDetailsForm.controls.amountMax.value,t.minimumTerm=e.productDetailsForm.controls.termMin.value,t.maximumTerm=e.productDetailsForm.controls.termMax.value,t.greenRate=e.productDetailsForm.controls.greenRate.value,t.orangeRate=e.productDetailsForm.controls.orangeRate.value,t.redRate=e.productDetailsForm.controls.redRate.value,t.penaltyGracePeriod=e.productDetailsForm.controls.penaltyGracePeriod.value,t.termType=h.J.TERM_TYPE_MONTH,t.idProduct=e.productEntity.id,t.enabled=e.enabled,t.penaltySettingChargeFeeId=e.productDetailsForm.controls.panaltyFee.value,t.payoutSettingChargeFeeId=e.productDetailsForm.controls.payoutFee.value,t.disbursmentFeesSetting=e.productDetailsForm.controls.disbursementFees.value.map(e=>e.id).join(";"),e.deferredPeriodTypeMethode(),null!=e.deferredPeriodTypeList&&(t.deferredPeriodTypes=e.deferredPeriodTypeList.slice(0,-1)),e.isEditMode?e.settingsService.updateProductDetails(t).subscribe(()=>{e.settingsService.findProduct(t.idProduct).subscribe(t=>{e.productDetailsEntitys=t.productDetailsDTOs,e.devToolsServices.openToast(0,"alert.success")})}):e.productDetailsEntitys[e.selectedIndex]=t,e.ngOnInit()})()}onSubmit(){0!==this.updateId?this.update():this.create()}remove(e,t){this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.disable_product_detail").afterClosed().subscribe(n=>{n&&this.settingsService.deleteProductDetails(e.id).subscribe(()=>{this.devToolsServices.openToast(0,"alert.success"),this.productDetailsEntitys.splice(t,1)})})}deferredPeriodTypeMethode(){this.deferredPeriodTypeList="",this.productDetailsForm.controls.deferredPeriodTypes.value.forEach(e=>{this.deferredPeriodTypeList=e.deferredPeriodTypeId.toString()+","+this.deferredPeriodTypeList})}getDeferredPeriodTypes(){this.settingsService.getDeferredPeriodTypes().subscribe(e=>{this.allDeferredPeriodTypeEntities=e})}switchUpdateMode(e,t){this.updateId=-1,this.selectedIndex=t,this.modal.open(e,{size:"md"})}getUpdatedData(){return 0!=this.productDetailsEntitys.length&&{productDetailsDTOs:this.productDetailsEntitys}}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(p.by))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-product-configuration"]],viewQuery:function(e,t){if(1&e&&f.\u0275\u0275viewQuery(Lo,5),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.ngxLoadingComponent=e.first)}},inputs:{productEntity:"productEntity",isEditMode:"isEditMode"},features:[f.\u0275\u0275NgOnChangesFeature],decls:45,vars:41,consts:[[1,"card"],[1,"card-header"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[1,"mx-2",3,"icon"],[3,"show","config"],[1,"position-relative"],[1,"table-responsive"],[1,"align-middle","mb-0","table","table-hover"],[4,"ngFor","ngForOf"],["modalContent",""],[4,"ngIf","ngIfElse"],["localUpdate",""],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-warning","text-white","ms-2",3,"click"],[3,"dir","ngClass"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button"],["aria-hidden","true",3,"click"],[1,"form",3,"formGroup"],[1,"card-body"],[1,"position-relative","pb-2"],[1,"input-group","form-group"],["type","number","formControlName","amountMin",1,"form-control"],["type","number","formControlName","amountMax",1,"form-control"],["type","number","formControlName","termMin",1,"form-control"],["type","number","formControlName","termMax",1,"form-control"],["type","number","formControlName","greenRate",1,"form-control"],["type","number","formControlName","orangeRate",1,"form-control"],["type","number","formControlName","redRate",1,"form-control"],["tabindex","0","formControlName","deferredPeriodTypes",3,"multiple","options","config","change"],[1,"position-relative","row","pb-2"],[1,"col-xl-8","col-md-8"],["type","text","formControlName","panaltyFee",1,"form-control","form-group"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"col-xl-4","col-md-4"],["type","number","formControlName","penaltyGracePeriod",1,"form-control"],["type","text","formControlName","payoutFee",1,"form-control","form-group"],["formControlName","disbursementFees","optionLabel","label",3,"filter","options","styleClass"],[1,"modal-footer"],[1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],[1,"mb-1","btn","btn-primary",3,"click"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"button",2),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(44);return t.addConfiguration(n)}),f.\u0275\u0275element(6,"fa-icon",3),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div"),f.\u0275\u0275element(10,"ngx-loading",4),f.\u0275\u0275elementStart(11,"div",5),f.\u0275\u0275elementStart(12,"div",6),f.\u0275\u0275elementStart(13,"table",7),f.\u0275\u0275elementStart(14,"thead"),f.\u0275\u0275elementStart(15,"tr"),f.\u0275\u0275elementStart(16,"th"),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"th"),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"th"),f.\u0275\u0275text(23),f.\u0275\u0275pipe(24,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"th"),f.\u0275\u0275text(26),f.\u0275\u0275pipe(27,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"th"),f.\u0275\u0275text(29),f.\u0275\u0275pipe(30,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(31,"th"),f.\u0275\u0275text(32),f.\u0275\u0275pipe(33,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"th"),f.\u0275\u0275text(35),f.\u0275\u0275pipe(36,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"th"),f.\u0275\u0275text(38),f.\u0275\u0275pipe(39,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(40,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(41,"tbody"),f.\u0275\u0275template(42,Mo,23,11,"tr",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(43,Bo,90,61,"ng-template",null,9,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,17,"setting.setting_configuration_product.setting_configuration_product")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(8,19,"setting.setting_configuration_product.add")," "),f.\u0275\u0275advance(3),f.\u0275\u0275property("show",t.loading)("config",f.\u0275\u0275pureFunction3(37,No,t.ngxLoadingAnimationTypes.circle,t.primaryColour,t.primaryColour)),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(18,21,"setting.amount_min")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(21,23,"setting.amount_max")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(24,25,"setting.term_min")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(27,27,"setting.term_max")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(30,29,"setting.term_type")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(33,31,"setting.setting_configuration_product.greenRate")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(36,33,"setting.setting_configuration_product.orangeRate")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(39,35,"setting.setting_configuration_product.redRate")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",t.productDetailsEntitys))},directives:[p.BN,l.RJ,r.NgForOf,r.NgIf,Oe.Lv,r.NgClass,c._Y,c.JL,c.sg,C.MU,le.jv,C.HK,c.wV,c.Fj,C.oH,c.JJ,c.u,le.wj,_o.rL,c.EJ,c.YN,c.Kr,hn.NU],pipes:[s.X$],styles:[""]}),e})();class jo{}var Go=n(59649);const Uo=["ngxLoading"],$o=function(e,t,n){return{animationType:e,primaryColour:t,tertiaryColour:n,backdropBorderRadius:"3px"}},Jo="var(--primary)";let zo=(()=>{class e{constructor(e,t,n){this.settingsService=e,this.devToolsServices=t,this.formBuilder=n,this.productEntitys=[],this.stateGuarantor=!1,this.stateCollateral=!1,this.disableGuarantor=!0,this.disableCollateral=!0,this.ngxLoadingAnimationTypes=l.Sn,this.primaryColour=Jo,this.config={animationType:l.Sn.none,primaryColour:Jo},this.slideConfig6={className:"center",infinite:!0,slidesToShow:1,speed:500,adaptiveHeight:!0,dots:!0},this.loading=!0,this.stateFieldVisit=!1,this.stateAuditReview=!1,this.stateRiskReview=!1,this.stateIndiv=!1,this.stateGrp=!1,this.stateOrg=!1,this.stateAdminFees=!1,this.stateApplicationFees=!1,this.settingRequiredStepEntity=new Go.n,this.percentageInvalid=!1,this.stateTopup=!1,this.stateRefinance=!1,this.stateFrequency=!1,this.stateSupplier=!1,this.stateDisburse=!1,this.stateDeferredPeriodeFrequency=!1}ngOnInit(){}ngOnChanges(e){this.loading=!0,this.productEntity=e.productEntity.currentValue,this.disableGuarantor=!1,this.disableCollateral=!1,this.stateGuarantor=!1,this.stateCollateral=!1,this.settingGurantorEntity=null,this.settingCollateralEntity=null,this.settingFieldVisit=null,this.settingAuditReview=null,this.settingRiskReview=null,this.settingAdminFees=null,this.settingApplicationFees=null,this.stateFieldVisit=!1,this.stateAuditReview=!1,this.stateRiskReview=!1,this.stateIndiv=!1,this.stateOrg=!1,this.stateGrp=!1,this.stateAdminFees=!1,this.stateApplicationFees=!1,this.stateSupplier=!1,this.stateDeferredPeriodeFrequency=!1,this.settingsService.getEnvirementValueByKeys([h.J.APPLICATION_FEE,h.J.ADMIN_FEE,h.J.RENEWEL_LOAN_CONDITION]).subscribe(e=>{this.settingApplicationFees=e[0],this.settingAdminFees=e[1],this.renewalLoanCondition=e[2].value,this.stateApplicationFees="1"===e[0].value,this.stateAdminFees="1"===e[1].value}),this.createPercentageRenewalLoanForm(),this.isEditMode?this.settingsService.findProductById(this.productEntity.id).subscribe(e=>{this.product=e,this.stateIndiv=this.product.productIndiv,this.stateGrp=this.product.productGrp,this.stateOrg=this.product.productOrg,this.stateTopup=this.product.topup,this.stateRefinance=this.product.refinance,this.stateSupplier=this.product.supplier,this.stateDisburse=this.product.disburse,this.stateFrequency=this.product.isFrequency,this.renewalLoanPercentageForm.controls.percentage.setValue(100*this.product.renewalPercentage),this.stateDeferredPeriodeFrequency=this.product.isFrequencyWithDeferredPeriode}):(this.product=this.productEntity,this.stateIndiv=this.product.productIndiv,this.stateGrp=this.product.productGrp,this.stateOrg=this.product.productOrg,this.stateTopup=this.product.topup,this.stateRefinance=this.product.refinance,this.stateSupplier=this.product.supplier,this.stateDisburse=this.product.disburse,this.stateFrequency=this.product.isFrequency,this.stateDeferredPeriodeFrequency=this.product.isFrequencyWithDeferredPeriode);const t=new jo;t.productId=this.productEntity.id,this.settingsService.findSettingGurantorCollateral(t).subscribe(e=>{0===e.length?(this.stateGuarantor=!1,this.stateCollateral=!1):e.forEach(e=>{e.code===h.J.SETTING_GUARANTOR_COLLATERAL_CODE_GUARANTOR?(this.settingGurantorEntity=e,e.mandatory&&(this.stateGuarantor=!0)):e.code===h.J.SETTING_GUARANTOR_COLLATERAL_CODE_COLLATERAL&&(this.settingCollateralEntity=e,e.mandatory&&(this.stateCollateral=!0))}),this.settingRequiredStepEntity.productId=this.productEntity.id,this.settingsService.findSettingRequiredStep(this.settingRequiredStepEntity).subscribe(e=>{e.forEach(e=>{e.code===h.J.SETTING_REQUIRED_STEP_CODE_FIELD_VISIT?(this.settingFieldVisit=e,e.mandatory&&(this.stateFieldVisit=!0)):e.code===h.J.SETTING_REQUIRED_STEP_CODE_AUDIT_REVIEW?(this.settingAuditReview=e,e.mandatory&&(this.stateAuditReview=!0)):e.code===h.J.SETTING_REQUIRED_STEP_CODE_RISK_REVIEW&&(this.settingRiskReview=e,e.mandatory&&(this.stateRiskReview=!0))})}),this.loading=!1})}updateIndiv(){null!=this.product&&null!==this.product.id&&(this.product.productIndiv=!this.product.productIndiv,this.stateIndiv=this.product.productIndiv,this.settingsService.updateProduct(this.product).subscribe())}updateOrg(){null!=this.product&&null!==this.product.id&&(this.product.productOrg=!this.product.productOrg,this.stateOrg=this.product.productOrg,this.settingsService.updateProduct(this.product).subscribe())}updateGrp(){null!=this.product&&null!==this.product.id&&(this.product.productGrp=!this.product.productGrp,this.stateGrp=this.product.productGrp,this.settingsService.updateProduct(this.product).subscribe())}createPercentageRenewalLoanForm(){this.renewalLoanPercentageForm=this.formBuilder.group({percentage:[0,[c.kI.required,c.kI.min(0),c.kI.max(100)]]})}changePercentage(){this.percentageInvalid=!1,(this.renewalLoanPercentageForm.controls.percentage.value<0||this.renewalLoanPercentageForm.controls.percentage.value>100)&&(this.percentageInvalid=!0)}updatePercentage(){null!=this.product&&!this.percentageInvalid&&(this.product.renewalPercentage=.01*this.renewalLoanPercentageForm.controls.percentage.value,this.settingsService.updateProduct(this.product).subscribe(()=>{this.devToolsServices.openToast(0,"alert.success")}))}updateGuarantor(){null!=this.settingGurantorEntity?(this.settingGurantorEntity.mandatory=!this.settingGurantorEntity.mandatory,this.stateGuarantor=this.settingGurantorEntity.mandatory,this.settingsService.updateSettingGurantorCollateral(this.settingGurantorEntity).subscribe()):(this.settingGurantorEntity=new jo,this.settingGurantorEntity.productId=this.productEntity.id,this.settingGurantorEntity.code=h.J.SETTING_GUARANTOR_COLLATERAL_CODE_GUARANTOR,this.settingGurantorEntity.keyAbacus=h.J.SETTING_GUARANTOR_COLLATERAL_KEYABACUS_GUARANTOR,this.settingGurantorEntity.description=h.J.SETTING_GUARANTOR_COLLATERAL_DESCRIPTION_GUARANTOR,this.settingGurantorEntity.mandatory=this.stateGuarantor,this.loading=!0,this.settingsService.createSettingGurantorCollateral(this.settingGurantorEntity).subscribe(e=>{this.settingGurantorEntity=e,this.loading=!1}))}updateCollateral(){null!=this.settingCollateralEntity?(this.settingCollateralEntity.mandatory=!this.settingCollateralEntity.mandatory,this.stateCollateral=this.settingCollateralEntity.mandatory,this.settingsService.updateSettingGurantorCollateral(this.settingCollateralEntity).subscribe()):(this.settingCollateralEntity=new jo,this.settingCollateralEntity.productId=this.productEntity.id,this.settingCollateralEntity.code=h.J.SETTING_GUARANTOR_COLLATERAL_CODE_COLLATERAL,this.settingCollateralEntity.keyAbacus=h.J.SETTING_GUARANTOR_COLLATERAL_KEYABACUS_COLLATERAL,this.settingCollateralEntity.description=h.J.SETTING_GUARANTOR_COLLATERAL_DESCRIPTION_COLLATERAL,this.settingCollateralEntity.mandatory=this.stateCollateral,this.loading=!0,this.settingsService.createSettingGurantorCollateral(this.settingCollateralEntity).subscribe(e=>{this.settingCollateralEntity=e,this.loading=!1}))}updateFieldVisit(){null!=this.settingFieldVisit?(this.settingFieldVisit.mandatory=!this.settingFieldVisit.mandatory,this.stateFieldVisit=this.settingFieldVisit.mandatory,this.settingsService.updateSettingRequiredStep(this.settingFieldVisit).subscribe()):(this.settingFieldVisit=new Go.n,this.settingFieldVisit.productId=this.productEntity.id,this.settingFieldVisit.code=h.J.SETTING_REQUIRED_STEP_CODE_FIELD_VISIT,this.settingFieldVisit.description=h.J.SETTING_REQUIRED_STEP_CODE_FIELD_VISIT,this.settingFieldVisit.mandatory=this.stateFieldVisit,this.loading=!0,this.settingsService.createSettingRequiredStep(this.settingFieldVisit).subscribe(e=>{this.settingFieldVisit=e,this.loading=!1}))}updateAuditReview(){null!=this.settingAuditReview?(this.settingAuditReview.mandatory=!this.settingAuditReview.mandatory,this.stateAuditReview=this.settingAuditReview.mandatory,this.settingsService.updateSettingRequiredStep(this.settingAuditReview).subscribe()):(this.settingAuditReview=new Go.n,this.settingAuditReview.productId=this.productEntity.id,this.settingAuditReview.code=h.J.SETTING_REQUIRED_STEP_CODE_AUDIT_REVIEW,this.settingAuditReview.description=h.J.SETTING_REQUIRED_STEP_CODE_AUDIT_REVIEW,this.settingAuditReview.mandatory=this.stateAuditReview,this.loading=!0,this.settingsService.createSettingRequiredStep(this.settingAuditReview).subscribe(e=>{this.settingAuditReview=e,this.loading=!1}))}updateRiskReview(){null!=this.settingRiskReview?(this.settingRiskReview.mandatory=!this.settingRiskReview.mandatory,this.stateRiskReview=this.settingRiskReview.mandatory,this.settingsService.updateSettingRequiredStep(this.settingRiskReview).subscribe()):(this.settingRiskReview=new Go.n,this.settingRiskReview.productId=this.productEntity.id,this.settingRiskReview.code=h.J.SETTING_REQUIRED_STEP_CODE_RISK_REVIEW,this.settingRiskReview.description=h.J.SETTING_REQUIRED_STEP_CODE_RISK_REVIEW,this.settingRiskReview.mandatory=this.stateRiskReview,this.loading=!0,this.settingsService.createSettingRequiredStep(this.settingRiskReview).subscribe(e=>{this.settingRiskReview=e,this.loading=!1}))}updateApplicationFees(){null!=this.settingApplicationFees&&(this.loading=!0,"0"===this.settingApplicationFees.value?(this.settingApplicationFees.value="1",this.stateApplicationFees=!0):(this.settingApplicationFees.value="0",this.stateApplicationFees=!1),this.settingsService.updateAcmEnvironment(this.settingApplicationFees).subscribe(e=>{this.loading=!1}))}updateAdminFees(){null!=this.settingAdminFees&&("0"===this.settingAdminFees.value?(this.settingAdminFees.value="1",this.stateAdminFees=!0):(this.settingAdminFees.value="0",this.stateAdminFees=!1),this.settingsService.updateAcmEnvironment(this.settingAdminFees).subscribe())}updateTopup(){null!=this.product&&null!==this.product.id&&(this.product.topup=!this.product.topup,this.stateTopup=this.product.topup,this.settingsService.updateProduct(this.product).subscribe())}updateRefinance(){null!=this.product&&null!==this.product.id&&(this.product.refinance=!this.product.refinance,this.stateRefinance=this.product.refinance,this.settingsService.updateProduct(this.product).subscribe())}updateSupplier(){null!=this.product&&null!==this.product.id&&(this.product.supplier=!this.product.supplier,this.stateSupplier=this.product.supplier,this.settingsService.updateProduct(this.product).subscribe(),this.devToolsServices.openToast(0,"alert.success"))}updateAutomaticDisburse(){null!=this.product&&null!==this.product.id&&(this.product.disburse=!this.product.disburse,this.stateDisburse=this.product.disburse,this.settingsService.updateProduct(this.product).subscribe(),this.devToolsServices.openToast(0,"alert.success"))}updateFrequency(){null!=this.product&&null!==this.product.id&&(this.product.isFrequency=!this.product.isFrequency,this.stateFrequency=this.product.isFrequency,this.settingsService.updateProduct(this.product).subscribe())}updateDeferredPeriodeFrequency(){null!=this.product&&null!==this.product.id&&(this.product.isFrequencyWithDeferredPeriode=!this.product.isFrequencyWithDeferredPeriode,this.stateDeferredPeriodeFrequency=this.product.isFrequencyWithDeferredPeriode,this.settingsService.updateProduct(this.product).subscribe())}getUpdatedData(){return{productIndiv:this.stateIndiv,productGrp:this.stateGrp,productOrg:this.stateOrg,topup:this.stateTopup,refinance:this.stateRefinance,supplier:this.stateSupplier,disburse:this.stateDisburse,isFrequency:this.stateFrequency,isFrequencyWithDeferredPeriode:this.stateDeferredPeriodeFrequency}}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(c.qu))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-guarantar-collateral"]],viewQuery:function(e,t){if(1&e&&f.\u0275\u0275viewQuery(Uo,5),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.ngxLoadingComponent=e.first)}},inputs:{productEntity:"productEntity",isEditMode:"isEditMode"},features:[f.\u0275\u0275NgOnChangesFeature],decls:72,vars:86,consts:[[1,"card"],[3,"show","config"],[1,"card-header"],[1,"card-body"],["hidden","",1,"col-xl-12","pb-2"],[1,"input-group"],[1,"mb-0","col-xl-6","px-0"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","ngModelChange","click"],[1,"col-xl-12","pb-2"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275element(1,"ngx-loading",1),f.\u0275\u0275elementStart(2,"div",2),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div",3),f.\u0275\u0275elementStart(6,"div",4),f.\u0275\u0275elementStart(7,"div",5),f.\u0275\u0275elementStart(8,"label",6),f.\u0275\u0275text(9),f.\u0275\u0275pipe(10,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"bSwitch",7),f.\u0275\u0275listener("ngModelChange",function(e){return t.stateApplicationFees=e})("click",function(){return t.updateApplicationFees()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"div",4),f.\u0275\u0275elementStart(13,"div",5),f.\u0275\u0275elementStart(14,"label",6),f.\u0275\u0275text(15),f.\u0275\u0275pipe(16,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"bSwitch",7),f.\u0275\u0275listener("ngModelChange",function(e){return t.stateAdminFees=e})("click",function(){return t.updateAdminFees()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"div",8),f.\u0275\u0275elementStart(19,"div",5),f.\u0275\u0275elementStart(20,"label",6),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"bSwitch",7),f.\u0275\u0275listener("ngModelChange",function(e){return t.stateIndiv=e})("click",function(){return t.updateIndiv()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"div",8),f.\u0275\u0275elementStart(25,"div",5),f.\u0275\u0275elementStart(26,"label",6),f.\u0275\u0275text(27),f.\u0275\u0275pipe(28,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(29,"bSwitch",7),f.\u0275\u0275listener("ngModelChange",function(e){return t.stateGrp=e})("click",function(){return t.updateGrp()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"div",8),f.\u0275\u0275elementStart(31,"div",5),f.\u0275\u0275elementStart(32,"label",6),f.\u0275\u0275text(33),f.\u0275\u0275pipe(34,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(35,"bSwitch",7),f.\u0275\u0275listener("ngModelChange",function(e){return t.stateOrg=e})("click",function(){return t.updateOrg()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(36,"div",8),f.\u0275\u0275elementStart(37,"div",5),f.\u0275\u0275elementStart(38,"label",6),f.\u0275\u0275text(39),f.\u0275\u0275pipe(40,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(41,"bSwitch",7),f.\u0275\u0275listener("ngModelChange",function(e){return t.stateTopup=e})("click",function(){return t.updateTopup()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(42,"div",8),f.\u0275\u0275elementStart(43,"div",5),f.\u0275\u0275elementStart(44,"label",6),f.\u0275\u0275text(45),f.\u0275\u0275pipe(46,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(47,"bSwitch",7),f.\u0275\u0275listener("ngModelChange",function(e){return t.stateRefinance=e})("click",function(){return t.updateRefinance()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(48,"div",8),f.\u0275\u0275elementStart(49,"div",5),f.\u0275\u0275elementStart(50,"label",6),f.\u0275\u0275text(51),f.\u0275\u0275pipe(52,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(53,"bSwitch",7),f.\u0275\u0275listener("ngModelChange",function(e){return t.stateSupplier=e})("click",function(){return t.updateSupplier()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(54,"div",8),f.\u0275\u0275elementStart(55,"div",5),f.\u0275\u0275elementStart(56,"label",6),f.\u0275\u0275text(57),f.\u0275\u0275pipe(58,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(59,"bSwitch",7),f.\u0275\u0275listener("ngModelChange",function(e){return t.stateDisburse=e})("click",function(){return t.updateAutomaticDisburse()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(60,"div",8),f.\u0275\u0275elementStart(61,"div",5),f.\u0275\u0275elementStart(62,"label",6),f.\u0275\u0275text(63),f.\u0275\u0275pipe(64,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(65,"bSwitch",7),f.\u0275\u0275listener("ngModelChange",function(e){return t.stateFrequency=e})("click",function(){return t.updateFrequency()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(66,"div",8),f.\u0275\u0275elementStart(67,"div",5),f.\u0275\u0275elementStart(68,"label",6),f.\u0275\u0275text(69),f.\u0275\u0275pipe(70,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(71,"bSwitch",7),f.\u0275\u0275listener("ngModelChange",function(e){return t.stateDeferredPeriodeFrequency=e})("click",function(){return t.updateDeferredPeriodeFrequency()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275property("show",t.loading)("config",f.\u0275\u0275pureFunction3(82,$o,t.ngxLoadingAnimationTypes.circle,t.primaryColour,t.primaryColour)),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,58,"setting.setting_steps_workflow.steps_workflow")," "),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(10,60,"setting.setting_steps_workflow.application_fees")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",t.stateApplicationFees)("switch-size","small")("switch-animate",!0)("switch-off-color","danger"),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(16,62,"setting.setting_steps_workflow.admin_fees")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",t.stateAdminFees)("switch-size","small")("switch-animate",!0)("switch-off-color","danger"),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,64,"setting.setting_steps_workflow.indiv")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",t.stateIndiv)("switch-size","small")("switch-animate",!0)("switch-off-color","danger"),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(28,66,"setting.setting_steps_workflow.grp")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",t.stateGrp)("switch-size","small")("switch-animate",!0)("switch-off-color","danger"),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(34,68,"setting.setting_steps_workflow.org")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",t.stateOrg)("switch-size","small")("switch-animate",!0)("switch-off-color","danger"),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(40,70,"loan_management.topup_refinance.topup")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",t.stateTopup)("switch-size","small")("switch-animate",!0)("switch-off-color","danger"),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(46,72,"loan_management.topup_refinance.refinance")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",t.stateRefinance)("switch-size","small")("switch-animate",!0)("switch-off-color","danger"),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(52,74,"setting.setting_steps_workflow.setting_supplier")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",t.stateSupplier)("switch-size","small")("switch-animate",!0)("switch-off-color","danger"),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(58,76,"setting.setting_steps_workflow.disburse")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",t.stateDisburse)("switch-size","small")("switch-animate",!0)("switch-off-color","danger"),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(64,78,"loan.frequency")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",t.stateFrequency)("switch-size","small")("switch-animate",!0)("switch-off-color","danger"),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(70,80,"setting.deferred_periode_frequency")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",t.stateDeferredPeriodeFrequency)("switch-size","small")("switch-animate",!0)("switch-off-color","danger"))},directives:[l.RJ,I.U,c.JJ,c.On],pipes:[s.X$],styles:[""]}),e})();class Ko{}var Wo=n(6452),qo=n(91841);let Ho=(()=>{class e{constructor(e){this.httpClient=e}getSettingTopup(e){return this.httpClient.post(Wo.f.GET_SETTING_TOPUP,e)}createSettingTopup(e){return this.httpClient.post(Wo.f.CREATE_SETTING_TOPUP,e)}updateSettingTopup(e){return this.httpClient.put(Wo.f.UPDATE_SETTING_TOPUP,e)}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275inject(qo.eN))},e.\u0275prov=f.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Yo(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",23),f.\u0275\u0275elementStart(1,"div"),f.\u0275\u0275elementStart(2,"button",24),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(4,4,"button.save"))}}let Qo=(()=>{class e{constructor(e,t,n,i,r){this.translate=e,this.formBuilder=t,this.devToolsServices=n,this.settingTopupService=i,this.settingService=r,this.settingTopupEntity=new Ko}ngOnChanges(e){this.getTopupSettingByProduct()}ngOnInit(){this.getTopupSettingByProduct()}getTopupSettingByProduct(){this.createForm(),(new Ko).productId=this.productEntity.id,null!==this.productEntity.settingTopup?(this.settingTopupEntity=this.productEntity.settingTopup,this.topupSettingForm.controls.minLoanPaymentPercentage.setValue(this.settingTopupEntity.topupMinLoanPaymentPercentage),this.topupSettingForm.controls.maxContinuousLateDays.setValue(this.settingTopupEntity.topupMaxContinuousLateDays),this.topupSettingForm.controls.maxSeparateLateDays.setValue(this.settingTopupEntity.topupMaxSeparateLateDays),this.topupSettingForm.controls.minLoanAmountType.setValue(this.settingTopupEntity.topupMinLoanAmountType),this.topupSettingForm.controls.minFixedLoanAmount.setValue(this.settingTopupEntity.topupMinFixedLoanAmount),this.topupSettingForm.controls.maxAllowedTopupOnSameLoan.setValue(this.settingTopupEntity.topupMaxAllowedTopups),this.topupSettingForm.controls.minPreviouslyIssuedLoansNumber.setValue(this.settingTopupEntity.topupMinPreviouslyIssuedLoansNumber)):(this.settingTopupEntity=new Ko,this.topupSettingForm.reset())}onSubmit(){this.settingTopupEntity.productId=this.productEntity.id,this.settingTopupEntity.productAbacusId=this.productEntity.productIdAbacus,this.settingTopupEntity.topupMinLoanPaymentPercentage=this.topupSettingForm.value.minLoanPaymentPercentage,this.settingTopupEntity.topupMaxContinuousLateDays=this.topupSettingForm.value.maxContinuousLateDays,this.settingTopupEntity.topupMaxSeparateLateDays=this.topupSettingForm.value.maxSeparateLateDays,this.settingTopupEntity.topupMinLoanAmountType=this.topupSettingForm.value.minLoanAmountType,this.settingTopupEntity.topupMinFixedLoanAmount=this.topupSettingForm.value.minFixedLoanAmount,this.settingTopupEntity.topupMaxAllowedTopups=this.topupSettingForm.value.maxAllowedTopupOnSameLoan,this.settingTopupEntity.topupMinPreviouslyIssuedLoansNumber=this.topupSettingForm.value.minPreviouslyIssuedLoansNumber,this.productEntity.settingTopup=this.settingTopupEntity,void 0!==this.settingTopupEntity.id?this.settingService.updateProduct(this.productEntity).subscribe(()=>{this.devToolsServices.openToast(0,"alert.success")}):this.settingTopupService.createSettingTopup(this.settingTopupEntity).subscribe(e=>{this.settingTopupEntity=e,this.devToolsServices.openToast(0,"alert.success")})}createForm(){this.topupSettingForm=this.formBuilder.group({minLoanPaymentPercentage:[""],maxContinuousLateDays:[""],maxSeparateLateDays:[""],minLoanAmountType:[""],minFixedLoanAmount:[""],maxAllowedTopupOnSameLoan:[""],minPreviouslyIssuedLoansNumber:[""]})}getUpdatedData(){if(this.settingTopupEntity.productAbacusId=this.productEntity.productIdAbacus,this.settingTopupEntity.topupMinLoanPaymentPercentage=this.topupSettingForm.value.minLoanPaymentPercentage,this.settingTopupEntity.topupMaxContinuousLateDays=this.topupSettingForm.value.maxContinuousLateDays,this.settingTopupEntity.topupMaxSeparateLateDays=this.topupSettingForm.value.maxSeparateLateDays,this.settingTopupEntity.topupMinLoanAmountType=this.topupSettingForm.value.minLoanAmountType,this.settingTopupEntity.topupMinFixedLoanAmount=this.topupSettingForm.value.minFixedLoanAmount,this.settingTopupEntity.topupMaxAllowedTopups=this.topupSettingForm.value.maxAllowedTopupOnSameLoan,this.settingTopupEntity.topupMinPreviouslyIssuedLoansNumber=this.topupSettingForm.value.minPreviouslyIssuedLoansNumber,Object.values(this.settingTopupEntity).some(e=>null!=e))return{settingTopup:this.settingTopupEntity}}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(Ho),f.\u0275\u0275directiveInject(v.g))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-topup-product"]],inputs:{productEntity:"productEntity",isEditMode:"isEditMode"},features:[f.\u0275\u0275NgOnChangesFeature],decls:64,vars:29,consts:[[1,"card"],[1,"card-header"],[1,"form","col-xl-12","col-md-12","px-0",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"row"],[1,"form-group","col-xl-6","col-md-6"],[1,"form-group","col-xl-4","col-md-4"],[1,"input-group"],["formControlName","minLoanPaymentPercentage","type","number","min","0",1,"form-control","col-md-4"],[1,"form-group","col-xl-6","col-md-6","mt-3"],[1,"form-group","ACM-image-client","col-xl-1","col-md-1","mt-3"],[1,"form-group","col-xl-1","col-md-1","p-3"],["formControlName","maxContinuousLateDays","type","number","min","0",1,"form-control"],[1,"form-group","col-xl-1","col-md-1","mt-3"],["formControlName","maxSeparateLateDays","type","number","min","0",1,"form-control"],[1,"row","p-2"],[1,"form-group","col-xl-3","col-md-3"],["formControlName","minLoanAmountType",1,"form-control"],["selected","","value","0"],["formControlName","minFixedLoanAmount","type","number","min","0",1,"form-control","col-md-4"],["formControlName","maxAllowedTopupOnSameLoan","type","number","min","0",1,"form-control","col-md-4"],["formControlName","minPreviouslyIssuedLoansNumber","type","number","min","0",1,"form-control","col-md-4"],["class","card-footer",4,"ngIf"],[1,"card-footer"],["type","submit",1,"btn","btn-primary","text-white"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"form",2),f.\u0275\u0275listener("ngSubmit",function(){return t.onSubmit()}),f.\u0275\u0275elementStart(5,"div",3),f.\u0275\u0275elementStart(6,"div",4),f.\u0275\u0275elementStart(7,"div",5),f.\u0275\u0275elementStart(8,"label"),f.\u0275\u0275text(9),f.\u0275\u0275pipe(10,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"div",6),f.\u0275\u0275elementStart(12,"div",7),f.\u0275\u0275element(13,"input",8),f.\u0275\u0275text(14,"\xa0 % "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",4),f.\u0275\u0275elementStart(16,"div",9),f.\u0275\u0275elementStart(17,"label"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"div",10),f.\u0275\u0275elementStart(21,"label"),f.\u0275\u0275text(22),f.\u0275\u0275pipe(23,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"div",11),f.\u0275\u0275elementStart(25,"div",7),f.\u0275\u0275element(26,"input",12),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"div",10),f.\u0275\u0275elementStart(28,"label"),f.\u0275\u0275text(29),f.\u0275\u0275pipe(30,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(31,"div",13),f.\u0275\u0275elementStart(32,"div",7),f.\u0275\u0275element(33,"input",14),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"div",15),f.\u0275\u0275elementStart(35,"div",5),f.\u0275\u0275elementStart(36,"label"),f.\u0275\u0275text(37),f.\u0275\u0275pipe(38,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(39,"div",16),f.\u0275\u0275elementStart(40,"select",17),f.\u0275\u0275elementStart(41,"option",18),f.\u0275\u0275text(42),f.\u0275\u0275pipe(43,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(44,"div",16),f.\u0275\u0275elementStart(45,"div",7),f.\u0275\u0275element(46,"input",19),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(47,"div",15),f.\u0275\u0275elementStart(48,"div",5),f.\u0275\u0275elementStart(49,"label"),f.\u0275\u0275text(50),f.\u0275\u0275pipe(51,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(52,"div",5),f.\u0275\u0275elementStart(53,"div",7),f.\u0275\u0275element(54,"input",20),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(55,"div",15),f.\u0275\u0275elementStart(56,"div",5),f.\u0275\u0275elementStart(57,"label"),f.\u0275\u0275text(58),f.\u0275\u0275pipe(59,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(60,"div",5),f.\u0275\u0275elementStart(61,"div",7),f.\u0275\u0275element(62,"input",21),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(63,Yo,5,6,"div",22),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,11,"topup.topup_configuration")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("formGroup",t.topupSettingForm),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(10,13,"topup.min_loan_payment_percentage_label")," "),f.\u0275\u0275advance(9),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(19,15,"topup.clean_repayement_label")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(23,17,"topup.max_continuous_late_days")," "),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(30,19,"topup.max_separate_late_days")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(38,21,"topup.min_loan_amount")," "),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(43,23,"topup.fixed_amount")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(51,25,"topup.Max_allowed_topup_on_same_loan")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(59,27,"topup.Min_number_of_previously_issued_loans")," "),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngIf",t.isEditMode))},directives:[c._Y,c.JL,c.sg,C.MU,le.jv,C.HK,c.Fj,c.wV,c.qQ,C.oH,c.JJ,c.u,le.wj,c.EJ,c.YN,c.Kr,r.NgIf],pipes:[s.X$],styles:[""]}),e})();class Xo{}var Zo=n(6618);let el=(()=>{class e{constructor(e){this.httpClient=e}getSettingProductEligibility(e){return this.httpClient.post(Wo.f.GET_SETTING_PRODUCT_ELIGIBILITY,e)}createSettingProductEligibility(e){return this.httpClient.post(Wo.f.CREATE_SETTING_PRODUCT_ELIGIBILITY,e)}updateSettingProductEligibility(e){return this.httpClient.put(Wo.f.UPDATE_SETTING_PRODUCT_ELIGIBILITY,e)}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275inject(qo.eN))},e.\u0275prov=f.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var tl=n(94214);const nl=["ngxLoading"];function il(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"mat-error",26),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,1,"setting.setting_product_eligibility.checkbox")," "))}function rl(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",27),f.\u0275\u0275elementStart(1,"div"),f.\u0275\u0275elementStart(2,"button",28),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(4,4,"button.save"))}}const al=function(e,t,n){return{animationType:e,primaryColour:t,tertiaryColour:n,backdropBorderRadius:"3px"}},ol=function(){return{standalone:!0}},ll="var(--primary)";let sl=(()=>{class e{constructor(e,t,n,i,r,a,o,s){this.translate=e,this.settingsService=t,this.formBuilder=n,this.devToolsServices=i,this.settingProductEligibilityService=r,this.settingService=a,this.customerAddressService=o,this.cdRef=s,this.ngxLoadingAnimationTypes=l.Sn,this.primaryColour=ll,this.checkChangedValues=!1,this.config={animationType:l.Sn.none,primaryColour:ll},this.loading=!0,this.settingProductEligibility=new Xo,this.regionList=[],this.genders=[],this.submitted=!1}ngOnChanges(e){this.loadRegion(),this.eligibilityForm.markAsPristine()}ngOnInit(){this.createForm(),this.loadRegion()}getProductEligibility(){if(this.productEntity.settingProductEligibility){this.settingProductEligibility=this.productEntity.settingProductEligibility,this.eligibilityForm.controls.isMale.setValue(this.settingProductEligibility.gender.includes("M")),this.eligibilityForm.controls.isFemale.setValue(this.settingProductEligibility.gender.includes("F")),this.eligibilityForm.controls.maxContinuousLateDays.setValue(this.settingProductEligibility.maxContinuousLateDays),this.eligibilityForm.controls.maxSeparateLateDays.setValue(this.settingProductEligibility.maxSeparateLateDays),this.eligibilityForm.controls.minFixedLoanAmount.setValue(this.settingProductEligibility.minFixedLoanAmount),this.eligibilityForm.controls.minLoanAmountPercantage.setValue(this.settingProductEligibility.minLoanAmountPercantage),this.eligibilityForm.controls.minPreviouslyIssuedLoansNumber.setValue(this.settingProductEligibility.minPreviouslyIssuedLoansNumber);let e=[];this.settingProductEligibility.region.includes(",")?e=this.settingProductEligibility.region.split(","):e.push(this.settingProductEligibility.region),this.eligibilityForm.controls.region.setValue(e)}else this.settingProductEligibility=new Xo,this.eligibilityForm.reset(),this.eligibilityForm.markAsPristine(),this.checkChangedValues=!1;this.loading=!1}onSubmit(){this.submitted=!0,this.settingProductEligibility.productId=this.productEntity.id,this.genders=[],this.eligibilityForm.value.isMale&&this.genders.push("M"),this.eligibilityForm.value.isFemale&&this.genders.push("F"),this.settingProductEligibility.gender=this.genders.join(","),this.settingProductEligibility.maxContinuousLateDays=this.eligibilityForm.value.maxContinuousLateDays,this.settingProductEligibility.maxSeparateLateDays=this.eligibilityForm.value.maxSeparateLateDays,this.settingProductEligibility.minFixedLoanAmount=this.eligibilityForm.value.minFixedLoanAmount,this.settingProductEligibility.minLoanAmountPercantage=this.eligibilityForm.value.minLoanAmountPercantage,this.settingProductEligibility.minPreviouslyIssuedLoansNumber=this.eligibilityForm.value.minPreviouslyIssuedLoansNumber,this.settingProductEligibility.region=this.eligibilityForm.value.region.join(","),this.eligibilityForm.valid&&(this.productEntity.settingProductEligibility=this.settingProductEligibility,this.settingProductEligibility.id?this.settingService.updateProduct(this.productEntity).subscribe(()=>{this.devToolsServices.openToast(0,"alert.success"),this.checkChangedValues=!1,this.submitted=!1,this.eligibilityForm.markAsPristine()}):this.settingProductEligibilityService.createSettingProductEligibility(this.settingProductEligibility).subscribe(e=>{this.settingProductEligibility=e,this.devToolsServices.openToast(0,"alert.success"),this.checkChangedValues=!1,this.submitted=!1,this.eligibilityForm.markAsPristine()}))}createForm(){this.eligibilityForm=this.formBuilder.group({isFemale:[!1],isMale:[!1],maxContinuousLateDays:["",[jt.MS,c.kI.min(0)]],maxSeparateLateDays:["",[jt.MS,c.kI.min(0)]],region:["",jt.MS],minFixedLoanAmount:["",[jt.MS,c.kI.min(0)]],minLoanAmountPercantage:["",[jt.MS,c.kI.min(0),c.kI.max(100)]],minPreviouslyIssuedLoansNumber:["",[jt.MS,c.kI.min(0)]]},{validators:this.requireCheckboxes})}loadRegion(){let e;const t=new Zo.M;t.addressListId=1,this.customerAddressService.getAddressListValue(t).toPromise().then(t=>{e=t[0]});const n=new Zo.M;n.addressListId=2,n.parentId=e?.addressListValueID,this.customerAddressService.getAddressListValue(n).toPromise().then(e=>{this.regionList=[];for(const t of e)this.regionList.push(t.name);this.getProductEligibility()})}requireCheckboxes(e){const t=e.get("isFemale").value,n=e.get("isMale").value;return t||n?null:{requireCheckboxes:!0}}enableDisable(e){this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.disable_filtert").afterClosed().subscribe(t=>{t?this.settingProductEligibilityService.updateSettingProductEligibility(this.settingProductEligibility).subscribe():(this[e]=!this[e],this.settingProductEligibility[e]=!this.settingProductEligibility[e])})}getUpdatedData(){if(this.submitted=!0,this.settingProductEligibility.productId=this.productEntity.id,this.genders=[],this.eligibilityForm.value.isMale&&this.genders.push("M"),this.eligibilityForm.value.isFemale&&this.genders.push("F"),this.settingProductEligibility.gender=this.genders.join(","),this.settingProductEligibility.maxContinuousLateDays=this.eligibilityForm.value.maxContinuousLateDays,this.settingProductEligibility.maxSeparateLateDays=this.eligibilityForm.value.maxSeparateLateDays,this.settingProductEligibility.minFixedLoanAmount=this.eligibilityForm.value.minFixedLoanAmount,this.settingProductEligibility.minLoanAmountPercantage=this.eligibilityForm.value.minLoanAmountPercantage,this.settingProductEligibility.minPreviouslyIssuedLoansNumber=this.eligibilityForm.value.minPreviouslyIssuedLoansNumber,this.settingProductEligibility.region=this.eligibilityForm.value.region.join(","),Object.values(this.settingProductEligibility).some(e=>null!=e&&""!==e))return{settingProductEligibility:this.settingProductEligibility}}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(el),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(tl.U),f.\u0275\u0275directiveInject(f.ChangeDetectorRef))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-product-eligibility"]],viewQuery:function(e,t){if(1&e&&f.\u0275\u0275viewQuery(nl,5),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.ngxLoadingComponent=e.first)}},inputs:{productEntity:"productEntity",isEditMode:"isEditMode"},features:[f.\u0275\u0275NgOnChangesFeature],decls:86,vars:82,consts:[[1,"card"],[3,"show","config"],[1,"card-header"],[1,"form","col-xl-12","col-md-12","px-0",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"row"],[1,"form-group","col-xl-3","col-md-3"],[1,"px-2","mb-0",3,"switch-size","switch-animate","switch-off-color","ngModel","ngModelOptions","switch-handle-width","ngModelChange","click"],[1,"form-group","col-xl-4","col-md-4"],[1,"d-flex","flex-row","bd-highlight","mb-3"],["formControlName","isMale"],["formControlName","isFemale"],[4,"ngIf"],[1,"form-group","col-xl-3","col-md-3","mt-3"],[1,"form-group","ACM-image-client","col-xl-1","col-md-1","mt-3"],[1,"form-group","col-xl-1","col-md-1","p-3"],[1,"input-group"],["formControlName","maxContinuousLateDays","type","number","min","0",1,"form-control"],[1,"form-group","col-xl-1","col-md-1","mt-3"],["formControlName","maxSeparateLateDays","type","number","min","0",1,"form-control"],["tabindex","0","formControlName","region",3,"multiple","options"],["formControlName","minFixedLoanAmount","type","number","min","0",1,"form-control"],["formControlName","minLoanAmountPercantage","type","number","min","0",1,"form-control"],[1,"position-relative","form-group","col-xl-3","col-md-3"],["formControlName","minPreviouslyIssuedLoansNumber","type","number",1,"form-control","col-md-4"],["class","card-footer",4,"ngIf"],[2,"color","red"],[1,"card-footer"],["type","submit",1,"btn","btn-primary","text-white"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275element(1,"ngx-loading",1),f.\u0275\u0275elementStart(2,"div",2),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"form",3),f.\u0275\u0275listener("ngSubmit",function(){return t.onSubmit()}),f.\u0275\u0275elementStart(6,"div",4),f.\u0275\u0275elementStart(7,"div",5),f.\u0275\u0275elementStart(8,"div",6),f.\u0275\u0275elementStart(9,"label"),f.\u0275\u0275text(10),f.\u0275\u0275pipe(11,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"div",6),f.\u0275\u0275elementStart(13,"bSwitch",7),f.\u0275\u0275listener("ngModelChange",function(e){return t.settingProductEligibility.genderStatus=e})("click",function(){return t.enableDisable("genderStatus")}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",8),f.\u0275\u0275elementStart(15,"div",9),f.\u0275\u0275elementStart(16,"mat-checkbox",10),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"mat-checkbox",11),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(22,il,4,3,"div",12),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"div",5),f.\u0275\u0275elementStart(24,"div",13),f.\u0275\u0275elementStart(25,"label"),f.\u0275\u0275text(26),f.\u0275\u0275pipe(27,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"div",13),f.\u0275\u0275elementStart(29,"bSwitch",7),f.\u0275\u0275listener("ngModelChange",function(e){return t.settingProductEligibility.riskIndicatorsStatus=e})("click",function(){return t.enableDisable("riskIndicatorsStatus")}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"div",14),f.\u0275\u0275elementStart(31,"label"),f.\u0275\u0275text(32),f.\u0275\u0275pipe(33,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"div",15),f.\u0275\u0275elementStart(35,"div",16),f.\u0275\u0275element(36,"input",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"div",14),f.\u0275\u0275elementStart(38,"label"),f.\u0275\u0275text(39),f.\u0275\u0275pipe(40,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(41,"div",18),f.\u0275\u0275elementStart(42,"div",16),f.\u0275\u0275element(43,"input",19),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(44,"div",5),f.\u0275\u0275elementStart(45,"div",6),f.\u0275\u0275elementStart(46,"label"),f.\u0275\u0275text(47),f.\u0275\u0275pipe(48,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(49,"div",6),f.\u0275\u0275elementStart(50,"bSwitch",7),f.\u0275\u0275listener("ngModelChange",function(e){return t.settingProductEligibility.regionStatus=e})("click",function(){return t.enableDisable("regionStatus")}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(51,"div",8),f.\u0275\u0275element(52,"ngx-select-dropdown",20),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(53,"div",5),f.\u0275\u0275elementStart(54,"div",13),f.\u0275\u0275elementStart(55,"label"),f.\u0275\u0275text(56),f.\u0275\u0275pipe(57,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(58,"div",13),f.\u0275\u0275elementStart(59,"bSwitch",7),f.\u0275\u0275listener("ngModelChange",function(e){return t.settingProductEligibility.personalContributionStatus=e})("click",function(){return t.enableDisable("personalContributionStatus")}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(60,"div",14),f.\u0275\u0275elementStart(61,"label"),f.\u0275\u0275text(62),f.\u0275\u0275pipe(63,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(64,"div",15),f.\u0275\u0275elementStart(65,"div",16),f.\u0275\u0275element(66,"input",21),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(67,"div",14),f.\u0275\u0275elementStart(68,"label"),f.\u0275\u0275text(69),f.\u0275\u0275pipe(70,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(71,"div",18),f.\u0275\u0275elementStart(72,"div",16),f.\u0275\u0275element(73,"input",22),f.\u0275\u0275text(74,"\xa0 % "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(75,"div",5),f.\u0275\u0275elementStart(76,"div",23),f.\u0275\u0275elementStart(77,"label"),f.\u0275\u0275text(78),f.\u0275\u0275pipe(79,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(80,"div",6),f.\u0275\u0275elementStart(81,"bSwitch",7),f.\u0275\u0275listener("ngModelChange",function(e){return t.settingProductEligibility.loansNumberStatus=e})("click",function(){return t.enableDisable("loansNumberStatus")}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(82,"div",8),f.\u0275\u0275elementStart(83,"div",16),f.\u0275\u0275element(84,"input",24),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(85,rl,5,6,"div",25),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275property("show",t.loading)("config",f.\u0275\u0275pureFunction3(73,al,t.ngxLoadingAnimationTypes.circle,t.primaryColour,t.primaryColour)),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,49,"setting.setting_product_eligibility.product_eligibility")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("formGroup",t.eligibilityForm),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(11,51,"setting.setting_product_eligibility.gender")),f.\u0275\u0275advance(3),f.\u0275\u0275property("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("ngModel",t.settingProductEligibility.genderStatus)("ngModelOptions",f.\u0275\u0275pureFunction0(77,ol))("switch-handle-width",40),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(18,53,"customer_management.male")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(21,55,"customer_management.female")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",t.submitted&&t.eligibilityForm.hasError("requireCheckboxes")),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(27,57,"setting.setting_product_eligibility.risk_indicator")),f.\u0275\u0275advance(3),f.\u0275\u0275property("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("ngModel",t.settingProductEligibility.riskIndicatorsStatus)("ngModelOptions",f.\u0275\u0275pureFunction0(78,ol))("switch-handle-width",40),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(33,59,"topup.max_continuous_late_days")," "),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(40,61,"topup.max_separate_late_days")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(48,63,"setting.setting_product_eligibility.region")),f.\u0275\u0275advance(3),f.\u0275\u0275property("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("ngModel",t.settingProductEligibility.regionStatus)("ngModelOptions",f.\u0275\u0275pureFunction0(79,ol))("switch-handle-width",40),f.\u0275\u0275advance(2),f.\u0275\u0275property("multiple",!0)("options",t.regionList),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(57,65,"setting.setting_product_eligibility.min_personal_contribution")),f.\u0275\u0275advance(3),f.\u0275\u0275property("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("ngModel",t.settingProductEligibility.personalContributionStatus)("ngModelOptions",f.\u0275\u0275pureFunction0(80,ol))("switch-handle-width",40),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(63,67,"setting.setting_product_eligibility.amount")," "),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(70,69,"setting.setting_product_eligibility.amount_percentage")," "),f.\u0275\u0275advance(9),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(79,71,"setting.setting_product_eligibility.min_number_of_previously_issued_loans")),f.\u0275\u0275advance(3),f.\u0275\u0275property("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("ngModel",t.settingProductEligibility.loansNumberStatus)("ngModelOptions",f.\u0275\u0275pureFunction0(81,ol))("switch-handle-width",40),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngIf",t.isEditMode))},directives:[l.RJ,c._Y,c.JL,c.sg,C.MU,le.jv,C.HK,I.U,c.JJ,c.On,gn.oG,c.u,le.wj,r.NgIf,c.Fj,c.wV,c.qQ,C.oH,_o.rL],pipes:[s.X$],styles:[""]}),e})();class dl{}let cl=(()=>{class e{constructor(e){this.httpClient=e}getSettingProductGuarantee(e){return this.httpClient.post(Wo.f.GET_SETTING_PRODUCT_GUARANTEE,e)}createSettingProductGuarantee(e){return this.httpClient.post(Wo.f.CREATE_SETTING_PRODUCT_GUARANTE,e)}updateSettingProductGuarantee(e){return this.httpClient.put(Wo.f.UPDATE_SETTING_PRODUCT_GUARANTE,e)}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275inject(qo.eN))},e.\u0275prov=f.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const pl=["ngxLoading"];function ml(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",20),f.\u0275\u0275elementStart(1,"div"),f.\u0275\u0275elementStart(2,"button",21),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(4,4,"button.save"))}}const ul=function(e,t,n){return{animationType:e,primaryColour:t,tertiaryColour:n,backdropBorderRadius:"3px"}};let gl=(()=>{class e{constructor(e,t,n,i,r,a,o,s){this.translate=e,this.settingsService=t,this.formBuilder=n,this.devToolsServices=i,this.settingProductGuaranteeService=r,this.settingService=a,this.customerAddressService=o,this.cdRef=s,this.ngxLoadingAnimationTypes=l.Sn,this.primaryColour="var(--primary)",this.loading=!0,this.settingProductGuarantee=new dl}ngOnChanges(e){this.getproductguarantee()}ngOnInit(){console.log(this.productEntity),this.createForm(),this.getproductguarantee()}getproductguarantee(){this.productEntity.productGuarantee?(this.settingGuarantee=this.productEntity.productGuarantee,this.settingForm.controls.minGuaranteeAmount.setValue(this.settingGuarantee.minGuaranteeAmount),this.settingForm.controls.minGuaranteePercentage.setValue(this.settingGuarantee.minGuaranteePercentage),this.settingForm.controls.minCollateralAmount.setValue(this.settingGuarantee.minCollateralAmount),this.settingForm.controls.minCollateralPercentage.setValue(this.settingGuarantee.minCollateralPercentage),this.settingForm.controls.minimumAge.setValue(this.productEntity.minimumAge),this.settingForm.controls.maximumAge.setValue(this.productEntity.maximumAge)):(this.settingGuarantee=new dl,this.settingForm.reset(),this.settingForm.markAsPristine()),this.loading=!1}onSubmit(){this.settingGuarantee.productId=this.productEntity.id,this.settingGuarantee.minCollateralAmount=this.settingForm.value.minCollateralAmount,this.settingGuarantee.minCollateralPercentage=this.settingForm.value.minCollateralPercentage,this.settingGuarantee.minGuaranteeAmount=this.settingForm.value.minGuaranteeAmount,this.settingGuarantee.minGuaranteePercentage=this.settingForm.value.minGuaranteePercentage,this.productEntity.minimumAge=this.settingForm.value.minimumAge,this.productEntity.maximumAge=this.settingForm.value.maximumAge,this.settingForm.valid&&(this.productEntity.productGuarantee=this.settingGuarantee,this.settingGuarantee.id?this.settingService.updateProduct(this.productEntity).subscribe(e=>{this.settingGuarantee=e.productGuarantee,this.devToolsServices.openToast(0,"alert.success"),this.settingForm.markAsPristine()}):this.settingProductGuaranteeService.createSettingProductGuarantee(this.settingGuarantee).subscribe(e=>{this.settingGuarantee=e,this.devToolsServices.openToast(0,"alert.success"),this.settingForm.markAsPristine()}))}createForm(){this.settingForm=this.formBuilder.group({minGuaranteeAmount:["",[jt.MS,c.kI.min(0)]],minGuaranteePercentage:["",[jt.MS,c.kI.min(0),c.kI.max(100)]],minCollateralAmount:["",[jt.MS,c.kI.min(0)]],minCollateralPercentage:["",[jt.MS,c.kI.min(0),c.kI.max(100)]],minimumAge:[],maximumAge:[]})}getUpdatedData(){if(this.settingProductGuarantee.minCollateralAmount=this.settingForm.value.minCollateralAmount,this.settingProductGuarantee.minCollateralPercentage=this.settingForm.value.minCollateralPercentage,this.settingProductGuarantee.minGuaranteeAmount=this.settingForm.value.minGuaranteeAmount,this.settingProductGuarantee.minGuaranteePercentage=this.settingForm.value.minGuaranteePercentage,Object.values(this.settingProductGuarantee).some(e=>null!=e))return{productGuarantee:this.settingProductGuarantee}}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(cl),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(tl.U),f.\u0275\u0275directiveInject(f.ChangeDetectorRef))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-product-guarantee"]],viewQuery:function(e,t){if(1&e&&f.\u0275\u0275viewQuery(pl,5),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.ngxLoadingComponent=e.first)}},inputs:{productEntity:"productEntity",isEditMode:"isEditMode"},features:[f.\u0275\u0275NgOnChangesFeature],decls:68,vars:35,consts:[[1,"card"],[3,"show","config"],[1,"card-header"],[1,"form","col-xl-12","col-md-12","px-0",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"row"],[1,"form-group","col-xl-6","col-md-6","mt-6"],[1,"form-group","ACM-image-client","col-xl-1","col-md-1","mt-3"],[1,"form-group","col-xl-1","col-md-1","p-3"],[1,"input-group"],["formControlName","minGuaranteePercentage","type","number","min","0",1,"form-control"],[1,"input-group-append"],["ngxclipboard","","type","button","ng-reflect-target-elm","",1,"btn","btn-light","border","hl"],[1,"form-group","col-xl-1","col-md-1","mt-3"],["formControlName","minGuaranteeAmount","type","number","min","0",1,"form-control"],["formControlName","minimumAge","type","number","min","0",1,"form-control"],["formControlName","minCollateralPercentage","type","number","min","0",1,"form-control"],["formControlName","minCollateralAmount","type","number","min","0",1,"form-control"],["formControlName","maximumAge","type","number","min","0",1,"form-control"],["class","card-footer",4,"ngIf"],[1,"card-footer"],["type","submit",1,"btn","btn-primary","text-white"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275element(1,"ngx-loading",1),f.\u0275\u0275elementStart(2,"div",2),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"form",3),f.\u0275\u0275listener("ngSubmit",function(){return t.onSubmit()}),f.\u0275\u0275elementStart(6,"div",4),f.\u0275\u0275elementStart(7,"div",5),f.\u0275\u0275elementStart(8,"div",6),f.\u0275\u0275elementStart(9,"label"),f.\u0275\u0275text(10),f.\u0275\u0275pipe(11,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"div",7),f.\u0275\u0275elementStart(13,"label"),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"div",8),f.\u0275\u0275elementStart(17,"div",9),f.\u0275\u0275elementStart(18,"div"),f.\u0275\u0275element(19,"input",10),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"span",11),f.\u0275\u0275elementStart(21,"button",12),f.\u0275\u0275text(22,"%"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"div",7),f.\u0275\u0275elementStart(24,"label"),f.\u0275\u0275text(25),f.\u0275\u0275pipe(26,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"div",13),f.\u0275\u0275elementStart(28,"div",9),f.\u0275\u0275element(29,"input",14),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"div",7),f.\u0275\u0275elementStart(31,"label"),f.\u0275\u0275text(32),f.\u0275\u0275pipe(33,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"div",13),f.\u0275\u0275elementStart(35,"div",9),f.\u0275\u0275element(36,"input",15),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"div",5),f.\u0275\u0275elementStart(38,"div",6),f.\u0275\u0275elementStart(39,"label"),f.\u0275\u0275text(40),f.\u0275\u0275pipe(41,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(42,"div",7),f.\u0275\u0275elementStart(43,"label"),f.\u0275\u0275text(44),f.\u0275\u0275pipe(45,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(46,"div",8),f.\u0275\u0275elementStart(47,"div",9),f.\u0275\u0275elementStart(48,"div"),f.\u0275\u0275element(49,"input",16),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(50,"span",11),f.\u0275\u0275elementStart(51,"button",12),f.\u0275\u0275text(52,"%"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(53,"div",7),f.\u0275\u0275elementStart(54,"label"),f.\u0275\u0275text(55),f.\u0275\u0275pipe(56,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(57,"div",13),f.\u0275\u0275elementStart(58,"div",9),f.\u0275\u0275element(59,"input",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(60,"div",7),f.\u0275\u0275elementStart(61,"label"),f.\u0275\u0275text(62),f.\u0275\u0275pipe(63,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(64,"div",13),f.\u0275\u0275elementStart(65,"div",9),f.\u0275\u0275element(66,"input",18),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(67,ml,5,6,"div",19),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275property("show",t.loading)("config",f.\u0275\u0275pureFunction3(31,ul,t.ngxLoadingAnimationTypes.circle,t.primaryColour,t.primaryColour)),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,13,"setting.setting_product_guarantee.product_guarantee")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("formGroup",t.settingForm),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(11,15,"setting.setting_product_guarantee.guarantee_config")),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(15,17,"setting.setting_product_guarantee.guarantee_percentage")," "),f.\u0275\u0275advance(11),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(26,19,"setting.setting_product_guarantee.min_guarantee_amount")," "),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(33,21,"setting.setting_configuration_product.minAge")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(41,23,"setting.setting_product_guarantee.collateral_config")),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(45,25,"setting.setting_product_guarantee.collateral_percentage")," "),f.\u0275\u0275advance(11),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(56,27,"setting.setting_product_guarantee.min_collateral_amount")," "),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(63,29,"setting.setting_configuration_product.maxAge")," "),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngIf",t.isEditMode))},directives:[l.RJ,c._Y,c.JL,c.sg,C.MU,le.jv,C.HK,c.Fj,c.wV,c.qQ,C.oH,c.JJ,c.u,le.wj,r.NgIf],pipes:[s.X$],styles:[""]}),e})();const hl=["ngxLoading"];function fl(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",17),f.\u0275\u0275elementStart(1,"div"),f.\u0275\u0275elementStart(2,"button",18),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(1),f.\u0275\u0275property("disabled",!e.checkChangedValues),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(4,5,"button.save"))}}const vl=function(e,t,n){return{animationType:e,primaryColour:t,tertiaryColour:n,backdropBorderRadius:"3px"}},Sl="var(--primary)";let yl=(()=>{class e{constructor(e,t,n,i){this.translate=e,this.settingsService=t,this.formBuilder=n,this.devToolsServices=i,this.ngxLoadingAnimationTypes=l.Sn,this.primaryColour=Sl,this.config={animationType:l.Sn.none,primaryColour:Sl},this.loading=!0,this.checkChangedValues=!1}ngOnInit(){}ngOnChanges(e){this.createIScoreAmlForm(),this.checkChangedValues=!1,this.loading=!0,this.productEntity=e.productEntity.currentValue,(null!==this.productEntity||void 0!==this.productEntity)&&(this.iScoreAmlForm.controls.iscoreExpiryDays.setValue(this.productEntity.maxNumDaysExpiry),this.iScoreAmlForm.controls.iscoreMaxScore.setValue(this.productEntity.maxScore),this.iScoreAmlForm.controls.iscoreMaxActiveLoans.setValue(this.productEntity.maxActiveLoans),this.iScoreAmlForm.controls.iscoreMaxDueDays.setValue(this.productEntity.maxNumDaysDue),this.iScoreAmlForm.controls.iscoreMinActiveLoans.setValue(this.productEntity.minActiveLoans),this.iScoreAmlForm.controls.iscoreMinDueDays.setValue(this.productEntity.minNumDaysDue),this.iScoreAmlForm.controls.iscoreMinScore.setValue(this.productEntity.minScore),this.iScoreAmlForm.controls.amlCheckPourcentage.setValue(this.productEntity.amlCheckPourcentage),this.loading=!1)}createIScoreAmlForm(){this.iScoreAmlForm=this.formBuilder.group({iscoreExpiryDays:["",c.kI.required],iscoreMaxScore:["",c.kI.required],iscoreMaxActiveLoans:["",c.kI.required],iscoreMaxDueDays:["",c.kI.required],iscoreMinActiveLoans:["",c.kI.required],iscoreMinDueDays:["",c.kI.required],iscoreMinScore:["",c.kI.required],amlCheckPourcentage:["",c.kI.required]})}changeValue(){this.checkChangedValues=this.productEntity.maxNumDaysExpiry!==this.iScoreAmlForm.controls.iscoreExpiryDays.value||this.productEntity.maxScore!==this.iScoreAmlForm.controls.iscoreMaxScore.value||this.productEntity.maxActiveLoans!==this.iScoreAmlForm.controls.iscoreMaxActiveLoans.value||this.productEntity.maxNumDaysDue!==this.iScoreAmlForm.controls.iscoreMaxDueDays.value||this.productEntity.minActiveLoans!==this.iScoreAmlForm.controls.iscoreMinActiveLoans.value||this.productEntity.minNumDaysDue!==this.iScoreAmlForm.controls.iscoreMinDueDays.value||this.productEntity.minScore!==this.iScoreAmlForm.controls.iscoreMinScore.value||this.productEntity.amlCheckPourcentage!==this.iScoreAmlForm.controls.amlCheckPourcentage.value}onSubmit(){null!=this.productEntity&&(this.productEntity.maxNumDaysExpiry=this.iScoreAmlForm.controls.iscoreExpiryDays.value,this.productEntity.maxScore=this.iScoreAmlForm.controls.iscoreMaxScore.value,this.productEntity.maxActiveLoans=this.iScoreAmlForm.controls.iscoreMaxActiveLoans.value,this.productEntity.maxNumDaysDue=this.iScoreAmlForm.controls.iscoreMaxDueDays.value,this.productEntity.minActiveLoans=this.iScoreAmlForm.controls.iscoreMinActiveLoans.value,this.productEntity.minNumDaysDue=this.iScoreAmlForm.controls.iscoreMinDueDays.value,this.productEntity.minScore=this.iScoreAmlForm.controls.iscoreMinScore.value,this.productEntity.amlCheckPourcentage=this.iScoreAmlForm.controls.amlCheckPourcentage.value,this.settingsService.updateProduct(this.productEntity).subscribe(e=>{this.checkChangedValues=!1,this.devToolsServices.openToast(0,"alert.success")}))}getUpdatedData(){return{maxNumDaysExpiry:this.iScoreAmlForm.controls.iscoreExpiryDays.value,maxScore:this.iScoreAmlForm.controls.iscoreMaxScore.value,maxActiveLoans:this.iScoreAmlForm.controls.iscoreMaxActiveLoans.value,maxNumDaysDue:this.iScoreAmlForm.controls.iscoreMaxDueDays.value,minActiveLoans:this.iScoreAmlForm.controls.iscoreMinActiveLoans.value,minNumDaysDue:this.iScoreAmlForm.controls.iscoreMinDueDays.value,minScore:this.iScoreAmlForm.controls.iscoreMinScore.value,amlCheckPourcentage:this.iScoreAmlForm.controls.amlCheckPourcentage.value}}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-iscore-aml"]],viewQuery:function(e,t){if(1&e&&f.\u0275\u0275viewQuery(hl,5),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.ngxLoadingComponent=e.first)}},inputs:{productEntity:"productEntity",isEditMode:"isEditMode"},features:[f.\u0275\u0275NgOnChangesFeature],decls:65,vars:35,consts:[[1,"card"],[3,"show","config"],[1,"card-header"],[1,"form","col-xl-12","col-md-12","px-0",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"modal-body","row","no-gutters"],[1,"position-relative","form-group","col-xl-6","col-md-6"],[1,"input-group"],["formControlName","iscoreExpiryDays","type","number","min","0",1,"form-control","col-md-4",3,"focusout"],["formControlName","iscoreMaxScore","type","number","min","0",1,"form-control","col-md-4",3,"focusout"],["formControlName","iscoreMinScore","type","number","min","0",1,"form-control","col-md-4",3,"focusout"],["formControlName","iscoreMaxActiveLoans","type","number","min","0",1,"form-control","col-md-4",3,"focusout"],["formControlName","iscoreMinActiveLoans","type","number","min","0",1,"form-control","col-md-4",3,"focusout"],["formControlName","iscoreMaxDueDays","type","number","min","0",1,"form-control","col-md-4",3,"focusout"],["formControlName","iscoreMinDueDays","type","number","min","0",1,"form-control","col-md-4",3,"focusout"],["formControlName","amlCheckPourcentage","type","number","min","0",1,"form-control","col-md-4",3,"focusout"],["class","card-footer",4,"ngIf"],[1,"card-footer"],["type","submit",1,"btn","btn-primary","text-white",3,"disabled"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275element(1,"ngx-loading",1),f.\u0275\u0275elementStart(2,"div",2),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"form",3),f.\u0275\u0275listener("ngSubmit",function(){return t.onSubmit()}),f.\u0275\u0275elementStart(6,"div",4),f.\u0275\u0275elementStart(7,"div",5),f.\u0275\u0275elementStart(8,"div",6),f.\u0275\u0275elementStart(9,"label"),f.\u0275\u0275text(10),f.\u0275\u0275pipe(11,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"div",6),f.\u0275\u0275elementStart(13,"div",7),f.\u0275\u0275elementStart(14,"input",8),f.\u0275\u0275listener("focusout",function(){return t.changeValue()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",6),f.\u0275\u0275elementStart(16,"label"),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",6),f.\u0275\u0275elementStart(20,"div",7),f.\u0275\u0275elementStart(21,"input",9),f.\u0275\u0275listener("focusout",function(){return t.changeValue()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"div",6),f.\u0275\u0275elementStart(23,"label"),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"div",6),f.\u0275\u0275elementStart(27,"div",7),f.\u0275\u0275elementStart(28,"input",10),f.\u0275\u0275listener("focusout",function(){return t.changeValue()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(29,"div",6),f.\u0275\u0275elementStart(30,"label"),f.\u0275\u0275text(31),f.\u0275\u0275pipe(32,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(33,"div",6),f.\u0275\u0275elementStart(34,"div",7),f.\u0275\u0275elementStart(35,"input",11),f.\u0275\u0275listener("focusout",function(){return t.changeValue()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(36,"div",6),f.\u0275\u0275elementStart(37,"label"),f.\u0275\u0275text(38),f.\u0275\u0275pipe(39,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(40,"div",6),f.\u0275\u0275elementStart(41,"div",7),f.\u0275\u0275elementStart(42,"input",12),f.\u0275\u0275listener("focusout",function(){return t.changeValue()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(43,"div",6),f.\u0275\u0275elementStart(44,"label"),f.\u0275\u0275text(45),f.\u0275\u0275pipe(46,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(47,"div",6),f.\u0275\u0275elementStart(48,"div",7),f.\u0275\u0275elementStart(49,"input",13),f.\u0275\u0275listener("focusout",function(){return t.changeValue()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(50,"div",6),f.\u0275\u0275elementStart(51,"label"),f.\u0275\u0275text(52),f.\u0275\u0275pipe(53,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(54,"div",6),f.\u0275\u0275elementStart(55,"div",7),f.\u0275\u0275elementStart(56,"input",14),f.\u0275\u0275listener("focusout",function(){return t.changeValue()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(57,"div",6),f.\u0275\u0275elementStart(58,"label"),f.\u0275\u0275text(59),f.\u0275\u0275pipe(60,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(61,"div",6),f.\u0275\u0275elementStart(62,"div",7),f.\u0275\u0275elementStart(63,"input",15),f.\u0275\u0275listener("focusout",function(){return t.changeValue()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(64,fl,5,7,"div",16),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275property("show",t.loading)("config",f.\u0275\u0275pureFunction3(31,vl,t.ngxLoadingAnimationTypes.circle,t.primaryColour,t.primaryColour)),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,13,"setting.setting_iscore_validation.setting_iscore_validation")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("formGroup",t.iScoreAmlForm),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(11,15,"setting.setting_iscore_validation.iscore_expiry_days")),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(18,17,"setting.setting_iscore_validation.iscore_max_score")),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,19,"setting.setting_iscore_validation.iscore_min_score")),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(32,21,"setting.setting_iscore_validation.iscore_max_active_loans")),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(39,23,"setting.setting_iscore_validation.min_active_loans")),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(46,25,"setting.setting_iscore_validation.iscore_max_due_days")),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(53,27,"setting.setting_iscore_validation.iscore_min_due_days")),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(60,29,"setting.setting_iscore_validation.aml_check_pourcentage")),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngIf",t.isEditMode))},directives:[l.RJ,c._Y,c.JL,c.sg,C.MU,le.jv,C.HK,c.Fj,c.wV,c.qQ,C.oH,c.JJ,c.u,le.wj,r.NgIf],pipes:[s.X$],styles:[""]}),e})();var xl=n(98657);let El=(()=>{class e{constructor(e){this.httpClient=e}findProductFilters(e){return this.httpClient.post(Wo.f.FIND_PRODUCT_FILTERS,e)}createProductFilters(e){return this.httpClient.post(Wo.f.CREATE_PRODUCT_FILTERS,e)}updateProductFilters(e){return this.httpClient.put(Wo.f.UPDATE_PRODUCT_FILTERS,e)}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275inject(qo.eN))},e.\u0275prov=f.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const bl=["ngxLoading"];function Cl(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"button",6),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(),n=f.\u0275\u0275reference(10);return t.addFilter(n)}),f.\u0275\u0275element(1,"fa-icon",7),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("icon",e.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,2,"setting.product_filter.add_filter")," ")}}function Il(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275text(8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"td"),f.\u0275\u0275elementStart(10,"bSwitch",11),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext(2).enableDisable(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"td"),f.\u0275\u0275elementStart(12,"button",12),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(2),i=f.\u0275\u0275reference(10);return n.editFilter(i,t)}),f.\u0275\u0275element(13,"fa-icon",13),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(n.getLibelleArrayByIds(e.instrument,n.instrumentList)),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(n.getLibelleArrayByIds(e.productType,n.typeList)),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(n.getLibelleArrayByIds(e.activity,n.activityList)),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(n.getLibelleArrayByIds(e.nature,n.natureList)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("switch-handle-width",40),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt"))}}function wl(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",8),f.\u0275\u0275elementStart(1,"table",9),f.\u0275\u0275elementStart(2,"thead"),f.\u0275\u0275elementStart(3,"tr"),f.\u0275\u0275elementStart(4,"th"),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"th"),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"th"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"th"),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"th"),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(19,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"tbody"),f.\u0275\u0275template(21,Il,14,10,"tr",10),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(6,6,"setting.product_filter.instrument")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(9,8,"setting.product_filter.product_type")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,10,"setting.product_filter.activity")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(15,12,"setting.product_filter.nature")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(18,14,"setting.status")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.productFiltersList)}}function Fl(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",14),f.\u0275\u0275elementStart(2,"h6",15),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(4,1,"setting.product_filter.absent_filter")))}const _l=function(e){return{"text-end":e}};function Ll(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",16),f.\u0275\u0275elementStart(1,"div",17),f.\u0275\u0275elementStart(2,"h5",18),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",19),f.\u0275\u0275elementStart(6,"span",20),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"form",21),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275elementStart(9,"div",14),f.\u0275\u0275elementStart(10,"div",22),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"ngx-select-dropdown",23),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onInstrumentChange(t.value,!0)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",22),f.\u0275\u0275elementStart(16,"label"),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"ngx-select-dropdown",24),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onProductChange(t.value,!0)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"div",22),f.\u0275\u0275elementStart(21,"label"),f.\u0275\u0275text(22),f.\u0275\u0275pipe(23,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"ngx-select-dropdown",25),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onActivityChange(t.value,!0)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"div",22),f.\u0275\u0275elementStart(26,"label"),f.\u0275\u0275text(27),f.\u0275\u0275pipe(28,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(29,"ngx-select-dropdown",26),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"div",27),f.\u0275\u0275elementStart(31,"button",28),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(32),f.\u0275\u0275pipe(33,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"button",29),f.\u0275\u0275text(35),f.\u0275\u0275pipe(36,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(39,_l,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,25,"update"===e.action?"setting.product_filter.update_filter":"setting.product_filter.add_filter"),""),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.productFiltersForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,27,"setting.product_filter.instrument")),f.\u0275\u0275advance(2),f.\u0275\u0275property("multiple",!0)("config",e.dropdownConfig)("options",e.instrumentList),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(18,29,"setting.product_filter.product_type")),f.\u0275\u0275advance(2),f.\u0275\u0275property("multiple",!0)("config",e.dropdownConfig)("options",e.filtredTypeList),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(23,31,"setting.product_filter.activity")),f.\u0275\u0275advance(2),f.\u0275\u0275property("multiple",!0)("config",e.dropdownConfig)("options",e.filtredActivityList),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(28,33,"setting.product_filter.nature")),f.\u0275\u0275advance(2),f.\u0275\u0275property("multiple",!0)("config",e.dropdownConfig)("options",e.filtredNatureList),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(33,35,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(36,37,"button.save"))}}const Dl="var(--primary)";let kl=(()=>{class e{constructor(e,t,n,i,r,a,o){this.modal=e,this.formBuilder=t,this.translate=n,this.productFiltersService=i,this.settingsService=r,this.devToolsServices=a,this.library=o,this.ngxLoadingAnimationTypes=l.Sn,this.primaryColour=Dl,this.config={animationType:l.Sn.none,primaryColour:Dl},this.loading=!0,this.productFiltersList=[],this.instrumentList=[],this.typeList=[],this.filtredTypeList=[],this.activityList=[],this.filtredActivityList=[],this.natureList=[],this.filtredNatureList=[],this.dropdownConfig={displayKey:"libelle",search:!0,height:"auto",moreText:"more",noResultsFound:"No results found!",searchOnKey:"libelle",clearOnSelection:!1}}ngOnChanges(e){this.pageSize=5,this.page=1,this.productFiltersList=[],this.productEntity.productFilter&&this.productFiltersList.push(this.productEntity.productFilter)}ngOnInit(){this.initListValues(),this.pageSize=5,this.page=1,this.productFiltersList=[],this.productEntity.productFilter&&this.productFiltersList.push(this.productEntity.productFilter)}createForm(e){this.productFiltersForm=this.formBuilder.group({instrument:[this.mapIdsToObjects(this.productFilter.instrument,this.instrumentList)],productType:[this.mapIdsToObjects(this.productFilter.productType,this.typeList)],nature:[this.mapIdsToObjects(this.productFilter.nature,this.natureList)],activity:[this.mapIdsToObjects(this.productFilter.activity,this.activityList)]})}mapIdsToObjects(e,t){if(!e)return[];const n=e.split(",").map(e=>+e);return t.filter(e=>n.includes(e.id))}addFilter(e){this.productFilter=new xl.y,this.action="create",this.createForm(this.productFilter),this.modal.open(e)}editFilter(e,t){this.action="update",this.productFilter=t,this.createForm(t);const n=this.productFiltersForm.get("instrument").value;this.onInstrumentChange(n,!1);const i=this.productFiltersForm.get("productType").value;this.onProductChange(i,!1);const r=this.productFiltersForm.get("activity").value;this.onActivityChange(r,!1),this.modal.open(e)}onSubmit(){this.productFiltersForm.valid&&("update"===this.action&&this.update(),"create"===this.action&&this.save())}save(){this.productFilter.productId=this.productEntity.id;const e=e=>{const t=this.productFiltersForm.controls[e].value;return Array.isArray(t)?t.map(e=>e.id).join(","):""};this.productFilter.instrument=e("instrument"),this.productFilter.productType=e("productType"),this.productFilter.nature=e("nature"),this.productFilter.activity=e("activity"),this.productFilter.enabled=!0,this.isEditMode?this.productFiltersService.createProductFilters(this.productFilter).subscribe(e=>{this.productFilter=e,this.modal.dismissAll(),this.devToolsServices.openToast(0,"alert.success"),this.productFiltersList.push(this.productFilter)}):(this.productFiltersList.push(this.productFilter),this.modal.dismissAll())}update(){const e=e=>{const t=this.productFiltersForm.controls[e].value;return Array.isArray(t)?t.map(e=>e.id).join(","):""};this.productFilter.instrument=e("instrument"),this.productFilter.productType=e("productType"),this.productFilter.nature=e("nature"),this.productFilter.activity=e("activity"),this.isEditMode?(this.productEntity.productFilter=this.productFilter,this.settingsService.updateProduct(this.productEntity).subscribe(()=>{this.devToolsServices.openToast(0,"alert.success"),this.modal.dismissAll()})):this.modal.dismissAll()}onInstrumentChange(e,t){const n=e.map(e=>e.id),i=new Set;this.filtredTypeList=this.typeList.filter(e=>!(!e.id_parent.some(e=>n.includes(e))||i.has(e.id)||(i.add(e.id),0))),t&&(this.productFiltersForm.get("productType").setValue(null),this.productFiltersForm.get("activity").setValue(null),this.productFiltersForm.get("nature").setValue(null))}onProductChange(e,t){const n=e.map(e=>e.id),i=new Set;this.filtredActivityList=this.activityList.filter(e=>!(!e.id_parent.some(e=>n.includes(e))||i.has(e.id)||(i.add(e.id),0))),t&&(this.productFiltersForm.get("activity").setValue(null),this.productFiltersForm.get("nature").setValue(null))}onActivityChange(e,t){const n=e.map(e=>e.id),i=new Set;this.filtredNatureList=this.natureList.filter(e=>!(!e.id_parent.some(e=>n.includes(e))||i.has(e.id)||(i.add(e.id),0))),t&&this.productFiltersForm.get("nature").setValue(null)}enableDisable(e){this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.disable_filtert").afterClosed().subscribe(t=>{t?this.productFiltersService.updateProductFilters(e).subscribe():e.enabled=!e.enabled})}getDirection(){return Se.y.direction}closeModale(){this.modal.dismissAll()}getcurrentLang(){return this.translate.currentLang}initListValues(){this.settingsService.findProductFinanceList(h.J.PRODUCT_INSTRUMENT).subscribe(e=>{this.instrumentList=e}),this.settingsService.findProductFilterList(h.J.PRODUCT_TYPE).subscribe(e=>{this.typeList=e}),this.settingsService.findProductFilterList(h.J.PRODUCT_ACTIVITY).subscribe(e=>{this.activityList=e}),this.settingsService.findProductFilterList(h.J.PRODUCT_NATURE).subscribe(e=>{this.natureList=e})}getLibelleById(e,t){const n=t.find(t=>t.id===e);return n?n.libelle:""}getLibelleArrayByIds(e,t){return e?e.split(",").map(e=>+e).map(e=>this.getLibelleById(e,t)).join(", "):""}getUpdatedData(){return{productFilter:this.productFilter}}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(El),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(p.by))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-product-filters"]],viewQuery:function(e,t){if(1&e&&f.\u0275\u0275viewQuery(bl,5),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.ngxLoadingComponent=e.first)}},inputs:{productEntity:"productEntity",isEditMode:"isEditMode"},features:[f.\u0275\u0275NgOnChangesFeature],decls:11,vars:9,consts:[[1,"card"],[1,"card-header"],["class","d-inline-flex align-items-center btn btn-primary",3,"click",4,"ngIf"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],["modalContent",""],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[2,"margin-right","7px",3,"icon"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","switch-handle-width","ngModelChange","click"],[1,"btn","btn-warning","text-white",3,"click"],[3,"icon"],[1,"card-body"],[1,"pt-3",2,"color","red"],[3,"dir","ngClass"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button"],["aria-hidden","true",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","pb-4"],["formControlName","instrument",3,"multiple","config","options","change"],["formControlName","productType",3,"multiple","config","options","change"],["formControlName","activity",3,"multiple","config","options","change"],["formControlName","nature",3,"multiple","config","options"],[1,"modal-footer"],["type","reset",1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-1","btn","btn-primary"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275template(5,Cl,4,4,"button",2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"div"),f.\u0275\u0275template(7,wl,22,16,"div",3),f.\u0275\u0275template(8,Fl,5,3,"div",4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(9,Ll,37,41,"ng-template",null,5,f.\u0275\u0275templateRefExtractor)),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,7,"setting.product_filter.product_filters")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",0===t.productFiltersList.length),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",t.productFiltersList.length>0),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",0===t.productFiltersList.length))},directives:[r.NgIf,p.BN,r.NgForOf,I.U,c.JJ,c.On,Oe.Lv,r.NgClass,c._Y,c.JL,c.sg,C.MU,le.jv,_o.rL,c.u,le.wj],pipes:[s.X$],styles:[""]}),e})();const Tl=["ngxLoading"];function Ml(e,t){1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"th"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"th"),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"th"),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"th"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"th"),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"th"),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"th"),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(22,"th"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,7,"setting.code")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(6,9,"setting.label")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(9,11,"setting.description")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,13,"setting.category")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(15,15,"setting.status")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(18,17,"setting.setting_document_product.mandatory")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(21,19,"setting.setting_document_product.report_name")))}function Vl(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",12),f.\u0275\u0275elementStart(1,"input",13),f.\u0275\u0275listener("change",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext().rowIndex;return f.\u0275\u0275nextContext().changeReportName(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(2,"button",14),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(),n=t.$implicit,i=t.rowIndex;return f.\u0275\u0275nextContext().updateReportName(n,i)}),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275element(4,"i",15),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().rowIndex,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275propertyInterpolate1("formControlName","reportName",e,""),f.\u0275\u0275advance(1),f.\u0275\u0275propertyInterpolate("ngbTooltip",f.\u0275\u0275pipeBind1(3,3,"setting.setting_document_product.tooltipe")),f.\u0275\u0275property("disabled",!t.reportNameForm.controls["updated"+e])}}function Al(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"th",8),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"td"),f.\u0275\u0275elementStart(11,"bSwitch",9),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t})("changeState",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().toggleStatus(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"td"),f.\u0275\u0275elementStart(13,"bSwitch",9),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.mandatory=t})("changeState",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().toggleMandatory(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"td"),f.\u0275\u0275elementStart(15,"form",10),f.\u0275\u0275template(16,Vl,5,5,"div",11),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.settingDocumentTypeDTO.code),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.settingDocumentTypeDTO.libelle),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.settingDocumentTypeDTO.description),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(9,16,"document_type_categories."+e.settingDocumentTypeDTO.categorie)),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("disabled",!e.settingDocumentTypeDTO.enabled),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.mandatory)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("disabled",!e.enabled),f.\u0275\u0275advance(2),f.\u0275\u0275property("formGroup",n.reportNameForm),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",2===e.settingDocumentTypeDTO.categorie||4===e.settingDocumentTypeDTO.categorie||5===e.settingDocumentTypeDTO.categorie||11===e.settingDocumentTypeDTO.categorie)}}const Pl=function(e,t,n){return{animationType:e,primaryColour:t,tertiaryColour:n,backdropBorderRadius:"3px"}},Bl=function(){return[5,10,20,50,100]},Nl="var(--primary)";let Rl=(()=>{class e{constructor(e,t,n){this.settingsService=e,this.devToolsServices=t,this.formBuilder=n,this.settingDocumentProduct=new Qt.f,this.settingDocumentsByProduct=[],this.productEntitys=[],this.ngxLoadingAnimationTypes=l.Sn,this.primaryColour=Nl,this.config={animationType:l.Sn.none,primaryColour:Nl},this.slideConfig6={className:"center",infinite:!0,slidesToShow:1,speed:500,adaptiveHeight:!0,dots:!0},this.loading=!0}ngOnInit(){}createReportNameFrom(){this.reportNameForm=this.formBuilder.group({})}ngOnChanges(e){this.loading=!0,this.createReportNameFrom(),this.productEntity=e.productEntity.currentValue,this.settingDocumentProduct.productId=this.productEntity.id,this.settingDocumentProduct.all=!0,this.settingsService.findAllDocumentProduct(this.settingDocumentProduct).subscribe(e=>{this.settingDocumentsByProduct=e,e.map((e,t)=>{this.reportNameForm.addControl("reportName"+t,new c.NI(e.reportName)),this.reportNameForm.addControl("updated"+t,new c.NI(!1))}),this.loading=!1})}diableDocumentProduct(e){this.loading=!0,this.settingDocumentsByProduct.map(t=>{t===e&&this.settingsService.disableDocumentProduct(e).subscribe(()=>{this.devToolsServices.openToast(0,"alert.success"),this.loading=!1})})}enableDocumentProduct(e){this.loading=!0,this.settingDocumentsByProduct.map(t=>{t===e&&this.settingsService.enableDocumentProduct(e).subscribe(()=>{this.devToolsServices.openToast(0,"alert.success"),this.loading=!1})})}toggleStatus(e){!1===e.enabled?this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.disable_document_product").afterClosed().subscribe(t=>{t?this.diableDocumentProduct(e):e.enabled=!0}):this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.enable_document_product").afterClosed().subscribe(t=>{t?this.enableDocumentProduct(e):e.enabled=!1})}toggleMandatory(e){!1===e.mandatory?this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.mandatory_document_product").afterClosed().subscribe(t=>{t?(this.loading=!0,e.mandatory=!1,this.settingsService.updateDocumentProduct(e).subscribe(()=>{this.devToolsServices.openToast(0,"alert.success"),this.loading=!1})):e.mandatory=!0}):this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.mandatory_document_product").afterClosed().subscribe(t=>{t?(e.mandatory=!0,this.loading=!0,this.settingsService.updateDocumentProduct(e).subscribe(()=>{this.devToolsServices.openToast(0,"alert.success"),this.loading=!1})):e.mandatory=!1})}updateReportName(e,t){e.reportName=this.reportNameForm.controls["reportName"+t].value,this.loading=!0,this.settingsService.updateDocumentProduct(e).subscribe(()=>{this.devToolsServices.openToast(0,"alert.success"),this.loading=!1})}changeReportName(e){this.reportNameForm.controls["updated"+e].setValue(!0)}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(c.qu))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-document-type-product"]],viewQuery:function(e,t){if(1&e&&f.\u0275\u0275viewQuery(Tl,5),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.ngxLoadingComponent=e.first)}},inputs:{productEntity:"productEntity"},features:[f.\u0275\u0275NgOnChangesFeature],decls:11,vars:18,consts:[[1,"card"],[1,"card-header"],[3,"show","config"],[1,"position-relative"],[3,"autoLayout","rowsPerPageOptions","paginator","pageLinks","rows","value","lazy","lazyLoadOnInit"],["sdbp",""],["pTemplate","header"],["pTemplate","body"],["scope","row"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","disabled","ngModelChange","changeState"],[3,"formGroup"],["class","ACM_table_input",4,"ngIf"],[1,"ACM_table_input"],["type","text",1,"form-control","col-8",3,"formControlName","change"],["type","button","placement","top",1,"mx-2","btn","btn-success","mr-l",3,"ngbTooltip","disabled","click"],[1,"pe-7s-check","btn-icon-wrapper"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275element(5,"ngx-loading",2),f.\u0275\u0275elementStart(6,"div",3),f.\u0275\u0275elementStart(7,"p-table",4,5),f.\u0275\u0275template(9,Ml,23,21,"ng-template",6),f.\u0275\u0275template(10,Al,17,18,"ng-template",7),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,11,"setting.setting_document_product.setting_document_product")," "),f.\u0275\u0275advance(3),f.\u0275\u0275property("show",t.loading)("config",f.\u0275\u0275pureFunction3(13,Pl,t.ngxLoadingAnimationTypes.circle,t.primaryColour,t.primaryColour)),f.\u0275\u0275advance(2),f.\u0275\u0275property("autoLayout",!0)("rowsPerPageOptions",f.\u0275\u0275pureFunction0(17,Bl))("paginator",!0)("pageLinks",5)("rows",10)("value",t.settingDocumentsByProduct)("lazy",!1)("lazyLoadOnInit",!1))},directives:[l.RJ,a.iA,b.jx,I.U,c.JJ,c.On,c._Y,c.JL,c.sg,C.MU,le.jv,r.NgIf,c.Fj,C.oH,c.u,le.wj,o._L],pipes:[s.X$],styles:[""]}),e})();function Ol(e,t){1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"th"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"th"),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"th"),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"th"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"th"),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"th"),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"th"),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(22,"th"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,7,"setting.code")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(6,9,"setting.label")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(9,11,"setting.description")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,13,"setting.category")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(15,15,"setting.status")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(18,17,"setting.setting_document_product.mandatory")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(21,19,"setting.setting_document_product.report_name")))}function jl(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",11),f.\u0275\u0275elementStart(1,"input",12),f.\u0275\u0275listener("change",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext().rowIndex;return f.\u0275\u0275nextContext().changeReportName(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().rowIndex;f.\u0275\u0275advance(1),f.\u0275\u0275propertyInterpolate1("formControlName","reportName",e,"")}}function Gl(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"th"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"td"),f.\u0275\u0275elementStart(11,"bSwitch",8),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"td"),f.\u0275\u0275elementStart(13,"bSwitch",8),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.mandatory=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"td"),f.\u0275\u0275elementStart(15,"form",9),f.\u0275\u0275template(16,jl,2,1,"div",10),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.settingDocumentTypeDTO.code),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.settingDocumentTypeDTO.libelle),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.settingDocumentTypeDTO.description),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(9,14,"document_type_categories."+e.categorie)),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger"),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.mandatory)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger"),f.\u0275\u0275advance(2),f.\u0275\u0275property("formGroup",n.reportNameForm),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",2===e.settingDocumentTypeDTO.categorie||4===e.settingDocumentTypeDTO.categorie||5===e.settingDocumentTypeDTO.categorie||11===e.settingDocumentTypeDTO.categorie)}}const Ul=function(){return[5,10,20,50,100]};let $l=(()=>{class e{constructor(e,t,n,i,r,a){this.settingsService=e,this.modalService=t,this.formBuilder=n,this.translate=i,this.devToolsServices=r,this.library=a,this.settingDocumentCreation=[],this.documentTypeCategories=[],this.updateId=0,this.countEnabledDocuments=0,this.loading=!0}ngOnInit(){this.loading=!0,this.createForm(),this.createReportNameFrom(),this.settingsService.findAllDocumentTypes().subscribe(e=>{const t=e;for(let n=0;n<t.length;n++)this.settingDocumentCreation.push({settingDocumentTypeDTO:t[n],productId:null,mandatory:!1,enabled:!1}),this.reportNameForm.addControl("reportName"+n,new c.NI(t[n].reportName)),this.reportNameForm.addControl("updated"+n,new c.NI(!1)),3===t[n].categorie&&(this.settingDocumentCreation.splice(n,1),n--);this.loading=!1}),this.settingsService.findAllDocumentTypesCategory().subscribe(e=>this.documentTypeCategories=e),this.countBackUpDocuments()}ngOnChanges(e){this.loading=!0,this.createForm(),this.settingsService.findAllDocumentTypes().subscribe(e=>{const t=e;for(let n=0;n<this.settingDocumentCreation.length;n++)3===t[n].categorie&&(this.settingDocumentCreation.splice(n,1),n--);this.loading=!1}),this.settingsService.findAllDocumentTypesCategory().subscribe(e=>this.documentTypeCategories=e),this.countBackUpDocuments()}createReportNameFrom(){this.reportNameForm=this.formBuilder.group({})}createForm(){this.popupForm=this.formBuilder.group({code:["",c.kI.required],libelle:["",c.kI.required],description:[""],category:["",c.kI.required],uniqueness:[!1],mandatory:[!1],date_debut:[""],reportName:[""]})}openLarge(e){this.createForm(),this.modalService.open(e,{size:"md"})}editDocumentType(e,t){this.createForm();const n=t;this.updateId=t.id,this.popupForm.controls.code.setValue(n.code),this.popupForm.controls.libelle.setValue(n.libelle),this.popupForm.controls.description.setValue(n.description),this.popupForm.controls.uniqueness.setValue(n.uniqueness),this.popupForm.controls.mandatory.setValue(n.mandatory);let i=new Date(n.dateDebut).toISOString().split("T")[0];this.popupForm.controls.date_debut.setValue(i),this.popupForm.controls.category.setValue(n.categorieLibelle),this.modalService.open(e,{size:"md"})}getSelectedCategory(){this.selectedCategeory=this.popupForm.controls.category.value}getDirection(){return Se.y.direction}reset(){this.createForm(),this.updateId=0,this.modalService.dismissAll()}countBackUpDocuments(){this.settingsService.countBackUpDocuments().subscribe(e=>{this.countEnabledDocuments=e})}synchronize(){this.settingsService.synchroniseDocuments().subscribe(e=>{this.devToolsServices.openToastWithParameter(3,"alert.document_ged_synchronized","[ "+e+" ]"),this.countBackUpDocuments()})}changeReportName(e){this.reportNameForm.controls["updated"+e].setValue(!0)}getUpdatedData(){return{settingDocumentProductDTO:this.settingDocumentCreation}}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(p.by))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-document-product-creation"]],features:[f.\u0275\u0275NgOnChangesFeature],decls:11,vars:13,consts:[[1,"card-hover-shadow-2x","mb-1","card"],[1,"card-header"],[1,"lnr-cog","px-2"],[1,"card-body"],[3,"autoLayout","responsive","rowsPerPageOptions","paginator","pageLinks","rows","value","lazy","lazyLoadOnInit"],["sdt",""],["pTemplate","header"],["pTemplate","body"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","ngModelChange"],[3,"formGroup"],["class","ACM_table_input",4,"ngIf"],[1,"ACM_table_input"],["type","text",1,"form-control","col-8",3,"formControlName","change"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275element(2,"i",2),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div"),f.\u0275\u0275elementStart(6,"div",3),f.\u0275\u0275elementStart(7,"p-table",4,5),f.\u0275\u0275template(9,Ol,23,21,"ng-template",6),f.\u0275\u0275template(10,Gl,17,16,"ng-template",7),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,10,"setting.setting_document_type.setting_document_type")," "),f.\u0275\u0275advance(4),f.\u0275\u0275property("autoLayout",!0)("responsive",!0)("rowsPerPageOptions",f.\u0275\u0275pureFunction0(12,Ul))("paginator",!0)("pageLinks",5)("rows",10)("value",t.settingDocumentCreation)("lazy",!1)("lazyLoadOnInit",!1))},directives:[a.iA,b.jx,I.U,c.JJ,c.On,c._Y,c.JL,c.sg,C.MU,le.jv,r.NgIf,c.Fj,C.oH,c.u,le.wj],pipes:[s.X$],styles:[""]}),e})();function Jl(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",9),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.id),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.symbol," ")}}function zl(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",10),f.\u0275\u0275elementStart(1,"div"),f.\u0275\u0275elementStart(2,"button",11),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().save()}),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,4,"button.save")," ")}}let Kl=(()=>{class e{constructor(e,t,n){this.settingService=e,this.translate=t,this.devToolsServices=n}ngOnInit(){this.settingService.findCurrencySetting(new Aa.q).subscribe(e=>{this.currencyList=e}),this.isEditMode&&this.settingService.findProductById(this.productEntity.id).subscribe(e=>{this.product=e})}ngOnChanges(e){this.isEditMode&&(this.productEntity=e.productEntity.currentValue,this.settingService.findProductById(this.productEntity.id).subscribe(e=>{this.product=e,this.currencyId=this.product.acmCurrency.id}))}save(){null!=this.product&&(this.product.acmCurrency=this.currencyList.filter(e=>e.id==this.currencyId)[0],this.settingService.updateProduct(this.product).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success")}))}getUpdatedData(){return!!this.currencyId&&{acmCurrency:this.currencyList.filter(e=>e.id==this.currencyId)[0]}}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(S.R))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-product-currency-setting"]],inputs:{productEntity:"productEntity",isEditMode:"isEditMode"},features:[f.\u0275\u0275NgOnChangesFeature],decls:13,vars:9,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-lg-6","position-relative","pb-4"],[1,"d-flex","align-items-center"],[1,"p-2"],[1,"form-control","form-group",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","card-footer",4,"ngIf"],[3,"value"],[1,"card-footer"],["type","submit",1,"btn","btn-primary","text-white",3,"click"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",2),f.\u0275\u0275elementStart(5,"div",3),f.\u0275\u0275elementStart(6,"div",4),f.\u0275\u0275elementStart(7,"label",5),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"select",6),f.\u0275\u0275listener("ngModelChange",function(e){return t.currencyId=e}),f.\u0275\u0275template(11,Jl,2,2,"option",7),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(12,zl,5,6,"div",8),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,5,"setting.currency-setting.currency-setting")," "),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(9,7,"setting.currency-setting.currency")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",t.currencyId),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",t.currencyList),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.isEditMode))},directives:[c.EJ,C.oH,C.HK,c.JJ,c.On,r.NgForOf,r.NgIf,c.YN,c.Kr],pipes:[s.X$],styles:[""]}),e})();function Wl(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",15),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(),t=e.index;f.\u0275\u0275property("value",e.$implicit.value),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",t+1," ")}}function ql(e,t){if(1&e&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275template(1,Wl,2,2,"option",14),f.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext().index,i=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!i.isOptionHidden(e.value,n))}}function Hl(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",9),f.\u0275\u0275elementStart(2,"div",10),f.\u0275\u0275elementStart(3,"select",11),f.\u0275\u0275elementStart(4,"option",12),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(7,ql,2,1,"ng-container",7),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"div",10),f.\u0275\u0275elementStart(9,"label",13),f.\u0275\u0275text(10),f.\u0275\u0275pipe(11,"translate"),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=t.index,i=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(3),f.\u0275\u0275property("formControlName",n),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("-- ",f.\u0275\u0275pipeBind1(6,5,"setting.payment-priority-setting.select-priority")," --"),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",i.paymentPriotityTab),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate2("",f.\u0275\u0275pipeBind1(11,7,e.i18nKey)," ",f.\u0275\u0275pipeBind1(12,9,"setting.payment-priority-setting.priority-order"),"")}}function Yl(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",16),f.\u0275\u0275elementStart(1,"div"),f.\u0275\u0275elementStart(2,"button",17),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).resetForm()}),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",18),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).save()}),f.\u0275\u0275text(6),f.\u0275\u0275pipe(7,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,5,"button.refresh")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(7,7,"button.save")," ")}}function Ql(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"form",3),f.\u0275\u0275elementStart(2,"div",4),f.\u0275\u0275elementStart(3,"div",5),f.\u0275\u0275elementStart(4,"div",6),f.\u0275\u0275template(5,Hl,13,11,"div",7),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(6,Yl,8,9,"div",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e.form),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.paymentPriotityTab),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.isEditMode)}}let Xl=(()=>{class e{constructor(e,t,n,i){this.settingService=e,this.devToolsServices=t,this.translate=n,this.fb=i,this.paymentPriotityTab=[{i18nKey:"setting.payment-priority-setting.principal",value:"principal"},{i18nKey:"setting.payment-priority-setting.interest",value:"interest"},{i18nKey:"setting.payment-priority-setting.penaltyFee",value:"penaltyFee"},{i18nKey:"setting.payment-priority-setting.oldFees",value:"oldFees"}]}ngOnInit(){this.createForm()}createForm(){this.form=this.fb.group({priorities:this.fb.array(this.initFormArrayWithValues(this.productEntity.paymentPrioritySetting))},{validators:this.paymentPrioritySelectValidator()}),this.form.valueChanges.subscribe(()=>{this.updatePaymentPrioritySetting()})}initFormArrayWithValues(e){const t=e?.split(";");return this.paymentPriotityTab.map((e,n)=>{let i="";return t&&(i=t[n]||""),this.fb.control(i,jt.MS)})}priorities(){return this.form?.get("priorities")}updatePaymentPrioritySetting(){const e=this.priorities().value.filter(e=>e);this.paymentPrioritySetting=e.join(";")}paymentPrioritySelectValidator(){return e=>{const t=e.get("priorities").value.filter(e=>e);return new Set(t).size!==t.length?{duplicatePriority:!0}:null}}isOptionHidden(e,t){return this.priorities().value.some((n,i)=>n===e&&i!==t)}save(){this.form.valid&&null!=this.productEntity&&(this.productEntity.paymentPrioritySetting=this.paymentPrioritySetting,this.settingService.updateProduct(this.productEntity).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success")}))}resetForm(){this.form.reset(),this.paymentPrioritySetting=""}ngOnChanges(e){this.productEntity=e.productEntity.currentValue,this.paymentPrioritySetting=this.productEntity.paymentPrioritySetting,this.createForm()}getUpdatedData(){return!!this.form.valid&&{paymentPrioritySetting:this.paymentPrioritySetting}}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(c.qu))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-payment-priority-setting"]],inputs:{productEntity:"productEntity",isEditMode:"isEditMode"},features:[f.\u0275\u0275NgOnChangesFeature],decls:5,vars:4,consts:[[1,"card"],[1,"card-header"],[4,"ngIf"],[3,"formGroup"],[1,"card-body"],[1,"col-lg-6","position-relative","pb-4"],["formArrayName","priorities"],[4,"ngFor","ngForOf"],["class","card-footer",4,"ngIf"],[1,"d-flex","align-items-center"],[1,"col-lg-3"],[1,"form-control","form-group",3,"formControlName"],["value",""],[1,"p-2"],[3,"value",4,"ngIf"],[3,"value"],[1,"card-footer"],["type","button",1,"btn","btn-danger","text-white",3,"click"],["type","button",1,"m-2","btn","btn-primary","text-white",3,"click"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(4,Ql,7,3,"div",2),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,2,"setting.payment-priority-setting.payment-priority-setting")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",t.form))},directives:[r.NgIf,c._Y,c.JL,c.sg,C.MU,le.jv,c.CE,r.NgForOf,c.EJ,C.oH,C.HK,c.JJ,c.u,le.wj,c.YN,c.Kr],pipes:[s.X$],styles:[""]}),e})();function Zl(e,t){1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"th"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"th"),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"th"),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"th"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"th",15),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"th"),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"th"),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(22,"th"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,7,"setting.code")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(6,9,"setting.label")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(9,11,"setting.description")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,13,"setting.category")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(15,15,"setting.setting_document_type.uniqueness")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(18,17,"setting.setting_document_type.date_debut")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(21,19,"setting.status")))}function es(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"th"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"td",15),f.\u0275\u0275elementStart(11,"div",16),f.\u0275\u0275element(12,"input",17),f.\u0275\u0275element(13,"label",18),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"td"),f.\u0275\u0275text(15),f.\u0275\u0275pipe(16,"date"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"td"),f.\u0275\u0275elementStart(18,"bSwitch",19),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t})("changeState",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().toggleStatus(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"td"),f.\u0275\u0275elementStart(20,"button",20),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(30);return n.editDocumentType(i,t)}),f.\u0275\u0275element(21,"fa-icon",21),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.code),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.libelle),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.description),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(9,12,"document_type_categories."+e.categorie)),f.\u0275\u0275advance(4),f.\u0275\u0275property("checked",e.uniqueness),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind2(16,14,e.dateDebut,"dd/MM/yyyy ")),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-animate",!0)("switch-handle-width",40)("switch-off-color","danger"),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt"))}}function ts(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",44),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e.value),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,2,"document_type_categories."+e.key),"")}}function ns(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",29),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementStart(4,"span",31),f.\u0275\u0275text(5,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"div"),f.\u0275\u0275element(7,"input",45),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,1,"setting_document_product.report_name")," "))}function is(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",29),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",33),f.\u0275\u0275element(5,"bSwitch",46),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,5,"setting.setting_document_type.mandatory"),""),f.\u0275\u0275advance(3),f.\u0275\u0275property("switch-size","small")("switch-animate",!0)("switch-off-color","danger")("switch-handle-width",40))}const rs=function(e){return{"text-end":e}};function as(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",22),f.\u0275\u0275elementStart(1,"form",23),f.\u0275\u0275elementStart(2,"div",24),f.\u0275\u0275elementStart(3,"h4",25),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"button",26),f.\u0275\u0275listener("click",function(){return(0,f.\u0275\u0275restoreView(e).dismiss)(f.\u0275\u0275nextContext().reset())}),f.\u0275\u0275elementStart(7,"span",27),f.\u0275\u0275text(8,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div",28),f.\u0275\u0275elementStart(10,"div",29),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div"),f.\u0275\u0275element(15,"input",30),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"div",29),f.\u0275\u0275elementStart(17,"label"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementStart(20,"span",31),f.\u0275\u0275text(21,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"div"),f.\u0275\u0275elementStart(23,"input",32),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().changeCode()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"div",29),f.\u0275\u0275elementStart(25,"label"),f.\u0275\u0275text(26),f.\u0275\u0275pipe(27,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"div",33),f.\u0275\u0275element(29,"input",34),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"div",29),f.\u0275\u0275elementStart(31,"label"),f.\u0275\u0275text(32),f.\u0275\u0275pipe(33,"translate"),f.\u0275\u0275elementStart(34,"span",31),f.\u0275\u0275text(35,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(36,"div"),f.\u0275\u0275elementStart(37,"select",35),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().getSelectedCategory()}),f.\u0275\u0275elementStart(38,"option",36),f.\u0275\u0275text(39),f.\u0275\u0275pipe(40,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(41,ts,3,4,"option",37),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(42,ns,8,3,"div",38),f.\u0275\u0275elementStart(43,"div",29),f.\u0275\u0275elementStart(44,"label"),f.\u0275\u0275text(45),f.\u0275\u0275pipe(46,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(47,"div",33),f.\u0275\u0275element(48,"bSwitch",39),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(49,is,6,7,"div",38),f.\u0275\u0275elementStart(50,"div",29),f.\u0275\u0275elementStart(51,"label"),f.\u0275\u0275text(52),f.\u0275\u0275pipe(53,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(54,"div",33),f.\u0275\u0275element(55,"input",40),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(56,"div",41),f.\u0275\u0275elementStart(57,"button",42),f.\u0275\u0275listener("click",function(){return(0,f.\u0275\u0275restoreView(e).dismiss)(f.\u0275\u0275nextContext().reset())}),f.\u0275\u0275text(58),f.\u0275\u0275pipe(59,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(60,"button",43),f.\u0275\u0275listener("click",function(){return(0,f.\u0275\u0275restoreView(e).dismiss)(f.\u0275\u0275nextContext().onSubmit())}),f.\u0275\u0275text(61),f.\u0275\u0275pipe(62,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(44,rs,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e.popupForm),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(5,24,"setting.setting_document_type.document_type")),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(13,26,"setting.code"),""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(19,28,"setting.label")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(27,30,"setting.description"),""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(33,32,"setting.category"),""),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(40,34,"setting.setting_document_type.default_select")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.documentTypeCategories),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","GENERIC_WOKFLOW"==e.selectedCategeory),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(46,36,"setting.setting_document_type.uniqueness"),""),f.\u0275\u0275advance(3),f.\u0275\u0275property("switch-size","small")("switch-animate",!0)("switch-off-color","danger")("switch-handle-width",40),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","SUPPLIER"==e.selectedCategeory||"THIRD_PARTY"==e.selectedCategeory||"GENERIC_WOKFLOW"==e.selectedCategeory||"CONVENTION"==e.selectedCategeory),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(53,38,"setting.setting_document_type.date_debut"),""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(59,40,"button.cancel")),f.\u0275\u0275advance(2),f.\u0275\u0275property("disabled",e.popupForm.invalid),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(62,42,"button.save"))}}const os=function(){return[5,10,20,50,100]};let ls=(()=>{class e{constructor(e,t,n,i,r,a){this.settingsService=e,this.modalService=t,this.formBuilder=n,this.translate=i,this.devToolsServices=r,this.library=a,this.documentTypeCategories=[],this.updateId=0,this.countEnabledDocuments=0,this.loading=!0}ngOnInit(){this.loading=!0,this.createForm(),this.settingsService.findAllDocumentTypes().subscribe(e=>{this.settingDocumentTypes=e;for(let t=0;t<this.settingDocumentTypes.length;t++)3===this.settingDocumentTypes[t].categorie&&(this.settingDocumentTypes.splice(t,1),t--);this.loading=!1}),this.settingsService.findAllDocumentTypesCategory().subscribe(e=>this.documentTypeCategories=e),this.countBackUpDocuments()}createForm(){this.popupForm=this.formBuilder.group({code:["",c.kI.required],libelle:["",c.kI.required],description:[""],category:["",c.kI.required],uniqueness:[!1],mandatory:[!1],date_debut:[""],reportName:[""]})}openLarge(e){this.createForm(),this.modalService.open(e,{size:"md"})}onSubmit(){0!==this.updateId?this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.update_document_type").afterClosed().subscribe(e=>{e?this.update().then(()=>{this.reset()}):this.reset()}):this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.save_document_type").afterClosed().subscribe(e=>{e?this.create():this.reset()})}create(){const e=new Xt.J;e.code=this.popupForm.controls.code.value,e.libelle=this.popupForm.controls.libelle.value,e.description=this.popupForm.controls.description.value,e.uniqueness=this.popupForm.controls.uniqueness.value,e.dateDebut=this.popupForm.controls.date_debut.value,e.mandatory=this.popupForm.controls.mandatory.value;const t=this.documentTypeCategories.find(e=>e.value===this.popupForm.controls.category.value);e.categorieLibelle=t.value,e.categorie=t.key,"GENERIC_WOKFLOW"==this.selectedCategeory&&(e.reportName=this.popupForm.controls.reportName.value),this.loading=!0,this.settingsService.createDocumentTypes(e).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.settingDocumentTypes.push(e),this.loading=!1})}update(){var e=this;return(0,m.Z)(function*(){yield e.settingDocumentTypes.map(t=>{if(t.id===e.updateId){t.code=e.popupForm.controls.code.value,t.libelle=e.popupForm.controls.libelle.value,t.description=e.popupForm.controls.description.value,t.uniqueness=e.popupForm.controls.uniqueness.value,t.dateDebut=e.popupForm.controls.date_debut.value,t.mandatory=e.popupForm.controls.mandatory.value;const n=e.documentTypeCategories.find(t=>t.value===e.popupForm.controls.category.value);t.categorieLibelle=n.value,t.categorie=n.key,e.loading=!0,e.settingsService.updateDocumentTypes(t).subscribe(()=>{e.devToolsServices.openToast(0,"alert.success"),e.loading=!1})}})})()}changeCode(){if(0===this.updateId)if(this.settingDocumentTypes.some(e=>e.libelle.toUpperCase()===this.popupForm.controls.libelle.value.toUpperCase()))this.popupForm.controls.libelle.setErrors({incorrect:!0});else{const e=this.popupForm.controls.libelle.value.replace(/ /g,"_").toUpperCase();this.settingDocumentTypes.some(t=>t.code===e)?this.popupForm.controls.code.setErrors({incorrect:!0}):this.popupForm.controls.code.setValue(e)}}editDocumentType(e,t){this.createForm();const n=t;this.updateId=t.id,this.popupForm.controls.code.setValue(n.code),this.popupForm.controls.libelle.setValue(n.libelle),this.popupForm.controls.description.setValue(n.description),this.popupForm.controls.uniqueness.setValue(n.uniqueness),this.popupForm.controls.mandatory.setValue(n.mandatory);let i=new Date(n.dateDebut).toISOString().split("T")[0];this.popupForm.controls.date_debut.setValue(i),this.popupForm.controls.category.setValue(n.categorieLibelle),this.modalService.open(e,{size:"md"})}getSelectedCategory(){this.selectedCategeory=this.popupForm.controls.category.value}diableDocumentType(e){this.settingDocumentTypes.map(t=>{t===e&&(this.loading=!0,this.settingsService.disableDocumentTypes(t).subscribe(()=>{this.devToolsServices.openToast(0,"alert.success"),this.loading=!1}))})}enableDocumentType(e){this.settingDocumentTypes.map(t=>{this.loading=!0,t===e&&this.settingsService.enableDocumentTypes(t).subscribe(()=>{this.devToolsServices.openToast(0,"alert.success"),this.loading=!1})})}toggleStatus(e){!1===e.enabled?this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.disable_document_type").afterClosed().subscribe(t=>{t?this.diableDocumentType(e):e.enabled=!0}):this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.enable_document_type").afterClosed().subscribe(t=>{t?this.enableDocumentType(e):e.enabled=!1})}getDirection(){return Se.y.direction}reset(){this.createForm(),this.updateId=0,this.modalService.dismissAll()}countBackUpDocuments(){this.settingsService.countBackUpDocuments().subscribe(e=>{this.countEnabledDocuments=e})}synchronize(){this.settingsService.synchroniseDocuments().subscribe(e=>{this.devToolsServices.openToastWithParameter(3,"alert.document_ged_synchronized","[ "+e+" ]"),this.countBackUpDocuments()})}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(p.by))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-document-type"]],decls:31,vars:32,consts:[[1,"card-hover-shadow-2x","mb-1","card"],[1,"card-header"],[1,"lnr-cog","px-2"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[1,"mx-2",3,"icon"],[1,"card-body"],[3,"autoLayout","responsive","rowsPerPageOptions","paginator","pageLinks","rows","value","lazy","lazyLoadOnInit"],["sdt",""],["pTemplate","header"],["pTemplate","body"],[1,"py-1"],[1,"card"],[1,"row"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-primary",3,"disabled","click"],["content6",""],[1,"text-center"],[1,"custom-checkbox","custom-control"],["id","eCheckbox1","type","checkbox","disabled","",1,"custom-control-input",3,"checked"],["for","eCheckbox1",1,"custom-control-label"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-handle-width","switch-off-color","ngModelChange","changeState"],[1,"btn","btn-warning",3,"click"],[3,"icon"],[3,"dir","ngClass"],[3,"formGroup"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button","aria-label","Close",3,"click"],["aria-hidden","true"],[1,"container","p-3"],[1,"position-relative","pb-4"],["type","text","formControlName","code","disabled","",1,"form-control"],[1,"text-danger"],["type","text","formControlName","libelle",1,"form-control",3,"change"],[1,"input-group"],["type","text","formControlName","description",1,"form-control"],["formControlName","category",1,"form-control",3,"change"],["disabled","","selected","","value",""],[3,"ngValue",4,"ngFor","ngForOf"],["class","position-relative pb-4",4,"ngIf"],["formControlName","uniqueness",1,"px-2","mb-0",3,"switch-size","switch-animate","switch-off-color","switch-handle-width"],["type","date","formControlName","date_debut",1,"form-control"],[1,"modal-footer","py-1"],[1,"mb-2","mx-2","btn","btn-outline-danger",3,"click"],[1,"btn","btn-primary",3,"disabled","click"],[3,"ngValue"],["type","text","formControlName","reportName",1,"form-control"],["formControlName","mandatory",1,"px-2","mb-0",3,"switch-size","switch-animate","switch-off-color","switch-handle-width"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275element(2,"i",2),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementStart(5,"div"),f.\u0275\u0275elementStart(6,"button",3),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(30);return t.openLarge(n)}),f.\u0275\u0275element(7,"fa-icon",4),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"div"),f.\u0275\u0275elementStart(11,"div",5),f.\u0275\u0275elementStart(12,"p-table",6,7),f.\u0275\u0275template(14,Zl,23,21,"ng-template",8),f.\u0275\u0275template(15,es,22,17,"ng-template",9),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"div",10),f.\u0275\u0275elementStart(17,"div",11),f.\u0275\u0275elementStart(18,"div",1),f.\u0275\u0275text(19),f.\u0275\u0275pipe(20,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(21,"div",5),f.\u0275\u0275elementStart(22,"div",12),f.\u0275\u0275text(23),f.\u0275\u0275pipe(24,"translate"),f.\u0275\u0275elementStart(25,"button",13),f.\u0275\u0275listener("click",function(){return t.synchronize()}),f.\u0275\u0275element(26,"fa-icon",4),f.\u0275\u0275text(27),f.\u0275\u0275pipe(28,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(29,as,63,46,"ng-template",null,14,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,21,"setting.setting_document_type.setting_document_type")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(9,23,"button.add")," "),f.\u0275\u0275advance(4),f.\u0275\u0275property("autoLayout",!0)("responsive",!0)("rowsPerPageOptions",f.\u0275\u0275pureFunction0(31,os))("paginator",!0)("pageLinks",5)("rows",10)("value",t.settingDocumentTypes)("lazy",!1)("lazyLoadOnInit",!1),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(20,25,"setting.save_ged_documents")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate2(" ",f.\u0275\u0275pipeBind1(24,27,"setting.ged_document")," : ",t.countEnabledDocuments," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("disabled",0===t.countEnabledDocuments),f.\u0275\u0275advance(1),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(28,29,"button.synchronize")," "))},directives:[p.BN,a.iA,b.jx,C.oH,I.U,c.JJ,c.On,Oe.Lv,r.NgClass,c._Y,c.JL,c.sg,C.MU,le.jv,c.Fj,c.u,le.wj,c.EJ,c.YN,c.Kr,r.NgForOf,r.NgIf],pipes:[s.X$,r.DatePipe],styles:[""]}),e})();var ss=n(26772);class ds{constructor(){}}var cs=n(95728);class ps{}class ms{}var us=n(40226);class gs{constructor(){}}const hs=["ngxLoading"];function fs(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"th",19),f.\u0275\u0275elementStart(1,"div",20),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275element(4,"p-sortIcon",21),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("pSortableColumn",e.field),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,3,e.header)," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("field",e.field)}}function vs(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",28),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(13).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function Ss(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",28),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(13).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function ys(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",29),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(13).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function xs(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",30),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(13).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function Es(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",31),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(13).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function bs(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",35),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275propertyInterpolate("value",e.label),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(e.value)}}function Cs(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"select",32),f.\u0275\u0275listener("change",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(13).filter(t.target.value,n.field,"equals")}),f.\u0275\u0275elementStart(1,"option",33),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(4,bs,2,2,"option",34),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(3);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,2,"category_loan.all")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.groups)}}function Is(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",30),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(13).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function ws(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",30),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(13).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function Fs(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",30),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(13).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function _s(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"select",32),f.\u0275\u0275listener("change",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(13).filter(t.target.value,n.field,"equals")}),f.\u0275\u0275elementStart(1,"option",33),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"option",36),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"option",37),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,3,"category_loan.all")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(6,5,"setting.on")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(9,7,"setting.off")))}function Ls(e,t){1&e&&(f.\u0275\u0275elementStart(0,"th",22),f.\u0275\u0275template(1,vs,1,0,"input",23),f.\u0275\u0275template(2,Ss,1,0,"input",23),f.\u0275\u0275template(3,ys,1,0,"input",24),f.\u0275\u0275template(4,xs,1,0,"input",25),f.\u0275\u0275template(5,Es,1,0,"input",26),f.\u0275\u0275template(6,Cs,5,4,"select",27),f.\u0275\u0275template(7,Is,1,0,"input",25),f.\u0275\u0275template(8,ws,1,0,"input",25),f.\u0275\u0275template(9,Fs,1,0,"input",25),f.\u0275\u0275template(10,_s,10,9,"select",27),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275property("ngSwitch",t.$implicit.field),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","employeeId"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","login"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","nom"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","prenom"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","email"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","groupes"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","branchDescription"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","responsableId"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","portfolioName"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","enabled"))}function Ds(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275template(1,fs,5,5,"th",16),f.\u0275\u0275element(2,"th",17),f.\u0275\u0275element(3,"th",17),f.\u0275\u0275element(4,"th",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"tr"),f.\u0275\u0275template(6,Ls,11,11,"th",18),f.\u0275\u0275element(7,"th",17),f.\u0275\u0275element(8,"th",17),f.\u0275\u0275element(9,"th",17),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",e),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngForOf",e)}}function ks(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function Ts(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function Ms(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function Vs(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function As(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function Ps(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(null==t[e.field][0]?null:t[e.field][0].libelle)}}function Bs(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function Ns(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function Rs(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function Os(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"bSwitch",47),f.\u0275\u0275listener("ngModelChange",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext().$implicit[n.field]=t})("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(2).$implicit;return f.\u0275\u0275nextContext().endableDisable(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275property("ngModel",t[e.field])("switch-size","mini")("switch-handle-width",40)("switch-animate",!0)("switch-off-color","danger")}}function js(e,t){1&e&&(f.\u0275\u0275elementStart(0,"td",45),f.\u0275\u0275template(1,ks,2,1,"div",46),f.\u0275\u0275template(2,Ts,2,1,"div",46),f.\u0275\u0275template(3,Ms,2,1,"div",46),f.\u0275\u0275template(4,Vs,2,1,"div",46),f.\u0275\u0275template(5,As,2,1,"div",46),f.\u0275\u0275template(6,Ps,2,1,"div",46),f.\u0275\u0275template(7,Bs,2,1,"div",46),f.\u0275\u0275template(8,Ns,2,1,"div",46),f.\u0275\u0275template(9,Rs,2,1,"div",46),f.\u0275\u0275template(10,Os,2,5,"div",46),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275property("ngSwitch",t.$implicit.field),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","employeeId"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","login"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","nom"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","prenom"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","email"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","groupes"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","branchDescription"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","responsableId"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","portfolioName"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","enabled"))}function Gs(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr",38),f.\u0275\u0275template(1,js,11,11,"td",39),f.\u0275\u0275elementStart(2,"td"),f.\u0275\u0275elementStart(3,"button",40),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(17);return n.updateUser(i,t)}),f.\u0275\u0275element(4,"fa-icon",41),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275elementStart(6,"button",42),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(19);return n.openNotificationModal(i,t)}),f.\u0275\u0275element(7,"i",43),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"td"),f.\u0275\u0275elementStart(9,"button",42),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(21);return n.openMyTeam(i,t)}),f.\u0275\u0275element(10,"i",44),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=t.columns,i=f.\u0275\u0275nextContext();f.\u0275\u0275property("pSelectableRow",e),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",n),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",i.library.getIconDefinition("fas","pencil-alt"))}}function Us(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",80),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,"setting.setting_users.update_user")))}function $s(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",80),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,"setting.setting_users.add_user")))}function Js(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",81),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e.code),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",e.code," ")}}function zs(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",81),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e.id),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.description,"")}}function Ks(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",82),f.\u0275\u0275element(1,"input",83),f.\u0275\u0275elementStart(2,"label",84),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,1,"setting.setting_users.change_responsible"),""))}function Ws(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",81),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.portfolioName,"")}}const qs=function(e){return{"text-end":e}};function Hs(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",48),f.\u0275\u0275elementStart(1,"div",49),f.\u0275\u0275template(2,Us,3,3,"h5",50),f.\u0275\u0275template(3,$s,3,3,"h5",50),f.\u0275\u0275elementStart(4,"button",51),f.\u0275\u0275elementStart(5,"span",52),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModal()}),f.\u0275\u0275text(6,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"form",53),f.\u0275\u0275listener("ngSubmit",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext();return t.onSubmit(),t.dateChanged()}),f.\u0275\u0275elementStart(8,"div",6),f.\u0275\u0275elementStart(9,"perfect-scrollbar",54),f.\u0275\u0275elementStart(10,"h4",55),f.\u0275\u0275text(11),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"div",56),f.\u0275\u0275elementStart(13,"label"),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"span",57),f.\u0275\u0275text(17,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"mat-radio-group",58),f.\u0275\u0275elementStart(19,"mat-radio-button",59),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"mat-radio-button",60),f.\u0275\u0275text(23),f.\u0275\u0275pipe(24,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"div",56),f.\u0275\u0275elementStart(26,"label"),f.\u0275\u0275text(27),f.\u0275\u0275pipe(28,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(29,"span",57),f.\u0275\u0275text(30,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(31,"div"),f.\u0275\u0275element(32,"input",61),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(33,"div",56),f.\u0275\u0275elementStart(34,"label"),f.\u0275\u0275text(35),f.\u0275\u0275pipe(36,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"span",57),f.\u0275\u0275text(38,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(39,"div"),f.\u0275\u0275element(40,"input",62),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(41,"div",56),f.\u0275\u0275elementStart(42,"label"),f.\u0275\u0275text(43),f.\u0275\u0275pipe(44,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(45,"span",57),f.\u0275\u0275text(46,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(47,"div"),f.\u0275\u0275element(48,"input",63),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(49,"div",56),f.\u0275\u0275elementStart(50,"label"),f.\u0275\u0275text(51),f.\u0275\u0275pipe(52,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(53,"span",57),f.\u0275\u0275text(54,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(55,"div"),f.\u0275\u0275element(56,"input",64),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(57,"div",56),f.\u0275\u0275elementStart(58,"label"),f.\u0275\u0275text(59),f.\u0275\u0275pipe(60,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(61,"span",57),f.\u0275\u0275text(62,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(63,"div"),f.\u0275\u0275element(64,"input",65),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(65,"div",56),f.\u0275\u0275elementStart(66,"label"),f.\u0275\u0275text(67),f.\u0275\u0275pipe(68,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(69,"span",57),f.\u0275\u0275text(70,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(71,"div"),f.\u0275\u0275elementStart(72,"select",66),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().changeGroup(t)}),f.\u0275\u0275template(73,Js,2,2,"option",67),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(74,"div",56),f.\u0275\u0275elementStart(75,"label"),f.\u0275\u0275text(76),f.\u0275\u0275pipe(77,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(78,"span",57),f.\u0275\u0275text(79,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(80,"div"),f.\u0275\u0275elementStart(81,"select",68),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().branchChanged()}),f.\u0275\u0275element(82,"option",69),f.\u0275\u0275template(83,zs,2,2,"option",67),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(84,"div",56),f.\u0275\u0275elementStart(85,"label"),f.\u0275\u0275text(86),f.\u0275\u0275pipe(87,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(88,"ngx-select-dropdown",70),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().branchesArray=t})("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().branchMethode()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(89,"div",56),f.\u0275\u0275elementStart(90,"label"),f.\u0275\u0275text(91),f.\u0275\u0275pipe(92,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(93,"ngx-select-dropdown",71),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().responsibleSelected=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(94,Ks,5,3,"div",72),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(95,"div",56),f.\u0275\u0275elementStart(96,"label"),f.\u0275\u0275text(97),f.\u0275\u0275pipe(98,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(99,"div"),f.\u0275\u0275elementStart(100,"select",73),f.\u0275\u0275element(101,"option",69),f.\u0275\u0275template(102,Ws,2,2,"option",67),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(103,"div",74),f.\u0275\u0275elementStart(104,"label"),f.\u0275\u0275text(105),f.\u0275\u0275pipe(106,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(107,"span",57),f.\u0275\u0275text(108,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(109,"input",75),f.\u0275\u0275listener("blur",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().dateChanged()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(110,"div",74),f.\u0275\u0275elementStart(111,"label"),f.\u0275\u0275text(112),f.\u0275\u0275pipe(113,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(114,"input",76),f.\u0275\u0275listener("blur",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().dateChanged()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(115,"div",77),f.\u0275\u0275elementStart(116,"button",78),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModal()}),f.\u0275\u0275text(117),f.\u0275\u0275pipe(118,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(119,"button",79),f.\u0275\u0275text(120),f.\u0275\u0275pipe(121,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(78,qs,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf","update"===e.action),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","create"===e.action),f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.groupForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(e.UserforUpdate.login),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(15,44,"setting.setting_users.category")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(21,46,"setting.setting_users.operation")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(24,48,"setting.setting_users.managment")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(28,50,"setting.setting_users.login"),""),f.\u0275\u0275advance(5),f.\u0275\u0275attribute("disabled","update"===e.action?"":null),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(36,52,"setting.setting_users.employee_id"),""),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(44,54,"setting.setting_users.first-name")),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(52,56,"setting.setting_users.last-name")),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(60,58,"setting.setting_users.email")),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(68,60,"setting.setting_users.group")),f.\u0275\u0275advance(6),f.\u0275\u0275property("ngForOf",e.groupEntitys),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(77,62,"customer.branch")),f.\u0275\u0275advance(7),f.\u0275\u0275property("ngForOf",e.brancheEntitys),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(87,64,"setting.setting_users.acces_branches")),f.\u0275\u0275advance(2),f.\u0275\u0275property("multiple",!0)("ngModel",e.branchesArray)("options",e.brancheEntitys)("config",e.configBranches),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(92,66,"setting.setting_users.responsible")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngClass",!0===e.emptyResponsible?"ACM-responsible-error":"")("multiple",!1)("ngModel",e.responsibleSelected)("options",e.responsibleList)("config",e.configResponsibles),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","update"===e.action),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(98,68,"setting.setting_users.portfolio")),f.\u0275\u0275advance(3),f.\u0275\u0275property("compareWith",e.comparePortfolio),f.\u0275\u0275attribute("disabled",e.displayPortfolio?"":null),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.listPortfolio),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(106,70,"setting.setting_users.hiring_date")),f.\u0275\u0275advance(4),f.\u0275\u0275property("max",e.groupForm.controls.resigningDate.value),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(113,72,"setting.setting_users.resigning_date"),""),f.\u0275\u0275advance(2),f.\u0275\u0275property("min",e.groupForm.controls.hiringDate.value),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(118,74,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(121,76,"button.save"))}}function Ys(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275elementStart(6,"bSwitch",89),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.statut=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext(2).enableDisableNotif(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.settingNotificationDTO.category),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.settingNotificationDTO.typeNotif),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.statut)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("disabled",!e.settingNotificationDTO.enabled)}}function Qs(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",1),f.\u0275\u0275elementStart(1,"div",49),f.\u0275\u0275elementStart(2,"h5",80),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",51),f.\u0275\u0275elementStart(6,"span",52),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModal()}),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"div"),f.\u0275\u0275elementStart(9,"div",85),f.\u0275\u0275elementStart(10,"table",86),f.\u0275\u0275elementStart(11,"thead"),f.\u0275\u0275elementStart(12,"tr"),f.\u0275\u0275elementStart(13,"th"),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"th"),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"th"),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"tbody"),f.\u0275\u0275template(23,Ys,7,7,"tr",87),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"div",88),f.\u0275\u0275elementStart(25,"button",78),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(26),f.\u0275\u0275pipe(27,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,9,"setting.setting_notifications.setting_notification"),""),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(9),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(15,11,"setting.category")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(18,13,"setting.setting_notifications.type_notification")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(21,15,"setting.status")),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngForOf",e.userSettingNotificationsEntitys),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(27,17,"button.close"))}}function Xs(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"th",19),f.\u0275\u0275elementStart(1,"div",20),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275element(4,"p-sortIcon",21),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("pSortableColumn",e.field),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,3,e.header)," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("field",e.field)}}function Zs(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",28),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(10).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function ed(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",29),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(10).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function td(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",30),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(10).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function nd(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",30),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(10).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function id(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"select",32),f.\u0275\u0275listener("change",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(10).filter(t.target.value,n.field,"equals")}),f.\u0275\u0275elementStart(1,"option",33),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"option",36),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"option",37),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,3,"category_loan.all")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(6,5,"setting.on")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(9,7,"setting.off")))}function rd(e,t){1&e&&(f.\u0275\u0275elementStart(0,"th",22),f.\u0275\u0275template(1,Zs,1,0,"input",23),f.\u0275\u0275template(2,ed,1,0,"input",24),f.\u0275\u0275template(3,td,1,0,"input",25),f.\u0275\u0275template(4,nd,1,0,"input",25),f.\u0275\u0275template(5,id,10,9,"select",27),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275property("ngSwitch",t.$implicit.field),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","login"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","nom"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","prenom"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","oldResponsableName"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","temporaryResponsable"))}function ad(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275element(1,"th",95),f.\u0275\u0275template(2,Xs,5,5,"th",16),f.\u0275\u0275element(3,"th",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"tr"),f.\u0275\u0275elementStart(5,"th",95),f.\u0275\u0275element(6,"p-tableHeaderCheckbox"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(7,rd,6,6,"th",18),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngForOf",e)}}function od(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function ld(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function sd(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function dd(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function cd(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",82),f.\u0275\u0275elementStart(2,"input",96),f.\u0275\u0275listener("ngModelChange",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext().$implicit[n.field]=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(3,"label",97),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext(),n=t.$implicit,i=t.rowIndex;f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",n[e.field])("id",i)("name",i),f.\u0275\u0275advance(1),f.\u0275\u0275property("for",i)}}function pd(e,t){1&e&&(f.\u0275\u0275elementStart(0,"td",45),f.\u0275\u0275template(1,od,2,1,"div",46),f.\u0275\u0275template(2,ld,2,1,"div",46),f.\u0275\u0275template(3,sd,2,1,"div",46),f.\u0275\u0275template(4,dd,2,1,"div",46),f.\u0275\u0275template(5,cd,4,4,"div",46),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275property("ngSwitch",t.$implicit.field),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","login"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","nom"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","prenom"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","oldResponsableName"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","temporaryResponsable"))}function md(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275element(2,"p-tableCheckbox",35),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(3,pd,6,6,"td",39),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=t.columns;f.\u0275\u0275advance(2),f.\u0275\u0275property("value",e),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",n)}}const ud=function(){return[5,10,20,50,100]};function gd(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",1),f.\u0275\u0275elementStart(1,"div",49),f.\u0275\u0275elementStart(2,"h5",80),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",51),f.\u0275\u0275elementStart(6,"span",52),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModal()}),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"div",6),f.\u0275\u0275elementStart(9,"p-table",90,8),f.\u0275\u0275listener("onLazyLoad",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().reloadUserListTeams(t)})("selectionChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().team=t}),f.\u0275\u0275template(11,ad,8,2,"ng-template",9),f.\u0275\u0275template(12,md,4,2,"ng-template",10),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"form",91),f.\u0275\u0275listener("ngSubmit",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext();return t.changeSupervisor(t.team)}),f.\u0275\u0275elementStart(14,"div",56),f.\u0275\u0275elementStart(15,"label"),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"span",57),f.\u0275\u0275text(19,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(20,"ngx-select-dropdown",92),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(21,"div",74),f.\u0275\u0275elementStart(22,"div",82),f.\u0275\u0275element(23,"input",93),f.\u0275\u0275elementStart(24,"label",94),f.\u0275\u0275text(25),f.\u0275\u0275pipe(26,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"div",88),f.\u0275\u0275elementStart(28,"button",79),f.\u0275\u0275text(29),f.\u0275\u0275pipe(30,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(31,"button",78),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(32),f.\u0275\u0275pipe(33,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate2(" ",f.\u0275\u0275pipeBind1(4,26,"setting.setting_users.my_teams")," : ",e.supervisorName," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(4),f.\u0275\u0275property("responsive",!0)("autoLayout",!0)("value",e.teamsPagination.resultsUsers)("lazy",!0)("lazyLoadOnInit",!1)("totalRecords",e.teamsPagination.totalElements)("rowsPerPageOptions",f.\u0275\u0275pureFunction0(36,ud))("paginator",!0)("pageLinks",5)("rows",10)("columns",e.teamsSelectedColumns)("selection",e.team),f.\u0275\u0275advance(4),f.\u0275\u0275property("formGroup",e.teamForm),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(17,28,"setting.setting_users.responsible")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",!0===e.emptyResponsible?"ACM-responsible-error ACM-team-supervisor":"ACM-team-supervisor")("multiple",!1)("options",e.responsibleList)("config",e.configResponsibles),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(26,30,"setting.setting_users.change_is_temp")),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(30,32,"button.save")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(33,34,"button.close"))}}function hd(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"th",19),f.\u0275\u0275elementStart(1,"div",20),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275element(4,"p-sortIcon",21),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("pSortableColumn",e.field),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,3,e.header)," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("field",e.field)}}function fd(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",100),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(34).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function vd(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",100),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(34).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function Sd(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",101),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(34).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function yd(e,t){1&e&&(f.\u0275\u0275elementStart(0,"th",22),f.\u0275\u0275template(1,fd,1,0,"input",98),f.\u0275\u0275template(2,vd,1,0,"input",98),f.\u0275\u0275template(3,Sd,1,0,"input",99),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275property("ngSwitch",t.$implicit.field),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","portfolioId"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","code"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","portfolioName"))}function xd(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275template(1,hd,5,5,"th",16),f.\u0275\u0275element(2,"th",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"tr"),f.\u0275\u0275template(4,yd,4,4,"th",18),f.\u0275\u0275element(5,"th",17),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",e),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngForOf",e)}}function Ed(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function bd(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function Cd(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function Id(e,t){1&e&&(f.\u0275\u0275elementStart(0,"td",45),f.\u0275\u0275template(1,Ed,2,1,"div",46),f.\u0275\u0275template(2,bd,2,1,"div",46),f.\u0275\u0275template(3,Cd,2,1,"div",46),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275property("ngSwitch",t.$implicit.field),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","portfolioId"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","code"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","portfolioName"))}function wd(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr",38),f.\u0275\u0275template(1,Id,4,4,"td",39),f.\u0275\u0275elementStart(2,"td"),f.\u0275\u0275elementStart(3,"button",40),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(38);return n.updatePortfolio(i,t)}),f.\u0275\u0275element(4,"fa-icon",41),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=t.columns,i=f.\u0275\u0275nextContext();f.\u0275\u0275property("pSelectableRow",e),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",n),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",i.library.getIconDefinition("fas","pencil-alt"))}}function Fd(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",80),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,"setting.setting_users.update_portfolio")))}function _d(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",80),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,"setting.setting_users.add_portfolio")))}function Ld(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",48),f.\u0275\u0275elementStart(1,"div",49),f.\u0275\u0275template(2,Fd,3,3,"h5",50),f.\u0275\u0275template(3,_d,3,3,"h5",50),f.\u0275\u0275elementStart(4,"button",51),f.\u0275\u0275elementStart(5,"span",52),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModal()}),f.\u0275\u0275text(6,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"form",53),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmitPortfolio()}),f.\u0275\u0275elementStart(8,"div",6),f.\u0275\u0275elementStart(9,"perfect-scrollbar",102),f.\u0275\u0275elementStart(10,"div",56),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"span",57),f.\u0275\u0275text(15,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"div"),f.\u0275\u0275element(17,"input",103),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"div",56),f.\u0275\u0275elementStart(19,"label"),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"span",57),f.\u0275\u0275text(23,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"div"),f.\u0275\u0275element(25,"input",104),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"div",77),f.\u0275\u0275elementStart(27,"button",78),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModal()}),f.\u0275\u0275text(28),f.\u0275\u0275pipe(29,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"button",79),f.\u0275\u0275text(31),f.\u0275\u0275pipe(32,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(20,qs,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf","update"===e.action),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","create"===e.action),f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.groupFormPortfolio),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(13,12,"setting.setting_users.portfolioName"),""),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(21,14,"setting.setting_users.portfolioCode"),""),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(29,16,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(32,18,"button.save"))}}const Dd=function(e,t,n){return{animationType:e,primaryColour:t,tertiaryColour:n,backdropBorderRadius:"3px"}};let kd=(()=>{class e{constructor(e,t,n,i,r,a){this.settingsService=e,this.translate=t,this.modal=n,this.formBuilder=i,this.devToolsServices=r,this.library=a,this.ngxLoadingAnimationTypes=l.Sn,this.primaryColour="var(--primary)",this.config={animationType:l.Sn.none,primaryColour:this.primaryColour},this.users=[],this.portfolios=[],this.loading=!0,this.branchesAcces=null,this.groupEntitys=[],this.brancheEntitys=[],this.portfolioSelected=new cs.o,this.userSettingNotificationsEntitys=[],this.addedSettingNotif=[],this.userPagination=new ds,this.portfolioPagination=new gs,this.emailMask=new RegExp(/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/),this.displayPortfolio=!0,this.selectedDateTypeG=us.Uv.Gregorian,this.teamsPagination=new ds,this.allTemporary=!1,this.usersChangedResponsible=[],this.configBranches={displayKey:"description",search:!0,placeholder:" "},this.branchesArray=[],this.configResponsibles={displayKey:"loginAndName",search:!0,placeholder:" ",searchOnKey:"login"},this.responsibleSelected=new ss.H,this.usersFiltered=[],this.responsibleList=[],this.emptyResponsible=!1}ngOnInit(){this.cols=[{field:"login",header:"setting.setting_users.login"},{field:"employeeId",header:"setting.setting_users.employee_id"},{field:"nom",header:"setting.setting_users.first-name"},{field:"prenom",header:"setting.setting_users.last-name"},{field:"email",header:"setting.setting_users.email"},{field:"groupes",header:"setting.setting_users.group"},{field:"branchDescription",header:"customer.branch"},{field:"responsableId",header:"setting.setting_users.responsible"},{field:"portfolioName",header:"setting.setting_users.portfolio"},{field:"enabled",header:"setting.status"}],this.colsPortfolio=[{field:"portfolioId",header:"setting.setting_users.portfolioId"},{field:"code",header:"setting.setting_users.portfolioCode"},{field:"portfolioName",header:"setting.setting_users.portfolioName"}],this.selectedColumns=this.cols,this.pageSize=10,this.page=1,this.userPagination.params=new ss.H,this.settingsService.findUserPagination(this.userPagination).subscribe(e=>{this.userPagination=e}),this.selectedPortfolio=this.colsPortfolio,this.pageSize=10,this.page=1,this.portfolioPagination.params=new cs.o,this.settingsService.findPortfolioPagination(this.portfolioPagination).subscribe(e=>{this.portfolioPagination=e}),this.settingsService.findGroup(new Nt.P).subscribe(e=>{this.groupEntitys=e,this.groups=[],this.groupEntitys.forEach(e=>{this.groups.push({label:e.idAcmGroup.toString(),value:e.libelle})}),this.loading=!1})}addUser(e){this.displayPortfolio=!1,this.settingsService.findAllAcmPortfolio().subscribe(e=>{this.listPortfolio=e}),this.settingsService.findBranches(new ja._).subscribe(e=>{this.brancheEntitys=e}),this.branchesArray=[],this.responsibleSelected=new ss.H,this.action="create",this.UserforUpdate=new ss.H,this.responsibleList=[],this.createForm(this.UserforUpdate,"add"),this.emptyResponsible=!1,this.modal.open(e)}updateUser(e,t){var n=this;return(0,m.Z)(function*(){n.displayPortfolio=!0,n.settingsService.findAllAcmPortfolio().subscribe(e=>{n.listPortfolio=e}),n.settingsService.findBranches(new ja._).subscribe(e=>{if(n.brancheEntitys=e,null!=t.accessBranches){const e=(t.accessBranches.match(/,/g)||[]).length+1;t.accessBranches.split(",",e).forEach(e=>{n.brancheEntitys.find(t=>{t.id===+e&&n.branchesArray.push(t)})})}}),n.branchesAcces=null,n.branchesArray=[],n.action="update",n.UserforUpdate=t;const i=new ss.H;i.branchID=t.branchID,n.settingsService.getResponsible(i).subscribe(e=>{n.responsibleList=e.filter(e=>e.login!==t.login),n.responsibleSelected=n.responsibleList.filter(e=>e.login===t.responsableId)[0],n.loading=!1}),n.emptyResponsible=!1,n.UserforUpdate.oldResponsibleId=n.UserforUpdate.responsableId,yield n.createForm(t,"edit"),n.emptyResponsible=!1,n.modal.open(e)})()}endableDisable(e){this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.disable_user").afterClosed().subscribe(t=>{t?this.settingsService.updateEnableUser(e).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success")}):e.enabled=!e.enabled})}setMyNotifications(e){var t=this;return(0,m.Z)(function*(){const n=new ps,i=new ss.H;i.login=e.login,n.userDTO=i,n.userDTO.login=i.login,n.settingNotificationDTO=new ms,yield t.settingsService.findAllSettingNotification().toPromise().then(e=>{t.allSettingNotifEntities=e}),yield t.settingsService.findAllUsersNotification(n).toPromise().then(e=>{t.userSettingNotificationsEntitys=e}),t.allSettingNotifEntities.forEach(n=>{if(void 0===t.userSettingNotificationsEntitys.find(e=>e.settingNotificationDTO.idSettingNotification===n.idSettingNotification)){const i=new ps;i.settingNotificationDTO=n,i.statut=!1,i.userDTO=e,i.exist=!1,t.userSettingNotificationsEntitys.push(i)}})})()}openNotificationModal(e,t){this.userSettingNotificationsEntitys=[],this.setMyNotifications(t),this.modal.open(e)}enableDisableNotif(e){var t=this;return(0,m.Z)(function*(){null!=e&&(e.statut?e.statut&&(e.exist||void 0===e.exist?yield t.settingsService.updateEnableUserNotification(e).toPromise().then(e=>{t.devToolsServices.openToast(0,"alert.success")}):e.exist||(yield t.settingsService.createUserNotification(e).toPromise().then(n=>{e.idUsersNotification=n.idUsersNotification,e.exist=!0,t.devToolsServices.openToast(0,"alert.success")}))):yield t.settingsService.updateEnableUserNotification(e).toPromise().then(e=>{t.devToolsServices.openToast(0,"alert.success")}))})()}closeModale(){this.modal.dismissAll(),this.team=[]}getDirection(){return Se.y.direction}closeModal(){this.modal.dismissAll()}onSubmit(){this.emptyResponsible=!1;const e=this.groupForm.get("branches").value;if(null!==e&&void 0!==e.length&&e.length>0&&this.groupForm.controls.branches.setErrors(null),this.groupForm.controls.responsible.valid){if(this.groupForm.valid){null!=this.branchesAcces&&(this.UserforUpdate.accessBranches=this.branchesAcces.slice(0,-1)),this.UserforUpdate.changeAllResponsible=!1;let e=null;!0===this.groupForm.controls.updateUsersResponsible.value&&(this.UserforUpdate.changeAllResponsible=!0,e=this.UserforUpdate.oldResponsibleId),this.UserforUpdate.nom=this.groupForm.controls.firstName.value,this.UserforUpdate.employeeId=this.groupForm.controls.employeeId.value,this.UserforUpdate.category=this.groupForm.controls.category.value,this.UserforUpdate.prenom=this.groupForm.controls.lastName.value,this.UserforUpdate.responsableId=this.responsibleSelected.login,this.UserforUpdate.accountPortfolioId=this.groupForm.controls.portfolio.value.portfolioId,this.UserforUpdate.portfolioName=this.groupForm.controls.portfolio.value.portfolioName.replace(/\s*\(.*\)/,"").trim(),this.UserforUpdate.email=this.groupForm.controls.email.value.toLowerCase(),null!=this.groupForm.controls.resigningDate.value&&(this.UserforUpdate.resigningDate=""!==this.groupForm.controls.resigningDate.value?new Date(this.groupForm.controls.resigningDate.value):this.groupForm.controls.resigningDate.value),null!=this.groupForm.controls.hiringDate.value&&(this.UserforUpdate.hiringDate=""!==this.groupForm.controls.hiringDate.value?new Date(this.groupForm.controls.hiringDate.value):this.groupForm.controls.hiringDate.value),this.brancheEntitys.forEach(e=>{e.id===this.groupForm.controls.branche.value&&(this.UserforUpdate.branchID=e.id,this.UserforUpdate.branchName=e.name,this.UserforUpdate.branchDescription=e.description)}),this.groupEntitys.forEach(e=>{e.code===this.groupForm.controls.group.value&&(this.UserforUpdate.groupes=[],this.UserforUpdate.groupes.push(e))}),"update"===this.action?this.settingsService.getCheckResponsibleLoop(this.UserforUpdate.login,e,this.UserforUpdate.responsableId).subscribe(e=>{console.log(e),e.startsWith("KO")?this.devToolsServices.openToastWithParameter(1,"alert.responsible_loop_detected",e.replace("KO","")):this.settingsService.updateUser(this.UserforUpdate).subscribe(e=>{!0===this.groupForm.controls.updateUsersResponsible.value&&this.userPagination.resultsUsers.filter(e=>e.responsableId===this.UserforUpdate.oldResponsibleId).forEach(t=>{t.responsableId=e.responsableId}),this.devToolsServices.openToast(0,"alert.success"),this.closeModal()})}):"create"===this.action&&(this.UserforUpdate.login=this.groupForm.controls.login.value,this.settingsService.createUser(this.UserforUpdate).subscribe(()=>{this.devToolsServices.openToast(0,"alert.success"),this.closeModal()}))}}else this.emptyResponsible=!0}dateLessThan(e,t){return n=>{const i=n.controls[e],r=n.controls[t];return null!=i.value&&null!=r.value&&new Date(i.value)>new Date(r.value)?{dates:"Date from should be less than Date to"}:{}}}createForm(e,t){let n="";if("edit"===t&&void 0!==e.groupes[0].libelle&&(n=e.groupes[0].code),this.portfolioSelected.portfolioId=parseInt(e.accountPortfolioId,10),this.portfolioSelected.portfolioName=e.portfolioName,this.portfolioSelected.enable=!0,this.groupForm=this.formBuilder.group({category:[e.category,[c.kI.required]],login:[e.login,[c.kI.required]],employeeId:[e.employeeId,[c.kI.required]],firstName:[e.nom,[c.kI.required]],lastName:[e.prenom,c.kI.required],email:[e.email,[c.kI.required,c.kI.email,c.kI.pattern(this.emailMask)]],group:[n,c.kI.required],branche:[e.branchID,c.kI.required],branches:[e.accessBranches],responsible:[e.responsableId,c.kI.required],portfolio:[this.portfolioSelected],updateUsersResponsible:[!1],hiringDate:[e.hiringDate,jt.MS],resigningDate:[e.resigningDate]},{validator:this.dateLessThan("hiringDate","resigningDate")}),n===h.J.LOAN_OFFICER?this.displayPortfolio=!1:(this.displayPortfolio=!0,this.groupForm.controls.portfolio.setValue(new cs.o)),"edit"===t&&null!==e.hiringDate){const t=new Date(e.hiringDate);this.groupForm.controls.hiringDate.setValue(t.toISOString().substring(0,10)),e.hiringDate=new Date(e.hiringDate),this.hiringDate=new o.qj(0,0,0),this.hiringDate.day=e.hiringDate.getDate(),this.hiringDate.month=e.hiringDate.getMonth()+1,this.hiringDate.year=e.hiringDate.getFullYear()}else this.hiringDate=new o.qj(0,0,0);if("edit"===t&&null!==e.resigningDate&&""!==e.resigningDate.toString()){const t=new Date(e.resigningDate);this.groupForm.controls.resigningDate.setValue(t.toISOString().substring(0,10)),e.resigningDate=new Date(e.resigningDate),this.resigningDate=new o.qj(0,0,0),this.resigningDate.day=e.resigningDate.getDate(),this.resigningDate.month=e.resigningDate.getMonth()+1,this.resigningDate.year=e.resigningDate.getFullYear()}else this.resigningDate=new o.qj(0,0,0)}createFormPortfolio(e){this.groupFormPortfolio=this.formBuilder.group({portfolioId:[e.portfolioId],portfolioName:[e.portfolioName?.replace(/\s*\(.*\)/,"").trim(),[c.kI.required]],code:[e.code,[c.kI.required]]})}reloadUserList(e){var t=this;return(0,m.Z)(function*(){const n=new ds;n.pageSize=e.rows,n.pageNumber=0===e.first?e.first:e.first/e.rows;const i=new ss.H;if(void 0!==e.filters)if(i.login=void 0!==e.filters.login?e.filters.login.value:null,i.employeeId=void 0!==e.filters.employeeId?e.filters.employeeId.value:null,i.nom=void 0!==e.filters.nom?e.filters.nom.value:null,i.prenom=void 0!==e.filters.prenom?e.filters.prenom.value:null,i.email=void 0!==e.filters.email?e.filters.email.value:null,i.branchDescription=void 0!==e.filters.branchDescription?e.filters.branchDescription.value:null,i.responsableId=void 0!==e.filters.responsableId?e.filters.responsableId.value:null,i.portfolioName=void 0!==e.filters.portfolioName?e.filters.portfolioName.value:null,i.enabled=void 0!==e.filters.enabled?e.filters.enabled.value:null,void 0!==e.filters.groupes){const t=new Nt.P;t.idAcmGroup=e.filters.groupes.value;const n=[];n.push(t),i.groupes=n}else i.groupes=null;n.params=i,void 0!==e.multiSortMeta&&e.multiSortMeta.length>0&&(n.sortField=e.multiSortMeta[0].field,n.sortDirection=e.multiSortMeta[0].order),yield t.settingsService.findUserPagination(n).subscribe(e=>{t.userPagination=e})})()}reloadPortfolioList(e){var t=this;return(0,m.Z)(function*(){const n=new gs;n.pageSize=e.rows,n.pageNumber=0===e.first?e.first:e.first/e.rows;const i=new cs.o;void 0!==e.filters&&(i.portfolioId=void 0!==e.filters.portfolioId?e.filters.portfolioId.value:null,i.portfolioName=void 0!==e.filters.portfolioName?e.filters.portfolioName.value:null,i.code=void 0!==e.filters.code?e.filters.code.value:null,n.params=i,void 0!==e.multiSortMeta&&e.multiSortMeta.length>0&&(n.sortField=e.multiSortMeta[0].field,n.sortDirection=e.multiSortMeta[0].order),yield t.settingsService.findPortfolioPagination(n).subscribe(e=>{t.portfolioPagination=e}))})()}branchMethode(){this.branchesAcces="",this.branchesArray.forEach(e=>{this.branchesAcces=e.id.toString()+","+this.branchesAcces})}comparePortfolio(e,t){if(void 0!==e&&void 0!==t&&null!==e&&null!==t)return e.portfolioId===t.portfolioId}changeGroup(e){const t=this.groupEntitys.find(e=>e.code===this.groupForm.controls.group.value)?.linkedPortfolio;this.displayPortfolio=!t,this.groupForm.controls.portfolio.setValue(t?"":new cs.o)}branchChanged(){const e=new ss.H;e.branchID=this.groupForm.controls.branche.value,null!=this.responsibleSelected&&(this.responsibleSelected=null),this.getListResponsible(e).then(()=>{(null!==this.groupForm.controls.login.value||void 0!==this.groupForm.controls.login.value)&&(this.responsibleList=this.responsibleList.filter(e=>e.login!==this.groupForm.controls.login.value),null!=this.responsibleSelected&&(this.responsibleSelected=null))})}dateChanged(){null!==this.groupForm.controls.hiringDate.value&&null!==this.groupForm.controls.resigningDate.value&&new Date(this.groupForm.controls.hiringDate.value)>new Date(this.groupForm.controls.resigningDate.value)&&this.devToolsServices.openToast(3,"alert.hiringDateError")}getListResponsible(e){var t=this;return(0,m.Z)(function*(){yield t.settingsService.getResponsible(e).toPromise().then(e=>{t.responsibleList=e,t.loading=!1})})()}openMyTeam(e,t){const n=new ss.H,i=t.groupes[0];n.groupes=[],n.groupes.push(i),n.branchID=t.branchID,this.getListResponsible(n).then(()=>{this.responsibleList=this.responsibleList.filter(e=>e.login!==t.login)}),this.supervisorName=t.fullName,this.myTeams(t.login),this.emptyResponsible=!1,this.team=[],this.usersChangedResponsible=[],this.allTemporary=!1,this.teamForm=this.formBuilder.group({responsible:["",c.kI.required],allTemporary:[this.allTemporary]}),this.modal.open(e,{size:"lg"})}myTeams(e){this.teamCols=[{field:"login",header:"setting.setting_users.login"},{field:"nom",header:"setting.setting_users.first-name"},{field:"prenom",header:"setting.setting_users.last-name"},{field:"oldResponsableName",header:"setting.setting_users.old_supervisor_name"},{field:"temporaryResponsable",header:"setting.setting_users.temporary"}],this.teamsSelectedColumns=this.teamCols;const t=new ss.H;t.responsableId=e,this.teamsPagination.params=t,this.selectedResponsible=e,this.settingsService.findUserPagination(this.teamsPagination).subscribe(e=>{this.teamsPagination=e})}changeSupervisor(e){void 0===e||0===e.length?this.devToolsServices.openToast(2,"alert.no_users_selected"):(this.emptyResponsible=!1,this.devToolsServices.makeFormAsTouched(this.teamForm),this.teamForm.valid?(this.changeTemp(e),this.settingsService.updateusersSupervisor(this.usersChangedResponsible).subscribe(e=>{this.usersChangedResponsible=[];let t=!1;e.forEach(e=>{void 0!==e.loginAndName&&e.loginAndName.startsWith("KO")?(this.devToolsServices.openToastWithParameter(1,"alert.responsible_loop_detected",e.loginAndName.replace("KO","")),t=!0):this.userPagination.resultsUsers.filter(t=>t.login===e.login).forEach(t=>{t.responsableId=e.responsableId})}),t||(this.devToolsServices.openToast(0,"alert.success"),this.modal.dismissAll())})):this.emptyResponsible=!0)}changeTemp(e){this.usersChangedResponsible=[],e.forEach(e=>{e.temporaryResponsable=this.teamForm.controls.allTemporary.value,e.oldResponsibleId=e.responsableId,e.responsableId=this.teamForm.controls.responsible.value.login,this.usersChangedResponsible.push(e)})}reloadUserListTeams(e){var t=this;return(0,m.Z)(function*(){const n=new ds;n.pageSize=e.rows,n.pageNumber=0===e.first?e.first:e.first/e.rows;const i=new ss.H;i.responsableId=t.selectedResponsible,void 0!==e.filters&&(i.login=void 0!==e.filters.login?e.filters.login.value:null,i.nom=void 0!==e.filters.nom?e.filters.nom.value:null,i.prenom=void 0!==e.filters.prenom?e.filters.prenom.value:null,i.oldResponsableName=void 0!==e.filters.oldResponsableName?e.filters.oldResponsableName.value:null,i.temporaryResponsable=void 0!==e.filters.temporaryResponsable?e.filters.temporaryResponsable.value:null),n.params=i,void 0!==e.multiSortMeta&&e.multiSortMeta.length>0&&(n.sortField=e.multiSortMeta[0].field,n.sortDirection=e.multiSortMeta[0].order),yield t.settingsService.findUserPagination(n).subscribe(e=>{t.teamsPagination=e})})()}addPortfolio(e){this.action="create",this.PortfolioforUpdate=new cs.o,this.createFormPortfolio(this.PortfolioforUpdate),this.modal.open(e)}onSubmitPortfolio(){this.groupFormPortfolio.valid&&(this.PortfolioforUpdate.portfolioId=this.groupFormPortfolio.controls.portfolioId.value,this.PortfolioforUpdate.portfolioName=this.groupFormPortfolio.controls.portfolioName.value,this.PortfolioforUpdate.code=this.groupFormPortfolio.controls.code.value,console.log(this.PortfolioforUpdate),this.settingsService.SavePortfolio(this.PortfolioforUpdate).subscribe(e=>{this.PortfolioforUpdate=e,this.devToolsServices.openToast(0,"alert.success"),this.groupFormPortfolio.reset(),this.closeModal(),this.settingsService.findPortfolioPagination(this.portfolioPagination).subscribe(e=>{this.portfolioPagination=e})}))}updatePortfolio(e,t){var n=this;return(0,m.Z)(function*(){n.action="update",n.PortfolioforUpdate=t,yield n.createFormPortfolio(t),n.modal.open(e)})()}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(p.by))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-users"]],viewQuery:function(e,t){if(1&e&&f.\u0275\u0275viewQuery(hs,5),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.ngxLoadingComponent=e.first)}},decls:39,vars:52,consts:[[1,"py-1"],[1,"card"],[3,"show","config"],[1,"card-header"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[1,"mx-2",3,"icon"],[1,"card-body"],["sortMode","multiple","selectionMode","single",3,"responsive","autoLayout","value","lazy","lazyLoadOnInit","totalRecords","rowsPerPageOptions","paginator","pageLinks","rows","columns","selection","onLazyLoad","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["modalContent",""],["notifmodalContent",""],["myTeams",""],["dtPortfolio",""],["modalContentPortfolio",""],["class","text-center",3,"pSortableColumn",4,"ngFor","ngForOf"],[2,"width","40px"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"text-center",3,"pSortableColumn"],[1,"center-elem","text-center"],[1,"pl-1",3,"field"],[3,"ngSwitch"],["class","form-control placeholder","type","text",3,"input",4,"ngSwitchCase"],["class","form-control ACM-Dashbord-customername-col","type","text",3,"input",4,"ngSwitchCase"],["class","form-control","type","text",3,"input",4,"ngSwitchCase"],["class","form-control ACM-Dashbord-Date-col","type","text",3,"input",4,"ngSwitchCase"],["class","form-control ACM-Dashbord-productDescription-col",3,"change",4,"ngSwitchCase"],["type","text",1,"form-control","placeholder",3,"input"],["type","text",1,"form-control","ACM-Dashbord-customername-col",3,"input"],["type","text",1,"form-control",3,"input"],["type","text",1,"form-control","ACM-Dashbord-Date-col",3,"input"],[1,"form-control","ACM-Dashbord-productDescription-col",3,"change"],["value","null"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["value","true"],["value","false"],[3,"pSelectableRow"],["class","text-center",3,"ngSwitch",4,"ngFor","ngForOf"],[1,"btn","btn-warning","text-white",3,"click"],[3,"icon"],[1,"btn-icon","btn-icon-only","btn","d-flex","justify-items-center","p-0",3,"click"],[1,"fa","fa-bell","btn-icon-wrapper","text-black","pt-2","font-size-xlg","mb-1"],[1,"fa","fa-users","btn-icon-wrapper","text-black","pt-2","font-size-xlg","mb-1"],[1,"text-center",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-handle-width","switch-animate","switch-off-color","ngModelChange","click"],[3,"dir","ngClass"],[1,"modal-header","py-2"],["class","modal-title",4,"ngIf"],["type","button"],["aria-hidden","true",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[2,"height","400px"],[1,"pb-3"],[1,"position-relative","pb-4"],[1,"text-danger"],["labelPosition","after","formControlName","category",1,"d-flex","flex-row","bd-highlight","mb-3"],["value","OPERATION",1,"pt-2","px-3","bd-highlight"],["value","MANAGMENT",1,"pt-2","px-3","bd-highlight"],["formControlName","login",1,"form-control"],["formControlName","employeeId",1,"form-control"],["formControlName","firstName",1,"form-control"],["formControlName","lastName",1,"form-control"],["formControlName","email",1,"form-control"],["formControlName","group",1,"form-control",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","branche",1,"form-control",3,"change"],["selected","","value",""],["tabindex","0","formControlName","branches",3,"multiple","ngModel","options","config","ngModelChange","change"],["tabindex","0","formControlName","responsible",3,"ngClass","multiple","ngModel","options","config","ngModelChange"],["class","custom-checkbox custom-control",4,"ngIf"],["formControlName","portfolio",1,"form-control",3,"compareWith"],[1,"position-relative","form-group"],["type","date","formControlName","hiringDate","placeHolder","dd/mm/yyyy",1,"form-control",3,"max","blur"],["type","date","formControlName","resigningDate","placeHolder","dd/mm/yyyy",1,"form-control",3,"min","blur"],[1,"modal-footer"],[1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-1","btn","btn-primary"],[1,"modal-title"],[3,"ngValue"],[1,"custom-checkbox","custom-control"],["id","exampleCustomCheckboxReview","type","checkbox","formControlName","updateUsersResponsible",1,"custom-control-input"],["for","exampleCustomCheckboxReview",1,"custom-control-label"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],[1,"card-footer","py-2","d-flex","justify-content-end"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","disabled","ngModelChange","click"],["sortMode","multiple","selectionMode","multiple",3,"responsive","autoLayout","value","lazy","lazyLoadOnInit","totalRecords","rowsPerPageOptions","paginator","pageLinks","rows","columns","selection","onLazyLoad","selectionChange"],[1,"form","m-4",3,"formGroup","ngSubmit"],["tabindex","0","formControlName","responsible",3,"ngClass","multiple","options","config"],["id","confirm1","type","checkbox","formControlName","allTemporary",1,"custom-control-input"],["for","confirm1",1,"custom-control-label"],[1,"ACM_Customer_Search_void_Col"],["disabled","","type","checkbox",1,"custom-control-input",3,"ngModel","id","name","ngModelChange"],[1,"custom-control-label",3,"for"],["class","form-control placeholder","type","text","style","width: 100%",3,"input",4,"ngSwitchCase"],["class","form-control","type","text","style","width: 100%",3,"input",4,"ngSwitchCase"],["type","text",1,"form-control","placeholder",2,"width","100%",3,"input"],["type","text",1,"form-control",2,"width","100%",3,"input"],[2,"height","200px"],["formControlName","portfolioName",1,"form-control"],["formControlName","code",1,"form-control"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275element(2,"ngx-loading",2),f.\u0275\u0275elementStart(3,"div",3),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementStart(6,"div"),f.\u0275\u0275elementStart(7,"button",4),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(17);return t.addUser(n)}),f.\u0275\u0275element(8,"fa-icon",5),f.\u0275\u0275text(9),f.\u0275\u0275pipe(10,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"div",6),f.\u0275\u0275elementStart(12,"p-table",7,8),f.\u0275\u0275listener("onLazyLoad",function(e){return t.reloadUserList(e)})("selectionChange",function(e){return t.user=e}),f.\u0275\u0275template(14,Ds,10,2,"ng-template",9),f.\u0275\u0275template(15,Gs,11,3,"ng-template",10),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(16,Hs,122,80,"ng-template",null,11,f.\u0275\u0275templateRefExtractor),f.\u0275\u0275template(18,Qs,28,19,"ng-template",null,12,f.\u0275\u0275templateRefExtractor),f.\u0275\u0275template(20,gd,34,37,"ng-template",null,13,f.\u0275\u0275templateRefExtractor),f.\u0275\u0275elementStart(22,"div",0),f.\u0275\u0275elementStart(23,"div",1),f.\u0275\u0275elementStart(24,"div",3),f.\u0275\u0275text(25),f.\u0275\u0275pipe(26,"translate"),f.\u0275\u0275elementStart(27,"div"),f.\u0275\u0275elementStart(28,"button",4),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(38);return t.addPortfolio(n)}),f.\u0275\u0275element(29,"fa-icon",5),f.\u0275\u0275text(30),f.\u0275\u0275pipe(31,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(32,"div",6),f.\u0275\u0275elementStart(33,"p-table",7,14),f.\u0275\u0275listener("onLazyLoad",function(e){return t.reloadPortfolioList(e)})("selectionChange",function(e){return t.portfolio=e}),f.\u0275\u0275template(35,xd,6,2,"ng-template",9),f.\u0275\u0275template(36,wd,5,3,"ng-template",10),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(37,Ld,33,22,"ng-template",null,15,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275property("show",t.loading)("config",f.\u0275\u0275pureFunction3(46,Dd,t.ngxLoadingAnimationTypes.circle,t.primaryColour,t.primaryColour)),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(5,38,"setting.setting_users.setting_user")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(10,40,"setting.setting_users.add_user")," "),f.\u0275\u0275advance(3),f.\u0275\u0275property("responsive",!0)("autoLayout",!0)("value",t.userPagination.resultsUsers)("lazy",!0)("lazyLoadOnInit",!1)("totalRecords",t.userPagination.totalElements)("rowsPerPageOptions",f.\u0275\u0275pureFunction0(50,ud))("paginator",!0)("pageLinks",5)("rows",10)("columns",t.selectedColumns)("selection",t.user),f.\u0275\u0275advance(13),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(26,42,"setting.setting_users.setting_portfolio")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(31,44,"setting.setting_users.add_portfolio")," "),f.\u0275\u0275advance(3),f.\u0275\u0275property("responsive",!0)("autoLayout",!0)("value",t.portfolioPagination.resultsPortfolio)("lazy",!0)("lazyLoadOnInit",!1)("totalRecords",t.portfolioPagination.totalElements)("rowsPerPageOptions",f.\u0275\u0275pureFunction0(51,ud))("paginator",!0)("pageLinks",5)("rows",10)("columns",t.selectedPortfolio)("selection",t.portfolio))},directives:[l.RJ,p.BN,a.iA,b.jx,r.NgForOf,a.lQ,a.fz,r.NgSwitch,r.NgSwitchCase,C.oH,c.YN,c.Kr,a.Ei,I.U,c.JJ,c.On,Oe.Lv,r.NgClass,r.NgIf,c._Y,c.JL,c.sg,C.MU,le.jv,d.Vv,fn.VQ,c.u,le.wj,fn.U0,c.Fj,c.EJ,_o.rL,C.HK,c.Wl,a.Mo,a.UA],pipes:[s.X$],styles:[""]}),e})();var Td=n(985);class Md{constructor(){}}const Vd=["modalContent"],Ad=["ngxLoading"];function Pd(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"th",13),f.\u0275\u0275elementStart(1,"div",14),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275element(4,"p-sortIcon",15),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("pSortableColumn",e.field),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,3,e.header)," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("field",e.field)}}function Bd(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",20),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(12).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function Nd(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",21),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(12).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function Rd(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",21),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(12).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function Od(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"select",22),f.\u0275\u0275listener("change",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(12).filter(t.target.value,n.field,"equals")}),f.\u0275\u0275elementStart(1,"option",23),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"option",24),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"option",25),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,3,"category_loan.all")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(6,5,"setting.on")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(9,7,"setting.off")))}function jd(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"select",22),f.\u0275\u0275listener("change",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(12).filter(t.target.value,n.field,"equals")}),f.\u0275\u0275elementStart(1,"option",23),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"option",24),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"option",25),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,3,"category_loan.all")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(6,5,"setting.on")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(9,7,"setting.off")))}function Gd(e,t){1&e&&(f.\u0275\u0275elementStart(0,"th",16),f.\u0275\u0275template(1,Bd,1,0,"input",17),f.\u0275\u0275template(2,Nd,1,0,"input",18),f.\u0275\u0275template(3,Rd,1,0,"input",18),f.\u0275\u0275template(4,Od,10,9,"select",19),f.\u0275\u0275template(5,jd,10,9,"select",19),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275property("ngSwitch",t.$implicit.field),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","code"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","libelle"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","description"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","enabled"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","linkedPortfolio"))}function Ud(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275template(1,Pd,5,5,"th",10),f.\u0275\u0275element(2,"th",11),f.\u0275\u0275element(3,"th",11),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"tr"),f.\u0275\u0275template(5,Gd,6,6,"th",12),f.\u0275\u0275element(6,"th",11),f.\u0275\u0275element(7,"th",11),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",e),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e)}}function $d(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function Jd(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function zd(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function Kd(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"bSwitch",32),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).$implicit.enabled=t})("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(2).$implicit;return f.\u0275\u0275nextContext().openDialog(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2).$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-handle-width",40)("switch-animate",!0)("switch-off-color","danger")}}function Wd(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"bSwitch",32),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).$implicit.linkedPortfolio=t})("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(2).$implicit;return f.\u0275\u0275nextContext().openDialogLinkedPortfolio(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2).$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275property("ngModel",e.linkedPortfolio)("switch-size","mini")("switch-handle-width",40)("switch-animate",!0)("switch-off-color","danger")}}function qd(e,t){1&e&&(f.\u0275\u0275elementStart(0,"td",30),f.\u0275\u0275template(1,$d,2,1,"div",31),f.\u0275\u0275template(2,Jd,2,1,"div",31),f.\u0275\u0275template(3,zd,2,1,"div",31),f.\u0275\u0275template(4,Kd,2,5,"div",31),f.\u0275\u0275template(5,Wd,2,5,"div",31),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275property("ngSwitch",t.$implicit.field),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","code"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","libelle"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","description"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","enabled"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","linkedPortfolio"))}function Hd(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr",26),f.\u0275\u0275template(1,qd,6,6,"td",27),f.\u0275\u0275elementStart(2,"td"),f.\u0275\u0275elementStart(3,"button",28),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().editGroup(t)}),f.\u0275\u0275element(4,"fa-icon",29),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=t.columns,i=f.\u0275\u0275nextContext();f.\u0275\u0275property("pSelectableRow",e),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",n),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",i.library.getIconDefinition("fas","pencil-alt"))}}function Yd(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",47),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,"setting.group_management.new_group")))}function Qd(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",47),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,"setting.group_management.modify_group")))}function Xd(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275element(1,"input",48),f.\u0275\u0275elementEnd())}function Zd(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275element(1,"input",49),f.\u0275\u0275elementEnd())}const ec=function(e){return{"text-end":e}};function tc(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",33),f.\u0275\u0275elementStart(1,"div",34),f.\u0275\u0275template(2,Yd,3,3,"h5",35),f.\u0275\u0275template(3,Qd,3,3,"h5",35),f.\u0275\u0275elementStart(4,"button",36),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).close()}),f.\u0275\u0275elementStart(5,"span",37),f.\u0275\u0275text(6,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",38),f.\u0275\u0275elementStart(8,"form",39),f.\u0275\u0275listener("ngSubmit",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext();return t.d(t.onSubmit())}),f.\u0275\u0275elementStart(9,"div",40),f.\u0275\u0275elementStart(10,"label"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(13,Xd,2,0,"div",41),f.\u0275\u0275template(14,Zd,2,0,"div",41),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",40),f.\u0275\u0275elementStart(16,"label"),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div"),f.\u0275\u0275element(20,"input",42),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(21,"div",40),f.\u0275\u0275elementStart(22,"label"),f.\u0275\u0275text(23),f.\u0275\u0275pipe(24,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"div"),f.\u0275\u0275elementStart(26,"textarea",43),f.\u0275\u0275text(27,"          "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"div",44),f.\u0275\u0275elementStart(29,"button",45),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().reset()}),f.\u0275\u0275text(30),f.\u0275\u0275pipe(31,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(32,"button",46),f.\u0275\u0275text(33),f.\u0275\u0275pipe(34,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(25,ec,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",0===e.updateId),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",0!==e.updateId),f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(4),f.\u0275\u0275property("formGroup",e.groupForm),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(12,15,"setting.code"),""),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",0===e.updateId),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",0!==e.updateId),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(18,17,"setting.label"),""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(24,19,"setting.description"),""),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(31,21,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(34,23,"button.save"))}}const nc=function(){return[5,10,20,50,100]};let ic=(()=>{class e{constructor(e,t,n,i,r,a,o,s){this.modal=e,this.router=t,this.dialog=n,this.settingsService=i,this.formBuilder=r,this.devToolsServices=a,this.translate=o,this.library=s,this.groupeEntitys=[],this.groupeEntity=new Nt.P,this.groupeReloadEntity=new Nt.P,this.groupeEntityToDisable=new Nt.P,this.code=new c.NI("",c.kI.required),this.label=new c.NI("",c.kI.required),this.description=new c.NI("",c.kI.required),this.updateId=0,this.groupePaginationEntity=new Md,this.ngxLoadingAnimationTypes=l.Sn,this.primaryColour="var(--primary)",this.config={animationType:l.Sn.none,primaryColour:this.primaryColour}}ngOnInit(){this.cols=[{field:"code",header:"setting.code"},{field:"libelle",header:"setting.label"},{field:"description",header:"setting.description"},{field:"enabled",header:"setting.status"},{field:"linkedPortfolio",header:"setting.LinkedToPortfolio"}],this.selectedColumns=this.cols;const e=new Nt.P;this.loadGroupesByPaginations(e,0,10)}createForm(){this.groupForm=this.formBuilder.group({code:this.code,label:this.label,description:this.description})}addGroup(){this.updateId=0,this.clearForm(),this.createForm(),this.modal.open(this.modalContent,{size:"md"})}editGroup(e){this.createForm(),this.updateId=e.idAcmGroup,this.codeUpdate=e.code,this.enabled=e.enabled,this.linkedPortfolio=e.linkedPortfolio,this.groupForm.controls.code.setValue(e.code),this.groupForm.controls.label.setValue(e.libelle),this.groupForm.controls.description.setValue(e.description),this.modal.open(this.modalContent,{size:"md"})}reset(){this.groupForm.reset(),this.modal.dismissAll()}clearForm(){this.code=new c.NI("",c.kI.required),this.label=new c.NI("",c.kI.required),this.description=new c.NI("",c.kI.required)}onSubmit(){this.groupForm.valid&&(0!==this.updateId?this.update().then(()=>{this.devToolsServices.openToast(0,"alert.success"),this.loading=!1}):this.save().then(()=>{this.devToolsServices.openToast(0,"alert.success"),this.loading=!1}))}save(){var e=this;return(0,m.Z)(function*(){e.loading=!0;const t=new Nt.P;t.code=e.groupForm.value.code,t.libelle=e.groupForm.value.label,t.description=e.groupForm.value.description,t.linkedPortfolio=!1,e.modal.dismissAll(),yield e.settingsService.createGroup(t).toPromise().then(t=>{e.reloadTable(),e.clearForm()})})()}update(){var e=this;return(0,m.Z)(function*(){e.loading=!0,e.groupeEntity.idAcmGroup=e.updateId,e.groupeEntity.libelle=e.groupForm.value.label,e.groupeEntity.description=e.groupForm.value.description,e.modal.dismissAll(),yield e.settingsService.updateGroup(e.groupeEntity).toPromise().then(t=>{e.reloadTable(),e.clearForm(),e.updateId=0})})()}openDialog(e){var t=this;return(0,m.Z)(function*(){e.enabled?(t.groupeEntityToDisable.idAcmGroup=e.idAcmGroup,t.groupeEntityToDisable.enabled=!0,yield t.settingsService.updateGroupEnabled(t.groupeEntityToDisable).toPromise().then(e=>{t.devToolsServices.openToast(0,"alert.success")})):(t.groupeEntityToDisable.idAcmGroup=e.idAcmGroup,t.groupeEntityToDisable.enabled=!1,yield t.dialog.open(Td.z,{width:"350px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:"confirmation_dialog.disable_group"}}).afterClosed().subscribe(e=>{e&&t.settingsService.updateGroupEnabled(t.groupeEntityToDisable).toPromise().then(e=>{t.devToolsServices.openToast(0,"alert.success"),t.reloadTable()})})),t.reloadTable()})()}openDialogLinkedPortfolio(e){var t=this;return(0,m.Z)(function*(){e.linkedPortfolio?(t.groupeEntityToDisable.idAcmGroup=e.idAcmGroup,t.groupeEntityToDisable.linkedPortfolio=!0,yield t.settingsService.updateGroupLinkedPortfolio(t.groupeEntityToDisable).toPromise().then(e=>{t.devToolsServices.openToast(0,"alert.success")})):(t.groupeEntityToDisable.idAcmGroup=e.idAcmGroup,t.groupeEntityToDisable.linkedPortfolio=!1,yield t.dialog.open(Td.z,{width:"350px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:"confirmation_dialog.disable_Linked"}}).afterClosed().subscribe(e=>{e&&t.settingsService.updateGroupLinkedPortfolio(t.groupeEntityToDisable).toPromise().then(e=>{t.devToolsServices.openToast(0,"alert.success"),t.reloadTable()})})),t.reloadTable()})()}getDirection(){return Se.y.direction}loadGroupesByPaginations(e,t,n){var i=this;return(0,m.Z)(function*(){const r=new Md;r.params=e,r.pageSize=n,r.pageNumber=t,yield i.settingsService.loadGroupeIbByStatusPagination(r).subscribe(e=>{i.groupePaginationEntity=e})})()}reloadTable(){const e=new Nt.P;this.loadGroupesByPaginations(e,this.groupePaginationEntity.pageNumber,10)}reloadGroupesList(e){var t=this;return(0,m.Z)(function*(){const n=new Md;n.pageSize=e.rows,n.pageNumber=0===e.first?e.first:e.first/e.rows;const i=new Nt.P;void 0!==e.filters&&(i.code=void 0!==e.filters.code?e.filters.code.value:null,i.description=void 0!==e.filters.description?e.filters.description.value:null,i.libelle=void 0!==e.filters.libelle?e.filters.libelle.value:null,i.enabled=void 0!==e.filters.enabled?e.filters.enabled.value:null,i.linkedPortfolio=void 0!==e.filters.linkedPortfolio?e.filters.linkedPortfolio.value:null),n.params=i,void 0!==e.multiSortMeta&&e.multiSortMeta.length>0&&(n.sortField=e.multiSortMeta[0].field,n.sortDirection=e.multiSortMeta[0].order),yield t.settingsService.loadGroupeIbByStatusPagination(n).subscribe(e=>{t.groupePaginationEntity=e})})()}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(x.F0),f.\u0275\u0275directiveInject(di.uw),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(p.by))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-groupe"]],viewQuery:function(e,t){if(1&e&&(f.\u0275\u0275viewQuery(Vd,7),f.\u0275\u0275viewQuery(Ad,5)),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.modalContent=e.first),f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.ngxLoadingComponent=e.first)}},decls:17,vars:22,consts:[[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"lnr-paw","text-secondary","pr-2"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[1,"mx-2",3,"icon"],["sortMode","multiple",3,"responsive","autoLayout","value","lazy","lazyLoadOnInit","totalRecords","rowsPerPageOptions","paginator","pageLinks","rows","columns","onLazyLoad"],["dt",""],["pTemplate","header"],["pTemplate","body"],["modalContent",""],["class","text-center",3,"pSortableColumn",4,"ngFor","ngForOf"],[2,"width","40px"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"text-center",3,"pSortableColumn"],[1,"center-elem","text-center"],[1,"pl-1",3,"field"],[3,"ngSwitch"],["class","form-control placeholder","type","text",3,"input",4,"ngSwitchCase"],["class","form-control","type","text",3,"input",4,"ngSwitchCase"],["class","form-control ACM-Dashbord-productDescription-col",3,"change",4,"ngSwitchCase"],["type","text",1,"form-control","placeholder",3,"input"],["type","text",1,"form-control",3,"input"],[1,"form-control","ACM-Dashbord-productDescription-col",3,"change"],["value","null"],["value","true"],["value","false"],[3,"pSelectableRow"],["class","text-center",3,"ngSwitch",4,"ngFor","ngForOf"],[1,"btn","btn-warning","text-white",3,"click"],[3,"icon"],[1,"text-center",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-handle-width","switch-animate","switch-off-color","ngModelChange","click"],[3,"dir","ngClass"],[1,"modal-header","py-2"],["class","modal-title",4,"ngIf"],["type","button",3,"click"],["aria-hidden","true"],[1,"card-body"],[1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","pb-4"],[4,"ngIf"],["type","text","formControlName","label",1,"form-control"],["rows","3","cols","20","pInputTextarea","","formControlName","description",1,"form-control"],[1,"modal-footer","py-1"],["type","reset",1,"mb-2","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-2","btn","btn-primary"],[1,"modal-title"],["type","text","formControlName","code",1,"form-control"],["type","text","formControlName","code","disabled","",1,"form-control"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275elementStart(2,"div"),f.\u0275\u0275element(3,"i",2),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"div"),f.\u0275\u0275elementStart(7,"button",3),f.\u0275\u0275listener("click",function(){return t.addGroup()}),f.\u0275\u0275element(8,"fa-icon",4),f.\u0275\u0275text(9),f.\u0275\u0275pipe(10,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"p-table",5,6),f.\u0275\u0275listener("onLazyLoad",function(e){return t.reloadGroupesList(e)}),f.\u0275\u0275template(13,Ud,8,2,"ng-template",7),f.\u0275\u0275template(14,Hd,5,3,"ng-template",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(15,tc,35,27,"ng-template",null,9,f.\u0275\u0275templateRefExtractor)),2&e&&(f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(5,17,"setting.group_management.list_groupe")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(10,19,"button.create_groupe")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("responsive",!0)("autoLayout",!0)("value",t.groupePaginationEntity.resultsGroupes)("lazy",!0)("lazyLoadOnInit",!1)("totalRecords",t.groupePaginationEntity.totalElements)("rowsPerPageOptions",f.\u0275\u0275pureFunction0(21,nc))("paginator",!0)("pageLinks",5)("rows",10)("columns",t.selectedColumns))},directives:[p.BN,a.iA,b.jx,r.NgForOf,a.lQ,a.fz,r.NgSwitch,r.NgSwitchCase,C.oH,c.YN,c.Kr,a.Ei,I.U,c.JJ,c.On,Oe.Lv,r.NgClass,r.NgIf,c._Y,c.JL,c.sg,C.MU,le.jv,c.Fj,c.u,le.wj],pipes:[s.X$],styles:[""]}),e})();class rc{}var ac=n(54713);class oc{constructor(){}}class lc{constructor(){}}var sc=n(71325);function dc(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",10),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(e.libelle)}}function cc(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",28),f.\u0275\u0275elementStart(2,"div",29),f.\u0275\u0275text(3),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"bSwitch",30),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.enableButton=t})("ngModelChange",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(4).onChange(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",e.value," "),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngModel",e.enableButton)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("switch-disabled",!t.enabled)}}function pc(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275template(1,cc,5,6,"div",27),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",n.acmHabilitation===e.acmHabilitation)}}function mc(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td",19),f.\u0275\u0275elementStart(2,"div",20),f.\u0275\u0275elementStart(3,"input",21),f.\u0275\u0275listener("change",function(t){const n=f.\u0275\u0275restoreView(e),i=n.$implicit,r=n.index;return f.\u0275\u0275nextContext(3).onChangeCheckBox(i,r,t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(4,"label",22),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td",23),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td",24),f.\u0275\u0275text(8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"td",23),f.\u0275\u0275template(10,pc,2,1,"div",18),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"td",23),f.\u0275\u0275elementStart(12,"button",25),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(3),i=f.\u0275\u0275reference(15);return n.updateIhmFieldHabilitation(i,null==t?null:t.acmHabilitation)}),f.\u0275\u0275element(13,"fa-icon",26),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(3);f.\u0275\u0275advance(3),f.\u0275\u0275property("id",null==e?null:e.id)("checked",e.enabled),f.\u0275\u0275advance(1),f.\u0275\u0275property("for",null==e?null:e.id),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",null==e?null:e.description," "),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",e.acmWebRoute," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",n.habilitationEntityButtons),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt"))}}function uc(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",15),f.\u0275\u0275elementStart(1,"table",16),f.\u0275\u0275elementStart(2,"thead"),f.\u0275\u0275elementStart(3,"tr"),f.\u0275\u0275element(4,"th"),f.\u0275\u0275elementStart(5,"th"),f.\u0275\u0275text(6),f.\u0275\u0275pipe(7,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"th"),f.\u0275\u0275text(9),f.\u0275\u0275pipe(10,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"th"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(14,"th",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"tbody"),f.\u0275\u0275template(16,mc,14,7,"tr",18),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(7,4,"setting.habilitation_management.ihm_description_screen")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(10,6,"setting.habilitation_management.ihm_description")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,8,"setting.habilitation_management.ihm_button")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.habilitationEntitys)}}function gc(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",11),f.\u0275\u0275elementStart(1,"div",12),f.\u0275\u0275element(2,"i",13),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div"),f.\u0275\u0275template(6,uc,17,10,"div",14),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,2,"setting.habilitation_management.habilitations")," "),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngIf",0!=e.habilitationEntitys.length)}}function hc(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",31),f.\u0275\u0275elementStart(1,"div"),f.\u0275\u0275elementStart(2,"button",32),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().updateHabilitation()}),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,4,"button.save")," ")}}function fc(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",10),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e.codePage),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(e.codePage)}}function vc(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",47),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275propertyInterpolate("value",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",e," ")}}function Sc(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275elementStart(6,"select",44),f.\u0275\u0275listener("change",function(t){const n=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext(3).changeIhmFieldHabilitation(t,n)})("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.habilitation=t}),f.\u0275\u0275element(7,"option",45),f.\u0275\u0275template(8,vc,2,2,"option",46),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(3);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.codeField),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.description),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.habilitation),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",n.habilitations)}}function yc(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",15),f.\u0275\u0275elementStart(1,"table",43),f.\u0275\u0275elementStart(2,"thead"),f.\u0275\u0275elementStart(3,"tr"),f.\u0275\u0275elementStart(4,"th"),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"th"),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"th"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"tbody"),f.\u0275\u0275template(14,Sc,9,4,"tr",18),f.\u0275\u0275pipe(15,"slice"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(6,4,"setting.habilitation_management.code_field")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(9,6,"setting.habilitation_management.description_field")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(12,8,"setting.habilitation_management.habilitation"),""),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngForOf",f.\u0275\u0275pipeBind3(15,10,e.ihmFields,(e.pageF-1)*e.pageFSize,(e.pageF-1)*e.pageFSize+e.pageFSize))}}function xc(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",48),f.\u0275\u0275elementStart(1,"div",49),f.\u0275\u0275elementStart(2,"div",50),f.\u0275\u0275elementStart(3,"ngb-pagination",51),f.\u0275\u0275listener("pageChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).pageF=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",50),f.\u0275\u0275elementStart(5,"div",52),f.\u0275\u0275elementStart(6,"select",53),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).pageFSize=t}),f.\u0275\u0275elementStart(7,"option",10),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"option",10),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"option",10),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"option",10),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(3),f.\u0275\u0275property("collectionSize",e.ihmFields.length)("page",e.pageF)("pageSize",e.pageFSize)("maxSize",3)("boundaryLinks",!0),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",e.pageFSize),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue",5),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(9,14,"pagination.5_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",10),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,16,"pagination.10_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",20),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(15,18,"pagination.20_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",50),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(18,20,"pagination.50_item"))}}function Ec(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",33),f.\u0275\u0275elementStart(1,"div",34),f.\u0275\u0275elementStart(2,"h5",35),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",36),f.\u0275\u0275elementStart(6,"span",37),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModal()}),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"div",38),f.\u0275\u0275elementStart(9,"label"),f.\u0275\u0275text(10),f.\u0275\u0275pipe(11,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"select",39),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().FormChanged(t)}),f.\u0275\u0275elementStart(13,"option"),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(16,fc,2,2,"option",6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(17,yc,16,14,"div",14),f.\u0275\u0275template(18,xc,19,22,"div",40),f.\u0275\u0275elementStart(19,"div",41),f.\u0275\u0275elementStart(20,"button",42),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModal()}),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,10,"setting.habilitation_management.habilitation_ihm_fields")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(11,12,"setting.habilitation_management.choose_ihm_form")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(15,14,"setting.habilitation_management.default_select_ihm_form")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.ihmForms),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.ihmFormSelected),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.ihmFormSelected),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,16,"button.close"))}}let bc=(()=>{class e{constructor(e,t,n,i,r,a,o,l,s,d){this.modal=e,this.router=t,this.dialog=n,this.library=i,this.settingsService=r,this.formBuilder=a,this.settingFieldService=o,this.sharedService=l,this.devToolsServices=s,this.translate=d,this.groupeEntitys=[],this.groupeEntity=new Nt.P,this.groups=new c.NI(""),this.habilitationEntitys=[],this.habilitationEntity=new rc,this.habilitationEntityButton=new rc,this.habilitationEntityButtons=[],this.habilitationEntityToReload=new rc,this.habilitationIhmRoute=new Bt,this.showTable=!1,this.selectedIhmHabilitations=[],this.ihmFormSelected=!1,this.habilitations=[],this.updatedIhmFieldGroupe=[]}ngOnInit(){this.habilitations=h.J.HABILITATION_FIELD,this.userConnected=this.sharedService.getUser(),this.pageSize=20,this.page=1,this.pageFSize=5,this.pageF=1,this.settingsService.findGroup(this.groupeEntity).subscribe(e=>{this.groupeEntitys=e}),this.createForm()}createForm(){this.habilitationForm=this.formBuilder.group({groups:this.groups})}getHabitationByGroup(e){void 0!==e&&(this.habilitationForm.get("groups").disable(),setTimeout(()=>{this.habilitationForm.get("groups").enable()},3e3),this.selectedGroupeCode=e.code,this.selectedGroupeId=e.id,this.selectedIhmHabilitations=[],this.habilitationEntity=new rc,this.habilitationEntitys=[],this.habilitationEntityButton=new rc,this.habilitationEntityButtons=[],this.habilitationEntity.idGroupe=e.id,this.settingsService.findAllHabilitation(this.habilitationEntity).toPromise().then(e=>{e.forEach(e=>{e.value===h.J.IHM?this.habilitationEntitys.push(e):this.habilitationEntityButtons.push(e)}),this.habilitationEntityButtons.length>0&&this.habilitationEntityButtons.forEach(e=>{e.actions===h.J.READ?e.enableButton=!1:e.actions===h.J.EXECUTE&&(e.enableButton=!0)}),this.showTable=this.habilitationEntitys.length>0}))}onChange(e){e.enableButton?(e.actions=h.J.EXECUTE,e.enabled=!0):e.enableButton||(e.actions=h.J.READ,e.enabled=!1),-1===this.selectedIhmHabilitations.indexOf(e)&&this.selectedIhmHabilitations.push(e)}onChangeCheckBox(e,t,n){n.target.checked?e.enabled=!0:n.target.checked||(e.enabled=!1),e.enableButton?e.actions=h.J.EXECUTE:e.enableButton||(e.actions=h.J.READ),-1===this.selectedIhmHabilitations.indexOf(e)?this.selectedIhmHabilitations.push(e):this.selectedIhmHabilitations.splice(this.selectedIhmHabilitations.indexOf(e),1)}updateHabilitation(){var e=this;return(0,m.Z)(function*(){yield e.settingsService.updateHabilitation(e.selectedIhmHabilitations).toPromise().then(()=>{e.devToolsServices.openToast(0,"alert.success")}),e.reloadTable(e.selectedIhmHabilitations[0])})()}reloadTable(e){var t=this;return(0,m.Z)(function*(){t.habilitationEntity=new rc,t.habilitationEntitys=[],t.habilitationEntityButton=new rc,t.habilitationEntityButtons=[],t.habilitationEntity.idGroupe=e.idGroupe,yield t.settingsService.findAllHabilitation(t.habilitationEntity).toPromise().then(e=>{e.forEach(e=>{e.value===h.J.IHM?t.habilitationEntitys.push(e):t.habilitationEntityButtons.push(e)})}),t.habilitationEntityButtons.length>0&&t.habilitationEntityButtons.forEach(e=>{e.actions===h.J.READ?e.enableButton=!1:e.actions===h.J.EXECUTE&&(e.enableButton=!0)})})()}updateIhmFieldHabilitation(e,t){const n=new ac.s;n.habilitationIHMRouteDTO=new Bt,n.habilitationIHMRouteDTO.codeIHMRoute=t,n.needFields=!1,this.settingFieldService.getForm(n).subscribe(t=>{this.ihmForms=t,this.ihmFormSelected=!1,this.modal.open(e)})}FormChanged(e){const t=new oc;t.codeForm=e.target.value,t.codeUserGroup=this.selectedGroupeCode,this.settingFieldService.getFields(t).subscribe(e=>{this.ihmFields=e,this.ihmFormSelected=!0})}changeIhmFieldHabilitation(e,t){const n=new lc,i=new oc;i.codeField=t.codeField,i.id=t.id;const r=new Nt.P;r.code=this.selectedGroupeCode,r.idAcmGroup=this.selectedGroupeId,n.group=r,n.acmIhmField=i,n.habilitation=e.target.value,this.settingFieldService.updateFieldHabilitation(n).subscribe(e=>{t.habilitation=e.habilitation})}closeModal(){this.modal.dismissAll()}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(x.F0),f.\u0275\u0275directiveInject(di.uw),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(sc.E),f.\u0275\u0275directiveInject(y.F),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(s.sK))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-habilitation"]],decls:16,vars:10,consts:[[1,"card","mb-3"],[1,"card-body","ACM-task"],[3,"formGroup"],[1,"position-relative","form-group"],["formControlName","groups","name","selectedValue","id","selectedValue",1,"form-control",3,"ngModelChange"],["selected","","value","","disabled",""],[3,"ngValue",4,"ngFor","ngForOf"],["class","main-card mb-2 card",4,"ngIf"],["class","d-block text-end card-footer pt-3 mx-2",4,"ngIf"],["ihmFieldHabilitationContent",""],[3,"ngValue"],[1,"main-card","mb-2","card"],[1,"card-header"],[1,"lnr-file-empty","pr-2"],["class","table-responsive",4,"ngIf"],[1,"table-responsive"],[1,"align-middle","mb-0","table","table-hover"],[2,"width","40px"],[4,"ngFor","ngForOf"],[1,"ACM-table-notification-td-1"],[1,"custom-checkbox","custom-control"],["type","checkbox",1,"custom-control-input",3,"id","checked","change"],[1,"custom-control-label",3,"for"],[1,"ACM-table-habilitation-td-2"],[1,"ACM-table-historyNote-td-2"],[1,"btn","btn-warning",3,"click"],[3,"icon"],[4,"ngIf"],[1,"row","py-1"],[1,"col-xl-5"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","switch-disabled","ngModelChange"],[1,"d-block","text-end","card-footer","pt-3","mx-2"],[1,"btn","btn-primary","text-white",3,"click"],[1,"card"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button"],["aria-hidden","true",3,"click"],[1,"card-body"],[1,"form-control",3,"change"],["class","card-footer pb-0",4,"ngIf"],[1,"card-footer","py-2","d-flex","justify-content-end"],[1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],[1,"mb-0","t","table","table-hover"],["type","text",1,"form-control","form-group",3,"ngModel","change","ngModelChange"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"card-footer","pb-0"],[1,"row","no-gutters","w-100"],[1,"col-xl-6","col-lg-6","col-md-12"],["size","sm",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],[1,"d-flex","justify-content-lg-end"],["name","pageFSize",1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275elementStart(2,"form",2),f.\u0275\u0275elementStart(3,"div",3),f.\u0275\u0275elementStart(4,"label"),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"select",4),f.\u0275\u0275listener("ngModelChange",function(e){return t.getHabitationByGroup(e)}),f.\u0275\u0275elementStart(8,"option",5),f.\u0275\u0275text(9),f.\u0275\u0275pipe(10,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(11,dc,2,2,"option",6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(12,gc,7,4,"div",7),f.\u0275\u0275template(13,hc,5,6,"div",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(14,Ec,23,18,"ng-template",null,9,f.\u0275\u0275templateRefExtractor)),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275property("formGroup",t.habilitationForm),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(6,6,"setting.group_management.list_groupe")),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(10,8,"setting.group_management.default_select")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",t.groupeEntitys),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.showTable),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.showTable))},directives:[c._Y,c.JL,c.sg,C.MU,le.jv,C.HK,c.EJ,C.oH,c.JJ,c.u,le.wj,c.YN,c.Kr,r.NgForOf,r.NgIf,p.BN,I.U,c.On,o.N9],pipes:[s.X$,r.SlicePipe],styles:[""]}),e})();function Cc(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275elementStart(8,"bSwitch",15),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.isHeadOffice=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"td"),f.\u0275\u0275elementStart(10,"button",16),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(50);return n.editBranch(i,t)}),f.\u0275\u0275element(11,"fa-icon",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"button",18),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().disableBranch(t)}),f.\u0275\u0275element(13,"fa-icon",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.name),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.description),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.code),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.isHeadOffice)("switch-size","mini")("switch-handle-width",40)("switch-animate",!0)("switch-off-color","danger"),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt")),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","trash"))}}const Ic=function(e){return{"text-end":e}};function wc(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",19),f.\u0275\u0275elementStart(1,"div",20),f.\u0275\u0275elementStart(2,"h5",21),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",22),f.\u0275\u0275elementStart(6,"span",23),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"form",24),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275elementStart(9,"div",25),f.\u0275\u0275elementStart(10,"div",26),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",27),f.\u0275\u0275element(15,"input",28),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"div",26),f.\u0275\u0275elementStart(17,"label"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"div",27),f.\u0275\u0275element(21,"input",29),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"div",26),f.\u0275\u0275elementStart(23,"label"),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"div",27),f.\u0275\u0275element(27,"input",30),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"div",26),f.\u0275\u0275element(29,"input",31),f.\u0275\u0275elementStart(30,"label",32),f.\u0275\u0275text(31),f.\u0275\u0275pipe(32,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(33,"div",33),f.\u0275\u0275elementStart(34,"button",34),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(35),f.\u0275\u0275pipe(36,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"button",35),f.\u0275\u0275text(38),f.\u0275\u0275pipe(39,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(27,Ic,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,13,"update"===e.action?"setting.branches-setting.update-branches-setting":"setting.branches-setting.add-branches-setting"),""),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.groupForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,15,"setting.branches-setting.name")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,17,"setting.branches-setting.description")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,19,"setting.branches-setting.code")),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(32,21,"setting.branches-setting.is-head-office")),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(36,23,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(39,25,"button.save"))}}let Fc=(()=>{class e{constructor(e,t,n,i,r,a){this.translate=e,this.library=t,this.modal=n,this.formBuilder=i,this.devToolsServices=r,this.settingService=a,this.branchesList=[],this.action="create"}ngOnInit(){this.pageSize=5,this.page=1,this.settingService.findBranches(new ja._).subscribe(e=>{this.branchesList=e})}addBranch(e){this.action="create",this.branchSetting=new ja._,this.branchSetting.isHeadOffice=!1,this.createForm(this.branchSetting),this.modal.open(e)}editBranch(e,t){this.action="update",this.branchSetting=t,this.createForm(t),this.modal.open(e)}disableBranch(e){this.branchSetting=e,this.branchSetting.enabled=!1,this.devToolsServices.openConfirmDialogWithoutRedirect("setting.branches-setting.delete-branches-setting").afterClosed().subscribe(e=>{e&&this.settingService.saveBranch(this.branchSetting).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.ngOnInit()})})}createForm(e){this.groupForm=this.formBuilder.group({code:[e.code,[jt.MS]],name:[e.name,[jt.MS]],description:[e.description,[jt.MS]],isHeadOffice:[e.isHeadOffice]})}onSubmit(){this.devToolsServices.makeFormAsTouched(this.groupForm),this.groupForm.valid&&(this.branchSetting.code=this.groupForm.controls.code.value,this.branchSetting.description=this.groupForm.controls.description.value,this.branchSetting.name=this.groupForm.controls.name.value,this.branchSetting.isHeadOffice=this.groupForm.controls.isHeadOffice.value,this.settingService.saveBranch(this.branchSetting).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.modal.dismissAll(),this.ngOnInit()}))}closeModale(){this.modal.dismissAll()}getDirection(){return Se.y.direction}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(v.g))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-branches-setting"]],decls:51,vars:49,consts:[[1,"card"],[1,"card-header"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[2,"margin-right","7px",3,"icon"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],[1,"card-footer","pb-0"],[1,"row","no-gutters","w-100"],[1,"col-xl-6","col-lg-6","col-md-12"],["size","sm",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],[1,"d-flex","justify-content-lg-end"],["name","pageSize",1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["modalContent",""],["disabled","true",1,"px-2","mb-0",3,"ngModel","switch-size","switch-handle-width","switch-animate","switch-off-color","ngModelChange"],[1,"btn","btn-sm","btn-warning","text-white","mx-1",3,"click"],[1,"mx-2",3,"icon"],[1,"btn","btn-sm","btn-danger","text-white",3,"click"],[3,"dir","ngClass"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button"],["aria-hidden","true",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"position-relative","pb-4"],[1,"form-group"],["type","text","formControlName","name",1,"form-control"],["type","text","formControlName","description",1,"form-control"],["type","text","formControlName","code",1,"form-control"],["type","checkbox","formControlName","isHeadOffice",1,"form-check-input"],[1,"custom-control-label","ms-2"],[1,"modal-footer"],["type","reset",1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-1","btn","btn-primary"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"button",2),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(50);return t.addBranch(n)}),f.\u0275\u0275element(6,"fa-icon",3),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div"),f.\u0275\u0275elementStart(10,"div",4),f.\u0275\u0275elementStart(11,"table",5),f.\u0275\u0275elementStart(12,"thead"),f.\u0275\u0275elementStart(13,"tr"),f.\u0275\u0275elementStart(14,"th"),f.\u0275\u0275text(15),f.\u0275\u0275pipe(16,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"th"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"th"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"th"),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(26,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"tbody"),f.\u0275\u0275template(28,Cc,14,10,"tr",6),f.\u0275\u0275pipe(29,"slice"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"div",7),f.\u0275\u0275elementStart(31,"div",8),f.\u0275\u0275elementStart(32,"div",9),f.\u0275\u0275elementStart(33,"ngb-pagination",10),f.\u0275\u0275listener("pageChange",function(e){return t.page=e}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"div",9),f.\u0275\u0275elementStart(35,"div",11),f.\u0275\u0275elementStart(36,"select",12),f.\u0275\u0275listener("ngModelChange",function(e){return t.pageSize=e}),f.\u0275\u0275elementStart(37,"option",13),f.\u0275\u0275text(38),f.\u0275\u0275pipe(39,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(40,"option",13),f.\u0275\u0275text(41),f.\u0275\u0275pipe(42,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(43,"option",13),f.\u0275\u0275text(44),f.\u0275\u0275pipe(45,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(46,"option",13),f.\u0275\u0275text(47),f.\u0275\u0275pipe(48,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(49,wc,40,29,"ng-template",null,14,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,25,"setting.branches-setting.branches-setting")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(8,27,"setting.setting_configuration_product.add")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(16,29,"setting.branches-setting.name")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,31,"setting.branches-setting.description")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,33,"setting.branches-setting.code")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,35,"setting.branches-setting.is-head-office")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",f.\u0275\u0275pipeBind3(29,37,t.branchesList,(t.page-1)*t.pageSize,(t.page-1)*t.pageSize+t.pageSize)),f.\u0275\u0275advance(5),f.\u0275\u0275property("collectionSize",null==t.branchesList?null:t.branchesList.length)("page",t.page)("pageSize",t.pageSize)("maxSize",3)("boundaryLinks",!0),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",t.pageSize),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue",5),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(39,41,"pagination.5_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",10),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(42,43,"pagination.10_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",20),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(45,45,"pagination.20_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",50),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(48,47,"pagination.50_item")))},directives:[p.BN,r.NgForOf,o.N9,c.EJ,c.JJ,c.On,c.YN,c.Kr,I.U,Oe.Lv,r.NgClass,c._Y,c.JL,c.sg,C.MU,le.jv,C.HK,c.Fj,C.oH,c.u,le.wj,c.Wl],pipes:[s.X$,r.SlicePipe],styles:[""]}),e})();var _c=n(14459);class Lc{}var Dc=n(96239);function kc(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"th",13),f.\u0275\u0275elementStart(1,"div",14),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275element(4,"p-sortIcon",15),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("pSortableColumn",e.field),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,3,e.header)," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("field",e.field)}}function Tc(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",19),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(11).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function Mc(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",19),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(11).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function Vc(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"select",20),f.\u0275\u0275listener("change",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(11).filter(t.target.value,n.field,"equals")}),f.\u0275\u0275elementStart(1,"option",21),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"option",22),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"option",23),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"option",24),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"option",25),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"option",26),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}2&e&&(f.\u0275\u0275property("showClear",!0),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,7,"category_loan.all"),""),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(6,9,"setting.financial-category-setting.income")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(9,11,"setting.financial-category-setting.expense")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(12,13,"setting.financial-category-setting.asset")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(15,15,"setting.financial-category-setting.liability")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(18,17,"setting.financial-category-setting.capital-reserve")," "))}function Ac(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",28),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e){const e=t.index;f.\u0275\u0275property("value",e+1),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate2(" ",f.\u0275\u0275pipeBind1(2,3,"setting.financial-category-setting.level")," ",e+1," ")}}function Pc(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"select",20),f.\u0275\u0275listener("change",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(11).filter(t.target.value,n.field,"equals")}),f.\u0275\u0275elementStart(1,"option",21),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(4,Ac,3,5,"option",27),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(3);f.\u0275\u0275property("showClear",!0),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,3,"category_loan.all"),""),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.levelArray)}}function Bc(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",19),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(11).filter(t.target.value,n.field,"contains")}),f.\u0275\u0275elementEnd()}}function Nc(e,t){1&e&&(f.\u0275\u0275elementStart(0,"th",16),f.\u0275\u0275template(1,Tc,1,0,"input",17),f.\u0275\u0275template(2,Mc,1,0,"input",17),f.\u0275\u0275template(3,Vc,19,19,"select",18),f.\u0275\u0275template(4,Pc,5,5,"select",18),f.\u0275\u0275template(5,Bc,1,0,"input",17),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275property("ngSwitch",t.$implicit.field),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","code"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","description"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","category"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","level"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","parentLevelCode"))}function Rc(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275template(1,kc,5,5,"th",10),f.\u0275\u0275element(2,"th",11),f.\u0275\u0275element(3,"th",11),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"tr"),f.\u0275\u0275template(5,Nc,6,6,"th",12),f.\u0275\u0275element(6,"th",11),f.\u0275\u0275element(7,"th",11),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",e),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e)}}function Oc(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function jc(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function Gc(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function Uc(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate2(" ",f.\u0275\u0275pipeBind1(2,2,"setting.financial-category-setting.level")," ",t[e.field],"")}}function $c(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(t[e.field])}}function Jc(e,t){1&e&&(f.\u0275\u0275elementStart(0,"td",16),f.\u0275\u0275template(1,Oc,2,1,"div",33),f.\u0275\u0275template(2,jc,2,1,"div",33),f.\u0275\u0275template(3,Gc,2,1,"div",33),f.\u0275\u0275template(4,Uc,3,4,"div",33),f.\u0275\u0275template(5,$c,2,1,"div",33),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275property("ngSwitch",t.$implicit.field),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","code"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","description"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","category"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","level"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","parentLevelCode"))}function zc(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr",29),f.\u0275\u0275template(1,Jc,6,6,"td",12),f.\u0275\u0275elementStart(2,"td"),f.\u0275\u0275elementStart(3,"button",30),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(15);return n.updateFinancialCategory(i,t)}),f.\u0275\u0275element(4,"fa-icon",31),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275elementStart(6,"button",32),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().disableFinancialCategory(t)}),f.\u0275\u0275element(7,"fa-icon",31),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=t.columns,i=f.\u0275\u0275nextContext();f.\u0275\u0275property("pSelectableRow",e),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",n),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",i.library.getIconDefinition("fas","pencil-alt")),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",i.library.getIconDefinition("fas","trash"))}}function Kc(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",51),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e){const e=t.index;f.\u0275\u0275property("ngValue",e+1),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate2(" ",f.\u0275\u0275pipeBind1(2,3,"setting.financial-category-setting.level")," ",e+1," ")}}function Wc(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",51),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e.id),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.code," ")}}const qc=function(e){return{"text-end":e}};function Hc(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",34),f.\u0275\u0275elementStart(1,"div",35),f.\u0275\u0275elementStart(2,"h5",36),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",37),f.\u0275\u0275elementStart(6,"span",38),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"form",39),f.\u0275\u0275elementStart(9,"div",4),f.\u0275\u0275elementStart(10,"div",40),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",41),f.\u0275\u0275element(15,"input",42),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"div",40),f.\u0275\u0275elementStart(17,"label"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"div",41),f.\u0275\u0275element(21,"input",43),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"div",40),f.\u0275\u0275elementStart(23,"label"),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"div",41),f.\u0275\u0275elementStart(27,"select",44),f.\u0275\u0275elementStart(28,"option",22),f.\u0275\u0275text(29),f.\u0275\u0275pipe(30,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(31,"option",23),f.\u0275\u0275text(32),f.\u0275\u0275pipe(33,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"option",24),f.\u0275\u0275text(35),f.\u0275\u0275pipe(36,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"option",25),f.\u0275\u0275text(38),f.\u0275\u0275pipe(39,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(40,"option",26),f.\u0275\u0275text(41),f.\u0275\u0275pipe(42,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(43,"div",40),f.\u0275\u0275elementStart(44,"label"),f.\u0275\u0275text(45),f.\u0275\u0275pipe(46,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(47,"div",41),f.\u0275\u0275elementStart(48,"select",45),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onChange()}),f.\u0275\u0275template(49,Kc,3,5,"option",46),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(50,"div",40),f.\u0275\u0275elementStart(51,"label"),f.\u0275\u0275text(52),f.\u0275\u0275pipe(53,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(54,"div",41),f.\u0275\u0275elementStart(55,"select",47),f.\u0275\u0275template(56,Wc,2,2,"option",46),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(57,"div",48),f.\u0275\u0275elementStart(58,"button",49),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(59),f.\u0275\u0275pipe(60,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(61,"button",50),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275text(62),f.\u0275\u0275pipe(63,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(47,qc,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,21,"update"===e.action?"setting.financial-category-setting.update-financial-category-setting":"setting.financial-category-setting.add-financial-category-setting"),""),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.groupForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,23,"setting.financial-category-setting.code")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,25,"setting.financial-category-setting.description")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,27,"setting.financial-category-setting.category")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(30,29,"setting.financial-category-setting.income")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(33,31,"setting.financial-category-setting.expense")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(36,33,"setting.financial-category-setting.asset")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(39,35,"setting.financial-category-setting.liability")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(42,37,"setting.financial-category-setting.capital-reserve")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(46,39,"setting.financial-category-setting.level")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.levelArray),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(53,41,"setting.financial-category-setting.parent-level")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.levelParentList),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(60,43,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(63,45,"button.save"))}}const Yc=function(){return[5,10,20,50,100]};let Qc=(()=>{class e{constructor(e,t,n,i,r,a,o){this.translate=e,this.library=t,this.modal=n,this.formBuilder=i,this.devToolsServices=r,this.settingsService=a,this.customerManagementService=o,this.acmFinancialCategoryPagination=new Lc,this.action="create"}ngOnInit(){this.cols=[{field:"code",header:"setting.financial-category-setting.code"},{field:"description",header:"setting.financial-category-setting.description"},{field:"category",header:"setting.financial-category-setting.category"},{field:"level",header:"setting.financial-category-setting.level"},{field:"parentLevelCode",header:"setting.financial-category-setting.parent-level"}],this.pageSize=10,this.page=0,this.acmFinancialCategoryPagination.params=new _c.N,this.acmFinancialCategoryPagination.pageNumber=this.page,this.acmFinancialCategoryPagination.pageSize=this.pageSize,this.settingsService.findPaginationFinancialCategory(this.acmFinancialCategoryPagination).subscribe(e=>{this.acmFinancialCategoryPagination=e}),this.customerManagementService.getEnvirementValueByKey(h.J.FINANCIAL_CATEGORIES_LEVEL_NUMBER).subscribe(e=>{this.levelNumber=parseInt(e.value),this.levelArray=new Array(this.levelNumber)})}reloadFinancialCategoryList(e){var t=this;return(0,m.Z)(function*(){const n=new Lc;n.pageSize=e.rows,n.pageNumber=0===e.first?e.first:e.first/e.rows;const i=new _c.N;void 0!==e.filters&&(i.code=void 0!==e.filters.code?e.filters.code.value:null,i.description=void 0!==e.filters.description?e.filters.description.value:null,i.category=void 0!==e.filters.category?e.filters.category.value:null,i.level=void 0!==e.filters.level?e.filters.level.value:null,i.parentLevelCode=void 0!==e.filters.parentLevelCode?e.filters.parentLevelCode.value:null),n.params=i,void 0!==e.multiSortMeta&&e.multiSortMeta.length>0&&(n.sortField=e.multiSortMeta[0].field,n.sortDirection=e.multiSortMeta[0].order),t.settingsService.findPaginationFinancialCategory(n).subscribe(e=>{t.acmFinancialCategoryPagination=e})})()}createForm(e){if(e.idParentLevel){let t=new _c.N;t.level=e.level-1,this.settingsService.findFinancialCategories(t).toPromise().then(e=>{this.levelParentList=e})}else this.levelParentList=[];this.groupForm=this.formBuilder.group({code:[e.code,[jt.MS]],description:[e.description,[jt.MS]],category:[e.category,[jt.MS]],level:[e.level,[jt.MS]],idParentLevel:[e.idParentLevel]})}onSubmit(){this.devToolsServices.makeFormAsTouched(this.groupForm),this.groupForm.valid&&(this.financialCategory.code=this.groupForm.controls.code.value,this.financialCategory.description=this.groupForm.controls.description.value,this.financialCategory.category=this.groupForm.controls.category.value,this.financialCategory.level=this.groupForm.controls.level.value,this.financialCategory.idParentLevel=this.groupForm.controls.idParentLevel.value,this.settingsService.saveFinancialCategory(this.financialCategory).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.modal.dismissAll(),this.ngOnInit()}))}addFinancialCategory(e){this.action="create",this.financialCategory=new _c.N,this.createForm(this.financialCategory),this.modal.open(e)}updateFinancialCategory(e,t){this.action="update",this.financialCategory=t,this.createForm(this.financialCategory),this.modal.open(e)}disableFinancialCategory(e){this.financialCategory=e,this.financialCategory.enabled=!1,this.devToolsServices.openConfirmDialogWithoutRedirect("setting.financial-category-setting.delete-financial-category-setting").afterClosed().subscribe(e=>{e&&this.settingsService.saveFinancialCategory(this.financialCategory).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.ngOnInit()})})}onChange(){const e=parseInt(this.groupForm.controls.level.value);if(1!==e){let t=new _c.N;t.level=e-1,this.settingsService.findFinancialCategories(t).toPromise().then(e=>{this.levelParentList=e,this.groupForm.controls.idParentLevel.reset(null),1===this.levelParentList.length&&this.groupForm.controls.idParentLevel.setValue(this.levelParentList[0].id),this.groupForm.controls.idParentLevel.setValidators([jt.MS]),this.groupForm.controls.idParentLevel.updateValueAndValidity()})}else this.groupForm.controls.idParentLevel.clearValidators(),this.groupForm.controls.idParentLevel.reset(),this.groupForm.controls.idParentLevel.updateValueAndValidity()}closeModale(){this.modal.dismissAll()}getDirection(){return Se.y.direction}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(Dc.n))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-financial-category-setting"]],decls:16,vars:23,consts:[[1,"card"],[1,"card-header"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[2,"margin-right","7px",3,"icon"],[1,"card-body"],["sortMode","multiple","selectionMode","single",3,"responsive","autoLayout","value","lazy","lazyLoadOnInit","totalRecords","rowsPerPageOptions","paginator","pageLinks","rows","columns","selection","onLazyLoad","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["modalContent",""],["class","text-center",3,"pSortableColumn",4,"ngFor","ngForOf"],[2,"width","40px"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"text-center",3,"pSortableColumn"],[1,"center-elem","text-center"],[1,"pl-1",3,"field"],[3,"ngSwitch"],["class","form-control","type","text",3,"input",4,"ngSwitchCase"],["class","form-control ACM-Dashbord-productDescription-col",3,"showClear","change",4,"ngSwitchCase"],["type","text",1,"form-control",3,"input"],[1,"form-control","ACM-Dashbord-productDescription-col",3,"showClear","change"],["value","null"],["value","Income"],["value","Expense"],["value","Asset"],["value","Liability"],["value","Capital/Reserve"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"pSelectableRow"],[1,"btn","btn-sm","btn-warning","text-white","mx-1",3,"click"],[1,"mx-2",3,"icon"],[1,"btn","btn-sm","btn-danger","text-white",3,"click"],[4,"ngSwitchCase"],[3,"dir","ngClass"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button"],["aria-hidden","true",3,"click"],[1,"form",3,"formGroup"],[1,"position-relative","pb-4"],[1,"form-group"],["type","text","formControlName","code",1,"form-control"],["type","text","formControlName","description",1,"form-control"],["formControlName","category",1,"form-control","form-group"],["formControlName","level",1,"form-control","form-group",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","idParentLevel",1,"form-control","form-group"],[1,"modal-footer"],["type","reset",1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-1","btn","btn-primary",3,"click"],[3,"ngValue"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"button",2),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(15);return t.addFinancialCategory(n)}),f.\u0275\u0275element(6,"fa-icon",3),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div",4),f.\u0275\u0275elementStart(10,"p-table",5,6),f.\u0275\u0275listener("onLazyLoad",function(e){return t.reloadFinancialCategoryList(e)})("selectionChange",function(e){return t.financialCategory=e}),f.\u0275\u0275template(12,Rc,8,2,"ng-template",7),f.\u0275\u0275template(13,zc,8,4,"ng-template",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(14,Hc,64,49,"ng-template",null,9,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,18,"setting.financial-category-setting.financial-category-setting")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(8,20,"setting.setting_configuration_product.add")," "),f.\u0275\u0275advance(3),f.\u0275\u0275property("responsive",!0)("autoLayout",!0)("value",t.acmFinancialCategoryPagination.results)("lazy",!0)("lazyLoadOnInit",!1)("totalRecords",t.acmFinancialCategoryPagination.totalElements)("rowsPerPageOptions",f.\u0275\u0275pureFunction0(22,Yc))("paginator",!0)("pageLinks",5)("rows",10)("columns",t.cols)("selection",t.financialCategory))},directives:[p.BN,a.iA,b.jx,r.NgForOf,a.lQ,a.fz,r.NgSwitch,r.NgSwitchCase,C.oH,c.YN,c.Kr,a.Ei,Oe.Lv,r.NgClass,c._Y,c.JL,c.sg,C.MU,le.jv,C.HK,c.Fj,c.JJ,c.u,le.wj,c.EJ],pipes:[s.X$],styles:[""]}),e})();var Xc=n(13221),Zc=n(85922);function ep(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"span"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().index,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,t.amlListSettings[e].listName)," ")}}function tp(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",46),f.\u0275\u0275listener("change",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext().index;return f.\u0275\u0275nextContext().saveListNameAML(t)}),f.\u0275\u0275elementEnd()}}function np(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",47),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e.id),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.name," ")}}function ip(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"form",7),f.\u0275\u0275elementStart(2,"div",8),f.\u0275\u0275elementStart(3,"div",9),f.\u0275\u0275elementStart(4,"div",10),f.\u0275\u0275elementStart(5,"div",11),f.\u0275\u0275elementStart(6,"p",12),f.\u0275\u0275template(7,ep,3,3,"span",13),f.\u0275\u0275template(8,tp,1,0,"ng-template",null,14,f.\u0275\u0275templateRefExtractor),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"div",15),f.\u0275\u0275elementStart(11,"div",16),f.\u0275\u0275elementStart(12,"div",17),f.\u0275\u0275elementStart(13,"label",18),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"span",19),f.\u0275\u0275text(17,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"div",16),f.\u0275\u0275elementStart(19,"div",17),f.\u0275\u0275element(20,"input",20),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(21,"div",16),f.\u0275\u0275elementStart(22,"div",17),f.\u0275\u0275elementStart(23,"label",18),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"span",19),f.\u0275\u0275text(27,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"div",16),f.\u0275\u0275elementStart(29,"div",17),f.\u0275\u0275element(30,"input",21),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(31,"div",22),f.\u0275\u0275elementStart(32,"div",23),f.\u0275\u0275element(33,"input",24),f.\u0275\u0275text(34," \xa0"),f.\u0275\u0275elementStart(35,"label",25),f.\u0275\u0275text(36),f.\u0275\u0275pipe(37,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(38,"div",26),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().toggleCollapseAmlListSetting(t)}),f.\u0275\u0275text(39," \xa0\xa0\xa0"),f.\u0275\u0275element(40,"i",27),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(41,"div"),f.\u0275\u0275elementStart(42,"button",28),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().disableParametrageAML(t)}),f.\u0275\u0275element(43,"i",29),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(44,"div",30),f.\u0275\u0275elementStart(45,"div",31),f.\u0275\u0275elementStart(46,"div",32),f.\u0275\u0275elementStart(47,"div",17),f.\u0275\u0275elementStart(48,"label"),f.\u0275\u0275text(49),f.\u0275\u0275pipe(50,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(51,"span",19),f.\u0275\u0275text(52,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(53,"input",33),f.\u0275\u0275listener("change",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().amlListRejectionMinMaxValidator(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(54,"div",32),f.\u0275\u0275elementStart(55,"div",17),f.\u0275\u0275elementStart(56,"label"),f.\u0275\u0275text(57),f.\u0275\u0275pipe(58,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(59,"span",19),f.\u0275\u0275text(60,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(61,"input",34),f.\u0275\u0275listener("change",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().amlListRejectionMinMaxValidator(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(62,"div",32),f.\u0275\u0275elementStart(63,"div",17),f.\u0275\u0275elementStart(64,"label"),f.\u0275\u0275text(65),f.\u0275\u0275pipe(66,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(67,"span",19),f.\u0275\u0275text(68,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(69,"input",35),f.\u0275\u0275listener("change",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().amlListAcceptanceMinMaxValidator(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(70,"div",32),f.\u0275\u0275elementStart(71,"div",17),f.\u0275\u0275elementStart(72,"label"),f.\u0275\u0275text(73),f.\u0275\u0275pipe(74,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(75,"span",19),f.\u0275\u0275text(76,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(77,"input",36),f.\u0275\u0275listener("change",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().amlListAcceptanceMinMaxValidator(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(78,"div",37),f.\u0275\u0275elementStart(79,"h6",38),f.\u0275\u0275elementStart(80,"span",39),f.\u0275\u0275text(81),f.\u0275\u0275pipe(82,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(83,"div",40),f.\u0275\u0275element(84,"hr",41),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(85,"div",32),f.\u0275\u0275elementStart(86,"div",17),f.\u0275\u0275elementStart(87,"select",42),f.\u0275\u0275template(88,np,2,2,"option",43),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(89,"div",44),f.\u0275\u0275elementStart(90,"div"),f.\u0275\u0275elementStart(91,"button",45),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().saveAmlList(t)}),f.\u0275\u0275text(92),f.\u0275\u0275pipe(93,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=t.index,i=f.\u0275\u0275reference(9),r=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e),f.\u0275\u0275advance(6),f.\u0275\u0275property("ngIf",""!==(null==r.amlListSettings[n]?null:r.amlListSettings[n].listName)&&null!==(null==r.amlListSettings[n]?null:r.amlListSettings[n].id))("ngIfElse",i),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(15,18,"setting.setting_check_aml.description_keywords")," "),f.\u0275\u0275advance(10),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(25,20,"setting.setting_check_aml.list_keywords")," "),f.\u0275\u0275advance(12),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(37,22,"setting.setting_check_aml.is_blocking_list")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",!0===r.amlListSettingExpands[n]?"lnr-chevron-up text-secondary":"lnr-chevron-down text-secondary"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",!0===r.amlListSettingExpands[n]?"collapse show":"collapse"),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(50,24,"setting.setting_check_aml.min_rejection_range")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(58,26,"setting.setting_check_aml.max_rejection_range")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(66,28,"setting.setting_check_aml.min_acceptance_range")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(74,30,"setting.setting_check_aml.max_acceptance_range")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(82,32,"setting.setting_check_aml.validation_workflow_to_be_launched")),f.\u0275\u0275advance(7),f.\u0275\u0275property("ngForOf",r.genericWorkflowObjects),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",r.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(93,34,"button.save")," ")}}function rp(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",47),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e.id),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.name," ")}}function ap(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"form",7),f.\u0275\u0275elementStart(2,"div",8),f.\u0275\u0275elementStart(3,"div",9),f.\u0275\u0275elementStart(4,"div",10),f.\u0275\u0275elementStart(5,"div",40),f.\u0275\u0275elementStart(6,"p",12),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div",15),f.\u0275\u0275elementStart(10,"div",48),f.\u0275\u0275elementStart(11,"div",17),f.\u0275\u0275elementStart(12,"label",18),f.\u0275\u0275text(13),f.\u0275\u0275pipe(14,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"span",19),f.\u0275\u0275text(16,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"div",16),f.\u0275\u0275elementStart(18,"div",17),f.\u0275\u0275elementStart(19,"input",49),f.\u0275\u0275listener("change",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().riskScoreMinMaxValidator(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"div",50),f.\u0275\u0275elementStart(21,"div",17),f.\u0275\u0275elementStart(22,"label",18),f.\u0275\u0275text(23),f.\u0275\u0275pipe(24,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"span",19),f.\u0275\u0275text(26,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"div",16),f.\u0275\u0275elementStart(28,"div",17),f.\u0275\u0275elementStart(29,"input",51),f.\u0275\u0275listener("change",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().riskScoreMinMaxValidator(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"div"),f.\u0275\u0275elementStart(31,"button",28),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().disableDoubtfulTxScenario(t)}),f.\u0275\u0275element(32,"i",29),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(33,"div",26),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().toggleCollapseDoubtfulTxSetting(t)}),f.\u0275\u0275element(34,"i",27),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(35,"div",30),f.\u0275\u0275elementStart(36,"div",31),f.\u0275\u0275elementStart(37,"div",52),f.\u0275\u0275elementStart(38,"div",53),f.\u0275\u0275elementStart(39,"div",17),f.\u0275\u0275elementStart(40,"label"),f.\u0275\u0275text(41),f.\u0275\u0275pipe(42,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(43,"span",19),f.\u0275\u0275text(44,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(45,"div",54),f.\u0275\u0275elementStart(46,"div",17),f.\u0275\u0275element(47,"input",55),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(48,"div",52),f.\u0275\u0275elementStart(49,"div",53),f.\u0275\u0275elementStart(50,"div",17),f.\u0275\u0275elementStart(51,"label"),f.\u0275\u0275text(52),f.\u0275\u0275pipe(53,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(54,"span",19),f.\u0275\u0275text(55,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(56,"div",53),f.\u0275\u0275elementStart(57,"div",17),f.\u0275\u0275element(58,"input",56),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(59,"div",52),f.\u0275\u0275elementStart(60,"div",53),f.\u0275\u0275elementStart(61,"div",17),f.\u0275\u0275elementStart(62,"label"),f.\u0275\u0275text(63),f.\u0275\u0275pipe(64,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(65,"span",19),f.\u0275\u0275text(66,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(67,"div",57),f.\u0275\u0275elementStart(68,"div",17),f.\u0275\u0275element(69,"input",58),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(70,"div",48),f.\u0275\u0275elementStart(71,"div",17),f.\u0275\u0275elementStart(72,"span"),f.\u0275\u0275text(73),f.\u0275\u0275pipe(74,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(75,"div",52),f.\u0275\u0275elementStart(76,"div",53),f.\u0275\u0275elementStart(77,"div",17),f.\u0275\u0275elementStart(78,"label"),f.\u0275\u0275text(79),f.\u0275\u0275pipe(80,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(81,"span",19),f.\u0275\u0275text(82,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(83,"div",16),f.\u0275\u0275elementStart(84,"div",17),f.\u0275\u0275element(85,"input",59),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(86,"div",16),f.\u0275\u0275elementStart(87,"div",17),f.\u0275\u0275elementStart(88,"span"),f.\u0275\u0275text(89),f.\u0275\u0275pipe(90,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(91,"div",52),f.\u0275\u0275elementStart(92,"div",53),f.\u0275\u0275elementStart(93,"div",17),f.\u0275\u0275elementStart(94,"label"),f.\u0275\u0275text(95),f.\u0275\u0275pipe(96,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(97,"span",19),f.\u0275\u0275text(98,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(99,"div",57),f.\u0275\u0275elementStart(100,"div",17),f.\u0275\u0275element(101,"input",60),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(102,"div",48),f.\u0275\u0275elementStart(103,"div",17),f.\u0275\u0275elementStart(104,"span"),f.\u0275\u0275text(105),f.\u0275\u0275pipe(106,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(107,"div",52),f.\u0275\u0275elementStart(108,"div",53),f.\u0275\u0275elementStart(109,"div",17),f.\u0275\u0275elementStart(110,"label"),f.\u0275\u0275text(111),f.\u0275\u0275pipe(112,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(113,"span",19),f.\u0275\u0275text(114,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(115,"div",16),f.\u0275\u0275elementStart(116,"div",17),f.\u0275\u0275element(117,"input",61),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(118,"div",16),f.\u0275\u0275elementStart(119,"div",17),f.\u0275\u0275elementStart(120,"span"),f.\u0275\u0275text(121),f.\u0275\u0275pipe(122,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(123,"div",37),f.\u0275\u0275elementStart(124,"h6",38),f.\u0275\u0275elementStart(125,"span",39),f.\u0275\u0275text(126),f.\u0275\u0275pipe(127,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(128,"div",40),f.\u0275\u0275element(129,"hr",41),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(130,"div",32),f.\u0275\u0275elementStart(131,"div",17),f.\u0275\u0275elementStart(132,"select",42),f.\u0275\u0275template(133,rp,2,2,"option",43),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(134,"div",44),f.\u0275\u0275elementStart(135,"div"),f.\u0275\u0275elementStart(136,"button",45),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().saveDoubtfulTxScenario(t)}),f.\u0275\u0275text(137),f.\u0275\u0275pipe(138,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=t.index,i=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate2(" ",f.\u0275\u0275pipeBind1(8,23,"setting.setting_doubtful_tx.scenario")," ",n+1," "),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(14,25,"setting.setting_doubtful_tx.risk_score_between")," "),f.\u0275\u0275advance(10),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(24,27,"setting.setting_doubtful_tx.and")," "),f.\u0275\u0275advance(11),f.\u0275\u0275property("ngClass",!0===i.doubtfulTransactionSettingsExpands[n]?"lnr-chevron-up text-secondary":"lnr-chevron-down text-secondary"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngClass",!0===i.doubtfulTransactionSettingsExpands[n]?"collapse show":"collapse"),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(42,29,"setting.setting_doubtful_tx.cumulative_amount_higher_than")," "),f.\u0275\u0275advance(11),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(53,31,"setting.setting_doubtful_tx.for_a_period_less_than")," "),f.\u0275\u0275advance(11),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(64,33,"setting.setting_doubtful_tx.payment_more_than")," "),f.\u0275\u0275advance(10),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(74,35,"setting.setting_doubtful_tx.instalments")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(80,37,"setting.setting_doubtful_tx.or")," "),f.\u0275\u0275advance(10),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(90,39,"setting.setting_doubtful_tx.of_credit_amount")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(96,41,"setting.setting_doubtful_tx.early_repayment_after")," "),f.\u0275\u0275advance(10),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(106,43,"setting.setting_doubtful_tx.instalments"),""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(112,45,"setting.setting_doubtful_tx.or_greater_than")," "),f.\u0275\u0275advance(10),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(122,47,"setting.setting_doubtful_tx.of_credit_amount")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(127,49,"setting.setting_check_aml.validation_workflow_to_be_launched")),f.\u0275\u0275advance(7),f.\u0275\u0275property("ngForOf",i.genericWorkflowObjects),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",i.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(138,51,"button.save")," ")}}let op=(()=>{class e{constructor(e,t,n,i,r){this.settingsService=e,this.formBuilder=t,this.translate=n,this.devToolsServices=i,this.library=r,this.amlListSettings=[],this.amlListSettingForm=[],this.amlListSettingExpands=[],this.genericWorkflowObjects=[],this.doubtfulTransactionSettings=[],this.doubtfulTransactionSettingsForm=[],this.doubtfulTransactionSettingsExpands=[]}ngOnInit(){this.findAmlListSetting(),this.findDoubtfulTxSetting(),this.settingsService.findWorkFlowObjects().subscribe(e=>{this.genericWorkflowObjects=e})}findAmlListSetting(){let e=new Xc.o;this.settingsService.findAMLListSetting(e).toPromise().then(e=>{this.amlListSettings=e.map(e=>({...e,listName:e.listName.replaceAll("_"," ")}));for(let t=0;t<this.amlListSettings.length;t++)this.addAmlList(t)})}findDoubtfulTxSetting(){let e=new Zc.T;this.settingsService.findDoubtfulTxSetting(e).toPromise().then(e=>{this.doubtfulTransactionSettings=e,this.doubtfulTransactionSettings.sort((e,t)=>e.minRiskScore-t.minRiskScore);for(let t=0;t<this.doubtfulTransactionSettings.length;t++)this.addDoubtfulTxScenario(t)})}addAmlList(e){this.amlListSettingForm[e]=this.formBuilder.group({}),this.amlListSettingForm[e].addControl("minRejectionRange",new c.NI(this.amlListSettings[e].minRejectionRange,jt.MS)),this.amlListSettingForm[e].addControl("maxRejectionRange",new c.NI(this.amlListSettings[e].maxRejectionRange,jt.MS)),this.amlListSettingForm[e].addControl("minAcceptanceRange",new c.NI(this.amlListSettings[e].minAcceptanceRange,jt.MS)),this.amlListSettingForm[e].addControl("maxAcceptanceRange",new c.NI(this.amlListSettings[e].maxAcceptanceRange,jt.MS)),this.amlListSettingForm[e].addControl("isBlockingList",new c.NI(this.amlListSettings[e].isBlockingList)),this.amlListSettingForm[e].addControl("listKeywords",new c.NI(this.amlListSettings[e].listKeywords,jt.MS)),this.amlListSettingForm[e].addControl("descriptionKeywords",new c.NI(this.amlListSettings[e].descriptionKeywords,jt.MS)),this.amlListSettingForm[e].addControl("genericWorkFlowObject",new c.NI(this.amlListSettings[e]?.genericWorkFlowObject?.id,jt.MS))}toggleCollapseAmlListSetting(e){this.amlListSettingExpands[e]=!this.amlListSettingExpands[e]}toggleCollapseDoubtfulTxSetting(e){this.doubtfulTransactionSettingsExpands[e]=!this.doubtfulTransactionSettingsExpands[e]}saveAmlList(e){if(this.amlListSettingForm[e].valid){let t={...this.amlListSettings[e]};t.listName=t.listName.replaceAll(" ","_"),t.minRejectionRange=this.amlListSettingForm[e].controls.minRejectionRange.value,t.maxRejectionRange=this.amlListSettingForm[e].controls.maxRejectionRange.value,t.minAcceptanceRange=this.amlListSettingForm[e].controls.minAcceptanceRange.value,t.maxAcceptanceRange=this.amlListSettingForm[e].controls.maxAcceptanceRange.value,t.isBlockingList=this.amlListSettingForm[e].controls.isBlockingList.value,t.listKeywords=this.amlListSettingForm[e].controls.listKeywords.value,t.descriptionKeywords=this.amlListSettingForm[e].controls.descriptionKeywords.value;let n=this.genericWorkflowObjects.find(t=>t.id===this.amlListSettingForm[e].controls.genericWorkFlowObject.value);t.genericWorkFlowObject=n,this.settingsService.saveAMLListSetting(t).subscribe(()=>{this.findAmlListSetting(),this.devToolsServices.openToast(0,"alert.success")})}}addDoubtfulTxScenario(e){this.doubtfulTransactionSettingsForm[e]=this.formBuilder.group({}),this.doubtfulTransactionSettingsForm[e].addControl("minRiskScore",new c.NI(this.doubtfulTransactionSettings[e]?.minRiskScore,[jt.MS])),this.doubtfulTransactionSettingsForm[e].addControl("maxRiskScore",new c.NI(this.doubtfulTransactionSettings[e]?.maxRiskScore,jt.MS)),this.doubtfulTransactionSettingsForm[e].addControl("cumultativeAmount",new c.NI(this.doubtfulTransactionSettings[e]?.cumultativeAmount,jt.MS)),this.doubtfulTransactionSettingsForm[e].addControl("cumultativeAmountPeriod",new c.NI(this.doubtfulTransactionSettings[e]?.cumultativeAmountPeriod,jt.MS)),this.doubtfulTransactionSettingsForm[e].addControl("maxInstalmentsNumberPaid",new c.NI(this.doubtfulTransactionSettings[e]?.maxInstalmentsNumberPaid,jt.MS)),this.doubtfulTransactionSettingsForm[e].addControl("maxInstalmentsAmountPaid",new c.NI(this.doubtfulTransactionSettings[e]?.maxInstalmentsAmountPaid,jt.MS)),this.doubtfulTransactionSettingsForm[e].addControl("maxEarlyRepaymentNumber",new c.NI(this.doubtfulTransactionSettings[e]?.maxEarlyRepaymentNumber,jt.MS)),this.doubtfulTransactionSettingsForm[e].addControl("maxEarlyRepaymentAmount",new c.NI(this.doubtfulTransactionSettings[e]?.maxEarlyRepaymentAmount,jt.MS)),this.doubtfulTransactionSettingsForm[e].addControl("genericWorkFlowObject",new c.NI(this.doubtfulTransactionSettings[e]?.genericWorkFlowObject?.id,jt.MS)),this.doubtfulTransactionSettingsForm[e].setValidators(this.riskScoreValidator(this.doubtfulTransactionSettingsForm)),this.doubtfulTransactionSettingsForm[e].updateValueAndValidity(),this.doubtfulTransactionSettingsForm[e].valueChanges.subscribe(()=>{this.riskScoreValidator(this.doubtfulTransactionSettingsForm)})}addNewDoubtfulTxScenario(){this.doubtfulTransactionSettingsForm[this.doubtfulTransactionSettings.length]=this.formBuilder.group({}),this.doubtfulTransactionSettingsForm[this.doubtfulTransactionSettings.length].addControl("minRiskScore",new c.NI("",[jt.MS])),this.doubtfulTransactionSettingsForm[this.doubtfulTransactionSettings.length].addControl("maxRiskScore",new c.NI("",jt.MS)),this.doubtfulTransactionSettingsForm[this.doubtfulTransactionSettings.length].addControl("cumultativeAmount",new c.NI("",jt.MS)),this.doubtfulTransactionSettingsForm[this.doubtfulTransactionSettings.length].addControl("cumultativeAmountPeriod",new c.NI("",jt.MS)),this.doubtfulTransactionSettingsForm[this.doubtfulTransactionSettings.length].addControl("maxInstalmentsNumberPaid",new c.NI("",jt.MS)),this.doubtfulTransactionSettingsForm[this.doubtfulTransactionSettings.length].addControl("maxInstalmentsAmountPaid",new c.NI("",jt.MS)),this.doubtfulTransactionSettingsForm[this.doubtfulTransactionSettings.length].addControl("maxEarlyRepaymentNumber",new c.NI("",jt.MS)),this.doubtfulTransactionSettingsForm[this.doubtfulTransactionSettings.length].addControl("maxEarlyRepaymentAmount",new c.NI("",jt.MS)),this.doubtfulTransactionSettingsForm[this.doubtfulTransactionSettings.length].addControl("genericWorkFlowObject",new c.NI("",jt.MS)),this.doubtfulTransactionSettingsForm[this.doubtfulTransactionSettings.length].setValidators(this.riskScoreValidator(this.doubtfulTransactionSettingsForm)),this.doubtfulTransactionSettingsForm[this.doubtfulTransactionSettings.length].updateValueAndValidity(),this.doubtfulTransactionSettingsForm[this.doubtfulTransactionSettings.length].valueChanges.subscribe(()=>{this.riskScoreValidator(this.doubtfulTransactionSettingsForm)});let e=new Zc.T;e.id=null,this.doubtfulTransactionSettings.push(e)}disableDoubtfulTxScenario(e){null!==this.doubtfulTransactionSettings[e].id&&this.settingsService.disableDoubtfulTxSetting(this.doubtfulTransactionSettings[e]).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.findDoubtfulTxSetting()}),this.doubtfulTransactionSettings.splice(e,1),this.doubtfulTransactionSettingsForm.splice(e,1),this.doubtfulTransactionSettingsExpands.splice(e,1)}saveDoubtfulTxScenario(e){if(this.doubtfulTransactionSettingsForm[e].valid){this.doubtfulTransactionSettings[e].minRiskScore=this.doubtfulTransactionSettingsForm[e].controls.minRiskScore.value,this.doubtfulTransactionSettings[e].maxRiskScore=this.doubtfulTransactionSettingsForm[e].controls.maxRiskScore.value,this.doubtfulTransactionSettings[e].cumultativeAmount=this.doubtfulTransactionSettingsForm[e].controls.cumultativeAmount.value,this.doubtfulTransactionSettings[e].cumultativeAmountPeriod=this.doubtfulTransactionSettingsForm[e].controls.cumultativeAmountPeriod.value,this.doubtfulTransactionSettings[e].maxInstalmentsNumberPaid=this.doubtfulTransactionSettingsForm[e].controls.maxInstalmentsNumberPaid.value,this.doubtfulTransactionSettings[e].maxInstalmentsAmountPaid=this.doubtfulTransactionSettingsForm[e].controls.maxInstalmentsAmountPaid.value,this.doubtfulTransactionSettings[e].maxEarlyRepaymentNumber=this.doubtfulTransactionSettingsForm[e].controls.maxEarlyRepaymentNumber.value,this.doubtfulTransactionSettings[e].maxEarlyRepaymentAmount=this.doubtfulTransactionSettingsForm[e].controls.maxEarlyRepaymentAmount.value;let t=this.genericWorkflowObjects.filter(t=>t.id===this.doubtfulTransactionSettingsForm[e].controls.genericWorkFlowObject.value)[0];this.doubtfulTransactionSettings[e].genericWorkFlowObject=t,this.settingsService.saveDoubtfulTxSetting(this.doubtfulTransactionSettings[e]).subscribe(e=>{this.findDoubtfulTxSetting(),this.devToolsServices.openToast(0,"alert.success")})}}riskScoreValidator(e){return()=>{for(let t=0;t<e.length;t++){const n=e[t],i=n.get("minRiskScore").value,r=n.get("maxRiskScore").value;for(let a=0;a<e.length;a++)if(t!==a){const t=e[a],o=t.get("minRiskScore").value;if(i<t.get("maxRiskScore").value&&r>o)return n.get("minRiskScore").setErrors({riskScoreError:!0}),n.get("maxRiskScore").setErrors({riskScoreError:!0}),{riskScoreError:!0};n.get("minRiskScore").setErrors(null),n.get("maxRiskScore").setErrors(null)}}return null}}riskScoreMinMaxValidator(e){""!==this.doubtfulTransactionSettingsForm[e].controls.minRiskScore.value&&""!==this.doubtfulTransactionSettingsForm[e].controls.maxRiskScore.value&&this.doubtfulTransactionSettingsForm[e].controls.minRiskScore.value>this.doubtfulTransactionSettingsForm[e].controls.maxRiskScore.value&&this.devToolsServices.openToast(3,"alert.doubtful_tx_risk_score_min_greater_than_max")}amlListRejectionMinMaxValidator(e){""!==this.amlListSettingForm[e].controls.minRejectionRange.value&&""!==this.amlListSettingForm[e].controls.maxRejectionRange.value&&this.amlListSettingForm[e].controls.minRejectionRange.value>this.amlListSettingForm[e].controls.maxRejectionRange.value&&this.devToolsServices.openToast(3,"alert.aml_list_rejection_range_control")}amlListAcceptanceMinMaxValidator(e){""!==this.amlListSettingForm[e].controls.minAcceptanceRange.value&&""!==this.amlListSettingForm[e].controls.maxAcceptanceRange.value&&this.amlListSettingForm[e].controls.minAcceptanceRange.value>this.amlListSettingForm[e].controls.maxAcceptanceRange.value&&this.devToolsServices.openToast(3,"alert.aml_list_acceptance_range_control")}addParametrageAML(){this.amlListSettingForm[this.amlListSettings.length]=this.formBuilder.group({}),this.amlListSettingForm[this.amlListSettings.length].addControl("listName",new c.NI("",jt.MS)),this.amlListSettingForm[this.amlListSettings.length].addControl("minRejectionRange",new c.NI("",jt.MS)),this.amlListSettingForm[this.amlListSettings.length].addControl("maxRejectionRange",new c.NI("",jt.MS)),this.amlListSettingForm[this.amlListSettings.length].addControl("minAcceptanceRange",new c.NI("",jt.MS)),this.amlListSettingForm[this.amlListSettings.length].addControl("maxAcceptanceRange",new c.NI("",jt.MS)),this.amlListSettingForm[this.amlListSettings.length].addControl("isBlockingList",new c.NI(!1)),this.amlListSettingForm[this.amlListSettings.length].addControl("listKeywords",new c.NI("",jt.MS)),this.amlListSettingForm[this.amlListSettings.length].addControl("descriptionKeywords",new c.NI("",jt.MS)),this.amlListSettingForm[this.amlListSettings.length].addControl("genericWorkFlowObject",new c.NI("",jt.MS));let e=new Xc.o;e.id=null,e.listName="",e.enabled=!0,this.amlListSettings.push(e)}saveListNameAML(e){this.amlListSettings[e].listName=this.amlListSettingForm[e].controls.listName.value}disableParametrageAML(e){null!==this.amlListSettings[e].id&&(this.amlListSettings[e].enabled=!1,this.saveAmlList(e)),this.amlListSettingForm.splice(e,1),this.amlListSettings.splice(e,1)}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(p.by))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-aml-check-and-doubtful-tx"]],decls:22,vars:22,consts:[[1,"card"],[1,"card-header"],[1,"btn-icon","btn","btn-success",3,"click"],[1,"mx-2",3,"icon"],[1,"card-body"],[4,"ngFor","ngForOf"],[1,"card","mt-2"],[1,"form",3,"formGroup"],[1,"box-style"],[1,"card","col-12"],["data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"card-header",2,"display","flex","justify-content","space-between","align-items","center"],[1,"col-2","px-3"],[1,"text-primary","m-0"],[4,"ngIf","ngIfElse"],["showInput",""],[1,"col-8","form-group",2,"display","flex","align-items","center","text-transform","none"],[1,"col-xl-3","col-md-4","px-1"],[1,"position-relative","form-group"],[2,"font-weight","400","line-height","1.5","color","#495057"],[1,"text-danger"],["type","text","formControlName","descriptionKeywords",1,"form-control"],["type","text","formControlName","listKeywords",1,"form-control"],[2,"display","flex","align-items","center"],[1,"custom-checkbox","custom-control"],["type","checkbox","formControlName","isBlockingList",1,"custom-control-input"],[1,"custom-control-label"],[3,"click"],[3,"ngClass"],["type","button",1,"btn-icon","btn-icon-only","btn-outline-2x","btn","btn-outline-danger","ml-2",2,"margin-left","10px",3,"click"],[1,"lnr-trash","btn-icon-wrapper"],["aria-labelledby","headingOne","data-parent","#accordionExample",3,"ngClass"],[1,"card-body","row"],[1,"col-xl-6","col-md-6","px-1"],["type","text","formControlName","minRejectionRange",1,"form-control",3,"change"],["type","text","formControlName","maxRejectionRange",1,"form-control",3,"change"],["type","text","formControlName","minAcceptanceRange",1,"form-control",3,"change"],["type","text","formControlName","maxAcceptanceRange",1,"form-control",3,"change"],[1,"card-header","d-flex","justify-content-between"],[1,"text-primary","text-uppercase","px-4","pt-3"],[1,"vertical-align-middle"],[1,"px-3"],[1,"hr"],["formControlName","genericWorkFlowObject",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"card-footer"],[1,"btn","btn-primary","text-white",3,"click"],["type","text","formControlName","listName",1,"form-control",3,"change"],[3,"ngValue"],[1,"col-xl-2","col-md-4","px-1"],["type","number","formControlName","minRiskScore",1,"form-control",3,"change"],[1,"col-xl-1","col-md-4","px-1"],["type","number","formControlName","maxRiskScore",1,"form-control",3,"change"],[1,"col-xl-6","col-md-6","px-1",2,"display","flex","align-items","center"],[1,"col-xl-6","col-md-4","px-1"],[1,"col-xl-6","col-md-2","px-1"],["type","number","formControlName","cumultativeAmount",1,"form-control"],["type","number","formControlName","cumultativeAmountPeriod",1,"form-control"],[1,"col-xl-4","col-md-4","px-1"],["type","number","formControlName","maxInstalmentsNumberPaid",1,"form-control"],["type","number","formControlName","maxInstalmentsAmountPaid",1,"form-control"],["type","number","formControlName","maxEarlyRepaymentNumber",1,"form-control"],["type","number","formControlName","maxEarlyRepaymentAmount",1,"form-control"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"button",2),f.\u0275\u0275listener("click",function(){return t.addParametrageAML()}),f.\u0275\u0275element(6,"fa-icon",3),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div",4),f.\u0275\u0275template(10,ip,94,36,"div",5),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"div",6),f.\u0275\u0275elementStart(12,"div",1),f.\u0275\u0275text(13),f.\u0275\u0275pipe(14,"translate"),f.\u0275\u0275elementStart(15,"div"),f.\u0275\u0275elementStart(16,"button",2),f.\u0275\u0275listener("click",function(){return t.addNewDoubtfulTxScenario()}),f.\u0275\u0275element(17,"fa-icon",3),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"div",4),f.\u0275\u0275template(21,ap,139,53,"div",5),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,14,"setting.setting_check_aml.setting_list_aml")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(8,16,"setting.add_setting_aml")," "),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngForOf",t.amlListSettingForm),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(14,18,"setting.setting_doubtful_tx.doubtful_tx_scenario")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(19,20,"setting.setting_doubtful_tx.add_new_scenario")," "),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngForOf",t.doubtfulTransactionSettingsForm))},directives:[p.BN,r.NgForOf,c._Y,c.JL,c.sg,C.MU,le.jv,r.NgIf,C.HK,c.Fj,C.oH,c.JJ,c.u,le.wj,c.Wl,r.NgClass,c.EJ,c.YN,c.Kr,c.wV],pipes:[s.X$],styles:[""]}),e})();var lp=n(39670);function sp(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275text(8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"td"),f.\u0275\u0275elementStart(10,"bSwitch",8),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().enableDisable(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"td"),f.\u0275\u0275elementStart(12,"button",9),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(33);return n.editPartType(i,t)}),f.\u0275\u0275element(13,"fa-icon",10),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",e.code," "),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",e.label," "),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",e.modificationGroupLibelle," "),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",e.notificationGroupLibelle," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("switch-handle-width",40),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt"))}}function dp(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",26),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"setting.blacklist-party-type.add-party-type")," "))}function cp(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",26),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"setting.blacklist-party-type.update-party-type")," "))}const pp=function(e){return{"text-end":e}};function mp(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",11),f.\u0275\u0275elementStart(1,"div",12),f.\u0275\u0275template(2,dp,3,3,"h5",13),f.\u0275\u0275template(3,cp,3,3,"h5",13),f.\u0275\u0275elementStart(4,"button",14),f.\u0275\u0275elementStart(5,"span",15),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModal()}),f.\u0275\u0275text(6,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"form",16),f.\u0275\u0275elementStart(8,"div",17),f.\u0275\u0275elementStart(9,"div",18),f.\u0275\u0275elementStart(10,"label"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(13,"input",19),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",18),f.\u0275\u0275elementStart(15,"label"),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(18,"input",20),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",18),f.\u0275\u0275elementStart(20,"label"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(23,"p-multiSelect",21),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"div",18),f.\u0275\u0275elementStart(25,"label"),f.\u0275\u0275text(26),f.\u0275\u0275pipe(27,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(28,"p-multiSelect",22),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(29,"div",23),f.\u0275\u0275elementStart(30,"button",24),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModal()}),f.\u0275\u0275text(31),f.\u0275\u0275pipe(32,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(33,"button",25),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().savePartyType()}),f.\u0275\u0275text(34),f.\u0275\u0275pipe(35,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(35,pp,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",!e.updatePartyType),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.updatePartyType),f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.partyTypeForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,23,"setting.blacklist-party-type.party-code")),f.\u0275\u0275advance(2),f.\u0275\u0275property("disabled",e.updatePartyType),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(17,25,"setting.blacklist-party-type.party-type")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,27,"setting.blacklist-party-type.modification-group")),f.\u0275\u0275advance(2),f.\u0275\u0275property("filter",!1)("options",e.groupEntities)("styleClass","full-width")("required",e.displayMultiSelect),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(27,29,"setting.blacklist-party-type.notification-group")),f.\u0275\u0275advance(2),f.\u0275\u0275property("filter",!1)("options",e.groupEntities)("styleClass","full-width")("required",e.displayMultiSelect),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(32,31,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(35,33,"button.save"))}}let up=(()=>{class e{constructor(e,t,n,i,r,a){this.translate=e,this.modal=t,this.library=n,this.settingsService=i,this.fb=r,this.devToolsServices=a,this.blacklistTypeList=[],this.partyType=new lp.d,this.updatePartyType=null,this.displayMultiSelect=!1}ngOnInit(){this.getBlackListPartyType(),this.settingsService.findAllGroup().subscribe(e=>{this.groupEntities=e})}addPartyType(e){this.createForm(),this.modal.open(e)}editPartType(e,t){this.updatePartyType=t,this.createForm(),this.modal.open(e)}getBlackListPartyType(){this.settingsService.findSettingBlacklistPartyType(new lp.d).subscribe(e=>{this.blacklistTypeList=e})}multiSelectRequiredValidator(){return e=>{const t=e.value;return t&&t.length>0?null:{customError:"This field is required."}}}createForm(){this.partyTypeForm=this.fb.group({code:[this.updatePartyType?.code,[jt.MS]],label:[this.updatePartyType?.label,[jt.MS]],modificationGroup:[this.getGroups(this.updatePartyType?.modificationGroup)||null,[this.multiSelectRequiredValidator()]],notificationGroup:[this.getGroups(this.updatePartyType?.notificationGroup)||null,[this.multiSelectRequiredValidator()]]})}savePartyType(){this.devToolsServices.makeFormAsTouched(this.partyTypeForm),this.partyTypeForm.valid&&(this.updatePartyType&&(this.partyType=this.updatePartyType),this.partyType.code=this.partyTypeForm.controls.code.value,this.partyType.label=this.partyTypeForm.controls.label.value,this.partyType.modificationGroup=this.getGroupsCode(this.partyTypeForm.controls.modificationGroup.value),this.partyType.notificationGroup=this.getGroupsCode(this.partyTypeForm.controls.notificationGroup.value),this.settingsService.saveSettingBlacklistPartyType(this.partyType).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.modal.dismissAll(),this.getBlackListPartyType()})),this.updatePartyType=null}getGroupsCode(e){let t="";return e.forEach(e=>{t=t.concat(e.code+";")}),t}getGroups(e){if(e){let t=e.split(";"),n=[];return t.forEach(e=>{let t=this.groupEntities.filter(t=>t.code===e)[0];t&&n.push(t)}),n}return null}enableDisable(e){this.settingsService.saveSettingBlacklistPartyType(e).toPromise().then(()=>{this.devToolsServices.openToast(0,"alert.success")}).finally(()=>this.ngOnInit())}closeModal(){this.modal.dismissAll(),this.updatePartyType=null}getDirection(){return Se.y.direction}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-blacklist"]],decls:34,vars:23,consts:[[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[1,"mx-2",3,"icon"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],["modalContent",""],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","switch-handle-width","ngModelChange","click"],[1,"btn","btn-warning","text-white",3,"click"],[3,"icon"],[3,"dir","ngClass"],[1,"modal-header","py-2"],["class","modal-title",4,"ngIf"],["type","button"],["aria-hidden","true",3,"click"],[1,"form",3,"formGroup"],[1,"card-body"],[1,"position-relative","form-group"],["type","text","formControlName","code",1,"form-control",3,"disabled"],["type","text","formControlName","label",1,"form-control"],["formControlName","modificationGroup","optionLabel","libelle",3,"filter","options","styleClass","required"],["formControlName","notificationGroup","optionLabel","libelle",3,"filter","options","styleClass","required"],[1,"modal-footer"],["type","reset",1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-1","btn","btn-primary",3,"click"],[1,"modal-title"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275elementStart(2,"div"),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div"),f.\u0275\u0275elementStart(6,"button",2),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(33);return t.addPartyType(n)}),f.\u0275\u0275element(7,"fa-icon",3),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"div"),f.\u0275\u0275elementStart(11,"div",4),f.\u0275\u0275elementStart(12,"table",5),f.\u0275\u0275elementStart(13,"thead"),f.\u0275\u0275elementStart(14,"tr"),f.\u0275\u0275elementStart(15,"th"),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"th"),f.\u0275\u0275text(19),f.\u0275\u0275pipe(20,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(21,"th"),f.\u0275\u0275text(22),f.\u0275\u0275pipe(23,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"th"),f.\u0275\u0275text(25),f.\u0275\u0275pipe(26,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"th"),f.\u0275\u0275text(28,"Enabled"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(29,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"tbody"),f.\u0275\u0275template(31,sp,14,10,"tr",6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(32,mp,36,37,"ng-template",null,7,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,11,"setting.setting-blacklist")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(9,13,"setting.blacklist-party-type.add-party-type")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(17,15,"setting.blacklist-party-type.party-code")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(20,17,"setting.blacklist-party-type.party-type")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(23,19,"setting.blacklist-party-type.modification-group")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(26,21,"setting.blacklist-party-type.notification-group")),f.\u0275\u0275advance(6),f.\u0275\u0275property("ngForOf",t.blacklistTypeList))},directives:[p.BN,r.NgForOf,I.U,c.JJ,c.On,Oe.Lv,r.NgClass,r.NgIf,c._Y,c.JL,c.sg,C.MU,le.jv,C.HK,c.Fj,C.oH,c.u,le.wj,hn.NU,c.Q7],pipes:[s.X$],styles:[""]}),e})();var gp=n(38657),hp=n(35338);function fp(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",21),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.description,"")}}function vp(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",21),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(e.description)}}const Sp=function(){return{standalone:!0}};function yp(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275text(8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"td"),f.\u0275\u0275text(10),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"td"),f.\u0275\u0275elementStart(12,"bSwitch",35),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext(3).endableDisable(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"td"),f.\u0275\u0275elementStart(14,"button",36),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(3),i=f.\u0275\u0275reference(38);return n.editField(i,t)}),f.\u0275\u0275element(15,"fa",37),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",null==e?null:e.codeField," "),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",null==e?null:e.ordre," "),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",e.titre," "),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",e.typeField," "),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",e.description," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-animate",!0)("ngModelOptions",f.\u0275\u0275pureFunction0(10,Sp))("switch-off-color","danger")}}function xp(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275text(8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"td"),f.\u0275\u0275text(10),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"td"),f.\u0275\u0275elementStart(12,"bSwitch",35),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext(3).endableDisable(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"td"),f.\u0275\u0275elementStart(14,"button",36),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(3),i=f.\u0275\u0275reference(38);return n.editField(i,t)}),f.\u0275\u0275element(15,"fa",37),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",null==e?null:e.codeField," "),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",null==e?null:e.ordre," "),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",e.titre," "),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",e.typeField," "),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",e.description," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-animate",!0)("ngModelOptions",f.\u0275\u0275pureFunction0(10,Sp))("switch-off-color","danger")}}function Ep(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",32),f.\u0275\u0275elementStart(1,"table",33),f.\u0275\u0275elementStart(2,"thead"),f.\u0275\u0275elementStart(3,"tr"),f.\u0275\u0275elementStart(4,"th"),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"th"),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"th"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"th"),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"th"),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"th"),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"tbody"),f.\u0275\u0275template(23,yp,16,11,"tr",34),f.\u0275\u0275template(24,xp,16,11,"tr",34),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(6,8,"setting.field-setting.code_field")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(9,10,"setting.field-setting.ordre")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(12,12,"setting.field-setting.title"),""),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(15,14,"setting.field-setting.type_field"),""),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(18,16,"setting.field-setting.description"),""),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(21,18,"setting.field-setting.status"),""),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngForOf",e.ihmFields),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",e.newAcmIhmFieldEntity)}}function bp(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",22),f.\u0275\u0275elementStart(1,"div",23),f.\u0275\u0275elementStart(2,"div",24),f.\u0275\u0275elementStart(3,"div",25),f.\u0275\u0275element(4,"i",26),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",27),f.\u0275\u0275elementStart(8,"button",28),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(),n=f.\u0275\u0275reference(38);return t.addIhmFields(n)}),f.\u0275\u0275text(9,"add"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"div"),f.\u0275\u0275template(11,Ep,25,20,"div",29),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"div",30),f.\u0275\u0275elementStart(13,"button",31),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().saveNewFields()}),f.\u0275\u0275text(14,"save"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(6,3,"setting.field-setting.fields")," "),f.\u0275\u0275advance(6),f.\u0275\u0275property("ngIf",0!=e.ihmFields.length||0!=e.newAcmIhmFieldEntity.length),f.\u0275\u0275advance(2),f.\u0275\u0275property("disabled",0===e.newAcmIhmFieldEntity.length)}}function Cp(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",66),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,"setting.field-setting.edit_field")))}function Ip(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",66),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,"setting.field-setting.add_field")))}function wp(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",67),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275propertyInterpolate("value",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(e)}}function Fp(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",21),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.codeValidator,"")}}function _p(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",21),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e.id),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",null==e.valueJson?null:e.valueJson.name,"")}}function Lp(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",45),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",47),f.\u0275\u0275elementStart(5,"select",68),f.\u0275\u0275template(6,_p,2,2,"option",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,2,"setting.list")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.filteredSettings)}}function Dp(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275elementStart(8,"button",69),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext(3).remove(t)}),f.\u0275\u0275element(9,"i",70),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.codeValidator),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.parameter),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.typeValidator)}}function kp(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",32),f.\u0275\u0275elementStart(1,"table",33),f.\u0275\u0275elementStart(2,"thead"),f.\u0275\u0275elementStart(3,"tr"),f.\u0275\u0275elementStart(4,"th"),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"th"),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"th"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(13,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"tbody"),f.\u0275\u0275template(15,Dp,10,3,"tr",34),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(6,4,"setting.field-setting.code_validator"),""),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(9,6,"setting.field-setting.parameter"),""),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(12,8,"setting.field-setting.type_validator"),""),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.selectedIhmField.validators)}}const Tp=function(e){return{"text-end":e}};function Mp(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",38),f.\u0275\u0275elementStart(1,"div",39),f.\u0275\u0275template(2,Cp,3,3,"h5",40),f.\u0275\u0275template(3,Ip,3,3,"h5",40),f.\u0275\u0275elementStart(4,"button",41),f.\u0275\u0275elementStart(5,"span",42),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(6,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"form",43),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().edit()}),f.\u0275\u0275elementStart(8,"div",44),f.\u0275\u0275elementStart(9,"div",45),f.\u0275\u0275elementStart(10,"label"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"span",46),f.\u0275\u0275text(14,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",47),f.\u0275\u0275elementStart(16,"select",48),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onChangeTypeField(t.target.value)}),f.\u0275\u0275element(17,"option",7),f.\u0275\u0275template(18,wp,2,2,"option",49),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",45),f.\u0275\u0275elementStart(20,"label"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"span",46),f.\u0275\u0275text(24,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"div",50),f.\u0275\u0275element(26,"input",51),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"span",52),f.\u0275\u0275text(28),f.\u0275\u0275pipe(29,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"div",45),f.\u0275\u0275elementStart(31,"label"),f.\u0275\u0275text(32),f.\u0275\u0275pipe(33,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"span",46),f.\u0275\u0275text(35,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(36,"div",50),f.\u0275\u0275element(37,"input",53),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(38,"span",54),f.\u0275\u0275text(39),f.\u0275\u0275pipe(40,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(41,"div",45),f.\u0275\u0275elementStart(42,"label"),f.\u0275\u0275text(43),f.\u0275\u0275pipe(44,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(45,"span",46),f.\u0275\u0275text(46,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(47,"div",50),f.\u0275\u0275element(48,"input",55),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(49,"div",45),f.\u0275\u0275elementStart(50,"label"),f.\u0275\u0275text(51),f.\u0275\u0275pipe(52,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(53,"div",50),f.\u0275\u0275element(54,"input",56),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(55,"span",54),f.\u0275\u0275text(56),f.\u0275\u0275pipe(57,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(58,"div",45),f.\u0275\u0275elementStart(59,"label"),f.\u0275\u0275text(60),f.\u0275\u0275pipe(61,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(62,"div",50),f.\u0275\u0275element(63,"input",57),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(64,"span",54),f.\u0275\u0275text(65),f.\u0275\u0275pipe(66,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(67,"div",45),f.\u0275\u0275elementStart(68,"label"),f.\u0275\u0275text(69),f.\u0275\u0275pipe(70,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(71,"div",50),f.\u0275\u0275element(72,"input",58),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(73,"div",45),f.\u0275\u0275elementStart(74,"label"),f.\u0275\u0275text(75),f.\u0275\u0275pipe(76,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(77,"div",50),f.\u0275\u0275element(78,"input",59),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(79,"div",45),f.\u0275\u0275elementStart(80,"label"),f.\u0275\u0275text(81),f.\u0275\u0275pipe(82,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(83,"span",46),f.\u0275\u0275text(84,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(85,"div",47),f.\u0275\u0275element(86,"textarea",60),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(87,"div",45),f.\u0275\u0275elementStart(88,"label"),f.\u0275\u0275text(89),f.\u0275\u0275pipe(90,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(91,"div",47),f.\u0275\u0275elementStart(92,"select",61),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onChangeValidator(t)}),f.\u0275\u0275template(93,Fp,2,2,"option",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(94,Lp,7,4,"div",62),f.\u0275\u0275elementStart(95,"div"),f.\u0275\u0275template(96,kp,16,10,"div",29),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(97,"div",63),f.\u0275\u0275elementStart(98,"button",64),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(99),f.\u0275\u0275pipe(100,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(101,"button",65),f.\u0275\u0275text(102),f.\u0275\u0275pipe(103,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(63,Tp,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.editIhmField),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!e.editIhmField),f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.editIhmFieldForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(12,31,"setting.field-setting.type_field"),""),f.\u0275\u0275advance(5),f.\u0275\u0275property("compareWith",e.compareFieldType),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.typesField),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,33,"setting.field-setting.code_field")),f.\u0275\u0275advance(5),f.\u0275\u0275property("disabled",e.editIhmField),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(29,35,"setting.field-setting.code_description")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(33,37,"setting.field-setting.title")),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(40,39,"setting.field-setting.title_description")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(44,41,"setting.field-setting.form_control_name")),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(52,43,"setting.field-setting.sub_code_field")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(57,45,"setting.field-setting.sub_code_field_description")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(61,47,"setting.field-setting.placeholder")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(66,49,"setting.field-setting.placeholder_description")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(70,51,"setting.field-setting.default_value")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(76,53,"setting.field-setting.ordre")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(82,55,"setting.field-setting.description")),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(90,57,"setting.field-setting.add_validators")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.acmIhmValidatorEntities),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.showList),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",0!=e.selectedIhmField.validators.length),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(100,59,"button.cancel")),f.\u0275\u0275advance(2),f.\u0275\u0275property("disabled",e.editIhmFieldForm.invalid),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(103,61,"button.save"))}}function Vp(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",66),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,"setting.field-setting.new_ihm_route")))}function Ap(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",66),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,"setting.field-setting.edit_ihm_route")))}function Pp(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",38),f.\u0275\u0275elementStart(1,"div",39),f.\u0275\u0275template(2,Vp,3,3,"h5",40),f.\u0275\u0275template(3,Ap,3,3,"h5",40),f.\u0275\u0275elementStart(4,"button",41),f.\u0275\u0275elementStart(5,"span",42),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(6,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"form",4),f.\u0275\u0275elementStart(8,"div",71),f.\u0275\u0275elementStart(9,"div",5),f.\u0275\u0275elementStart(10,"label"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(13,"input",72),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",5),f.\u0275\u0275elementStart(15,"label"),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(18,"input",73),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",5),f.\u0275\u0275elementStart(20,"label"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(23,"br"),f.\u0275\u0275element(24,"bSwitch",74),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"div",63),f.\u0275\u0275elementStart(26,"button",28),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().saveIhmForm()}),f.\u0275\u0275text(27,"save"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(20,Tp,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",!e.editForm),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.editForm),f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.ihmAddForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,14,"setting.code")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(17,16,"setting.description")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,18,"setting.field-setting.status")),f.\u0275\u0275advance(3),f.\u0275\u0275property("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")}}const Bp=function(){return{display:"inline-flex",marginTop:"1.8rem"}};let Np=(()=>{class e{constructor(e,t,n,i,r,a,o){this.modal=e,this.devToolsServices=t,this.settingsService=n,this.settingFieldService=i,this.formBuilder=r,this.translate=a,this.library=o,this.acmIhmValidatorEntitiesAll=[],this.code=new c.NI("",c.kI.required),this.title=new c.NI("",c.kI.required),this.description=new c.NI("",c.kI.required),this.defaultValue=new c.NI(""),this.type=new c.NI("",c.kI.required),this.ordre=new c.NI("",c.kI.required),this.validator=new c.NI(""),this.placeholder=new c.NI(""),this.formControlName=new c.NI("",c.kI.required),this.subCodeField=new c.NI(""),this.ihmRoute=new c.NI(""),this.ihmForm=new c.NI(""),this.listId=new c.NI(""),this.typesField=["TEXT","NUMBER","OPTIONS","MAIL","DATE"],this.idIhmRoute=new Bt,this.ihmFormEntity=new ac.s,this.newAcmIhmFieldEntity=[],this.settingList=[],this.filteredSettings=[],this.showList=!1}ngOnInit(){var e=this;return(0,m.Z)(function*(){const t=new Bt;e.createIhmRouteForm(),e.createIhmFormsForm(),yield e.settingFieldService.getIHMHabilitation(t).subscribe(t=>{e.habilitationIhmRoutes=t}),e.showTable=!1,e.showForms=!1;const n=new hp.N;e.settingsService.findListSetting(n).subscribe(t=>{e.settingList=t.map(e=>({...e,valueJson:JSON.parse(e.valueJson)})),e.filteredSettings=e.settingList.filter(e=>0===e.valueJson?.parentListID)})})()}createIhmRouteForm(){this.ihmRoutesForm=this.formBuilder.group({ihmRoute:this.ihmRoute})}createIhmFormsForm(){this.ihmFormsForm=this.formBuilder.group({ihmForm:this.ihmForm})}getFormsByIhmRoute(e){if(void 0!==e){this.idIhmRoute=e;const t=new ac.s;t.habilitationIHMRouteDTO=new Bt,t.habilitationIHMRouteDTO.id=e.id,t.habilitationIHMRouteDTO.codeIHMRoute=e.codeIHMRoute,t.needFields=!1,this.settingFieldService.getForm(t).subscribe(e=>{this.ihmForms=e,this.showForms=!0,this.showTable=!1})}}getFieldsByIhmForm(e){if(void 0!==e){this.newAcmIhmFieldEntity=[];const t=new oc;t.codeForm=e.codePage,this.ihmFormEntity=e,this.settingFieldService.getFields(t).subscribe(e=>{this.ihmFields=e.sort((e,t)=>e.ordre<t.ordre?-1:1),this.showTable=!0})}}endableDisable(e){this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.disable_environnemet").afterClosed().subscribe(t=>{t?this.settingFieldService.updateField(e).subscribe():e.enabled=!e.enabled})}createEditFieldForm(){this.editIhmFieldForm=this.formBuilder.group({code:this.code,title:this.title,description:this.description,type:this.type,validator:this.validator,defaultValue:this.defaultValue,placeholder:this.placeholder,formControlName:this.formControlName,subCodeField:this.subCodeField,ordre:this.ordre,listId:this.listId})}editField(e,t){this.editIhmField=!0,this.createEditFieldForm(),this.selectedIhmField=t,this.editIhmFieldForm.controls.code.setValue(t.codeField),this.editIhmFieldForm.controls.title.setValue(t.titre),this.editIhmFieldForm.controls.description.setValue(t.description),this.editIhmFieldForm.controls.type.setValue(t.typeField),this.editIhmFieldForm.controls.placeholder.setValue(t.placeholder),this.editIhmFieldForm.controls.defaultValue.setValue(t.defaultValue),this.editIhmFieldForm.controls.formControlName.setValue(t.formControlName),this.editIhmFieldForm.controls.subCodeField.setValue(t.subCodeField),this.editIhmFieldForm.controls.ordre.setValue(t.ordre),this.editIhmFieldForm.controls.listId.setValue(t.listId);const n=new gp.Z;this.settingFieldService.getIhmValidators(n).subscribe(e=>{this.acmIhmValidatorEntitiesAll=e,this.onChangeTypeField(t.typeField)}),this.modal.open(e,{size:"xl"})}edit(){if(this.editIhmField)this.selectedIhmField.codeField=this.editIhmFieldForm.controls.code.value,this.selectedIhmField.titre=this.editIhmFieldForm.controls.title.value,this.selectedIhmField.description=this.editIhmFieldForm.controls.description.value,this.selectedIhmField.defaultValue=this.editIhmFieldForm.controls.defaultValue.value,this.selectedIhmField.typeField=this.editIhmFieldForm.controls.type.value,this.selectedIhmField.placeholder=this.editIhmFieldForm.controls.placeholder.value,this.selectedIhmField.formControlName=this.editIhmFieldForm.controls.formControlName.value,this.selectedIhmField.subCodeField=this.editIhmFieldForm.controls.subCodeField.value,this.selectedIhmField.ordre=this.editIhmFieldForm.controls.ordre.value,this.selectedIhmField.listId=this.editIhmFieldForm.controls.listId?.value?this.editIhmFieldForm.controls.listId.value:"",this.settingFieldService.updateField(this.selectedIhmField).subscribe(()=>{this.modal.dismissAll()});else{const e=new oc;e.codeField=this.editIhmFieldForm.controls.code.value,e.titre=this.editIhmFieldForm.controls.title.value,e.description=this.editIhmFieldForm.controls.description.value,e.defaultValue=this.editIhmFieldForm.controls.defaultValue.value,e.typeField=this.editIhmFieldForm.controls.type.value,e.placeholder=this.editIhmFieldForm.controls.placeholder.value,e.validators=this.selectedIhmField.validators,e.acmIhmFormDTO=this.ihmFormEntity,e.enabled=!0,e.formControlName=this.editIhmFieldForm.controls.formControlName.value,e.subCodeField=this.editIhmFieldForm.controls.subCodeField.value,e.ordre=this.editIhmFieldForm.controls.ordre.value,this.selectedIhmField.listId=this.editIhmFieldForm.controls.listId?.value?this.editIhmFieldForm.controls.listId.value:"",this.newAcmIhmFieldEntity.push(e),this.modal.dismissAll()}}onChangeTypeField(e){switch(e){case"TEXT":this.acmIhmValidatorEntities=this.acmIhmValidatorEntitiesAll.filter(e=>e.typeValidator!==h.J.MIN&&e.typeValidator!==h.J.MAX),this.showList=!1;break;case"MAIL":this.acmIhmValidatorEntities=this.acmIhmValidatorEntitiesAll.filter(e=>e.typeValidator===h.J.REQUIRED||e.typeValidator===h.J.EMAIL),this.showList=!1;break;case"NUMBER":this.acmIhmValidatorEntities=this.acmIhmValidatorEntitiesAll.filter(e=>e.typeValidator!==h.J.PATTERN_STRING&&e.typeValidator!==h.J.PATTERN_REGEXP&&e.typeValidator!==h.J.EMAIL),this.showList=!1;break;case"OPTIONS":this.showList=!0,this.acmIhmValidatorEntities=this.acmIhmValidatorEntitiesAll.filter(e=>e.typeValidator===h.J.REQUIRED);break;case"DATE":this.acmIhmValidatorEntities=this.acmIhmValidatorEntitiesAll.filter(e=>e.typeValidator===h.J.REQUIRED||e.typeValidator===h.J.MIN||e.typeValidator===h.J.MAX),this.showList=!1;break;default:this.acmIhmValidatorEntities=this.acmIhmValidatorEntitiesAll,this.showList=!1}}getDirection(){return Se.y.direction}onChangeValidator(e){this.selectedIhmField.validators.push(this.editIhmFieldForm.controls.validator.value)}compareFieldType(e,t){return e===t}remove(e){this.selectedIhmField.validators.splice(e,1)}closeModale(){this.modal.dismissAll()}addIhmForm(e){this.createIhmForm(),this.modal.open(e,{size:"xl"})}createIhmForm(){this.editForm=!1,this.ihmAddForm=this.formBuilder.group({code:["",jt.MS],description:["",jt.MS],enable:[!0,jt.MS]})}saveIhmForm(){if(this.ihmAddForm.valid)if(this.editForm)this.ihmFormEntity.codePage=this.ihmAddForm.controls.code.value,this.ihmFormEntity.description=this.ihmAddForm.controls.description.value,this.ihmFormEntity.enabled=this.ihmAddForm.controls.enable.value,this.settingFieldService.editIhmForm(this.ihmFormEntity).subscribe(e=>{for(let t=0;t++;t<this.ihmForms.length)this.ihmForms[t].id===e.id&&(this.ihmForms[t]=e);this.modal.dismissAll()});else{const e=new ac.s;e.codePage=this.ihmAddForm.controls.code.value,e.description=this.ihmAddForm.controls.description.value,e.habilitationIHMRouteDTO=new Bt,e.habilitationIHMRouteDTO=this.idIhmRoute,e.enabled=this.ihmAddForm.controls.enable.value,this.settingFieldService.addIhmForm(e).subscribe(e=>{this.ihmForms.push(e),this.modal.dismissAll()})}}editIhmForm(e){this.editForm=!0,this.ihmAddForm=this.formBuilder.group({code:[this.ihmFormEntity.codePage,c.kI.required],description:[this.ihmFormEntity.description,c.kI.required],enable:[this.ihmFormEntity.enabled,c.kI.required]}),this.modal.open(e,{size:"xl"})}addIhmFields(e){this.editIhmField=!1,this.editIhmFieldForm=this.formBuilder.group({code:[""],title:[""],formControlName:[""],subCodeField:[""],description:[""],defaultValue:[""],type:[""],validator:[""],placeholder:[""],ordre:[""],listId:[""]}),this.selectedIhmField=new oc,this.selectedIhmField.validators=[];const t=new gp.Z;this.settingFieldService.getIhmValidators(t).subscribe(t=>{this.acmIhmValidatorEntitiesAll=t,this.modal.open(e,{size:"xl"})})}saveNewFields(){this.settingFieldService.saveAllFields(this.newAcmIhmFieldEntity).subscribe(e=>{this.newAcmIhmFieldEntity=[],e.forEach(e=>{this.ihmFields.push(e)})})}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(sc.E),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(p.by))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-field"]],decls:41,vars:24,consts:[[1,"row","align-items-start"],[1,"col-6"],[1,"card"],[1,"card-body","ACM-task"],[3,"formGroup"],[1,"position-relative","form-group"],["formControlName","ihmRoute",1,"form-control",3,"ngModelChange"],["selected","","value",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"row","d-flex",3,"formGroup"],[1,"col-xl-10","col-md-10"],["formControlName","ihmForm",1,"form-control",3,"ngModelChange"],[1,"col-xl-1","col-md-1","mb-3"],[1,"btn-icon","btn-icon-only","btn","btn-success",3,"click"],[1,"pe-7s-plus","btn-icon-wrapper"],[1,"btn-icon","btn-icon-only","btn","btn-warning",3,"click"],[3,"icon"],[1,"py-1"],["class","main-card mb-2 card",4,"ngIf"],["modalContent",""],["modalAddIhmForm",""],[3,"ngValue"],[1,"main-card","mb-2","card"],[1,"card-header"],[1,"row","col-xl-12","xol-md-12","d-flex","align-items-center"],[1,"col-xl-11","xol-md-11"],[1,"lnr-file-empty","pr-2"],[1,"col-xl-1","col-md-1"],[1,"btn","btn-primary",3,"click"],["class","table-responsive",4,"ngIf"],[1,"card-footer","d-flex","justify-content-end"],[1,"btn","btn-primary",3,"disabled","click"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","ngModelOptions","switch-off-color","ngModelChange","click"],[1,"btn","btn-warning","text-white",3,"click"],["name","pencil"],[3,"dir","ngClass"],[1,"modal-header","py-2"],["class","modal-title",4,"ngIf"],["type","button"],["aria-hidden","true",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"card-body"],[1,"position-relative","pb-4"],[1,"text-danger"],[1,"input-group"],["type","text","formControlName","type",1,"form-control","form-group",3,"compareWith","change"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","form-group"],["type","text","formControlName","code",1,"form-control",3,"disabled"],[1,"text-danger","px-1"],["type","text","formControlName","title","required","",1,"form-control"],[1,"text-danger","px-3"],["type","text","formControlName","formControlName","required","",1,"form-control"],["type","text","formControlName","subCodeField",1,"form-control"],["type","text","formControlName","placeholder",1,"form-control"],["type","text","formControlName","defaultValue",1,"form-control"],["type","text","formControlName","ordre",1,"form-control"],["type","text","formControlName","description",1,"form-control"],["formControlName","validator","type","text",1,"form-control","form-group",3,"change"],["class","position-relative pb-4",4,"ngIf"],[1,"modal-footer"],[1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-1","btn","btn-primary",3,"disabled"],[1,"modal-title"],[3,"value"],["formControlName","listId","type","text",1,"form-control","form-group"],[1,"btn","btn-danger",3,"click"],[1,"pe-7s-trash","btn-icon-wrapper"],[1,"modal-body"],["formControlName","code","placeholder","code",1,"form-control"],["formControlName","description","placeholder","Description",1,"form-control"],["formControlName","enable",1,"px-2","mb-0",3,"switch-size","switch-animate","switch-off-color"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275elementStart(2,"div",2),f.\u0275\u0275elementStart(3,"div",3),f.\u0275\u0275elementStart(4,"form",4),f.\u0275\u0275elementStart(5,"div",5),f.\u0275\u0275elementStart(6,"label"),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"select",6),f.\u0275\u0275listener("ngModelChange",function(e){return t.getFormsByIhmRoute(e)}),f.\u0275\u0275elementStart(10,"option",7),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(13,fp,2,2,"option",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",1),f.\u0275\u0275elementStart(15,"div",2),f.\u0275\u0275elementStart(16,"div",3),f.\u0275\u0275elementStart(17,"form",9),f.\u0275\u0275elementStart(18,"div",10),f.\u0275\u0275elementStart(19,"div",5),f.\u0275\u0275elementStart(20,"label"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"select",11),f.\u0275\u0275listener("ngModelChange",function(e){return t.getFieldsByIhmForm(e)}),f.\u0275\u0275elementStart(24,"option",7),f.\u0275\u0275text(25),f.\u0275\u0275pipe(26,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(27,vp,2,2,"option",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"div"),f.\u0275\u0275elementStart(29,"div",12),f.\u0275\u0275elementStart(30,"button",13),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(40);return t.addIhmForm(n)}),f.\u0275\u0275element(31,"i",14),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(32,"div",12),f.\u0275\u0275elementStart(33,"button",15),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(40);return t.editIhmForm(n)}),f.\u0275\u0275element(34,"fa-icon",16),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(35,"div",17),f.\u0275\u0275template(36,bp,15,5,"div",18),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(37,Mp,104,65,"ng-template",null,19,f.\u0275\u0275templateRefExtractor),f.\u0275\u0275template(39,Pp,28,22,"ng-template",null,20,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(4),f.\u0275\u0275property("formGroup",t.ihmRoutesForm),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(8,15,"setting.field-setting.ihm_route")),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(12,17,"setting.field-setting.default_select_ihm_route")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",t.habilitationIhmRoutes),f.\u0275\u0275advance(4),f.\u0275\u0275property("formGroup",t.ihmFormsForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,19,"setting.field-setting.ihm_forms")),f.\u0275\u0275advance(2),f.\u0275\u0275attribute("disabled",t.showForms?null:""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(26,21,"setting.field-setting.default_select_ihm_form")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",t.ihmForms),f.\u0275\u0275advance(1),f.\u0275\u0275styleMap(f.\u0275\u0275pureFunction0(23,Bp)),f.\u0275\u0275advance(2),f.\u0275\u0275attribute("disabled",t.showForms?null:""),f.\u0275\u0275advance(3),f.\u0275\u0275attribute("disabled",t.showTable?null:""),f.\u0275\u0275advance(1),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","pencil-alt")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",t.showTable))},directives:[c._Y,c.JL,c.sg,C.MU,le.jv,C.HK,c.EJ,C.oH,c.JJ,c.u,le.wj,c.YN,c.Kr,r.NgForOf,p.BN,r.NgIf,I.U,c.On,Oe.Lv,r.NgClass,c.Fj,c.Q7],pipes:[s.X$],styles:[""]}),e})();var Rp=n(91086);class Op{}function jp(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",17),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.id),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.code," ")}}function Gp(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",17),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.id),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.description," ")}}function Up(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"select",28),f.\u0275\u0275element(1,"option",15),f.\u0275\u0275template(2,Gp,2,2,"option",16),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().index,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",t.udfFields[e])}}function $p(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",17),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e," ")}}function Jp(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"select",29),f.\u0275\u0275element(1,"option",15),f.\u0275\u0275template(2,$p,2,2,"option",16),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.customerFields)}}function zp(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",17),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e," ")}}function Kp(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementContainerStart(0,13),f.\u0275\u0275elementStart(1,"tr"),f.\u0275\u0275elementStart(2,"td"),f.\u0275\u0275elementStart(3,"select",14),f.\u0275\u0275listener("change",function(t){const n=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().getUdfFields(t,n,null)}),f.\u0275\u0275element(4,"option",15),f.\u0275\u0275template(5,jp,2,2,"option",16),f.\u0275\u0275elementStart(6,"option",17),f.\u0275\u0275text(7),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"td"),f.\u0275\u0275template(9,Up,3,1,"select",18),f.\u0275\u0275template(10,Jp,3,1,"select",19),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"td"),f.\u0275\u0275elementStart(12,"select",20),f.\u0275\u0275listener("change",function(t){const n=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().checkOperator(t,n,null)}),f.\u0275\u0275element(13,"option",15),f.\u0275\u0275template(14,zp,2,2,"option",16),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"td"),f.\u0275\u0275element(16,"input",21),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"td"),f.\u0275\u0275element(18,"input",22),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"td"),f.\u0275\u0275element(20,"input",23),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(21,"td"),f.\u0275\u0275elementStart(22,"div",24),f.\u0275\u0275elementStart(23,"div",25),f.\u0275\u0275elementStart(24,"button",26),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().deleteStepCondition(t)}),f.\u0275\u0275element(25,"i",27),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementContainerEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();let i,r;f.\u0275\u0275property("formGroup",e),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngForOf",n.udfGroups),f.\u0275\u0275advance(1),f.\u0275\u0275property("value",n.entityName),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",n.entityName," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",!(null!=(i=e.get("idField"))&&i.disabled)),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!(null!=(r=e.get("fieldName"))&&r.disabled)),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",n.operators)}}let Wp=(()=>{class e{constructor(e,t,n,i){this.formBuilder=e,this.udfService=t,this.library=n,this.devToolsServices=i,this.stepConditionForms=[],this.stepConditions=[],this.udfFields=[],this.entityName=h.J.CUSTOMER_ENTITY,this.customerFields=[],this.operators=["=","!=","<",">","<=",">=","<>","in"]}ngOnInit(){this.getStepConditions(),this.customerFields=(0,jt.Jp)()}getStepConditions(){if(this.stepConditionForms=[],this.settingWorkflowStepConditions&&(this.stepConditions=this.settingWorkflowStepConditions),this.stepConditions.length>0)for(let e=0;e<this.stepConditions.length;e++)this.stepConditionForms[e]||(this.stepConditionForms[e]=this.formBuilder.group({})),this.stepConditions[e].idUserDefinedFieldGroup?this.stepConditionForms[e].addControl("idGroup",new c.NI(this.stepConditions[e].idUserDefinedFieldGroup,c.kI.required)):this.stepConditions[e].entityName&&this.stepConditionForms[e].addControl("idGroup",new c.NI(this.stepConditions[e].entityName,c.kI.required)),this.getUdfFields(null,e,this.stepConditions[e].idUserDefinedFieldGroup),this.stepConditionForms[e].addControl("idField",new c.NI(this.stepConditions[e].idUserDefinedFields,c.kI.required)),this.stepConditionForms[e].addControl("fieldName",new c.NI(this.stepConditions[e].fieldName,c.kI.required)),this.stepConditions[e].idUserDefinedFields?this.stepConditionForms[e].controls.fieldName.disable():this.stepConditions[e].fieldName&&this.stepConditionForms[e].controls.idField.disable(),this.stepConditionForms[e].addControl("operator",new c.NI(this.stepConditions[e].operator,c.kI.required)),this.stepConditionForms[e].addControl("value",new c.NI(this.stepConditions[e].value)),this.stepConditionForms[e].addControl("minValue",new c.NI(this.stepConditions[e].minValue)),this.stepConditionForms[e].addControl("maxValue",new c.NI(this.stepConditions[e].maxValue)),this.checkOperator(null,e,this.stepConditions[e].operator)}getUdfFields(e,t,n){var i=this;return(0,m.Z)(function*(){let r;if(r=e?e.target.value:n,r)if(r===h.J.CUSTOMER_ENTITY)i.stepConditionForms[t].controls.idField.disable(),i.stepConditionForms[t].controls.idField.setValue(null),i.stepConditionForms[t].controls.fieldName.enable();else{const e=new Ot.x;e.userDefinedFieldGroupDTO=new Rt.t,e.userDefinedFieldGroupDTO.id=r,i.udfService.getUdfField(e).subscribe(e=>{i.udfFields[t]=e}),i.stepConditionForms[t].controls.idField.enable(),i.stepConditionForms[t].controls.fieldName.disable(),i.stepConditionForms[t].controls.fieldName.setValue(null)}else i.udfFields[t]=[]})()}checkOperator(e,t,n){let i;i=e?e.target.value:n,"<>"===i?(this.stepConditionForms[t].controls.value.disable(),this.stepConditionForms[t].controls.value.setValue(null),this.stepConditionForms[t].controls.minValue.enable(),this.stepConditionForms[t].controls.maxValue.enable()):"in"===i?(e&&this.devToolsServices.openToast(3,"setting.step_conditions.in_operator_warning"),this.stepConditionForms[t].controls.value.enable(),this.stepConditionForms[t].controls.minValue.disable(),this.stepConditionForms[t].controls.maxValue.disable(),this.stepConditionForms[t].controls.maxValue.setValue(null),this.stepConditionForms[t].controls.minValue.setValue(null)):(this.stepConditionForms[t].controls.value.enable(),this.stepConditionForms[t].controls.minValue.disable(),this.stepConditionForms[t].controls.maxValue.disable(),this.stepConditionForms[t].controls.maxValue.setValue(null),this.stepConditionForms[t].controls.minValue.setValue(null))}deleteStepCondition(e){this.stepConditionForms.splice(e,1),this.stepConditions.splice(e,1)}addStepCondition(){this.stepConditionForms[this.stepConditions.length]=this.formBuilder.group({}),this.stepConditionForms[this.stepConditions.length].addControl("id",new c.NI(null)),this.stepConditionForms[this.stepConditions.length].addControl("idGroup",new c.NI("",c.kI.required)),this.stepConditionForms[this.stepConditions.length].addControl("idField",new c.NI("",c.kI.required)),this.stepConditionForms[this.stepConditions.length].addControl("operator",new c.NI("",c.kI.required)),this.stepConditionForms[this.stepConditions.length].addControl("value",new c.NI("")),this.stepConditionForms[this.stepConditions.length].addControl("minValue",new c.NI("")),this.stepConditionForms[this.stepConditions.length].addControl("maxValue",new c.NI("")),this.stepConditionForms[this.stepConditions.length].addControl("fieldName",new c.NI("")),this.stepConditionForms[this.stepConditions.length].controls.value.disable(),this.stepConditionForms[this.stepConditions.length].controls.minValue.disable(),this.stepConditionForms[this.stepConditions.length].controls.maxValue.disable(),this.stepConditionForms[this.stepConditions.length].controls.fieldName.disable(),this.stepConditions.push(new Op)}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(Gt.H),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(S.R))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-workflow-step-conditions"]],inputs:{idWorkflowStep:"idWorkflowStep",settingWorkflowStepConditions:"settingWorkflowStepConditions",type:"type",udfGroups:"udfGroups"},decls:40,vars:26,consts:[[1,"card-header","d-flex","justify-content-between"],[1,"text-primary","text-uppercase","px-4","pt-3"],[1,"vertical-align-middle"],[1,"px-3"],[1,"hr"],["aria-labelledby","headingOne","data-parent","#accordionExample"],[1,"card-body"],[1,"col-xl-12","d-flex","justify-content-end","pt-3"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[1,"mx-2",3,"icon"],[1,"table-responsive","mt-2"],[1,"mb-0","table","green"],["class","form",3,"formGroup",4,"ngFor","ngForOf"],[1,"form",3,"formGroup"],["formControlName","idGroup",1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","idField","class","form-control",4,"ngIf"],["formControlName","fieldName","class","form-control",4,"ngIf"],["formControlName","operator",1,"form-control",3,"change"],["formControlName","value",1,"form-control"],["formControlName","minValue","type","number",1,"form-control"],["formControlName","maxValue","type","number",1,"form-control"],[1,"row","d-flex","justify-content-end","px-3"],[1,"px-2"],[1,"btn","btn-danger",3,"click"],[1,"pe-7s-trash","btn-icon-wrapper","text-white"],["formControlName","idField",1,"form-control"],["formControlName","fieldName",1,"form-control"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"h6",1),f.\u0275\u0275elementStart(2,"span",2),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div",3),f.\u0275\u0275element(6,"hr",4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",5),f.\u0275\u0275elementStart(8,"div",6),f.\u0275\u0275elementStart(9,"div",7),f.\u0275\u0275elementStart(10,"button",8),f.\u0275\u0275listener("click",function(){return t.addStepCondition()}),f.\u0275\u0275element(11,"fa-icon",9),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div"),f.\u0275\u0275elementStart(15,"div",10),f.\u0275\u0275elementStart(16,"table",11),f.\u0275\u0275elementStart(17,"thead"),f.\u0275\u0275elementStart(18,"tr"),f.\u0275\u0275elementStart(19,"th"),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"th"),f.\u0275\u0275text(23),f.\u0275\u0275pipe(24,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"th"),f.\u0275\u0275text(26),f.\u0275\u0275pipe(27,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"th"),f.\u0275\u0275text(29),f.\u0275\u0275pipe(30,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(31,"th"),f.\u0275\u0275text(32),f.\u0275\u0275pipe(33,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"th"),f.\u0275\u0275text(35),f.\u0275\u0275pipe(36,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(37,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(38,"tbody"),f.\u0275\u0275template(39,Kp,26,7,"ng-container",12),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,10,"setting.step_conditions.workflow_step_conditions"),""),f.\u0275\u0275advance(8),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(13,12,"button.add_condition")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(21,14,"udf.udf_group")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(24,16,"udf.udf_filed")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(27,18,"setting.step_conditions.operator")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(30,20,"setting.step_conditions.value")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(33,22,"setting.step_conditions.min_value")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(36,24,"setting.step_conditions.max_value")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",t.stepConditionForms))},directives:[p.BN,r.NgForOf,c.JL,c.sg,C.MU,le.jv,c.EJ,C.oH,c.JJ,c.u,le.wj,c.YN,c.Kr,r.NgIf,c.Fj,c.wV],pipes:[s.X$],styles:[""]}),e})();function qp(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h6",13),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"setting.setting_level.no_level_process_for_this_product")," "))}function Hp(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",52),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.name),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.name," ")}}function Yp(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",52),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.name),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.name," ")}}function Qp(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",50),f.\u0275\u0275elementStart(2,"div",32),f.\u0275\u0275elementStart(3,"label"),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"select",51),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.rejectionCondition=t}),f.\u0275\u0275element(7,"option",52),f.\u0275\u0275template(8,Hp,2,2,"option",38),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div",32),f.\u0275\u0275elementStart(10,"label"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"input",53),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.minScoreRejected=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",32),f.\u0275\u0275elementStart(15,"label"),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"input",54),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.maxScoreRejected=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",32),f.\u0275\u0275elementStart(20,"label"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"select",51),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.acceptationCondition=t}),f.\u0275\u0275element(24,"option",52),f.\u0275\u0275template(25,Yp,2,2,"option",38),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"div",32),f.\u0275\u0275elementStart(27,"label"),f.\u0275\u0275text(28),f.\u0275\u0275pipe(29,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"input",55),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.minScoreAccepted=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(31,"div",32),f.\u0275\u0275elementStart(32,"label"),f.\u0275\u0275text(33),f.\u0275\u0275pipe(34,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(35,"input",56),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.maxScoreAccepted=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(36,"div",17),f.\u0275\u0275element(37,"hr",57),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(5,16,"rejection_condition")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.rejectionCondition),f.\u0275\u0275advance(1),f.\u0275\u0275property("value",null),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",t.providerFields),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,18,"min_score_rejected")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.minScoreRejected),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(17,20,"Max_score_rejected")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.maxScoreRejected),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,22,"acceptation_condition")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.acceptationCondition),f.\u0275\u0275advance(1),f.\u0275\u0275property("value",null),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",t.providerFields),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(29,24,"min_score_accepted")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.minScoreAccepted),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(34,26,"max_score_accepted")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.maxScoreAccepted)}}function Xp(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",35),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.libelle," ")}}const Zp=function(e){return{"form-control":!0,"input-error":e}};function em(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",32),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"span",21),f.\u0275\u0275text(5," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"select",58),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.groupSetting=t}),f.\u0275\u0275template(7,Xp,2,2,"option",59),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(3,5,"group_users"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(7,Zp,!e.groupSetting))("ngModel",e.groupSetting)("compareWith",t.compareGroup),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",t.groupEntities)}}const tm=function(e){return{"disabled-option":e}};function nm(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",62),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(2).$implicit;f.\u0275\u0275property("value",e.linkValue)("disabled",0===n.order&&(-1==e.linkValue||-2==e.linkValue))("ngClass",f.\u0275\u0275pureFunction1(4,tm,0===n.order&&(-1===e.linkValue||-2===e.linkValue))),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.LinkName," ")}}function im(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",52),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.order),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.stepName," ")}}function rm(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",32),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"span",21),f.\u0275\u0275text(5," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"select",60),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.previousStep=t}),f.\u0275\u0275template(7,nm,2,6,"option",61),f.\u0275\u0275template(8,im,2,2,"option",38),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(),t=e.$implicit,n=e.index,i=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(3,5,"user-step-link"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(7,Zp,!t.previousStep))("ngModel",t.previousStep),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.userLinks),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.previousSteps(i.newLoanApplicationSteps,n))}}function am(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",52),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.ihmRoute),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.description," ")}}function om(e,t){1&e&&(f.\u0275\u0275elementStart(0,"option",63),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(2,1,"deselect_option")))}function lm(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",52),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e," ")}}function sm(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",32),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"ngx-select-dropdown",64),f.\u0275\u0275listener("ngModelChange",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().index;return f.\u0275\u0275nextContext().selectedScreenComponents[n]=t})("change",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().index;return f.\u0275\u0275nextContext().getListOfScreen(t,n)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().index,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,5,"sidebar.screening_component"),""),f.\u0275\u0275advance(2),f.\u0275\u0275property("multiple",!0)("options",t.screenigComponents)("ngModel",t.selectedScreenComponents[e])("config",t.configScreenComponent)}}function dm(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",32),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"ngx-select-dropdown",65),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.approvers=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,5,"approval_participants"),""),f.\u0275\u0275advance(2),f.\u0275\u0275property("multiple",!0)("ngModel",e.approvers)("options",t.optionsGroupUsers)("config",t.configCollectionParticipants)}}function cm(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",52),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.tapValue),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.tapName," ")}}function pm(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",52),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.codeSMSEvent),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.codeSMSEvent," ")}}const mm=function(){return{"form-control":!0}};function um(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",32),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"select",37),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.codeAcmTemplateSms=t}),f.\u0275\u0275template(5,pm,2,2,"option",38),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,4,"setting.SMSTemplate")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction0(6,mm))("ngModel",e.codeAcmTemplateSms),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",t.settingSMS)}}function gm(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",32),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"p-multiSelect",66),f.\u0275\u0275listener("onChange",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext().onChangeCbsApi(n,t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,2,"setting.setting_steps_workflow.cbs_api"),":"),f.\u0275\u0275advance(2),f.\u0275\u0275property("options",e.cbsApiList)}}function hm(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",32),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"ngx-select-dropdown",67),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.journalEntryTypes=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,5,"setting.journal-entry.type"),":"),f.\u0275\u0275advance(2),f.\u0275\u0275property("multiple",!0)("options",t.journalEntryTypes)("config",t.configJournalEntryType)("ngModel",e.journalEntryTypes)}}function fm(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",45),f.\u0275\u0275elementStart(1,"mat-checkbox",68),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.readyForDisb=t})("change",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext(2);return n.changeReadyForDisbursement(t,n.newApplicationProcess)}),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("disabled",t.readyForDisbCheckedForLoanApp&&!e.readyForDisb)("ngModel",e.readyForDisb),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,3,"loan_workflow_setting.ready_for_disbursement"),"")}}function vm(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",45),f.\u0275\u0275elementStart(1,"mat-checkbox",68),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.approvalConditions=t})("change",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext(2);return n.changeApprovalConditions(t,n.newApplicationProcess)}),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("disabled",t.approvalConditionCheckedForLoanApp&&!e.approvalConditions)("ngModel",e.approvalConditions),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(3,3,"loan_workflow_setting.conditions-approval")," ")}}function Sm(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",45),f.\u0275\u0275elementStart(1,"mat-checkbox",68),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.checkMezaCard=t})("change",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext(2);return n.changeCheckMezaCard(t,n.newApplicationProcess)}),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("disabled",t.mezaCardCheckedForLoanApp&&!e.checkMezaCard)("ngModel",e.checkMezaCard),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,3,"setting.check-meza-card"))}}function ym(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",45),f.\u0275\u0275elementStart(1,"mat-checkbox",68),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.activeTimerLoan=t})("change",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext(2);return n.changeActivatedTimer(t,n.newApplicationProcess)}),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("disabled",t.loanTimerCheckedForLoanApp&&!e.activeTimerLoan)("ngModel",e.activeTimerLoan),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,3,"loan_workflow_setting.active_loan_timer"),"")}}function xm(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",32),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"p-multiSelect",69),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.lstFees=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,3,"setting.fees")),f.\u0275\u0275advance(2),f.\u0275\u0275property("options",t.applicationFeesByProduct)("ngModel",e.lstFees)}}function Em(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",47),f.\u0275\u0275element(1,"app-setting-workflow-step-conditions",70),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("idWorkflowStep",e.idWorkFlowStep)("settingWorkflowStepConditions",e.settingWorkFlowStepConditions)("udfGroups",t.udfGroups)}}function bm(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",14),f.\u0275\u0275elementStart(1,"div",15),f.\u0275\u0275elementStart(2,"div",16),f.\u0275\u0275elementStart(3,"div",17),f.\u0275\u0275elementStart(4,"p",18),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",19),f.\u0275\u0275elementStart(8,"input",20),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.stepName=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"span",21),f.\u0275\u0275text(10," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"div",22),f.\u0275\u0275elementStart(12,"div",23),f.\u0275\u0275elementStart(13,"mat-checkbox",24),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.automaticStep=t})("change",function(t){const n=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().showInputsMethod(t.checked,n)}),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"button",25),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().deleteStep(t)}),f.\u0275\u0275element(17,"i",26),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"div",27),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().toggleCollapse(t,"NEW_APPLICATION")}),f.\u0275\u0275element(19,"i",28),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"div",29),f.\u0275\u0275elementStart(21,"div",30),f.\u0275\u0275template(22,Qp,38,28,"div",31),f.\u0275\u0275elementStart(23,"div",32),f.\u0275\u0275elementStart(24,"label"),f.\u0275\u0275text(25),f.\u0275\u0275pipe(26,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"span",21),f.\u0275\u0275text(28," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(29,"input",33),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.minAmount=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"div",32),f.\u0275\u0275elementStart(31,"label"),f.\u0275\u0275text(32),f.\u0275\u0275pipe(33,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"span",21),f.\u0275\u0275text(35," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(36,"input",33),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.maxAmount=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"div",32),f.\u0275\u0275elementStart(38,"label"),f.\u0275\u0275text(39),f.\u0275\u0275pipe(40,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(41,"span",21),f.\u0275\u0275text(42," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(43,"select",34),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.stepType=t})("change",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().stepTypeChanged("NEW_APPLICATION",t)}),f.\u0275\u0275elementStart(44,"option",35),f.\u0275\u0275text(45),f.\u0275\u0275pipe(46,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(47,"option",35),f.\u0275\u0275text(48),f.\u0275\u0275pipe(49,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(50,"option",35),f.\u0275\u0275text(51),f.\u0275\u0275pipe(52,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(53,em,8,9,"div",36),f.\u0275\u0275template(54,rm,9,9,"div",36),f.\u0275\u0275elementStart(55,"div",32),f.\u0275\u0275elementStart(56,"label"),f.\u0275\u0275text(57),f.\u0275\u0275pipe(58,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(59,"span",21),f.\u0275\u0275text(60," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(61,"select",37),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.screen=t}),f.\u0275\u0275template(62,am,2,2,"option",38),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(63,"div",32),f.\u0275\u0275elementStart(64,"label"),f.\u0275\u0275text(65),f.\u0275\u0275pipe(66,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(67,"select",34),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.ibScreen=t})("change",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().clearSelection(t)}),f.\u0275\u0275template(68,om,3,3,"option",39),f.\u0275\u0275template(69,lm,2,2,"option",38),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(70,"div",32),f.\u0275\u0275elementStart(71,"label"),f.\u0275\u0275text(72),f.\u0275\u0275pipe(73,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(74,"input",40),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.ibStepName=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(75,sm,5,7,"div",36),f.\u0275\u0275template(76,dm,5,7,"div",36),f.\u0275\u0275elementStart(77,"div",32),f.\u0275\u0275elementStart(78,"label"),f.\u0275\u0275text(79),f.\u0275\u0275pipe(80,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(81,"p-multiSelect",41),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.documents=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(82,"div",32),f.\u0275\u0275elementStart(83,"label"),f.\u0275\u0275text(84),f.\u0275\u0275pipe(85,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(86,"span",21),f.\u0275\u0275text(87," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(88,"select",34),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.codeStatutLoan=t})("change",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().checkBoxCheckers(t)}),f.\u0275\u0275template(89,cm,2,2,"option",38),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(90,um,6,7,"div",36),f.\u0275\u0275elementStart(91,"div",32),f.\u0275\u0275elementStart(92,"label"),f.\u0275\u0275text(93),f.\u0275\u0275pipe(94,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(95,"p-multiSelect",42),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.listChargeFees=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(96,gm,5,4,"div",43),f.\u0275\u0275template(97,hm,5,7,"div",43),f.\u0275\u0275elementStart(98,"div",32),f.\u0275\u0275elementStart(99,"label"),f.\u0275\u0275text(100),f.\u0275\u0275pipe(101,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(102,"input",40),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.accountingEvent=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(103,"div",32),f.\u0275\u0275elementStart(104,"label"),f.\u0275\u0275text(105),f.\u0275\u0275pipe(106,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(107,"p-multiSelect",42),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.disbursmentFeesList=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(108,fm,4,5,"div",44),f.\u0275\u0275template(109,vm,4,5,"div",44),f.\u0275\u0275elementStart(110,"div",45),f.\u0275\u0275elementStart(111,"mat-checkbox",46),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.generationTask=t}),f.\u0275\u0275text(112),f.\u0275\u0275pipe(113,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(114,Sm,4,5,"div",44),f.\u0275\u0275elementStart(115,"div",45),f.\u0275\u0275elementStart(116,"mat-checkbox",24),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.checkFees=t})("change",function(t){const n=f.\u0275\u0275restoreView(e).$implicit,i=f.\u0275\u0275nextContext();return i.changeCheckFees(t,i.newApplicationProcess,n)}),f.\u0275\u0275text(117),f.\u0275\u0275pipe(118,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(119,ym,4,5,"div",44),f.\u0275\u0275template(120,xm,5,5,"div",36),f.\u0275\u0275elementStart(121,"div",47),f.\u0275\u0275element(122,"app-udf-step-workflow-setting",48),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(123,Em,2,3,"div",49),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=t.index,i=f.\u0275\u0275nextContext();f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate2(" ",f.\u0275\u0275pipeBind1(6,67,"step")," ",n+1," "),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(103,Zp,!e.stepName))("ngModel",e.stepName),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngModel",e.automaticStep),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(15,69,"automatic_step")," "),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngClass",!0===i.newLoanApplicationExpands[n]?"lnr-chevron-up text-secondary":"lnr-chevron-down text-secondary"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngClass",!0===i.newLoanApplicationExpands[n]?"collapse show":"collapse"),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.automaticStep),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(26,71,"loan.min_loan_amount")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngModel",e.minAmount),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(33,73,"loan.max_loan_amount")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngModel",e.maxAmount),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(40,75,"step_assgin")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(105,Zp,!e.stepType))("ngModel",e.stepType),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue","group"),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(46,77,"Assign_to_Group")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue","link"),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(49,79,"Assign_to_User")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue","customer"),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(52,81,"Assign_to_Customer")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf","group"===e.stepType),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","link"===e.stepType),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(58,83,"screen_steps")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(107,Zp,!e.screen))("ngModel",e.screen),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.ihmRoot),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(66,85,"ib_screen_steps")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(109,Zp,!e.ibScreen))("ngModel",e.ibScreen),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.ibScreen),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.ibIhmRoot),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(73,87,"ib_step_name")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.ibStepName),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","/screening"===e.screen),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","/loan-approval"===e.screen),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(80,89,"collections.collection-dashboard.documents"),":"),f.\u0275\u0275advance(2),f.\u0275\u0275property("options",i.settingLoanDocumentsByProduct)("ngModel",e.documents),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(85,91,"step_tab")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(111,Zp,!e.codeStatutLoan))("ngModel",e.codeStatutLoan),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.stepTap),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",i.serviceSMS),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(94,93,"setting.charge_fees")),f.\u0275\u0275advance(2),f.\u0275\u0275property("options",i.chargeFees)("ngModel",e.listChargeFees),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",0!==i.activationKey.length&&i.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",0!==i.activationKey.length&&i.testExpiryDate),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(101,95,"setting.accounting_event")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.accountingEvent),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(106,97,"loan_workflow_setting.charge_disbursement_fee")),f.\u0275\u0275advance(2),f.\u0275\u0275property("options",i.disbFeesList)("ngModel",e.disbursmentFeesList),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.codeStatutLoan==i.stepTap[3].tapValue),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.codeStatutLoan==i.stepTap[3].tapValue),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.generationTask),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(113,99,"loan_workflow_setting.generation_task")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.codeStatutLoan==i.stepTap[2].tapValue||e.codeStatutLoan==i.stepTap[1].tapValue),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.checkFees),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(118,101,"setting.check-fees")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf","sign-contract"==e.ibScreen),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.checkFees),f.\u0275\u0275advance(2),f.\u0275\u0275property("idWorkflowStep",e.idWorkFlowStep)("workflowStepUdfGroupe",e.workflowStepUdfGroupe),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",i.udfGroups)}}function Cm(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"button",71),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().saveProcess("NEW_APPLICATION")}),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,4,"button.save")," ")}}function Im(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"button",71),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().saveProcess("TOPUP")}),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,4,"button.save")," ")}}function wm(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",35),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.description," ")}}const Fm=function(e){return{"text-end":e}};function _m(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",72),f.\u0275\u0275elementStart(1,"form",73),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275elementStart(2,"div",74),f.\u0275\u0275elementStart(3,"h4",75),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"button",76),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).dismiss("Cross click")}),f.\u0275\u0275elementStart(7,"span",77),f.\u0275\u0275text(8,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div",78),f.\u0275\u0275elementStart(10,"div",79),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"select",80),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().productEntityForDuplicate=t}),f.\u0275\u0275elementStart(15,"option",81),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(18,wm,2,2,"option",59),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",82),f.\u0275\u0275elementStart(20,"div"),f.\u0275\u0275elementStart(21,"div",83),f.\u0275\u0275elementStart(22,"input",84),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().changeChecboxReject()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"label",85),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"div",86),f.\u0275\u0275elementStart(27,"button",87),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).close("Close click")}),f.\u0275\u0275text(28),f.\u0275\u0275pipe(29,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"button",88),f.\u0275\u0275text(31),f.\u0275\u0275pipe(32,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(27,Fm,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e.duplicateGroup),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(5,15,"setting.duplicate-setting")),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,17,"setting.product")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.productEntityForDuplicate),f.\u0275\u0275advance(1),f.\u0275\u0275property("value",null),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(17,19,"setting.select_product")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.productEntitys),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,21,"button.confirm_checkbox")),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(29,23,"button.close")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(32,25,"button.validate"))}}let Lm=(()=>{class e{constructor(e,t,n,i,r,a,o,l,s){this.settingsService=e,this.formBuilder=t,this.modalService=n,this.library=i,this.devToolsServices=r,this.translate=a,this.sharedService=o,this.udfService=l,this.settingService=s,this.journalEntryTypes=[],this.selectedScreenComponents=[],this.newLoanApplicationSteps=[],this.newLoanApplicationExpands=[],this.settingLoanDocumentsByProduct=[],this.settingSMS=[],this.applicationFeesByProduct=[],this.chargeFees=[],this.disbFeesList=[],this.readyForDisbCheckedForLoanApp=!1,this.approvalConditionCheckedForLoanApp=!1,this.mezaCardCheckedForLoanApp=!1,this.feesCheckedForLoanApp=!1,this.loanTimerCheckedForLoanApp=!1,this.serviceSMS=!1,this.productEntityForDuplicate=new ye.J,this.settingDocumentProduct=new Qt.f,this.settingSMSFilter=new io,this.userLinks=Zt,this.screenigComponents=tn,this.configScreenComponent=nn,this.configCollectionParticipants=rn,this.configDocProd=an,this.stepTap=on,this.configJournalEntryType=ln,this.activationKey=null,this.expiryDate=null,this.today=new Date,this.newApplicationProcess=h.J.NEW_LOAN_APPLICATION,this.showInputs=!1,this.cbsApiList=["Add Customer","Add Loan","Approve Loan","Disburse Loan","Add Guarantor","Add Collateral","Updata Loan","Update Customer"],this.udfGroups=[],this.providerFields=[],this.licenceAutomaticStep=!1}ngOnInit(){var e=this;return(0,m.Z)(function*(){e.settingService.getEnvirementValueByKeys(["PROVIDER_THIRD_PARTY"]).subscribe(t=>{let n=1;t.forEach(t=>{let i={id:n++,name:t.value};e.providerFields.push(i)})}),e.activationKey=e.sharedService.getActivationKey().filter(e=>e===h.J.JOURNAL_ENTRY_MODULE),e.expiryDate=e.sharedService.getActivationKey().filter(e=>e.includes("EXPIRYDATE"))[0].split(":")[1],e.expiryDate&&(e.expiryDate=new Date(e.expiryDate.substring(4),e.expiryDate.substring(2,4)-1,e.expiryDate.substring(0,2)),e.testExpiryDate=e.expiryDate>e.today);const t=new Yt.h;t.productId=e.productEntity.id,t.process="TOPUP"===e.mode?h.J.TOPUP:h.J.NEW_LOAN_APPLICATION,t.enabled=!0,"TOPUP"===e.mode?yield e.topupStepList(t):yield e.newLoanAppStepList(t),e.getChargeFees(),e.getDocuments(),e.getApplicationFees(),e.getTemplateSMS(),yield e.settingsService.getEnvirementValueByKeys(["LICENCE_AUTOMATIC_STEP"]).subscribe(t=>{"activated"===t[0].value&&(e.licenceAutomaticStep=!0)}),e.settingsService.getEnvirementValueByKeys([h.J.SERVICE_SMS]).subscribe(t=>{t[0].enabled&&(e.serviceSMS=!0)}),e.getUdfGroups()})()}getApplicationFees(){this.settingsService.getApplicationFees().subscribe(e=>{this.applicationFeesByProduct=e.filter((e,t,n)=>t===n.findIndex(t=>t.cufeeID===e.cufeeID))})}getChargeFees(){let e=new Ii.T;e.feeTypes=["normal_fees"],this.settingsService.findSettingChargeFee(e).toPromise().then(e=>{this.chargeFees=e}),e=new Ii.T,e.feeIds=this.productEntity.productDetailsDTOs[0]?.disbursmentFeesSetting.split(";").map(Number),this.settingsService.findSettingChargeFee(e).toPromise().then(e=>{this.disbFeesList=e})}ngOnChanges(e){var t=this;return(0,m.Z)(function*(){if(void 0!==e.productEntity&&e.productEntity.currentValue!==e.productEntity.previousValue){const e=new Yt.h;e.productId=t.productEntity.id,e.process="TOPUP"===t.mode?h.J.TOPUP:h.J.NEW_LOAN_APPLICATION,e.enabled=!0,yield t.newLoanAppStepList(e)}})()}getTemplateSMS(){this.settingSMSFilter.category=h.J.LOAN,this.settingsService.findAllSettingSMS(this.settingSMSFilter).subscribe(e=>{this.settingSMS=e})}getDocuments(){this.settingDocumentProduct.productId=this.productEntity.id;const e=new Xt.J;e.categorie=4,e.enabled=!0;const t=new Xt.J;t.enabled=!0,this.settingDocumentProduct.settingDocumentTypeDTO=t,this.settingsService.findAllDocumentProduct(this.settingDocumentProduct).subscribe(e=>{this.settingLoanDocumentsByProduct=e.filter(e=>0===e.settingDocumentTypeDTO.categorie||2===e.settingDocumentTypeDTO.categorie||1===e.settingDocumentTypeDTO.categorie)})}newLoanAppStepList(e){var t=this;return(0,m.Z)(function*(){yield t.settingsService.findWorkFlowSteps(e).toPromise().then(e=>{t.newLoanApplicationSteps=e,e.forEach(e=>{e.stepType===h.J.GROUP&&(e.groupSetting=new Nt.P,e.groupSetting.code=e.groupCode,e.groupSetting.libelle=e.userGroup),!0===e.readyForDisb&&(t.readyForDisbCheckedForLoanApp=!0),!0===e.approvalConditions&&(t.approvalConditionCheckedForLoanApp=!0),!0===e.checkMezaCard&&(t.mezaCardCheckedForLoanApp=!0),!0===e.checkFees&&(t.feesCheckedForLoanApp=!0),!0===e.activeTimerLoan&&(t.loanTimerCheckedForLoanApp=!0)});for(let n=0;n<e.length;n++)t.newLoanApplicationExpands[n]=!1,null!==t.newLoanApplicationSteps[n].screeningComponent?(t.screenigComponents.forEach(e=>{if(t.newLoanApplicationSteps[n].screeningComponent.includes(e.codeScreenigComponent)){const i=[];i.push(e),t.selectedScreenComponents[n]=i.concat(t.selectedScreenComponents[n])}}),t.selectedScreenComponents[n]=t.filterAndRemoveDuplicates(t.selectedScreenComponents[n])):t.selectedScreenComponents[n]=[]})})()}topupStepList(e){var t=this;return(0,m.Z)(function*(){yield t.settingsService.findWorkFlowSteps(e).toPromise().then(e=>{e.forEach(e=>{e.stepType===h.J.GROUP&&(e.groupSetting=new Nt.P,e.groupSetting.code=e.groupCode,e.groupSetting.libelle=e.userGroup),!0===e.readyForDisb&&(t.readyForDisbCheckedForLoanApp=!0),!0===e.approvalConditions&&(t.approvalConditionCheckedForLoanApp=!0)}),t.newLoanApplicationSteps=e;for(let n=0;n<e.length;n++)t.newLoanApplicationExpands[n]=!1,null!==t.newLoanApplicationSteps[n].screeningComponent?(t.screenigComponents.forEach(e=>{if(t.newLoanApplicationSteps[n].screeningComponent.includes(e.codeScreenigComponent)){const i=[];i.push(e),t.selectedScreenComponents[n]=i.concat(t.selectedScreenComponents[n])}}),t.selectedScreenComponents[n]=t.filterAndRemoveDuplicates(t.selectedScreenComponents[n])):t.selectedScreenComponents[n]=[]})})()}filterAndRemoveDuplicates(e){const t=[];return e.forEach(e=>{void 0!==e&&(t.some(t=>t.nameScreenigComponent===e.nameScreenigComponent&&t.codeScreenigComponent===e.codeScreenigComponent)||t.push(e))}),t}getListOfScreen(e,t){let n="";const{value:i}=e;i.forEach(e=>{n+=(n.length>0?",":"")+e.codeScreenigComponent}),this.newLoanApplicationSteps[t].screeningComponent=n}changeReadyForDisbursement(e,t){t==h.J.NEW_LOAN_APPLICATION&&(this.readyForDisbCheckedForLoanApp=e.checked)}changeActivatedTimer(e,t){t==h.J.NEW_LOAN_APPLICATION&&(this.loanTimerCheckedForLoanApp=e.checked)}changeApprovalConditions(e,t){t==h.J.NEW_LOAN_APPLICATION&&(this.approvalConditionCheckedForLoanApp=e.checked),t==h.J.TOPUP&&(this.approvalConditionCheckedForLoanApp=e.checked)}changeCheckMezaCard(e,t){t==h.J.NEW_LOAN_APPLICATION&&(this.mezaCardCheckedForLoanApp=e.checked)}changeCheckFees(e,t,n){t==h.J.NEW_LOAN_APPLICATION&&(this.feesCheckedForLoanApp=e.checked),0==e.checked&&(n.lstFees=[],n.lstFeesListValue=[])}addStep(e){const t=new Yt.h;t.productId=this.productEntity.id,t.enabled=!1,t.amount=0,t.minAmount=0,(e==h.J.NEW_LOAN_APPLICATION||e==h.J.TOPUP)&&(t.order=this.newLoanApplicationSteps.length,this.newLoanApplicationSteps.push(t),this.newLoanApplicationExpands[this.newLoanApplicationSteps.length-1]=!0)}drop(e,t){let n,i;(t==h.J.NEW_LOAN_APPLICATION||t==h.J.TOPUP)&&(n=this.newLoanApplicationSteps,i=this.newLoanApplicationExpands),mt(n,e.previousIndex,e.currentIndex);for(let r=0;r<n.length;r++)n[r].order=r;mt(i,e.previousIndex,e.currentIndex),0===e.currentIndex&&(-1==n[0].previousStep||-2==n[0].previousStep)&&(n[0].previousStep=null)}deleteStep(e){this.newLoanApplicationSteps.splice(e,1),this.newLoanApplicationExpands.splice(e,1)}toggleCollapse(e,t){t==h.J.NEW_LOAN_APPLICATION&&(this.newLoanApplicationExpands[e]=!this.newLoanApplicationExpands[e]),t==h.J.TOPUP&&(this.newLoanApplicationExpands[e]=!this.newLoanApplicationExpands[e])}stepTypeChanged(e,t){e==h.J.NEW_LOAN_APPLICATION?"group"!==this.newLoanApplicationSteps[t].stepType&&(this.newLoanApplicationSteps[t].groupSetting=null):e==h.J.TOPUP&&"group"!==this.newLoanApplicationSteps[t].stepType&&(this.newLoanApplicationSteps[t].groupSetting=null)}compareGroup(e,t){if(e&&t)return e.code===t.code}previousSteps(e,t){return e.slice(0,t)}saveProcess(e){var t=this;return(0,m.Z)(function*(){let n,i=!1,r=!1;if(t.newLoanApplicationSteps.forEach(e=>{e.stepType===h.J.GROUP?(null==e.groupSetting&&(r=!0),n=e.groupSetting):e.stepType===h.J.LINK&&null==e.previousStep&&(r=!0),("null"==e.rejectionCondition||"undefined"==e.rejectionCondition)&&(e.rejectionCondition=null),("null"==e.acceptationCondition||"undefined"==e.acceptationCondition)&&(e.acceptationCondition=null)}),!t.newLoanApplicationSteps.some(({stepName:e="",stepType:n=null,screen:r=null,codeStatutLoan:a=""})=>{if(!(e&&n&&r&&a))return t.devToolsServices.openToast(3,"alert.check-data"),i=!0,!0})&&!r&&!1===i){let i=!0,r=!0,a=!0,o=[];switch(e){case h.J.NEW_LOAN_APPLICATION:t.newLoanApplicationSteps.forEach(a=>{a.lstFeesListValue=[],a.process=e,a.stepType===h.J.GROUP&&void 0!==a.groupSetting&&void 0!==n&&(a.userGroup=a.groupSetting.libelle,a.groupCode=a.groupSetting.code),(null==a.minAmount||a.minAmount<=0)&&(t.devToolsServices.openToast(1,"alert.error_amount"),i=!1),(null==a.maxAmount||a.maxAmount<a.minAmount||0===a.maxAmount)&&(t.devToolsServices.openToast(1,"alert.error_amount"),i=!1),void 0===a.stepType&&(t.devToolsServices.openToast(1,"alert.check-data"),r=!1),a.disbursmentFeesList?.length>0?a.disbursmentFeesList.map(e=>a.disbursmentFees=a.disbursmentFees+e.id+";"):a.disbursmentFees=null}),t.settingWorkflowStepConditionsComponent.forEach(e=>{let n=[];e.stepConditionForms.forEach(i=>{if(i.valid){let t=new Op;t.idWorkflowStep=e.idWorkflowStep,i.controls.idGroup.value===h.J.CUSTOMER_ENTITY?(t.entityName=i.controls.idGroup.value,t.fieldName=i.controls.fieldName.value,t.idUserDefinedFields=null):(t.idUserDefinedFieldGroup=i.controls.idGroup.value,t.idUserDefinedFields=i.controls.idField.value),t.operator=i.controls.operator.value,t.value=i.controls.value.value,t.minValue=i.controls.minValue.value,t.maxValue=i.controls.maxValue.value,n.push(t)}else t.devToolsServices.openToast(3,"alert.check-data"),a=!1}),t.newLoanApplicationSteps.filter(t=>t.idWorkFlowStep===e.idWorkflowStep).map(e=>e.settingWorkFlowStepConditions=n)}),t.udfStepWorkflowSettingComponent.forEach(e=>{let n=[];e.udfForm.value.udfGroups.forEach(t=>{let i=!1;if(t.udfFields.forEach(r=>{r.mandatory&&(i=!0);let a={idWorkFlowStepUdfGroup:null,idUserDefinedFieldGroup:parseInt(t.udfGroup),idWorkflowStep:e.idWorkflowStep,idUserDefinedFields:r.id,idCollectionStep:null,mandatory:r.mandatory,displayInIB:t.displayInIB};n.push(a)}),t.udfGroup){let r={idWorkFlowStepUdfGroup:null,idUserDefinedFieldGroup:parseInt(t.udfGroup),idWorkflowStep:e.idWorkflowStep,idUserDefinedFields:null,idCollectionStep:null,mandatory:i||t.udfGroupMandatory,displayInIB:t.displayInIB};n.push(r)}}),t.newLoanApplicationSteps.filter(t=>t.idWorkFlowStep===e.idWorkflowStep).map(e=>e.workflowStepUdfGroupe=n)}),o=t.newLoanApplicationSteps;break;case h.J.TOPUP:t.newLoanApplicationSteps.forEach(a=>{a.stepType===h.J.GROUP&&void 0!==a.groupSetting&&void 0!==n&&(a.userGroup=a.groupSetting.libelle,a.groupCode=a.groupSetting.code),a.process=e,(null==a.minAmount||a.minAmount<=0)&&(t.devToolsServices.openToast(1,"alert.error_amount"),i=!1),(null==a.maxAmount||a.maxAmount<a.minAmount||0===a.maxAmount)&&(t.devToolsServices.openToast(1,"alert.error_amount"),i=!1),void 0===a.stepType&&(t.devToolsServices.openToast(1,"alert.check-data"),r=!1),a.disbursmentFeesList.length>0?a.disbursmentFeesList.map(e=>a.disbursmentFees=a.disbursmentFees+e.id+";"):a.disbursmentFees=null}),t.udfStepWorkflowSettingComponent.forEach(e=>{let n=[];e.udfForm.value.udfGroups.forEach(t=>{let i=!1;t.udfFields.forEach(r=>{r.mandatory&&(i=!0);let a={idWorkFlowStepUdfGroup:null,idUserDefinedFieldGroup:parseInt(t.udfGroup),idWorkflowStep:e.idWorkflowStep,idUserDefinedFields:r.id,idCollectionStep:null,mandatory:r.mandatory,displayInIB:null};n.push(a)});let r={idWorkFlowStepUdfGroup:null,idUserDefinedFieldGroup:parseInt(t.udfGroup),idWorkflowStep:e.idWorkflowStep,idUserDefinedFields:null,idCollectionStep:null,mandatory:i||t.udfGroupMandatory,displayInIB:null};n.push(r)}),t.newLoanApplicationSteps.filter(t=>t.idWorkFlowStep===e.idWorkflowStep).map(e=>e.workflowStepUdfGroupe=n)}),o=t.newLoanApplicationSteps}i&&r&&a&&t.settingsService.saveApprovalSteps(o,t.productEntity.id,e).subscribe(e=>{t.devToolsServices.openToast(0,"alert.success")})}})()}checkBoxCheckers(e){parseInt(e.codeStatutLoan)!==on[3].tapValue&&(e.approvalConditions=!1,e.readyForDisb=!1),(parseInt(e.codeStatutLoan)!==on[2].tapValue||parseInt(e.codeStatutLoan)!==on[1].tapValue)&&(e.checkMezaCard=!1),this.approvalConditionCheckedForLoanApp=!!this.newLoanApplicationSteps.find(e=>!0===e.approvalConditions),this.readyForDisbCheckedForLoanApp=!!this.newLoanApplicationSteps.find(e=>!0===e.readyForDisb),this.loanTimerCheckedForLoanApp=!!this.newLoanApplicationSteps.find(e=>!0===e.activeTimerLoan),this.mezaCardCheckedForLoanApp=!!this.newLoanApplicationSteps.find(e=>!0===e.checkMezaCard),this.feesCheckedForLoanApp=!!this.newLoanApplicationSteps.find(e=>!0===e.checkFees)}duplicateStep(e,t){this.comfirmStatus=!1,this.productType=t,this.duplicateGroup=null,this.productEntityForDuplicate=null,this.duplicateGroup=this.formBuilder.group({productValues:new c.NI(this.productEntitys,c.kI.required),confirm:new c.NI("",c.kI.required)}),this.duplicateGroup.reset(),this.modalService.open(e,{size:"md"})}changeChecboxReject(){!1===this.comfirmStatus?this.comfirmStatus=!0:(this.comfirmStatus=!1,this.duplicateGroup.controls.confirm.setValue(""))}getDirection(){return Se.y.direction}onSubmit(){if(this.duplicateGroup.valid){this.approvalConditionCheckedForLoanApp=!1,this.readyForDisbCheckedForLoanApp=!1,this.loanTimerCheckedForLoanApp=!1,this.mezaCardCheckedForLoanApp=!1,this.feesCheckedForLoanApp=!1;const e=new Yt.h;e.productId=this.productEntityForDuplicate.id,e.enabled=!0,"NEW_APPLICATION"===this.productType?(e.process=h.J.NEW_LOAN_APPLICATION,this.settingsService.findWorkFlowSteps(e).subscribe(e=>{e.forEach(e=>{e.stepType===h.J.GROUP&&(e.groupSetting=new Nt.P,e.groupSetting.code=e.groupCode,e.groupSetting.libelle=e.userGroup),e.approvalConditions&&(this.approvalConditionCheckedForLoanApp=!0),e.readyForDisb&&(this.readyForDisbCheckedForLoanApp=!0),e.activeTimerLoan&&(this.loanTimerCheckedForLoanApp=!0),e.checkMezaCard&&(this.mezaCardCheckedForLoanApp=!0),e.checkFees&&(this.feesCheckedForLoanApp=!0)}),this.newLoanApplicationSteps=e,this.newLoanApplicationSteps.sort((e,t)=>e.order-t.order);for(let t=0;t<e.length;t++)this.newLoanApplicationExpands[t]=!1;this.newLoanApplicationSteps.forEach(e=>e.productId=this.productEntity.id)})):"TOPUP"===this.productType&&"TOPUP"==this.mode&&(e.process=h.J.TOPUP,e.productId=this.productEntityForDuplicate.id,this.settingsService.findWorkFlowSteps(e).subscribe(e=>{e.forEach(e=>{e.stepType===h.J.GROUP&&(e.groupSetting=new Nt.P,e.groupSetting.code=e.groupCode,e.groupSetting.libelle=e.userGroup),e.approvalConditions&&(this.approvalConditionCheckedForLoanApp=!0),e.readyForDisb&&(this.readyForDisbCheckedForLoanApp=!0)}),this.newLoanApplicationSteps=e,this.newLoanApplicationSteps.sort((e,t)=>e.order-t.order);for(let t=0;t<e.length;t++)this.newLoanApplicationExpands[t]=!1;this.newLoanApplicationSteps.forEach(e=>e.productId=this.productEntity.id)})),this.modalService.dismissAll()}}ngOnDestroy(){}showInputsMethod(e,t){this.showInputs=e,e||(t.acceptationCondition=null,t.rejectionCondition=null,t.minScoreAccepted=null,t.minScoreRejected=null,t.maxScoreAccepted=null,t.maxScoreRejected=null)}clearSelection(e){""===this.newLoanApplicationSteps[e].ibScreen&&(this.newLoanApplicationSteps[e].ibScreen=null)}getUdfGroups(){const e=new Rt.t;e.category="customer",this.udfService.getUdfGroup(e).toPromise().then(e=>{this.udfGroups=e})}onChangeCbsApi(e,t){e.cbsApi=null!==e.cbsApi?e.cbsApi.concat(t.itemValue+","):t.itemValue+","}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(y.F),f.\u0275\u0275directiveInject(Gt.H),f.\u0275\u0275directiveInject(v.g))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-loan-steps"]],viewQuery:function(e,t){if(1&e&&(f.\u0275\u0275viewQuery(Ht,5),f.\u0275\u0275viewQuery(Wp,5)),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.udfStepWorkflowSettingComponent=e),f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.settingWorkflowStepConditionsComponent=e)}},inputs:{productEntity:"productEntity",productEntitys:"productEntitys",ihmRoot:"ihmRoot",ibIhmRoot:"ibIhmRoot",optionsGroupUsers:"optionsGroupUsers",groupEntities:"groupEntities",journalEntryTypes:"journalEntryTypes",mode:"mode"},features:[f.\u0275\u0275NgOnChangesFeature],decls:19,vars:11,consts:[[1,"card"],[1,"p-3","d-flex","justify-content-end"],[1,"btn-icon","btn","btn-success",3,"click"],[1,"mx-2",3,"icon"],[1,"btn-icon","btn","btn-warning",2,"margin-left","18px",3,"click"],[1,"pe-7s-photo-gallery","btn-icon-wrapper"],[1,"card-body"],["cdkDropList","",1,"example-list-without-overflow",3,"cdkDropListDropped"],["class","text-danger p-4 m-0",4,"ngIf"],["class","example-box","cdkDrag","",4,"ngFor","ngForOf"],[1,"card-footer"],[3,"class",4,"ngIf"],["content",""],[1,"text-danger","p-4","m-0"],["cdkDrag","",1,"example-box"],[1,"card","col-12"],["data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"card-header"],[1,"px-3"],[1,"text-primary","m-0"],[1,"col-9","row","px-3"],["type","text",3,"ngClass","ngModel","ngModelChange"],[1,"text-danger"],[1,"mx-auto","row"],[1,""],[3,"ngModel","ngModelChange","change"],[1,"btn-icon","btn-icon-only","btn-outline-2x","btn","btn-outline-danger","ml-2",2,"margin-left","10px",3,"click"],[1,"lnr-trash","btn-icon-wrapper"],[1,"mx-auto",3,"click"],[3,"ngClass"],["aria-labelledby","headingOne","data-parent","#accordionExample",3,"ngClass"],[1,"card-body","row"],[4,"ngIf"],[1,"position-relative","form-group","col-4","col-md-4","py-2"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngClass","ngModel","ngModelChange","change"],[3,"ngValue"],["class","position-relative form-group col-4 col-md-4 py-2",4,"ngIf"],[3,"ngClass","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["value","",4,"ngIf"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["optionLabel","settingDocumentTypeDTO.libelle",3,"options","ngModel","ngModelChange"],["optionLabel","label",3,"options","ngModel","ngModelChange"],["class","position-relative form-group col-4 col-md-4 py-2 ",4,"ngIf"],["class","position-relative form-group col-4 col-md-4 mt-3",4,"ngIf"],[1,"position-relative","form-group","col-4","col-md-4","mt-3"],[3,"ngModel","ngModelChange"],[1,"position-relative","form-group","col-12"],["type","1",3,"idWorkflowStep","workflowStepUdfGroupe"],["class","position-relative form-group col-12 ",4,"ngIf"],[1,"row"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value"],["type","number","placeholder","Min Score Rejected",1,"form-control",3,"ngModel","ngModelChange"],["type","number","placeholder","Max Score Rejected",1,"form-control",3,"ngModel","ngModelChange"],["type","number","placeholder","Min Score Accepted",1,"form-control",3,"ngModel","ngModelChange"],["type","number","placeholder","Max Score Accepted",1,"form-control",3,"ngModel","ngModelChange"],[1,"hr"],[3,"ngClass","ngModel","compareWith","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["required","",3,"ngClass","ngModel","ngModelChange"],[3,"value","disabled","ngClass",4,"ngFor","ngForOf"],[3,"value","disabled","ngClass"],["value",""],["tabindex","0",3,"multiple","options","ngModel","config","ngModelChange","change"],["tabindex","0",3,"multiple","ngModel","options","config","ngModelChange"],[3,"options","onChange"],["tabindex","0",3,"multiple","options","config","ngModel","ngModelChange"],[3,"disabled","ngModel","ngModelChange","change"],["optionLabel","description",3,"options","ngModel","ngModelChange"],["type","1",3,"idWorkflowStep","settingWorkflowStepConditions","udfGroups"],[1,"btn","btn-primary","text-white",3,"click"],[3,"dir","ngClass"],[1,"position-relative","col-xl-12","px-0","col-md-12",3,"formGroup","ngSubmit"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button","aria-label","Close",3,"click"],["aria-hidden","true"],[1,"modal-body","row"],[1,"position-relative","col-xl-12","col-md-12"],["id","selectedValue","formControlName","productValues","required","",1,"form-control",3,"ngModel","ngModelChange"],["default","","disabled","",3,"value"],[1,"position-relative","form-group"],[1,"form-group","form-check"],["id","exampleCustomCheckboxReject","type","checkbox","formControlName","confirm",1,"form-check-input",3,"change"],["for","exampleCustomCheckboxReject",1,"form-check-label"],[1,"modal-footer","py-1"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","submit",1,"btn","btn-success","text-white"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275elementStart(2,"button",2),f.\u0275\u0275listener("click",function(){return t.addStep("NEW_APPLICATION")}),f.\u0275\u0275element(3,"fa-icon",3),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"button",4),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(18);return t.duplicateStep(n,"NEW_APPLICATION")}),f.\u0275\u0275element(7,"i",5),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"div",6),f.\u0275\u0275elementStart(11,"div",7),f.\u0275\u0275listener("cdkDropListDropped",function(e){return t.drop(e,"NEW_APPLICATION")}),f.\u0275\u0275template(12,qp,3,3,"h6",8),f.\u0275\u0275template(13,bm,124,113,"div",9),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",10),f.\u0275\u0275template(15,Cm,4,6,"div",11),f.\u0275\u0275template(16,Im,4,6,"div",11),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(17,_m,33,29,"ng-template",null,12,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(5,7,"add_new_step")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(9,9,"setting.setting_configuration_product.duplicate")," "),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngIf",0===t.newLoanApplicationSteps.length),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",t.newLoanApplicationSteps),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf","TOPUP"!=t.mode),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","TOPUP"===t.mode))},directives:[p.BN,Dt,r.NgIf,r.NgForOf,Vt,c.Fj,r.NgClass,c.JJ,c.On,gn.oG,C.HK,c.wV,C.oH,c.EJ,c.YN,c.Kr,hn.NU,Ht,c.Q7,_o.rL,Wp,Oe.Lv,c._Y,c.JL,c.sg,C.MU,le.jv,c.u,le.wj,c.Wl],pipes:[s.X$],styles:[""]}),e})();function Dm(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h6",13),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"setting.setting_level.no_level_process_for_this_product")," "))}function km(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",32),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.libelle," ")}}const Tm=function(e){return{"form-control":!0,"input-error":e}};function Mm(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",30),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"span",21),f.\u0275\u0275text(5," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"select",52),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.groupSetting=t}),f.\u0275\u0275template(7,km,2,2,"option",53),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(3,5,"group_users"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(7,Tm,!e.groupSetting))("ngModel",e.groupSetting)("compareWith",t.compareGroup),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",t.groupEntities)}}const Vm=function(e){return{"disabled-option":e}};function Am(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",56),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(2).$implicit;f.\u0275\u0275property("value",e.linkValue)("disabled",0===n.order&&(-1==e.linkValue||-2==e.linkValue))("ngClass",f.\u0275\u0275pureFunction1(4,Vm,0===n.order&&(-1===e.linkValue||-2===e.linkValue))),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.LinkName," ")}}function Pm(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",57),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.order),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.stepName," ")}}function Bm(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",30),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"span",21),f.\u0275\u0275text(5," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"select",54),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.previousStep=t}),f.\u0275\u0275template(7,Am,2,6,"option",55),f.\u0275\u0275template(8,Pm,2,2,"option",35),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(),t=e.$implicit,n=e.index,i=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(3,5,"user-step-link"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(7,Tm,!t.previousStep))("ngModel",t.previousStep),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.userLinks),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.previousSteps(i.collectionSteps,n))}}function Nm(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",57),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.ihmRoute),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.description," ")}}function Rm(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",57),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.collName),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.collName," ")}}function Om(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",30),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"input",49),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.forceStepDelay=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(3,2,"collections.collection-dashboard.autoforceStepDelay"),":"),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.forceStepDelay)}}function jm(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",57),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.codeSMSEvent),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.codeSMSEvent," ")}}const Gm=function(){return{"form-control":!0}};function Um(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",30),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"select",34),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.codeAcmTemplateSms=t}),f.\u0275\u0275template(5,jm,2,2,"option",35),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,4,"setting.SMSTemplate")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction0(6,Gm))("ngModel",e.codeAcmTemplateSms),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",t.settingSMS)}}function $m(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"h5",47),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",17),f.\u0275\u0275element(5,"hr",48),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"div",58),f.\u0275\u0275elementStart(7,"div",30),f.\u0275\u0275elementStart(8,"label"),f.\u0275\u0275text(9),f.\u0275\u0275pipe(10,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"span",21),f.\u0275\u0275text(12," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"input",49),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.amount=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",30),f.\u0275\u0275elementStart(15,"label"),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"span",21),f.\u0275\u0275text(19," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"input",49),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.unpaidAmount=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(21,"div",30),f.\u0275\u0275elementStart(22,"label"),f.\u0275\u0275text(23),f.\u0275\u0275pipe(24,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"span",21),f.\u0275\u0275text(26," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"input",36),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.lateDate=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,8,"collections.collection-dashboard.conditions")," "),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(10,10,"loan.loan_amount"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngModel",e.amount),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(17,12,"collections.collection-dashboard.unpaid_amount"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngModel",e.unpaidAmount),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(24,14,"collections.collection-dashboard.late_payment_days"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(16,Tm,!e.lateDate))("ngModel",e.lateDate)}}function Jm(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",14),f.\u0275\u0275elementStart(1,"div",15),f.\u0275\u0275elementStart(2,"div",16),f.\u0275\u0275elementStart(3,"div",17),f.\u0275\u0275elementStart(4,"p",18),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",19),f.\u0275\u0275elementStart(8,"input",20),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.stepName=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"span",21),f.\u0275\u0275text(10," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"div",22),f.\u0275\u0275elementStart(12,"div",23),f.\u0275\u0275elementStart(13,"button",24),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().deleteStep(t)}),f.\u0275\u0275element(14,"i",25),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",26),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().toggleCollapse(t,"COLLECTION")}),f.\u0275\u0275element(16,"i",27),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"div",28),f.\u0275\u0275elementStart(18,"div",29),f.\u0275\u0275elementStart(19,"div",30),f.\u0275\u0275elementStart(20,"label"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"span",21),f.\u0275\u0275text(24," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"select",31),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.stepType=t})("change",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().stepTypeChanged("COLLECTION",t)}),f.\u0275\u0275elementStart(26,"option",32),f.\u0275\u0275text(27,"Assign to Group"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"option",32),f.\u0275\u0275text(29,"Assign to User"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(30,Mm,8,9,"div",33),f.\u0275\u0275template(31,Bm,9,9,"div",33),f.\u0275\u0275elementStart(32,"div",30),f.\u0275\u0275elementStart(33,"label"),f.\u0275\u0275text(34),f.\u0275\u0275pipe(35,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(36,"span",21),f.\u0275\u0275text(37," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(38,"select",34),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.screen=t}),f.\u0275\u0275template(39,Nm,2,2,"option",35),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(40,"div",30),f.\u0275\u0275elementStart(41,"label"),f.\u0275\u0275text(42),f.\u0275\u0275pipe(43,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(44,"span",21),f.\u0275\u0275text(45," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(46,"input",36),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.startDate=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(47,"div",30),f.\u0275\u0275elementStart(48,"label"),f.\u0275\u0275text(49),f.\u0275\u0275pipe(50,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(51,"span",21),f.\u0275\u0275text(52," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(53,"select",34),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.afterDate=t}),f.\u0275\u0275template(54,Rm,2,2,"option",35),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(55,Om,5,4,"div",33),f.\u0275\u0275elementStart(56,"div",30),f.\u0275\u0275elementStart(57,"label"),f.\u0275\u0275text(58),f.\u0275\u0275pipe(59,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(60,"p-multiSelect",37),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.documents=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(61,"div",30),f.\u0275\u0275elementStart(62,"label"),f.\u0275\u0275text(63),f.\u0275\u0275pipe(64,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(65,"ngx-select-dropdown",38),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.participants=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(66,Um,6,7,"div",33),f.\u0275\u0275elementStart(67,"div",30),f.\u0275\u0275elementStart(68,"label"),f.\u0275\u0275text(69),f.\u0275\u0275pipe(70,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(71,"span",21),f.\u0275\u0275text(72," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(73,"select",39),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.stepTab=t}),f.\u0275\u0275elementStart(74,"option",40),f.\u0275\u0275text(75),f.\u0275\u0275pipe(76,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(77,"option",41),f.\u0275\u0275text(78),f.\u0275\u0275pipe(79,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(80,"div",30),f.\u0275\u0275elementStart(81,"label"),f.\u0275\u0275text(82),f.\u0275\u0275pipe(83,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(84,"p-multiSelect",42),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.listChargeFees=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(85,"div",30),f.\u0275\u0275elementStart(86,"label"),f.\u0275\u0275text(87),f.\u0275\u0275pipe(88,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(89,"ngx-select-dropdown",43),f.\u0275\u0275listener("change",function(t){const n=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().getListOfThirdParty(t,n)})("ngModelChange",function(t){const n=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().selectedParticipantsCollection[n]=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(90,"div",44),f.\u0275\u0275elementStart(91,"mat-checkbox",45),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.generationTask=t}),f.\u0275\u0275text(92),f.\u0275\u0275pipe(93,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(94,$m,28,18,"div",46),f.\u0275\u0275elementStart(95,"h5",47),f.\u0275\u0275text(96),f.\u0275\u0275pipe(97,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(98,"div",17),f.\u0275\u0275element(99,"hr",48),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(100,"div",30),f.\u0275\u0275elementStart(101,"label"),f.\u0275\u0275text(102),f.\u0275\u0275pipe(103,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(104,"input",49),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.reminder=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(105,"div",30),f.\u0275\u0275elementStart(106,"label"),f.\u0275\u0275text(107),f.\u0275\u0275pipe(108,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(109,"input",49),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.reminderSup=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(110,"div",50),f.\u0275\u0275element(111,"app-udf-step-workflow-setting",51),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=t.index,i=f.\u0275\u0275nextContext();f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate2(" ",f.\u0275\u0275pipeBind1(6,57,"step")," ",n+1," "),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(89,Tm,!e.stepName))("ngModel",e.stepName),f.\u0275\u0275advance(8),f.\u0275\u0275property("ngClass",!0===i.collectionExpands[n]?"lnr-chevron-up text-secondary":"lnr-chevron-down text-secondary"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngClass",!0===i.collectionExpands[n]?"collapse show":"collapse"),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(22,59,"step_assgin"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(91,Tm,!e.stepType))("ngModel",e.stepType),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue","group"),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue","link"),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf","group"===e.stepType),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","link"===e.stepType),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(35,61,"screen_steps"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(93,Tm,!e.screen))("ngModel",e.screen),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.ihmRoot),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(43,63,"collections.collection-dashboard.start_Date"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(95,Tm,e.startDate<0))("ngModel",e.startDate),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(50,65,"collections.collection-dashboard.after"),": "),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(97,Tm,!e.afterDate))("ngModel",e.afterDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.afterCollection),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","group"===e.stepType),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(59,67,"collections.collection-dashboard.documents"),":"),f.\u0275\u0275advance(2),f.\u0275\u0275property("options",i.settingDocumentsByProduct)("ngModel",e.documents),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(64,69,"collections.collection-dashboard.participants"),":"),f.\u0275\u0275advance(2),f.\u0275\u0275property("multiple",!0)("ngModel",e.participants)("options",i.optionsGroupUsers)("config",i.configCollectionParticipants),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",i.serviceSMS),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(70,71,"step_tab"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(99,Tm,!e.stepTab))("ngModel",e.stepTab),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(76,73,"collection.tab.amicably"),""),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(79,75,"collection.tab.pre-litigation"),""),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(83,77,"setting.charge_fees")),f.\u0275\u0275advance(2),f.\u0275\u0275property("options",i.chargeFees)("ngModel",e.listChargeFees),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(88,79,"sidebar.collection_participants"),":"),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",i.selectedParticipantsCollection[n])("multiple",!0)("options",i.participantsCollection)("config",i.configParticipants),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.generationTask),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(93,81,"loan_workflow_setting.generation_task")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",0===n),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(97,83,"collections.collection-dashboard.reminder")," "),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(103,85,"collections.collection-dashboard.reminder")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.reminder),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(108,87,"collections.collection-dashboard.reminder_sup")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.reminderSup),f.\u0275\u0275advance(2),f.\u0275\u0275property("idWorkflowStep",e.idCollectionStep)("workflowStepUdfGroupe",e.workflowStepUdfGroupe)}}function zm(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",32),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.description," ")}}const Km=function(e){return{"text-end":e}};function Wm(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",59),f.\u0275\u0275elementStart(1,"form",60),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275elementStart(2,"div",61),f.\u0275\u0275elementStart(3,"h4",62),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"button",63),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).dismiss("Cross click")}),f.\u0275\u0275elementStart(7,"span",64),f.\u0275\u0275text(8,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div",65),f.\u0275\u0275elementStart(10,"div",66),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"select",67),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().productEntityForDuplicate=t}),f.\u0275\u0275elementStart(15,"option",68),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(18,zm,2,2,"option",53),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",69),f.\u0275\u0275elementStart(20,"div"),f.\u0275\u0275elementStart(21,"div",70),f.\u0275\u0275elementStart(22,"input",71),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().changeChecboxReject()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"label",72),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"div",73),f.\u0275\u0275elementStart(27,"button",74),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).close("Close click")}),f.\u0275\u0275text(28),f.\u0275\u0275pipe(29,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"button",75),f.\u0275\u0275text(31),f.\u0275\u0275pipe(32,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(27,Km,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e.duplicateGroup),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(5,15,"setting.duplicate-setting")),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,17,"setting.product")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.productEntityForDuplicate),f.\u0275\u0275advance(1),f.\u0275\u0275property("value",null),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(17,19,"setting.select_product")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.productEntitys),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,21,"button.confirm_checkbox")),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(29,23,"button.close")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(32,25,"button.validate"))}}let qm=(()=>{class e{constructor(e,t,n,i,r,a){this.settingsService=e,this.formBuilder=t,this.modalService=n,this.library=i,this.devToolsServices=r,this.translate=a,this.collectionSteps=[],this.collectionExpands=[],this.settingDocumentsByProduct=[],this.chargeFees=[],this.settingSMS=[],this.productEntityForDuplicate=new ye.J,this.settingDocumentProduct=new Qt.f,this.settingSMSFilter=new io,this.edited=!1,this.configDocProd=an,this.configCollectionParticipants=rn,this.stepTap=on,this.userLinks=Zt,this.afterCollection=dn,this.serviceSMS=!1,this.selectedParticipantsCollection=[],this.configParticipants=sn,this.participantsCollection=[{nameParticipant:this.translate.instant("legal.lawyer"),participantValue:1},{nameParticipant:this.translate.instant("legal.bailiff"),participantValue:2}]}ngOnInit(){var e=this;return(0,m.Z)(function*(){const t=new Yt.h;t.productId=e.productEntity.id,t.process=h.J.COLLECTION,t.enabled=!0,e.collectionStepList(t),e.getDocuments(),e.getTemplateSMS(),e.getChargeFees();const n=[h.J.SERVICE_SMS];yield e.settingsService.getEnvirementValueByKeys(n).subscribe(t=>{t[0].enabled&&(e.serviceSMS=!0)})})()}ngOnChanges(e){if(void 0!==e.productEntity&&e.productEntity.currentValue!==e.productEntity.previousValue){const e=new Yt.h;e.productId=this.productEntity.id,e.process=h.J.COLLECTION,e.enabled=!0,this.collectionStepList(e),this.getDocuments(),this.getTemplateSMS(),this.getChargeFees()}}getTemplateSMS(){this.settingSMSFilter.category=h.J.COLLECTION,this.settingsService.findAllSettingSMS(this.settingSMSFilter).subscribe(e=>{this.settingSMS=e})}getDocuments(){this.settingDocumentProduct.productId=this.productEntity.id;const e=new Xt.J;e.categorie=4,e.enabled=!0,this.settingDocumentProduct.settingDocumentTypeDTO=e,this.settingsService.findAllDocumentProduct(this.settingDocumentProduct).subscribe(e=>{this.settingDocumentsByProduct=e})}collectionStepList(e){this.settingsService.findCollectionSteps(e).subscribe(e=>{e.forEach(e=>{e.stepType===h.J.GROUP&&(e.groupSetting=new Nt.P,e.groupSetting.code=e.groupCode,e.groupSetting.libelle=e.userGroup)}),this.collectionSteps=e;for(let t=0;t<e.length;t++)this.collectionExpands[t]=!1,null!==this.collectionSteps[t].typeThirdParty&&("1"===this.collectionSteps[t].typeThirdParty?this.selectedParticipantsCollection[t]=[{nameParticipant:"Lawyer",participantValue:1}]:"2"===this.collectionSteps[t].typeThirdParty?this.selectedParticipantsCollection[t]=[{nameParticipant:"Bailiff",participantValue:2}]:("1,2"===this.collectionSteps[t].typeThirdParty||"2,1"===this.collectionSteps[t].typeThirdParty)&&(this.selectedParticipantsCollection[t]=[{nameParticipant:"Bailiff",participantValue:2},{nameParticipant:"Lawyer",participantValue:1}]))})}addStep(e){const t=new Yt.h;t.productId=this.productEntity.id,t.enabled=!1,t.amount=0,t.minAmount=0,t.order=this.collectionSteps.length,e==h.J.COLLECTION&&(this.collectionSteps.push(t),this.collectionExpands[this.collectionSteps.length-1]=!0)}drop(e,t){let n,i;t==h.J.COLLECTION&&(n=this.collectionSteps,i=this.collectionExpands),mt(n,e.previousIndex,e.currentIndex);for(let r=0;r<n.length;r++)n[r].order=r;mt(i,e.previousIndex,e.currentIndex),0===e.currentIndex&&(-1==n[0].previousStep||-2==n[0].previousStep)&&(n[0].previousStep=null)}deleteStep(e){this.collectionSteps.splice(e,1),this.collectionExpands.splice(e,1)}duplicateStep(e,t){this.comfirmStatus=!1,this.productType=t,this.duplicateGroup=null,this.productEntityForDuplicate=null,this.duplicateGroup=this.formBuilder.group({productValues:new c.NI(this.productEntitys,c.kI.required),confirm:new c.NI("",c.kI.required)}),this.duplicateGroup.reset(),this.modalService.open(e,{size:"md"})}changeChecboxReject(){!1===this.comfirmStatus?this.comfirmStatus=!0:(this.comfirmStatus=!1,this.duplicateGroup.controls.confirm.setValue(""))}toggleCollapse(e,t){t==h.J.COLLECTION&&(this.collectionExpands[e]=!this.collectionExpands[e])}stepTypeChanged(e,t){e==h.J.COLLECTION&&"group"!==this.collectionSteps[t].stepType&&(this.collectionSteps[t].groupSetting=null,this.collectionSteps[t].forceStepDelay=null)}compareGroup(e,t){if(e&&t)return e.code===t.code}getChargeFees(){this.settingsService.findAllSettingChargeFee().subscribe(e=>{this.chargeFees=e})}previousSteps(e,t){return e.slice(0,t)}saveCollection(e){var t=this;return(0,m.Z)(function*(){let n=!1,i=!1;if(t.collectionSteps.forEach(e=>{e.stepType===h.J.GROUP?null==e.groupSetting&&(i=!0):e.stepType===h.J.LINK&&null==e.previousStep&&(i=!0)}),!t.collectionSteps.some(({stepName:e="",stepType:i="",screen:r="",startDate:a=null,afterDate:o="",stepTab:l=""})=>{if(!(e&&i&&r&&null!==a&&o&&l))return t.devToolsServices.openToast(3,"alert.check-data"),n=!0,!0})&&!i&&!1===n){let n=!0,i=!0,r=!0,a=[];switch(e){case h.J.COLLECTION:t.collectionSteps.forEach(a=>{a.stepType===h.J.GROUP&&void 0!==a.groupSetting&&(a.userGroup=a.groupSetting.libelle,a.groupCode=a.groupSetting.code),a.process=e,null==t.collectionSteps[0].amount&&(t.devToolsServices.openToast(1,"alert.error_amount"),i=!1),null==t.collectionSteps[0].unpaidAmount&&(t.devToolsServices.openToast(1,"alert.check-data"),n=!1),void 0===a.stepType&&(t.devToolsServices.openToast(1,"alert.check-data"),r=!1)}),t.udfStepWorkflowSettingComponent.forEach(e=>{let n=[];e.udfForm.value.udfGroups.forEach(t=>{let i=!1;t.udfFields.forEach(r=>{r.mandatory&&(i=!0);let a={idWorkFlowStepUdfGroup:null,idUserDefinedFieldGroup:parseInt(t.udfGroup),idWorkflowStep:null,idUserDefinedFields:r.id,idCollectionStep:e.idWorkflowStep,mandatory:r.mandatory,displayInIB:null};n.push(a)});let r={idWorkFlowStepUdfGroup:null,idUserDefinedFieldGroup:parseInt(t.udfGroup),idWorkflowStep:null,idUserDefinedFields:null,idCollectionStep:e.idWorkflowStep,mandatory:i||t.udfGroupMandatory,displayInIB:null};n.push(r)}),t.collectionSteps.filter(t=>t.idCollectionStep===e.idWorkflowStep).map(e=>e.workflowStepUdfGroupe=n)}),a=t.collectionSteps,t.edited=!0}i&&r&&n&&t.settingsService.saveCollectionSteps(a,t.productEntity.id,e).subscribe(e=>{t.devToolsServices.openToast(0,"alert.success")})}})()}getDirection(){return Se.y.direction}onSubmit(){if(this.duplicateGroup.valid){const e=new Yt.h;e.productId=this.productEntityForDuplicate.id,e.enabled=!0,"COLLECTION"===this.productType&&(e.process=h.J.COLLECTION,e.productId=this.productEntityForDuplicate.id,this.settingsService.findCollectionSteps(e).subscribe(e=>{e.forEach(e=>{e.stepType===h.J.GROUP&&(e.groupSetting=new Nt.P,e.groupSetting.code=e.groupCode,e.groupSetting.libelle=e.userGroup),e.documents=[]}),this.collectionSteps=e,this.collectionSteps.sort((e,t)=>e.order-t.order);for(let t=0;t<e.length;t++)this.collectionExpands[t]=!1;this.collectionSteps.forEach(e=>e.productId=this.productEntity.id)})),this.modalService.dismissAll()}}ngOnDestroy(){}getListOfThirdParty(e,t){this.collectionSteps[t].typeThirdParty="";const{value:n}=e;n.forEach(e=>{this.collectionSteps[t].typeThirdParty+=e.participantValue.toString()+","}),this.collectionSteps[t].typeThirdParty=this.collectionSteps[t].typeThirdParty.substring(0,this.collectionSteps[t].typeThirdParty.length-1)}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(s.sK))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-collection-steps"]],viewQuery:function(e,t){if(1&e&&f.\u0275\u0275viewQuery(Ht,5),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.udfStepWorkflowSettingComponent=e)}},inputs:{productEntity:"productEntity",productEntitys:"productEntitys",optionsGroupUsers:"optionsGroupUsers",groupEntities:"groupEntities",ihmRoot:"ihmRoot",journalEntryTypes:"journalEntryTypes"},features:[f.\u0275\u0275NgOnChangesFeature],decls:21,vars:15,consts:[[1,"card"],[1,"p-3","d-flex","justify-content-end"],[1,"btn-icon","btn","btn-success",3,"click"],[1,"mx-2",3,"icon"],[1,"btn-icon","btn","btn-warning",2,"margin-left","18px",3,"click"],[1,"pe-7s-photo-gallery","btn-icon-wrapper"],[1,"card-body"],["cdkDropList","",1,"example-list-without-overflow",3,"cdkDropListDropped"],["class","text-danger p-4 m-0",4,"ngIf"],["class","example-box","cdkDrag","",4,"ngFor","ngForOf"],[1,"card-footer"],[1,"btn","btn-primary","text-white",3,"click"],["content",""],[1,"text-danger","p-4","m-0"],["cdkDrag","",1,"example-box"],[1,"card","col-12"],["data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"card-header"],[1,"px-3"],[1,"text-primary","m-0"],[1,"col-9","row","px-3"],["type","text","required","",3,"ngClass","ngModel","ngModelChange"],[1,"text-danger"],[1,"mx-auto","row"],[1,"col-5"],[1,"btn-icon","btn-icon-only","btn-outline-2x","btn","btn-outline-danger",3,"click"],[1,"lnr-trash","btn-icon-wrapper"],[1,"mx-auto",3,"click"],[3,"ngClass"],["aria-labelledby","headingOne","data-parent","#accordionExample",3,"ngClass"],[1,"card-body","row"],[1,"position-relative","form-group","col-4","col-md-4","py-2"],[3,"ngClass","ngModel","ngModelChange","change"],[3,"ngValue"],["class","position-relative form-group col-4 col-md-4 py-2",4,"ngIf"],[3,"ngClass","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","number",3,"ngClass","ngModel","ngModelChange"],["optionLabel","settingDocumentTypeDTO.code",3,"options","ngModel","ngModelChange"],["tabindex","0",3,"multiple","ngModel","options","config","ngModelChange"],[1,"form-control","text-s",3,"ngClass","ngModel","ngModelChange"],["value","amicably"],["value","pre-litigation"],["optionLabel","label",3,"options","ngModel","ngModelChange"],[3,"ngModel","multiple","options","config","change","ngModelChange"],[1,"position-relative","form-group","col-4","col-md-4","mt-3"],[3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"text-primary","text-uppercase","px-4","pt-3"],[1,"hr"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"position-relative","form-group","col-12"],["type","2",3,"idWorkflowStep","workflowStepUdfGroupe"],[3,"ngClass","ngModel","compareWith","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["required","",3,"ngClass","ngModel","ngModelChange"],[3,"value","disabled","ngClass",4,"ngFor","ngForOf"],[3,"value","disabled","ngClass"],[3,"value"],[1,"row"],[3,"dir","ngClass"],[1,"position-relative","col-xl-12","px-0","col-md-12",3,"formGroup","ngSubmit"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button","aria-label","Close",3,"click"],["aria-hidden","true"],[1,"modal-body","row"],[1,"position-relative","col-xl-12","col-md-12"],["id","selectedValue","formControlName","productValues","required","",1,"form-control",3,"ngModel","ngModelChange"],["default","","disabled","",3,"value"],[1,"position-relative","form-group"],[1,"form-group","form-check"],["id","exampleCustomCheckboxReject","type","checkbox","formControlName","confirm",1,"form-check-input",3,"change"],["for","exampleCustomCheckboxReject",1,"form-check-label"],[1,"modal-footer","py-1"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","submit",1,"btn","btn-success","text-white"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275elementStart(2,"button",2),f.\u0275\u0275listener("click",function(){return t.addStep("COLLECTION")}),f.\u0275\u0275element(3,"fa-icon",3),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"button",4),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(20);return t.duplicateStep(n,"COLLECTION")}),f.\u0275\u0275element(7,"i",5),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"div",6),f.\u0275\u0275elementStart(11,"div",7),f.\u0275\u0275listener("cdkDropListDropped",function(e){return t.drop(e,"COLLECTION")}),f.\u0275\u0275template(12,Dm,3,3,"h6",8),f.\u0275\u0275template(13,Jm,112,101,"div",9),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",10),f.\u0275\u0275elementStart(15,"div"),f.\u0275\u0275elementStart(16,"button",11),f.\u0275\u0275listener("click",function(){return t.saveCollection("COLLECTION")}),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(19,Wm,33,29,"ng-template",null,12,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(5,9,"add_new_step")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(9,11,"setting.setting_configuration_product.duplicate")," "),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngIf",0===t.collectionSteps.length),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",t.collectionSteps),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(18,13,"button.save")," "))},directives:[p.BN,Dt,r.NgIf,r.NgForOf,Vt,c.Fj,c.Q7,r.NgClass,c.JJ,c.On,C.HK,c.EJ,c.YN,c.Kr,c.wV,hn.NU,_o.rL,C.oH,gn.oG,Ht,Oe.Lv,c._Y,c.JL,c.sg,C.MU,le.jv,c.u,le.wj,c.Wl],pipes:[s.X$],styles:[""]}),e})();function Hm(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",9),f.\u0275\u0275elementStart(1,"div",10),f.\u0275\u0275elementStart(2,"button",11),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().addForm()}),f.\u0275\u0275element(3,"fa-icon",12),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",e.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(5,2,"button.add")," ")}}function Ym(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",25),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.name," ")}}function Qm(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",16),f.\u0275\u0275elementStart(2,"td",17),f.\u0275\u0275elementStart(3,"select",18),f.\u0275\u0275template(4,Ym,2,2,"option",19),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td",20),f.\u0275\u0275element(6,"input",21),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275elementStart(8,"div",22),f.\u0275\u0275elementStart(9,"button",23),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext(2).deleteGroupe(t)}),f.\u0275\u0275element(10,"i",24),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngForOf",n.genericWorkflowObjects)}}function Xm(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",13),f.\u0275\u0275elementStart(2,"table",14),f.\u0275\u0275elementStart(3,"thead"),f.\u0275\u0275elementStart(4,"tr"),f.\u0275\u0275elementStart(5,"th"),f.\u0275\u0275text(6),f.\u0275\u0275pipe(7,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(8,"th"),f.\u0275\u0275element(9,"th"),f.\u0275\u0275elementStart(10,"th"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(13,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(14,"tbody"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(15,Qm,11,2,"div",15),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(7,3,"generic-wf.generic-wf")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,5,"generic-wf.priority")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.genericObjectWfForms)}}let Zm=(()=>{class e{constructor(e,t,n,i,r,a,o){this.udfService=e,this.formBuilder=t,this.library=n,this.sharedService=i,this.devToolsServices=r,this.dbService=a,this.settingsService=o,this.genericObjectWfForm=this.formBuilder.group({}),this.genericObjectWfForms=[],this.gnericWorkflowObjectWorkflows=[],this.indexFormUdf=0,this.indexFormUdfField=0,this.genericWorkflowObjects=[]}ngOnInit(){var e=this;return(0,m.Z)(function*(){e.settingsService.findWorkFlowObjects().subscribe(t=>{e.genericWorkflowObjects=t,e.settingsService.findGenericWFByStep(e.category,e.idWorkFlow).subscribe(t=>{if(e.gnericWorkflowObjectWorkflows=t,e.gnericWorkflowObjectWorkflows)for(const n of e.gnericWorkflowObjectWorkflows)e.genericObjectWfForms.push(e.updateForm(n))})})})()}compare(e,t){return e.id==t.id}updateForm(e){return this.formBuilder.group({genericWorkFlow:[this.genericWorkflowObjects.filter(t=>t.id===e.idGenericWorkflowObject)[0],c.kI.required],priority:[e.priority,c.kI.required],orderStep:[this.orderWf],idStep:[e.idStep]})}createForm(){return this.formBuilder.group({genericWorkFlow:["",c.kI.required],priority:["",c.kI.required],orderStep:[this.orderWf]})}addForm(){this.genericObjectWfForms.push(this.createForm())}deleteGroupe(e){this.genericObjectWfForms.splice(e,1)}clearForm(){this.genericObjectWfForm.reset()}isOfflineModeEnabled(){return(0,jt.L0)()}findAllGnericWfObject(){this.settingsService.findWorkFlowObjects().subscribe(e=>{this.genericWorkflowObjects=e})}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(Gt.H),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(y.F),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(Ut.ys),f.\u0275\u0275directiveInject(v.g))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-generic-wf-setting-workflow"]],inputs:{orderWf:"orderWf",idWorkFlow:"idWorkFlow",type:"type",category:"category"},decls:11,vars:5,consts:[[1,"card-header","d-flex","justify-content-between"],[1,"text-primary","text-uppercase","px-4","pt-3"],[1,"vertical-align-middle"],[1,"px-3"],[1,"hr"],["aria-labelledby","headingOne","data-parent","#accordionExample"],["class","card-body",4,"ngIf"],[1,"solid"],[4,"ngIf"],[1,"card-body"],[1,"col-xl-12","d-flex","justify-content-end","pt-3"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[1,"mx-2",3,"icon"],[1,"table-responsive","mt-2"],[1,"mb-0","table","green"],[4,"ngFor","ngForOf"],[1,"form-group",3,"formGroup"],[1,"col-sm-8","p-3"],["formControlName","genericWorkFlow",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-6"],["formControlName","priority","type","number",1,"form-control","col-md-2"],[1,"col-xl-1","px-3"],[1,"btn","btn-danger",3,"click"],[1,"pe-7s-trash","btn-icon-wrapper","text-white"],[3,"ngValue"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"h6",1),f.\u0275\u0275elementStart(2,"span",2),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div",3),f.\u0275\u0275element(6,"hr",4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",5),f.\u0275\u0275template(8,Hm,6,4,"div",6),f.\u0275\u0275element(9,"hr",7),f.\u0275\u0275template(10,Xm,16,7,"div",8),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(4,3,"generic-wf.generic-wf")),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngIf",!t.isOfflineModeEnabled()),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",t.genericObjectWfForms.length>0))},directives:[r.NgIf,p.BN,r.NgForOf,C.HK,c.JL,c.sg,C.MU,le.jv,c.EJ,C.oH,c.JJ,c.u,le.wj,c.Fj,c.wV,c.YN,c.Kr],pipes:[s.X$],styles:[""]}),e})();class eu{constructor(){}}function tu(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h6",13),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"setting.setting_level.no_level_process_for_this_product")," "))}function nu(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",32),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.libelle," ")}}const iu=function(e){return{"form-control":!0,"input-error":e}};function ru(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",30),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"span",21),f.\u0275\u0275text(5," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"select",51),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.groupSetting=t}),f.\u0275\u0275template(7,nu,2,2,"option",52),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(3,5,"group_users"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(7,iu,!e.groupSetting))("ngModel",e.groupSetting)("compareWith",t.compareGroup),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",t.groupEntities)}}const au=function(e){return{"disabled-option":e}};function ou(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",55),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(2).$implicit;f.\u0275\u0275property("value",e.linkValue)("disabled",0===n.order&&(-1==e.linkValue||-2==e.linkValue))("ngClass",f.\u0275\u0275pureFunction1(4,au,0===n.order&&(-1===e.linkValue||-2===e.linkValue))),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.LinkName," ")}}function lu(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",56),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.order),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.stepName," ")}}function su(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",30),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"span",21),f.\u0275\u0275text(5," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"select",53),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.previousStep=t}),f.\u0275\u0275template(7,ou,2,6,"option",54),f.\u0275\u0275template(8,lu,2,2,"option",35),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(),t=e.$implicit,n=e.index,i=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(3,5,"user-step-link"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(7,iu,!t.previousStep))("ngModel",t.previousStep),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.userLinks),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.previousSteps(i.collectionLegalSteps,n))}}function du(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",56),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.ihmRoute),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.description," ")}}function cu(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",56),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.collName),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.collName," ")}}function pu(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",30),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"input",47),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.forceStepDelay=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(3,2,"collections.collection-dashboard.autoforceStepDelay"),":"),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.forceStepDelay)}}function mu(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",56),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.codeSMSEvent),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.codeSMSEvent," ")}}const uu=function(){return{"form-control":!0}};function gu(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",30),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"select",34),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.codeAcmTemplateSms=t}),f.\u0275\u0275template(5,mu,2,2,"option",35),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,4,"setting.SMSTemplate")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction0(6,uu))("ngModel",e.codeAcmTemplateSms),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",t.settingSMS)}}function hu(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"h5",44),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",17),f.\u0275\u0275element(5,"hr",46),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"div",45),f.\u0275\u0275elementStart(7,"div",30),f.\u0275\u0275elementStart(8,"label"),f.\u0275\u0275text(9),f.\u0275\u0275pipe(10,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"span",21),f.\u0275\u0275text(12," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"input",47),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.amount=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",30),f.\u0275\u0275elementStart(15,"label"),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"span",21),f.\u0275\u0275text(19," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"input",47),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.unpaidAmount=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(21,"div",30),f.\u0275\u0275elementStart(22,"label"),f.\u0275\u0275text(23),f.\u0275\u0275pipe(24,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"span",21),f.\u0275\u0275text(26," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"input",36),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.lateDate=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,8,"collections.collection-dashboard.conditions")," "),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(10,10,"loan.loan_amount"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngModel",e.amount),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(17,12,"collections.collection-dashboard.unpaid_amount"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngModel",e.unpaidAmount),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(24,14,"collections.collection-dashboard.late_payment_days"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(16,iu,!e.lateDate))("ngModel",e.lateDate)}}function fu(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",14),f.\u0275\u0275elementStart(1,"div",15),f.\u0275\u0275elementStart(2,"div",16),f.\u0275\u0275elementStart(3,"div",17),f.\u0275\u0275elementStart(4,"p",18),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",19),f.\u0275\u0275elementStart(8,"input",20),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.stepName=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"span",21),f.\u0275\u0275text(10," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"div",22),f.\u0275\u0275elementStart(12,"div",23),f.\u0275\u0275elementStart(13,"button",24),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().deleteStep(t)}),f.\u0275\u0275element(14,"i",25),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",26),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().toggleCollapse(t,"LEGAL")}),f.\u0275\u0275element(16,"i",27),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"div",28),f.\u0275\u0275elementStart(18,"div",29),f.\u0275\u0275elementStart(19,"div",30),f.\u0275\u0275elementStart(20,"label"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"span",21),f.\u0275\u0275text(24," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"select",31),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.stepType=t})("change",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().stepTypeChanged("LEGAL",t)}),f.\u0275\u0275elementStart(26,"option",32),f.\u0275\u0275text(27,"Assign to Group"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"option",32),f.\u0275\u0275text(29,"Assign to User"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(30,ru,8,9,"div",33),f.\u0275\u0275template(31,su,9,9,"div",33),f.\u0275\u0275elementStart(32,"div",30),f.\u0275\u0275elementStart(33,"label"),f.\u0275\u0275text(34),f.\u0275\u0275pipe(35,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(36,"span",21),f.\u0275\u0275text(37," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(38,"select",34),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.screen=t}),f.\u0275\u0275template(39,du,2,2,"option",35),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(40,"div",30),f.\u0275\u0275elementStart(41,"label"),f.\u0275\u0275text(42),f.\u0275\u0275pipe(43,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(44,"span",21),f.\u0275\u0275text(45," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(46,"input",36),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.startDate=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(47,"div",30),f.\u0275\u0275elementStart(48,"label"),f.\u0275\u0275text(49),f.\u0275\u0275pipe(50,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(51,"span",21),f.\u0275\u0275text(52," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(53,"select",34),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.afterDate=t}),f.\u0275\u0275template(54,cu,2,2,"option",35),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(55,pu,5,4,"div",33),f.\u0275\u0275elementStart(56,"div",30),f.\u0275\u0275elementStart(57,"label"),f.\u0275\u0275text(58),f.\u0275\u0275pipe(59,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(60,"p-multiSelect",37),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.documents=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(61,"div",30),f.\u0275\u0275elementStart(62,"label"),f.\u0275\u0275text(63),f.\u0275\u0275pipe(64,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(65,"ngx-select-dropdown",38),f.\u0275\u0275listener("change",function(t){const n=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().getListOfThirdParty(t,n)})("ngModelChange",function(t){const n=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().selectedParticipantsLegal[n]=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(66,"div",30),f.\u0275\u0275elementStart(67,"label"),f.\u0275\u0275text(68),f.\u0275\u0275pipe(69,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(70,"ngx-select-dropdown",39),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.participants=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(71,"div",30),f.\u0275\u0275elementStart(72,"label"),f.\u0275\u0275text(73),f.\u0275\u0275pipe(74,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(75,"p-multiSelect",40),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.listChargeFees=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(76,gu,6,7,"div",33),f.\u0275\u0275elementStart(77,"div",41),f.\u0275\u0275elementStart(78,"mat-checkbox",42),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.generationTask=t}),f.\u0275\u0275text(79),f.\u0275\u0275pipe(80,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(81,hu,28,18,"div",43),f.\u0275\u0275elementStart(82,"h5",44),f.\u0275\u0275text(83),f.\u0275\u0275pipe(84,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(85,"div",45),f.\u0275\u0275elementStart(86,"div",17),f.\u0275\u0275element(87,"hr",46),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(88,"div",30),f.\u0275\u0275elementStart(89,"label"),f.\u0275\u0275text(90),f.\u0275\u0275pipe(91,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(92,"input",47),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.reminder=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(93,"div",30),f.\u0275\u0275elementStart(94,"label"),f.\u0275\u0275text(95),f.\u0275\u0275pipe(96,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(97,"input",47),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.reminderSup=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(98,"div",45),f.\u0275\u0275elementStart(99,"div",48),f.\u0275\u0275element(100,"app-udf-step-workflow-setting",49),f.\u0275\u0275element(101,"app-generic-wf-setting-workflow",50),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=t.index,i=f.\u0275\u0275nextContext();f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate2("",f.\u0275\u0275pipeBind1(6,55,"step")," ",n+1,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(81,iu,!e.stepName))("ngModel",e.stepName),f.\u0275\u0275advance(8),f.\u0275\u0275property("ngClass",!0===i.collectionLegalExpands[n]?"lnr-chevron-up text-secondary":"lnr-chevron-down text-secondary"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngClass",!0===i.collectionLegalExpands[n]?"collapse show":"collapse"),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(22,57,"step_assgin"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(83,iu,!e.stepType))("ngModel",e.stepType),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue","group"),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue","link"),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf","group"===e.stepType),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","link"===e.stepType),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(35,59,"screen_steps"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(85,iu,!e.screen))("ngModel",e.screen),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.ihmRoot),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(43,61,"collections.collection-dashboard.start_Date"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(87,iu,e.startDate<0))("ngModel",e.startDate),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(50,63,"collections.collection-dashboard.after"),": "),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(89,iu,!e.afterDate))("ngModel",e.afterDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.afterCollection),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","group"===e.stepType),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(59,65,"collections.collection-dashboard.documents"),":"),f.\u0275\u0275advance(2),f.\u0275\u0275property("options",i.settingLegalDocumentsByProduct)("ngModel",e.documents),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(64,67,"sidebar.legal_collection_participants"),":"),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",i.selectedParticipantsLegal[n])("multiple",!0)("options",i.participantsLegal)("config",i.configParticipants),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(69,69,"collections.collection-dashboard.participants"),":"),f.\u0275\u0275advance(2),f.\u0275\u0275property("multiple",!0)("ngModel",e.participants)("options",i.optionsGroupUsers)("config",i.configCollectionParticipants),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(74,71,"setting.charge_fees")),f.\u0275\u0275advance(2),f.\u0275\u0275property("options",i.chargeFees)("ngModel",e.listChargeFees),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",i.serviceSMS),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.generationTask),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(80,73,"loan_workflow_setting.generation_task")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",0===n),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(84,75,"collections.collection-dashboard.reminder")," "),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(91,77,"collections.collection-dashboard.reminder")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.reminder),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(96,79,"collections.collection-dashboard.reminder_sup")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.reminderSup),f.\u0275\u0275advance(3),f.\u0275\u0275property("idWorkflowStep",e.idCollectionStep)("workflowStepUdfGroupe",e.workflowStepUdfGroupe),f.\u0275\u0275advance(1),f.\u0275\u0275property("orderWf",e.order)("idWorkFlow",e.idCollectionStep)("category","LEGAL")}}function vu(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",32),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.description," ")}}const Su=function(e){return{"text-end":e}};function yu(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",57),f.\u0275\u0275elementStart(1,"form",58),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275elementStart(2,"div",59),f.\u0275\u0275elementStart(3,"h4",60),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"button",61),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).dismiss("Cross click")}),f.\u0275\u0275elementStart(7,"span",62),f.\u0275\u0275text(8,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div",63),f.\u0275\u0275elementStart(10,"div",64),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"select",65),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().productEntityForDuplicate=t}),f.\u0275\u0275elementStart(15,"option",66),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(18,vu,2,2,"option",52),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",67),f.\u0275\u0275elementStart(20,"div"),f.\u0275\u0275elementStart(21,"div",68),f.\u0275\u0275elementStart(22,"input",69),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().changeChecboxReject()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"label",70),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"div",71),f.\u0275\u0275elementStart(27,"button",72),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).close("Close click")}),f.\u0275\u0275text(28),f.\u0275\u0275pipe(29,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"button",73),f.\u0275\u0275text(31),f.\u0275\u0275pipe(32,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(27,Su,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e.duplicateGroup),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(5,15,"setting.duplicate-setting")),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,17,"setting.product")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.productEntityForDuplicate),f.\u0275\u0275advance(1),f.\u0275\u0275property("value",null),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(17,19,"setting.select_product")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.productEntitys),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,21,"button.confirm_checkbox")),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(29,23,"button.close")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(32,25,"button.validate"))}}let xu=(()=>{class e{constructor(e,t,n,i,r,a){this.settingsService=e,this.formBuilder=t,this.modalService=n,this.library=i,this.devToolsServices=r,this.translate=a,this.collectionLegalSteps=[],this.collectionLegalExpands=[],this.selectedParticipantsLegal=[],this.productEntityForDuplicate=new ye.J,this.edited=!1,this.settingSMSFilter=new io,this.settingSMS=[],this.configDocProd=an,this.configCollectionParticipants=rn,this.stepTap=on,this.userLinks=Zt,this.configParticipants=sn,this.afterCollection=dn,this.serviceSMS=!1,this.chargeFees=[],this.participantsLegal=[{nameParticipant:this.translate.instant("legal.lawyer"),participantValue:1},{nameParticipant:this.translate.instant("legal.bailiff"),participantValue:2}],this.settingDocumentProduct=new Qt.f,this.settingLegalDocumentsByProduct=[],this.genericObjectWfForms=[]}ngOnInit(){var e=this;return(0,m.Z)(function*(){const t=new Yt.h;t.productId=e.productEntity.id,t.process=h.J.LEGAL,t.enabled=!0,e.collectionLegalStepList(t),e.getDocuments(),e.getTemplateSMS(),e.getChargeFees();const n=[h.J.SERVICE_SMS];yield e.settingsService.getEnvirementValueByKeys(n).subscribe(t=>{t[0].enabled&&(e.serviceSMS=!0)})})()}ngOnChanges(e){if(void 0!==e.productEntity&&e.productEntity.currentValue!==e.productEntity.previousValue){const e=new Yt.h;e.productId=this.productEntity.id,e.process=h.J.LEGAL,e.enabled=!0,this.collectionLegalStepList(e)}}getTemplateSMS(){this.settingSMSFilter.category=h.J.LEGAL,this.settingsService.findAllSettingSMS(this.settingSMSFilter).subscribe(e=>{this.settingSMS=e})}getDocuments(){this.settingDocumentProduct.productId=this.productEntity.id;const e=new Xt.J;e.categorie=4,e.enabled=!0;const t=new Xt.J;t.categorie=5,t.enabled=!0,this.settingDocumentProduct.settingDocumentTypeDTO=t,this.settingsService.findAllDocumentProduct(this.settingDocumentProduct).subscribe(e=>{this.settingLegalDocumentsByProduct=e})}collectionLegalStepList(e){this.settingsService.findCollectionSteps(e).subscribe(e=>{e.forEach(e=>{e.stepType===h.J.GROUP&&(e.groupSetting=new Nt.P,e.groupSetting.code=e.groupCode,e.groupSetting.libelle=e.userGroup)}),this.collectionLegalSteps=e;for(let t=0;t<e.length;t++)this.collectionLegalExpands[t]=!1,null!==this.collectionLegalSteps[t].typeThirdParty&&("1"===this.collectionLegalSteps[t].typeThirdParty?this.selectedParticipantsLegal[t]=[{nameParticipant:"Lawyer",participantValue:1}]:"2"===this.collectionLegalSteps[t].typeThirdParty?this.selectedParticipantsLegal[t]=[{nameParticipant:"Bailiff",participantValue:2}]:("1,2"===this.collectionLegalSteps[t].typeThirdParty||"2,1"===this.collectionLegalSteps[t].typeThirdParty)&&(this.selectedParticipantsLegal[t]=[{nameParticipant:"Bailiff",participantValue:2},{nameParticipant:"Lawyer",participantValue:1}]))})}addStep(e){const t=new Yt.h;t.productId=this.productEntity.id,t.enabled=!1,t.amount=0,t.minAmount=0,t.order=this.collectionLegalSteps.length,e==h.J.LEGAL&&(this.collectionLegalSteps.push(t),this.collectionLegalExpands[this.collectionLegalSteps.length-1]=!0)}drop(e,t){let n,i;t==h.J.LEGAL&&(n=this.collectionLegalSteps,i=this.collectionLegalExpands),mt(n,e.previousIndex,e.currentIndex);for(let r=0;r<n.length;r++)n[r].order=r;mt(i,e.previousIndex,e.currentIndex),0===e.currentIndex&&(-1==n[0].previousStep||-2==n[0].previousStep)&&(n[0].previousStep=null)}deleteStep(e){this.collectionLegalExpands.splice(e,1),this.collectionLegalSteps.splice(e,1)}duplicateStep(e,t){this.comfirmStatus=!1,this.productType=t,this.duplicateGroup=null,this.productEntityForDuplicate=null,this.duplicateGroup=this.formBuilder.group({productValues:new c.NI(this.productEntitys,c.kI.required),confirm:new c.NI("",c.kI.required)}),this.duplicateGroup.reset(),this.modalService.open(e,{size:"md"})}getChargeFees(){this.settingsService.findAllSettingChargeFee().subscribe(e=>{this.chargeFees=e})}toggleCollapse(e,t){t==h.J.LEGAL&&(this.collectionLegalExpands[e]=!this.collectionLegalExpands[e])}stepTypeChanged(e,t){e==h.J.LEGAL&&"group"!==this.collectionLegalSteps[t].stepType&&(this.collectionLegalSteps[t].groupSetting=null,this.collectionLegalSteps[t].forceStepDelay=null)}compareGroup(e,t){if(e&&t)return e.code===t.code}previousSteps(e,t){return e.slice(0,t)}saveLegalCollection(e){var t=this;return(0,m.Z)(function*(){let n,i=!1,r=!1,a=!0;if(t.collectionLegalSteps.forEach(e=>{e.stepType===h.J.GROUP?(null==e.groupSetting&&(r=!0),n=e.groupSetting):e.stepType===h.J.LINK&&null==e.previousStep&&(r=!0)}),!t.collectionLegalSteps.some(({stepName:e="",stepType:n="",screen:r="",startDate:a=null,afterDate:o=""})=>{if(!(e&&n&&r&&null!==a&&o))return t.devToolsServices.openToast(3,"alert.check-data"),i=!0,!0})&&!r&&!1===i){let i=!0,r=!0,o=!0,l=[];switch(e){case h.J.LEGAL:t.collectionLegalSteps.forEach(a=>{a.stepType===h.J.GROUP&&void 0!==n&&(a.userGroup=a.groupSetting.libelle,a.groupCode=a.groupSetting.code),a.process=e,null==t.collectionLegalSteps[0].amount&&(t.devToolsServices.openToast(1,"alert.error_amount"),i=!1),null==t.collectionLegalSteps[0].unpaidAmount&&(t.devToolsServices.openToast(1,"alert.check-data"),o=!1),void 0===a.stepType&&(t.devToolsServices.openToast(1,"alert.check-data"),r=!1)});for(const e of t.collectionLegalSteps)if(e.gnericWorkflowObjectWorkflows=[],t.genericWfSettingWorkflowComponent.length>0)for(const n of t.genericWfSettingWorkflowComponent)t.genericObjectWfForms=n.genericObjectWfForms?.filter(t=>t.controls?.orderStep?.value===e.order),t.genericObjectWfForms.forEach(n=>{if(!n.valid)return t.devToolsServices.openToast(3,"alert.check-data"),void(a=!1);{const t=new eu;t.idGenericWorkflowObject=n.controls.genericWorkFlow.value.id,t.priority=n.controls.priority.value,t.stepOrder=n.controls.orderStep.value,t.category=h.J.LEGAL,e.gnericWorkflowObjectWorkflows?.push(t)}});t.udfStepWorkflowSettingComponent.forEach(e=>{let n=[];e.udfForm.value.udfGroups.forEach(t=>{let i=!1;t.udfFields.forEach(r=>{r.mandatory&&(i=!0);let a={idWorkFlowStepUdfGroup:null,idUserDefinedFieldGroup:parseInt(t.udfGroup),idWorkflowStep:null,idUserDefinedFields:r.id,idCollectionStep:e.idWorkflowStep,mandatory:r.mandatory,displayInIB:null};n.push(a)});let r={idWorkFlowStepUdfGroup:null,idUserDefinedFieldGroup:parseInt(t.udfGroup),idWorkflowStep:null,idUserDefinedFields:null,idCollectionStep:e.idWorkflowStep,mandatory:i||t.udfGroupMandatory,displayInIB:null};n.push(r)}),t.collectionLegalSteps.filter(t=>t.idCollectionStep===e.idWorkflowStep).map(e=>e.workflowStepUdfGroupe=n)}),l=t.collectionLegalSteps,t.edited=!0}i&&r&&o&&a&&t.settingsService.saveCollectionSteps(l,t.productEntity.id,e).subscribe(e=>{t.devToolsServices.openToast(0,"alert.success")})}})()}getDirection(){return Se.y.direction}getListOfThirdParty(e,t){this.collectionLegalSteps[t].typeThirdParty="";const{value:n}=e;n.forEach(e=>{this.collectionLegalSteps[t].typeThirdParty+=e.participantValue.toString()+","}),this.collectionLegalSteps[t].typeThirdParty=this.collectionLegalSteps[t].typeThirdParty.substring(0,this.collectionLegalSteps[t].typeThirdParty.length-1)}changeChecboxReject(){!1===this.comfirmStatus?this.comfirmStatus=!0:(this.comfirmStatus=!1,this.duplicateGroup.controls.confirm.setValue(""))}onSubmit(){if(this.duplicateGroup.valid){const e=new Yt.h;e.productId=this.productEntityForDuplicate.id,e.enabled=!0,"LEGAL"===this.productType&&(e.process=h.J.LEGAL,e.productId=this.productEntityForDuplicate.id,this.settingsService.findCollectionSteps(e).subscribe(e=>{e.forEach(e=>{e.stepType===h.J.GROUP&&(e.groupSetting=new Nt.P,e.groupSetting.code=e.groupCode,e.groupSetting.libelle=e.userGroup)}),this.collectionLegalSteps=e,this.collectionLegalSteps.sort((e,t)=>e.order-t.order);for(let t=0;t<e.length;t++)if(this.collectionLegalExpands[t]=!1,null!==this.collectionLegalSteps[t].typeThirdParty){const e=this.collectionLegalSteps[t].typeThirdParty.split(",");this.selectedParticipantsLegal=[];const n=[];this.participantsLegal.forEach(t=>{e.includes(t.participantValue.toString())&&n.push(t)}),this.selectedParticipantsLegal[t]=n}this.collectionLegalSteps.forEach(e=>e.productId=this.productEntity.id)})),this.modalService.dismissAll()}}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(s.sK))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-legal-collection-steps"]],viewQuery:function(e,t){if(1&e&&(f.\u0275\u0275viewQuery(Ht,5),f.\u0275\u0275viewQuery(Zm,5)),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.udfStepWorkflowSettingComponent=e),f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.genericWfSettingWorkflowComponent=e)}},inputs:{productEntity:"productEntity",productEntitys:"productEntitys",groupEntities:"groupEntities",ihmRoot:"ihmRoot",journalEntryTypes:"journalEntryTypes",optionsGroupUsers:"optionsGroupUsers"},features:[f.\u0275\u0275NgOnChangesFeature],decls:21,vars:15,consts:[[1,"card"],[1,"p-3","d-flex","justify-content-end"],[1,"btn-icon","btn","btn-success",3,"click"],[1,"mx-2",3,"icon"],[1,"btn-icon","btn","btn-warning",2,"margin-left","18px",3,"click"],[1,"pe-7s-photo-gallery","btn-icon-wrapper"],[1,"card-body"],["cdkDropList","",1,"example-list-without-overflow",3,"cdkDropListDropped"],["class","text-danger p-4 m-0",4,"ngIf"],["class","example-box","cdkDrag","",4,"ngFor","ngForOf"],[1,"card-footer"],[1,"btn","btn-primary","text-white",3,"click"],["content",""],[1,"text-danger","p-4","m-0"],["cdkDrag","",1,"example-box"],[1,"card","col-12"],["data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"card-header"],[1,"px-3"],[1,"text-primary","m-0"],[1,"col-9","row","px-3"],["type","text","required","",3,"ngClass","ngModel","ngModelChange"],[1,"text-danger"],[1,"mx-auto","row"],[1,"col-5"],[1,"btn-icon","btn-icon-only","btn-outline-2x","btn","btn-outline-danger",3,"click"],[1,"lnr-trash","btn-icon-wrapper"],[1,"mx-auto",3,"click"],[3,"ngClass"],["aria-labelledby","headingOne","data-parent","#accordionExample",3,"ngClass"],[1,"card-body","row"],[1,"position-relative","form-group","col-4","col-md-4","py-2"],[3,"ngClass","ngModel","ngModelChange","change"],[3,"ngValue"],["class","position-relative form-group col-4 col-md-4 py-2",4,"ngIf"],[3,"ngClass","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","number",3,"ngClass","ngModel","ngModelChange"],["optionLabel","settingDocumentTypeDTO.code",3,"options","ngModel","ngModelChange"],[3,"ngModel","multiple","options","config","change","ngModelChange"],["tabindex","0",1,"test",3,"multiple","ngModel","options","config","ngModelChange"],["optionLabel","label",3,"options","ngModel","ngModelChange"],[1,"position-relative","form-group","col-4","col-md-4","mt-3"],[3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"text-primary","text-uppercase","px-4","pt-3"],[1,"row"],[1,"hr"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"position-relative","form-group","col-12"],["type","3",3,"idWorkflowStep","workflowStepUdfGroupe"],[3,"orderWf","idWorkFlow","category"],[3,"ngClass","ngModel","compareWith","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["required","",3,"ngClass","ngModel","ngModelChange"],[3,"value","disabled","ngClass",4,"ngFor","ngForOf"],[3,"value","disabled","ngClass"],[3,"value"],[3,"dir","ngClass"],[1,"position-relative","col-xl-12","px-0","col-md-12",3,"formGroup","ngSubmit"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button","aria-label","Close",3,"click"],["aria-hidden","true"],[1,"modal-body","row"],[1,"position-relative","col-xl-12","col-md-12"],["id","selectedValue","formControlName","productValues","required","",1,"form-control",3,"ngModel","ngModelChange"],["default","","disabled","",3,"value"],[1,"position-relative","form-group"],[1,"form-group","form-check"],["id","exampleCustomCheckboxReject","type","checkbox","formControlName","confirm",1,"form-check-input",3,"change"],["for","exampleCustomCheckboxReject",1,"form-check-label"],[1,"modal-footer","py-1"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","submit",1,"btn","btn-success","text-white"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275elementStart(2,"button",2),f.\u0275\u0275listener("click",function(){return t.addStep("LEGAL")}),f.\u0275\u0275element(3,"fa-icon",3),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"button",4),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(20);return t.duplicateStep(n,"LEGAL")}),f.\u0275\u0275element(7,"i",5),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"div",6),f.\u0275\u0275elementStart(11,"div",7),f.\u0275\u0275listener("cdkDropListDropped",function(e){return t.drop(e,"LEGAL")}),f.\u0275\u0275template(12,tu,3,3,"h6",8),f.\u0275\u0275template(13,fu,102,91,"div",9),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",10),f.\u0275\u0275elementStart(15,"div"),f.\u0275\u0275elementStart(16,"button",11),f.\u0275\u0275listener("click",function(){return t.saveLegalCollection("LEGAL")}),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(19,yu,33,29,"ng-template",null,12,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(5,9,"add_new_step")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(9,11,"setting.setting_configuration_product.duplicate")," "),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngIf",0===t.collectionLegalSteps.length),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",t.collectionLegalSteps),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(18,13,"button.save")," "))},directives:[p.BN,Dt,r.NgIf,r.NgForOf,Vt,c.Fj,c.Q7,r.NgClass,c.JJ,c.On,C.HK,c.EJ,c.YN,c.Kr,c.wV,hn.NU,_o.rL,gn.oG,C.oH,Ht,Zm,Oe.Lv,c._Y,c.JL,c.sg,C.MU,le.jv,c.u,le.wj,c.Wl],pipes:[s.X$],styles:[""]}),e})();function Eu(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h6",13),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"setting.setting_level.no_level_process_for_this_product")," "))}function bu(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",32),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.libelle," ")}}const Cu=function(e){return{"form-control":!0,"input-error":e}};function Iu(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",30),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"span",21),f.\u0275\u0275text(5," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"select",44),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.groupSetting=t}),f.\u0275\u0275template(7,bu,2,2,"option",45),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit,t=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(3,5,"group_users"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(7,Cu,!e.groupSetting))("ngModel",e.groupSetting)("compareWith",t.compareGroup),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",t.groupEntities)}}const wu=function(e){return{"disabled-option":e}};function Fu(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",48),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(2).$implicit;f.\u0275\u0275property("value",e.linkValue)("disabled",0===n.order&&(-1==e.linkValue||-2==e.linkValue))("ngClass",f.\u0275\u0275pureFunction1(4,wu,0===n.order&&(-1===e.linkValue||-2===e.linkValue))),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.LinkName," ")}}function _u(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",49),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.order),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.stepName," ")}}function Lu(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",30),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"span",21),f.\u0275\u0275text(5," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"select",46),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.previousStep=t}),f.\u0275\u0275template(7,Fu,2,6,"option",47),f.\u0275\u0275template(8,_u,2,2,"option",35),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(),t=e.$implicit,n=e.index,i=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(3,5,"user-step-link"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(7,Cu,!t.previousStep))("ngModel",t.previousStep),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.userLinks),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.previousSteps(i.prospectionSteps,n))}}function Du(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",49),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.ihmRoute),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.description," ")}}function ku(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",49),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("value",e.collName),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.collName," ")}}function Tu(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"h5",50),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",17),f.\u0275\u0275element(5,"hr",51),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"div",41),f.\u0275\u0275elementStart(7,"div",30),f.\u0275\u0275elementStart(8,"label"),f.\u0275\u0275text(9),f.\u0275\u0275pipe(10,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"span",21),f.\u0275\u0275text(12," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"input",52),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.remainingInstallment=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",30),f.\u0275\u0275elementStart(15,"label"),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"span",21),f.\u0275\u0275text(19," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"input",36),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.lateDate=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,6,"collections.collection-dashboard.conditions")," "),f.\u0275\u0275advance(7),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(10,8,"collections.collection-dashboard.remainingInstallment"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngModel",e.remainingInstallment),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(17,10,"collections.collection-dashboard.late_payment_days"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(12,Cu,!e.lateDate))("ngModel",e.lateDate)}}function Mu(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",14),f.\u0275\u0275elementStart(1,"div",15),f.\u0275\u0275elementStart(2,"div",16),f.\u0275\u0275elementStart(3,"div",17),f.\u0275\u0275elementStart(4,"p",18),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",19),f.\u0275\u0275elementStart(8,"input",20),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.stepName=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"span",21),f.\u0275\u0275text(10," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"div",22),f.\u0275\u0275elementStart(12,"div",23),f.\u0275\u0275elementStart(13,"button",24),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().deleteStep(t)}),f.\u0275\u0275element(14,"i",25),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",26),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().toggleCollapse(t,"PROSPECTION")}),f.\u0275\u0275element(16,"i",27),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"div",28),f.\u0275\u0275elementStart(18,"div",29),f.\u0275\u0275elementStart(19,"div",30),f.\u0275\u0275elementStart(20,"label"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"span",21),f.\u0275\u0275text(24," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"select",31),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.stepType=t})("change",function(){const t=f.\u0275\u0275restoreView(e).index;return f.\u0275\u0275nextContext().stepTypeChanged("PROSPECTION",t)}),f.\u0275\u0275elementStart(26,"option",32),f.\u0275\u0275text(27,"Assign to Group"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"option",32),f.\u0275\u0275text(29,"Assign to User"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(30,Iu,8,9,"div",33),f.\u0275\u0275template(31,Lu,9,9,"div",33),f.\u0275\u0275elementStart(32,"div",30),f.\u0275\u0275elementStart(33,"label"),f.\u0275\u0275text(34),f.\u0275\u0275pipe(35,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(36,"span",21),f.\u0275\u0275text(37," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(38,"select",34),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.screen=t}),f.\u0275\u0275template(39,Du,2,2,"option",35),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(40,"div",30),f.\u0275\u0275elementStart(41,"label"),f.\u0275\u0275text(42),f.\u0275\u0275pipe(43,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(44,"span",21),f.\u0275\u0275text(45," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(46,"input",36),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.startDate=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(47,"div",30),f.\u0275\u0275elementStart(48,"label"),f.\u0275\u0275text(49),f.\u0275\u0275pipe(50,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(51,"span",21),f.\u0275\u0275text(52," * "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(53,"select",34),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.afterDate=t}),f.\u0275\u0275template(54,ku,2,2,"option",35),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(55,"div",30),f.\u0275\u0275elementStart(56,"label"),f.\u0275\u0275text(57),f.\u0275\u0275pipe(58,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(59,"p-multiSelect",37),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.documents=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(60,"div",38),f.\u0275\u0275elementStart(61,"mat-checkbox",39),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.generationTask=t}),f.\u0275\u0275text(62),f.\u0275\u0275pipe(63,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(64,Tu,21,14,"div",40),f.\u0275\u0275elementStart(65,"div",41),f.\u0275\u0275elementStart(66,"div",42),f.\u0275\u0275element(67,"app-udf-step-workflow-setting",43),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=t.index,i=f.\u0275\u0275nextContext();f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate2("",f.\u0275\u0275pipeBind1(6,32,"step")," ",n+1,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(46,Cu,!e.stepName))("ngModel",e.stepName),f.\u0275\u0275advance(8),f.\u0275\u0275property("ngClass",!0===i.prospectionExpands[n]?"lnr-chevron-up text-secondary":"lnr-chevron-down text-secondary"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngClass",!0===i.prospectionExpands[n]?"collapse show":"collapse"),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(22,34,"step_assgin"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(48,Cu,!e.stepType))("ngModel",e.stepType),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue","group"),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue","link"),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf","group"===e.stepType),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","link"===e.stepType),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(35,36,"screen_steps"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(50,Cu,!e.screen))("ngModel",e.screen),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.ihmRoot),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(43,38,"collections.collection-dashboard.start_Date"),":"),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(52,Cu,e.startDate<0))("ngModel",e.startDate),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(50,40,"collections.collection-dashboard.after"),": "),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(54,Cu,!e.afterDate))("ngModel",e.afterDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",i.afterCollection),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(58,42,"collections.collection-dashboard.documents"),":"),f.\u0275\u0275advance(2),f.\u0275\u0275property("options",i.settingLegalDocumentsByProduct)("ngModel",e.documents),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.generationTask),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(63,44,"loan_workflow_setting.generation_task")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",0===n),f.\u0275\u0275advance(3),f.\u0275\u0275property("idWorkflowStep",e.idCollectionStep)("workflowStepUdfGroupe",e.workflowStepUdfGroupe)}}function Vu(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",32),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.description," ")}}const Au=function(e){return{"text-end":e}};function Pu(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",53),f.\u0275\u0275elementStart(1,"form",54),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275elementStart(2,"div",55),f.\u0275\u0275elementStart(3,"h4",56),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"button",57),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).dismiss("Cross click")}),f.\u0275\u0275elementStart(7,"span",58),f.\u0275\u0275text(8,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div",59),f.\u0275\u0275elementStart(10,"div",60),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"select",61),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().productEntityForDuplicate=t}),f.\u0275\u0275elementStart(15,"option",62),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(18,Vu,2,2,"option",45),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",63),f.\u0275\u0275elementStart(20,"div"),f.\u0275\u0275elementStart(21,"div",64),f.\u0275\u0275elementStart(22,"input",65),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().changeChecboxReject()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"label",66),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"div",67),f.\u0275\u0275elementStart(27,"button",68),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).close("Close click")}),f.\u0275\u0275text(28),f.\u0275\u0275pipe(29,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"button",69),f.\u0275\u0275text(31),f.\u0275\u0275pipe(32,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(27,Au,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e.duplicateGroup),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(5,15,"setting.duplicate-setting")),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,17,"setting.product")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.productEntityForDuplicate),f.\u0275\u0275advance(1),f.\u0275\u0275property("value",null),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(17,19,"setting.select_product")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.productEntitys),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,21,"button.confirm_checkbox")),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(29,23,"button.close")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(32,25,"button.validate"))}}let Bu=(()=>{class e{constructor(e,t,n,i,r,a){this.settingsService=e,this.formBuilder=t,this.modalService=n,this.library=i,this.devToolsServices=r,this.translate=a,this.prospectionSteps=[],this.prospectionExpands=[],this.productEntityForDuplicate=new ye.J,this.edited=!1,this.configDocProd=an,this.userLinks=Zt,this.configParticipants=sn,this.afterCollection=dn,this.settingDocumentProduct=new Qt.f,this.settingLegalDocumentsByProduct=[]}ngOnInit(){var e=this;return(0,m.Z)(function*(){const t=new Yt.h;t.productId=e.productEntity.id,t.process=h.J.PROSPECTION,t.enabled=!0,e.prospectionStepList(t),e.getDocuments();const n=[h.J.SERVICE_SMS];yield e.settingsService.getEnvirementValueByKeys(n).subscribe(e=>{})})()}ngOnChanges(e){if(void 0!==e.productEntity&&e.productEntity.currentValue!==e.productEntity.previousValue){const e=new Yt.h;e.productId=this.productEntity.id,e.process=h.J.PROSPECTION,e.enabled=!0,this.prospectionStepList(e)}}getDocuments(){this.settingDocumentProduct.productId=this.productEntity.id;const e=new Xt.J;e.categorie=10,e.enabled=!0,this.settingDocumentProduct.settingDocumentTypeDTO=e,this.settingsService.findAllDocumentProduct(this.settingDocumentProduct).subscribe(e=>{this.settingLegalDocumentsByProduct=e})}prospectionStepList(e){this.settingsService.findCollectionSteps(e).subscribe(e=>{e.forEach(e=>{e.stepType===h.J.GROUP&&(e.groupSetting=new Nt.P,e.groupSetting.code=e.groupCode,e.groupSetting.libelle=e.userGroup)}),this.prospectionSteps=e;for(let t=0;t<e.length;t++)this.prospectionExpands[t]=!1})}addStep(e){const t=new Yt.h;t.productId=this.productEntity.id,t.enabled=!1,t.amount=0,t.minAmount=0,t.order=this.prospectionSteps.length,e==h.J.PROSPECTION&&(this.prospectionSteps.push(t),this.prospectionExpands[this.prospectionSteps.length-1]=!0)}drop(e,t){let n,i;t==h.J.PROSPECTION&&(n=this.prospectionSteps,i=this.prospectionExpands),mt(n,e.previousIndex,e.currentIndex);for(let r=0;r<n.length;r++)n[r].order=r;mt(i,e.previousIndex,e.currentIndex),0===e.currentIndex&&(-1==n[0].previousStep||-2==n[0].previousStep)&&(n[0].previousStep=null)}deleteStep(e){this.prospectionExpands.splice(e,1),this.prospectionSteps.splice(e,1)}duplicateStep(e,t){this.comfirmStatus=!1,this.productType=t,this.duplicateGroup=null,this.productEntityForDuplicate=null,this.duplicateGroup=this.formBuilder.group({productValues:new c.NI(this.productEntitys,c.kI.required),confirm:new c.NI("",c.kI.required)}),this.duplicateGroup.reset(),this.modalService.open(e,{size:"md"})}toggleCollapse(e,t){t==h.J.PROSPECTION&&(this.prospectionExpands[e]=!this.prospectionExpands[e])}stepTypeChanged(e,t){e==h.J.PROSPECTION&&"group"!==this.prospectionSteps[t].stepType&&(this.prospectionSteps[t].groupSetting=null)}compareGroup(e,t){if(e&&t)return e.code===t.code}previousSteps(e,t){return e.slice(0,t)}saveProspection(e){var t=this;return(0,m.Z)(function*(){let n,i=!1,r=!1;if(t.prospectionSteps.forEach(e=>{e.stepType===h.J.GROUP?(null==e.groupSetting&&(r=!0),n=e.groupSetting):e.stepType===h.J.LINK&&null==e.previousStep&&(r=!0)}),!t.prospectionSteps.some(({stepName:e="",stepType:n="",screen:r="",startDate:a=null,afterDate:o=""})=>{if(!(e&&n&&r&&null!==a&&o))return t.devToolsServices.openToast(3,"alert.check-data"),i=!0,!0})&&!r&&!1===i){let i=!0,r=!0,a=!0,o=[];switch(e){case h.J.PROSPECTION:t.prospectionSteps.forEach(o=>{o.stepType===h.J.GROUP&&void 0!==n&&(o.userGroup=o.groupSetting.libelle,o.groupCode=o.groupSetting.code),o.process=e,void 0===o.stepType&&(t.devToolsServices.openToast(1,"alert.check-data"),i=!1),null==t.prospectionSteps[0].remainingInstallment&&(t.devToolsServices.openToast(1,"alert.error_remaining_installment"),r=!1),void 0===t.prospectionSteps[0].lateDate&&(t.devToolsServices.openToast(1,"alert.error_remaining_installment"),a=!1)}),t.udfStepWorkflowSettingComponent.forEach(e=>{let n=[];e.udfForm.value.udfGroups.forEach(t=>{let i=!1;t.udfFields.forEach(r=>{r.mandatory&&(i=!0);let a={idWorkFlowStepUdfGroup:null,idUserDefinedFieldGroup:parseInt(t.udfGroup),idWorkflowStep:null,idUserDefinedFields:r.id,idCollectionStep:e.idWorkflowStep,mandatory:r.mandatory,displayInIB:null};n.push(a)});let r={idWorkFlowStepUdfGroup:null,idUserDefinedFieldGroup:parseInt(t.udfGroup),idWorkflowStep:null,idUserDefinedFields:null,idCollectionStep:e.idWorkflowStep,mandatory:i||t.udfGroupMandatory,displayInIB:null};n.push(r)}),t.prospectionSteps.filter(t=>t.idCollectionStep===e.idWorkflowStep).map(e=>e.workflowStepUdfGroupe=n)}),o=t.prospectionSteps,t.edited=!0}i&&r&&a&&t.settingsService.saveCollectionSteps(o,t.productEntity.id,e).subscribe(e=>{t.devToolsServices.openToast(0,"alert.success")})}})()}getDirection(){return Se.y.direction}getListOfThirdParty(e,t){this.prospectionSteps[t].typeThirdParty="";const{value:n}=e;n.forEach(e=>{this.prospectionSteps[t].typeThirdParty+=e.participantValue.toString()+","}),this.prospectionSteps[t].typeThirdParty=this.prospectionSteps[t].typeThirdParty.substring(0,this.prospectionSteps[t].typeThirdParty.length-1)}changeChecboxReject(){!1===this.comfirmStatus?this.comfirmStatus=!0:(this.comfirmStatus=!1,this.duplicateGroup.controls.confirm.setValue(""))}onSubmit(){if(this.duplicateGroup.valid){const e=new Yt.h;e.productId=this.productEntityForDuplicate.id,e.enabled=!0,"PROSPECTION"===this.productType&&(e.process=h.J.PROSPECTION,e.productId=this.productEntityForDuplicate.id,this.settingsService.findCollectionSteps(e).subscribe(e=>{e.forEach(e=>{e.stepType===h.J.GROUP&&(e.groupSetting=new Nt.P,e.groupSetting.code=e.groupCode,e.groupSetting.libelle=e.userGroup)}),this.prospectionSteps=e,this.prospectionSteps.sort((e,t)=>e.order-t.order);for(let t=0;t<e.length;t++)this.prospectionExpands[t]=!1,null!==this.prospectionSteps[t].typeThirdParty&&this.prospectionSteps[t].typeThirdParty.split(",");this.prospectionSteps.forEach(e=>e.productId=this.productEntity.id)})),this.modalService.dismissAll()}}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(s.sK))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-prospection-steps"]],viewQuery:function(e,t){if(1&e&&f.\u0275\u0275viewQuery(Ht,5),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.udfStepWorkflowSettingComponent=e)}},inputs:{productEntity:"productEntity",productEntitys:"productEntitys",groupEntities:"groupEntities",ihmRoot:"ihmRoot",journalEntryTypes:"journalEntryTypes",optionsGroupUsers:"optionsGroupUsers"},features:[f.\u0275\u0275NgOnChangesFeature],decls:21,vars:15,consts:[[1,"card"],[1,"p-3","d-flex","justify-content-end"],[1,"btn-icon","btn","btn-success",3,"click"],[1,"mx-2",3,"icon"],[1,"btn-icon","btn","btn-warning",2,"margin-left","18px",3,"click"],[1,"pe-7s-photo-gallery","btn-icon-wrapper"],[1,"card-body"],["cdkDropList","",1,"example-list-without-overflow",3,"cdkDropListDropped"],["class","text-danger p-4 m-0",4,"ngIf"],["class","example-box","cdkDrag","",4,"ngFor","ngForOf"],[1,"card-footer"],[1,"btn","btn-primary","text-white",3,"click"],["content",""],[1,"text-danger","p-4","m-0"],["cdkDrag","",1,"example-box"],[1,"card","col-12"],["data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"card-header"],[1,"px-3"],[1,"text-primary","m-0"],[1,"col-9","row","px-3"],["type","text","required","",3,"ngClass","ngModel","ngModelChange"],[1,"text-danger"],[1,"mx-auto","row"],[1,"col-5"],[1,"btn-icon","btn-icon-only","btn-outline-2x","btn","btn-outline-danger",3,"click"],[1,"lnr-trash","btn-icon-wrapper"],[1,"mx-auto",3,"click"],[3,"ngClass"],["aria-labelledby","headingOne","data-parent","#accordionExample",3,"ngClass"],[1,"card-body","row"],[1,"position-relative","form-group","col-4","col-md-4","py-2"],[3,"ngClass","ngModel","ngModelChange","change"],[3,"ngValue"],["class","position-relative form-group col-4 col-md-4 py-2",4,"ngIf"],[3,"ngClass","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","number",3,"ngClass","ngModel","ngModelChange"],["optionLabel","settingDocumentTypeDTO.code",3,"options","ngModel","ngModelChange"],[1,"position-relative","form-group","col-4","col-md-4","mt-3"],[3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"row"],[1,"position-relative","form-group","col-12"],["type","4",3,"idWorkflowStep","workflowStepUdfGroupe"],[3,"ngClass","ngModel","compareWith","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["required","",3,"ngClass","ngModel","ngModelChange"],[3,"value","disabled","ngClass",4,"ngFor","ngForOf"],[3,"value","disabled","ngClass"],[3,"value"],[1,"text-primary","text-uppercase","px-4","pt-3"],[1,"hr"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[3,"dir","ngClass"],[1,"position-relative","col-xl-12","px-0","col-md-12",3,"formGroup","ngSubmit"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button","aria-label","Close",3,"click"],["aria-hidden","true"],[1,"modal-body","row"],[1,"position-relative","col-xl-12","col-md-12"],["id","selectedValue","formControlName","productValues","required","",1,"form-control",3,"ngModel","ngModelChange"],["default","","disabled","",3,"value"],[1,"position-relative","form-group"],[1,"form-group","form-check"],["id","exampleCustomCheckboxReject","type","checkbox","formControlName","confirm",1,"form-check-input",3,"change"],["for","exampleCustomCheckboxReject",1,"form-check-label"],[1,"modal-footer","py-1"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","submit",1,"btn","btn-success","text-white"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275elementStart(2,"button",2),f.\u0275\u0275listener("click",function(){return t.addStep("PROSPECTION")}),f.\u0275\u0275element(3,"fa-icon",3),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"button",4),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(20);return t.duplicateStep(n,"PROSPECTION")}),f.\u0275\u0275element(7,"i",5),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"div",6),f.\u0275\u0275elementStart(11,"div",7),f.\u0275\u0275listener("cdkDropListDropped",function(e){return t.drop(e,"PROSPECTION")}),f.\u0275\u0275template(12,Eu,3,3,"h6",8),f.\u0275\u0275template(13,Mu,68,56,"div",9),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",10),f.\u0275\u0275elementStart(15,"div"),f.\u0275\u0275elementStart(16,"button",11),f.\u0275\u0275listener("click",function(){return t.saveProspection("PROSPECTION")}),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(19,Pu,33,29,"ng-template",null,12,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(5,9,"add_new_step")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(9,11,"setting.setting_configuration_product.duplicate")," "),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngIf",0===t.prospectionSteps.length),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",t.prospectionSteps),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(18,13,"button.save")," "))},directives:[p.BN,Dt,r.NgIf,r.NgForOf,Vt,c.Fj,c.Q7,r.NgClass,c.JJ,c.On,C.HK,c.EJ,c.YN,c.Kr,c.wV,hn.NU,gn.oG,Ht,C.oH,Oe.Lv,c._Y,c.JL,c.sg,C.MU,le.jv,c.u,le.wj,c.Wl],pipes:[s.X$],styles:[""]}),e})();function Nu(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",16),f.\u0275\u0275element(1,"app-setting-loan-steps",17),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275property("ngClass",!0===e.expandedLoanSteps?"collapse show":"collapse"),f.\u0275\u0275advance(1),f.\u0275\u0275property("productEntity",e.productEntity)("productEntitys",e.productEntitys)("optionsGroupUsers",e.optionsGroupUsers)("ihmRoot",e.ihmRoot)("ibIhmRoot",e.ibIhmRoot)("groupEntities",e.groupEntities)("journalEntryTypes",e.journalEntryTypes)}}function Ru(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",18),f.\u0275\u0275element(1,"app-setting-loan-steps",19),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275property("ngClass",!0===e.expandedTopupSteps?"collapse show":"collapse"),f.\u0275\u0275advance(1),f.\u0275\u0275property("productEntity",e.productEntity)("productEntitys",e.productEntitys)("optionsGroupUsers",e.optionsGroupUsers)("ihmRoot",e.ihmRoot)("ibIhmRoot",e.ibIhmRoot)("groupEntities",e.groupEntities)("mode","TOPUP")("journalEntryTypes",e.journalEntryTypes)}}function Ou(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",20),f.\u0275\u0275element(1,"app-setting-collection-steps",21),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275property("ngClass",!0===e.expandedCollectionSteps?"collapse show":"collapse"),f.\u0275\u0275advance(1),f.\u0275\u0275property("productEntity",e.productEntity)("productEntitys",e.productEntitys)("optionsGroupUsers",e.optionsGroupUsers)("ihmRoot",e.ihmRoot)("groupEntities",e.groupEntities)("journalEntryTypes",e.journalEntryTypes)}}function ju(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",22),f.\u0275\u0275element(1,"app-setting-legal-collection-steps",21),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275property("ngClass",!0===e.expandedLegalCollectionSteps?"collapse show":"collapse"),f.\u0275\u0275advance(1),f.\u0275\u0275property("productEntity",e.productEntity)("productEntitys",e.productEntitys)("optionsGroupUsers",e.optionsGroupUsers)("ihmRoot",e.ihmRoot)("groupEntities",e.groupEntities)("journalEntryTypes",e.journalEntryTypes)}}function Gu(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",23),f.\u0275\u0275element(1,"app-setting-prospection-steps",21),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275property("ngClass",!0===e.expandedProspectionSteps?"collapse show":"collapse"),f.\u0275\u0275advance(1),f.\u0275\u0275property("productEntity",e.productEntity)("productEntitys",e.productEntitys)("optionsGroupUsers",e.optionsGroupUsers)("ihmRoot",e.ihmRoot)("groupEntities",e.groupEntities)("journalEntryTypes",e.journalEntryTypes)}}const Uu=function(){return{width:"98%"}},$u=function(){return{width:"2%"}};let Ju=(()=>{class e{constructor(e,t,n,i,r){this.settingsService=e,this.translate=t,this.gedService=n,this.library=i,this.sharedService=r,this.optionsGroupUsers=[],this.productSelected=!1,this.ihmRoot=[],this.ibIhmRoot=[],this.participantsLegal=[{nameParticipant:this.translate.instant("legal.lawyer"),participantValue:1},{nameParticipant:this.translate.instant("legal.bailiff"),participantValue:2}],this.journalEntryTypes=[],this.expandedLoanSteps=!0,this.expandedTopupSteps=!1,this.expandedCollectionSteps=!1,this.expandedLegalCollectionSteps=!1,this.expandedProspectionSteps=!1}ngOnInit(){this.translate.onLangChange.subscribe(()=>{this.participantsLegal=[{nameParticipant:this.getTranslationOption("lawyer"),participantValue:1},{nameParticipant:this.getTranslationOption("bailiff"),participantValue:2}]}),this.loadDatas()}loadDatas(){const e=new Rp.F;e.listName=h.J.IB_SCREEN_STEPS;const t=new Bt;t.settingsWorkflow=!0;const n=new Sa;(0,cn.D)([this.settingsService.findSettingJournalEntryBy(n),this.settingsService.findGroup(new Nt.P),this.settingsService.findAllHabilitationIhmRoute(t),this.settingsService.findAllGroup(),this.settingsService.getSettingListValues(e)]).subscribe(([e,t,n,i,r])=>{this.journalEntryTypes=e,this.groupEntities=t,this.ihmRoot=n,this.optionsGroupUsers=i,r.forEach(e=>{this.ibIhmRoot.push(e.valueJson)})})}getTranslationOption(e){return this.translate.get("legal."+e).subscribe(t=>{e=t}),e}toggleCollapseLoanSteps(){this.expandedLoanSteps=!this.expandedLoanSteps,this.expandedTopupSteps=!1,this.expandedCollectionSteps=!1,this.expandedLegalCollectionSteps=!1,this.expandedProspectionSteps=!1}toggleCollapseTopupSteps(){this.expandedTopupSteps=!this.expandedTopupSteps,this.expandedLoanSteps=!1,this.expandedCollectionSteps=!1,this.expandedLegalCollectionSteps=!1,this.expandedProspectionSteps=!1}toggleCollapseCollectionSteps(){this.expandedCollectionSteps=!this.expandedCollectionSteps,this.expandedLoanSteps=!1,this.expandedTopupSteps=!1,this.expandedLegalCollectionSteps=!1,this.expandedProspectionSteps=!1}toggleCollapseLegalCollectionSteps(){this.expandedLegalCollectionSteps=!this.expandedLegalCollectionSteps,this.expandedLoanSteps=!1,this.expandedTopupSteps=!1,this.expandedCollectionSteps=!1,this.expandedProspectionSteps=!1}toggleCollapseProspectionSteps(){this.expandedProspectionSteps=!this.expandedProspectionSteps,this.expandedLoanSteps=!1,this.expandedTopupSteps=!1,this.expandedCollectionSteps=!1,this.expandedLegalCollectionSteps=!1}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(Jr.G),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(y.F))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-level-process"]],inputs:{productEntity:"productEntity",productEntitys:"productEntitys"},decls:40,vars:55,consts:[["id","loan-steps",1,"card","mt-1","mb-2"],["data-target","#collapseLoanSteps","aria-expanded","true","aria-controls","collapseLoanSteps",1,"card-header","d-flex",3,"click"],[3,"ngClass"],["aria-labelledby","headingLoanSteps","data-parent","#accordionExample",3,"ngClass",4,"ngIf"],["id","topup-step",1,"card","mb-2"],["data-target","#collapseTopupSteps","aria-expanded","true","aria-controls","collapseTopupSteps",1,"card-header","d-flex",3,"click"],["aria-labelledby","headingTopupSteps","data-parent","#accordionExample",3,"ngClass",4,"ngIf"],["id","collection-steps",1,"card","mb-2"],["data-target","#collapseCollectionSteps","aria-expanded","true","aria-controls","collapseCollectionSteps",1,"card-header","d-flex",3,"click"],["aria-labelledby","headingCollectionSteps","data-parent","#accordionExample",3,"ngClass",4,"ngIf"],["id","legal-collection-steps",1,"card","mb-2"],["data-target","#collapseLegalCollectionSteps","aria-expanded","true","aria-controls","collapseLegalCollectionSteps",1,"card-header","d-flex",3,"click"],["aria-labelledby","headingLegalCollectionSteps","data-parent","#accordionExample",3,"ngClass",4,"ngIf"],["id","prospection-steps",1,"card","mb-2"],["data-target","#collapseProspectionSteps","aria-expanded","true","aria-controls","collapseProspectionSteps",1,"card-header","d-flex",3,"click"],["aria-labelledby","headingProspectionSteps","data-parent","#accordionExample",3,"ngClass",4,"ngIf"],["aria-labelledby","headingLoanSteps","data-parent","#accordionExample",3,"ngClass"],[3,"productEntity","productEntitys","optionsGroupUsers","ihmRoot","ibIhmRoot","groupEntities","journalEntryTypes"],["aria-labelledby","headingTopupSteps","data-parent","#accordionExample",3,"ngClass"],[3,"productEntity","productEntitys","optionsGroupUsers","ihmRoot","ibIhmRoot","groupEntities","mode","journalEntryTypes"],["aria-labelledby","headingCollectionSteps","data-parent","#accordionExample",3,"ngClass"],[3,"productEntity","productEntitys","optionsGroupUsers","ihmRoot","groupEntities","journalEntryTypes"],["aria-labelledby","headingLegalCollectionSteps","data-parent","#accordionExample",3,"ngClass"],["aria-labelledby","headingProspectionSteps","data-parent","#accordionExample",3,"ngClass"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275listener("click",function(){return t.toggleCollapseLoanSteps()}),f.\u0275\u0275elementStart(2,"div"),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div"),f.\u0275\u0275element(6,"i",2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(7,Nu,2,8,"div",3),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"div",4),f.\u0275\u0275elementStart(9,"div",5),f.\u0275\u0275listener("click",function(){return t.toggleCollapseTopupSteps()}),f.\u0275\u0275elementStart(10,"div"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"div"),f.\u0275\u0275element(14,"i",2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(15,Ru,2,9,"div",6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"div",7),f.\u0275\u0275elementStart(17,"div",8),f.\u0275\u0275listener("click",function(){return t.toggleCollapseCollectionSteps()}),f.\u0275\u0275elementStart(18,"div"),f.\u0275\u0275text(19),f.\u0275\u0275pipe(20,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(21,"div"),f.\u0275\u0275element(22,"i",2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(23,Ou,2,7,"div",9),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"div",10),f.\u0275\u0275elementStart(25,"div",11),f.\u0275\u0275listener("click",function(){return t.toggleCollapseLegalCollectionSteps()}),f.\u0275\u0275elementStart(26,"div"),f.\u0275\u0275text(27),f.\u0275\u0275pipe(28,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(29,"div"),f.\u0275\u0275element(30,"i",2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(31,ju,2,7,"div",12),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(32,"div",13),f.\u0275\u0275elementStart(33,"div",14),f.\u0275\u0275listener("click",function(){return t.toggleCollapseProspectionSteps()}),f.\u0275\u0275elementStart(34,"div"),f.\u0275\u0275text(35),f.\u0275\u0275pipe(36,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"div"),f.\u0275\u0275element(38,"i",2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(39,Gu,2,7,"div",15),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275styleMap(f.\u0275\u0275pureFunction0(45,Uu)),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(4,35,"setting.setting_loan_steps")),f.\u0275\u0275advance(2),f.\u0275\u0275styleMap(f.\u0275\u0275pureFunction0(46,$u)),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngClass",!0===t.expandedLoanSteps?"lnr-chevron-up text-secondary":"lnr-chevron-down text-secondary"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!0===t.expandedLoanSteps),f.\u0275\u0275advance(3),f.\u0275\u0275styleMap(f.\u0275\u0275pureFunction0(47,Uu)),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,37,"setting.setting_topup_step")),f.\u0275\u0275advance(2),f.\u0275\u0275styleMap(f.\u0275\u0275pureFunction0(48,$u)),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngClass",!0===t.expandedTopupSteps?"lnr-chevron-up text-secondary":"lnr-chevron-down text-secondary"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!0===t.expandedTopupSteps),f.\u0275\u0275advance(3),f.\u0275\u0275styleMap(f.\u0275\u0275pureFunction0(49,Uu)),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(20,39,"collections.setting_collection_step")),f.\u0275\u0275advance(2),f.\u0275\u0275styleMap(f.\u0275\u0275pureFunction0(50,$u)),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngClass",!0===t.expandedCollectionSteps?"lnr-chevron-up text-secondary":"lnr-chevron-down text-secondary"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!0===t.expandedCollectionSteps),f.\u0275\u0275advance(3),f.\u0275\u0275styleMap(f.\u0275\u0275pureFunction0(51,Uu)),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(28,41,"collections.collections_legal.setting_legal_collection_step")),f.\u0275\u0275advance(2),f.\u0275\u0275styleMap(f.\u0275\u0275pureFunction0(52,$u)),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngClass",!0===t.expandedLegalCollectionSteps?"lnr-chevron-up text-secondary":"lnr-chevron-down text-secondary"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!0===t.expandedLegalCollectionSteps),f.\u0275\u0275advance(3),f.\u0275\u0275styleMap(f.\u0275\u0275pureFunction0(53,Uu)),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(36,43,"setting.setting_prospection_step")),f.\u0275\u0275advance(2),f.\u0275\u0275styleMap(f.\u0275\u0275pureFunction0(54,$u)),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngClass",!0===t.expandedProspectionSteps?"lnr-chevron-up text-secondary":"lnr-chevron-down text-secondary"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!0===t.expandedProspectionSteps))},directives:[r.NgClass,r.NgIf,Lm,qm,xu,Bu],pipes:[s.X$],styles:[""]}),e})();var zu=n(16519),Ku=n(5304),Wu=n(25917),qu=n(23990),Hu=n(50103),Yu=n(17238);function Qu(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"span",9),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.header," ")}}function Xu(e,t){1&e&&f.\u0275\u0275elementContainer(0)}function Zu(e,t){1&e&&f.\u0275\u0275projection(0,1,["*ngIf","hasHeaderFacet"])}function eg(e,t){1&e&&f.\u0275\u0275elementContainer(0)}function tg(e,t){if(1&e&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275template(1,eg,1,0,"ng-container",5),f.\u0275\u0275elementContainerEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("ngTemplateOutlet",e.contentTemplate)}}const ng=["*",[["p-header"]]],ig=function(e){return{"p-accordion-tab-active":e}},rg=function(e,t){return{"p-highlight":e,"p-disabled":t}},ag=function(e){return{transitionParams:e}},og=function(e){return{value:"visible",params:e}},lg=function(e){return{value:"hidden",params:e}},sg=["*","p-header"],dg=["*"];let cg=0,pg=(()=>{class e{constructor(e,t){this.changeDetector=t,this.cache=!0,this.selectedChange=new f.EventEmitter,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-accordiontab-"+cg++,this.accordion=e}get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;default:this.contentTemplate=e.template}})}toggle(e){if(this.disabled)return!1;let t=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:t});else{if(!this.accordion.multiple)for(var n=0;n<this.accordion.tabs.length;n++)this.accordion.tabs[n].selected=!1,this.accordion.tabs[n].selectedChange.emit(!1),this.accordion.tabs[n].changeDetector.markForCheck();this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:t})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),e.preventDefault()}findTabIndex(){let e=-1;for(var t=0;t<this.accordion.tabs.length;t++)if(this.accordion.tabs[t]==this){e=t;break}return e}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(e){(32===e.which||13===e.which)&&(this.toggle(e),e.preventDefault())}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject((0,f.forwardRef)(()=>mg)),f.\u0275\u0275directiveInject(f.ChangeDetectorRef))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["p-accordionTab"]],contentQueries:function(e,t,n){if(1&e&&(f.\u0275\u0275contentQuery(n,b.h4,4),f.\u0275\u0275contentQuery(n,b.jx,4)),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.headerFacet=e),f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.templates=e)}},hostAttrs:[1,"p-element"],inputs:{header:"header",disabled:"disabled",cache:"cache",transitionOptions:"transitionOptions",selected:"selected"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:sg,decls:11,vars:28,consts:[[1,"p-accordion-tab",3,"ngClass"],[1,"p-accordion-header",3,"ngClass"],["role","tab",1,"p-accordion-header-link",3,"click","keydown"],[1,"p-accordion-toggle-icon",3,"ngClass"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content"],[1,"p-accordion-header-text"]],template:function(e,t){1&e&&(f.\u0275\u0275projectionDef(ng),f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275elementStart(2,"a",2),f.\u0275\u0275listener("click",function(e){return t.toggle(e)})("keydown",function(e){return t.onKeydown(e)}),f.\u0275\u0275element(3,"span",3),f.\u0275\u0275template(4,Qu,2,1,"span",4),f.\u0275\u0275template(5,Xu,1,0,"ng-container",5),f.\u0275\u0275template(6,Zu,1,0,"ng-content",6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",7),f.\u0275\u0275elementStart(8,"div",8),f.\u0275\u0275projection(9),f.\u0275\u0275template(10,tg,2,1,"ng-container",6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(15,ig,t.selected)),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction2(17,rg,t.selected,t.disabled)),f.\u0275\u0275advance(1),f.\u0275\u0275attribute("tabindex",t.disabled?null:0)("id",t.id)("aria-controls",t.id+"-content")("aria-expanded",t.selected),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngClass",t.selected?t.accordion.collapseIcon:t.accordion.expandIcon),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!t.hasHeaderFacet),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngTemplateOutlet",t.headerTemplate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.hasHeaderFacet),f.\u0275\u0275advance(1),f.\u0275\u0275property("@tabContent",t.selected?f.\u0275\u0275pureFunction1(22,og,f.\u0275\u0275pureFunction1(20,ag,t.transitionOptions)):f.\u0275\u0275pureFunction1(26,lg,f.\u0275\u0275pureFunction1(24,ag,t.transitionOptions))),f.\u0275\u0275attribute("id",t.id+"-content")("aria-hidden",!t.selected)("aria-labelledby",t.id),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngIf",t.contentTemplate&&(t.cache?t.loaded:t.selected)))},directives:[r.NgClass,r.NgIf,r.NgTemplateOutlet],styles:[".p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;-ms-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}"],encapsulation:2,data:{animation:[(0,Yu.X$)("tabContent",[(0,Yu.SB)("hidden",(0,Yu.oB)({height:"0",overflow:"hidden"})),(0,Yu.SB)("visible",(0,Yu.oB)({height:"*"})),(0,Yu.eR)("visible <=> hidden",[(0,Yu.oB)({overflow:"hidden"}),(0,Yu.jt)("{{transitionParams}}")]),(0,Yu.eR)("void => *",(0,Yu.jt)(0))])]},changeDetection:0}),e})(),mg=(()=>{class e{constructor(e,t){this.el=e,this.changeDetector=t,this.onClose=new f.EventEmitter,this.onOpen=new f.EventEmitter,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.activeIndexChange=new f.EventEmitter,this.tabs=[]}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(e=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}updateSelectionState(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(let e=0;e<this.tabs.length;e++){let t=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;t!==this.tabs[e].selected&&(this.tabs[e].selected=t,this.tabs[e].selectedChange.emit(t),this.tabs[e].changeDetector.markForCheck())}}updateActiveIndex(){let e=this.multiple?[]:null;this.tabs.forEach((t,n)=>{if(t.selected){if(!this.multiple)return void(e=n);e.push(n)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(e)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(f.ElementRef),f.\u0275\u0275directiveInject(f.ChangeDetectorRef))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["p-accordion"]],contentQueries:function(e,t,n){if(1&e&&f.\u0275\u0275contentQuery(n,pg,4),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.tabList=e)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:dg,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(e,t){1&e&&(f.\u0275\u0275projectionDef(),f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275projection(1),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275classMap(t.styleClass),f.\u0275\u0275property("ngClass","p-accordion p-component")("ngStyle",t.style))},directives:[r.NgClass,r.NgStyle],encapsulation:2,changeDetection:0}),e})(),ug=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=f.\u0275\u0275defineInjector({imports:[[r.CommonModule],b.m8]}),e})();const gg=["modalContent"],hg=["addListModal"],fg=["ngxLoading"];function vg(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"th",14),f.\u0275\u0275elementStart(1,"div",15),f.\u0275\u0275element(2,"p-sortIcon",16),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("pSortableColumn",e),f.\u0275\u0275advance(2),f.\u0275\u0275property("field",e)}}function Sg(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",21),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(12).filter(t.target.value,n,"contains")}),f.\u0275\u0275elementEnd()}}function yg(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"input",22),f.\u0275\u0275listener("input",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(12).filter(t.target.value,n,"contains")}),f.\u0275\u0275elementEnd()}}function xg(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"select",23),f.\u0275\u0275listener("change",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext(2),f.\u0275\u0275reference(12).filter(t.target.value,n,"equals")}),f.\u0275\u0275elementStart(1,"option",24),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"option",25),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"option",26),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}2&e&&(f.\u0275\u0275property("showClear",!0),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,4,"category_loan.all"),""),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(6,6,"setting.on")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(9,8,"setting.off")))}function Eg(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"th",17),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"titlecase"),f.\u0275\u0275template(3,Sg,1,0,"input",18),f.\u0275\u0275template(4,yg,1,0,"input",19),f.\u0275\u0275template(5,xg,10,10,"select",20),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngSwitch",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,5,e)," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngSwitchCase","code"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","description"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","enabled")}}function bg(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275template(1,vg,3,2,"th",11),f.\u0275\u0275element(2,"th",12),f.\u0275\u0275element(3,"th",12),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"tr"),f.\u0275\u0275template(5,Eg,6,7,"th",13),f.\u0275\u0275element(6,"th",12),f.\u0275\u0275element(7,"th",12),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",e.selectedColumns),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e.selectedColumns)}}function Cg(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr",27),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275elementStart(6,"bSwitch",28),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().openDialog(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275elementStart(8,"button",29),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().editGroup(t)}),f.\u0275\u0275element(9,"fa-icon",30),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();f.\u0275\u0275property("pSelectableRow",e),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.code),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.description),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-handle-width",40)("switch-animate",!0)("switch-off-color","danger"),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt"))}}function Ig(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",49),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"setting.udf.new_list")," "))}function wg(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",49),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"setting.udf.modify_list")," "))}function Fg(e,t){1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"th"),f.\u0275\u0275text(2,"Label"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"th"),f.\u0275\u0275text(4,"Description"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"th"),f.\u0275\u0275text(6,"Parent"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(7,"th"),f.\u0275\u0275elementEnd())}function _g(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275elementStart(2,"input",50),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.name=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275elementStart(4,"input",50),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.description=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275elementStart(6,"p-dropdown",51),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.parentUDFListValue=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275elementStart(8,"button",52),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).rowIndex;return f.\u0275\u0275nextContext(2).deleteFromListValues(t)}),f.\u0275\u0275element(9,"i",53),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.name),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.description),f.\u0275\u0275advance(2),f.\u0275\u0275property("options",n.udfParentListValues)("ngModel",e.parentUDFListValue)("styleClass","full-width")}}const Lg=function(e){return{"text-end":e}},Dg=function(){return{width:"100%"}};function kg(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",31),f.\u0275\u0275elementStart(1,"div",32),f.\u0275\u0275template(2,Ig,3,3,"h5",33),f.\u0275\u0275template(3,wg,3,3,"h5",33),f.\u0275\u0275elementStart(4,"button",34),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).$implicit.dismiss()}),f.\u0275\u0275elementStart(5,"span",35),f.\u0275\u0275text(6,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",36),f.\u0275\u0275elementStart(8,"form",37),f.\u0275\u0275elementStart(9,"div",38),f.\u0275\u0275elementStart(10,"label"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"div",39),f.\u0275\u0275element(14,"input",40),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",38),f.\u0275\u0275elementStart(16,"label"),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",39),f.\u0275\u0275elementStart(20,"textarea",41),f.\u0275\u0275text(21,"            "),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"div",38),f.\u0275\u0275elementStart(23,"label"),f.\u0275\u0275text(24," Parent"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"p-dropdown",42),f.\u0275\u0275listener("onChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().setParentListValues(null==t?null:t.value)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(26,"div",38),f.\u0275\u0275elementStart(27,"div",43),f.\u0275\u0275elementStart(28,"label"),f.\u0275\u0275text(29),f.\u0275\u0275pipe(30,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(31,"button",44),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().addToListValues()}),f.\u0275\u0275element(32,"fa-icon",4),f.\u0275\u0275text(33),f.\u0275\u0275pipe(34,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(35,"div",39),f.\u0275\u0275elementStart(36,"p-table",45),f.\u0275\u0275template(37,Fg,8,0,"ng-template",7),f.\u0275\u0275template(38,_g,10,5,"ng-template",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(39,"div",46),f.\u0275\u0275elementStart(40,"button",47),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().resetUDFListValue(),t.dismiss()}),f.\u0275\u0275text(41),f.\u0275\u0275pipe(42,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(43,"button",48),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().saveListValuesField()}),f.\u0275\u0275text(44),f.\u0275\u0275pipe(45,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(34,Lg,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",0===e.updateId),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",0!==e.updateId),f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(4),f.\u0275\u0275property("formGroup",e.listForm),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(12,22,"setting.code"),""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(18,24,"setting.description"),""),f.\u0275\u0275advance(8),f.\u0275\u0275property("options",e.udfParentList)("styleClass","full-width"),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(30,26,"setting.udf.list_values"),""),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("d-inline-flex align-items-center btn btn-primary ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(1),f.\u0275\u0275property("icon",e.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(34,28,"button.udf.add_list_values")," "),f.\u0275\u0275advance(3),f.\u0275\u0275property("value",e.listValues)("tableStyle",f.\u0275\u0275pureFunction0(36,Dg)),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(42,30,"button.cancel")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(45,32,"button.save")," ")}}function Tg(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",49),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"udf.new-udf-group")," "))}function Mg(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",49),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"udf.modify-udf-group")," "))}function Vg(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",56),f.\u0275\u0275elementStart(1,"span",57),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,1,"setting.udf.group_details")))}function Ag(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",59),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",60),f.\u0275\u0275elementStart(5,"p-multiSelect",66),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(3).selectedProducts=t}),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(3);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,7,"loan_management.calculators.product")),f.\u0275\u0275advance(3),f.\u0275\u0275propertyInterpolate("placeholder",f.\u0275\u0275pipeBind1(6,9,"loan_management.calculators.product_code_default_select")),f.\u0275\u0275property("filter",!1)("options",e.products)("styleClass","full-width")("ngModel",e.selectedProducts)("required",e.displayMultiSelect)}}function Pg(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",59),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div",60),f.\u0275\u0275elementStart(5,"p-dropdown",67),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(3).selectedCustomerType=t}),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(3);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,6,"setting.udf.customer-type")),f.\u0275\u0275advance(3),f.\u0275\u0275propertyInterpolate("placeholder",f.\u0275\u0275pipeBind1(6,8,"udf.udf_group_code_default_customer")),f.\u0275\u0275property("options",e.customerTypeOptions)("ngModel",e.selectedCustomerType)("styleClass","full-width")("required",e.displayMultiSelectCustomer)}}function Bg(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"form",37),f.\u0275\u0275elementStart(1,"div",38),f.\u0275\u0275elementStart(2,"div",58),f.\u0275\u0275elementStart(3,"div",59),f.\u0275\u0275elementStart(4,"label"),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",60),f.\u0275\u0275element(8,"input",61),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div",59),f.\u0275\u0275elementStart(10,"label"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"div",60),f.\u0275\u0275element(14,"input",62),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",38),f.\u0275\u0275elementStart(16,"div",58),f.\u0275\u0275elementStart(17,"div",59),f.\u0275\u0275elementStart(18,"label"),f.\u0275\u0275text(19),f.\u0275\u0275pipe(20,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(21,"div",60),f.\u0275\u0275elementStart(22,"p-multiSelect",63),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).selectedCategories=t})("ngModelChange",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).updateMultiSelectVisibility()}),f.\u0275\u0275pipe(23,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(24,Ag,7,11,"div",64),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"div",38),f.\u0275\u0275elementStart(26,"div",58),f.\u0275\u0275template(27,Pg,7,10,"div",64),f.\u0275\u0275elementStart(28,"div",59),f.\u0275\u0275elementStart(29,"label"),f.\u0275\u0275text(30),f.\u0275\u0275pipe(31,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(32,"div",60),f.\u0275\u0275element(33,"bSwitch",65),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275property("formGroup",e.udfGroupForm),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(6,16,"setting.code")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,18,"setting.description")),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(20,20,"setting.udf.udf-types")),f.\u0275\u0275advance(3),f.\u0275\u0275propertyInterpolate("placeholder",f.\u0275\u0275pipeBind1(23,22,"udf.udf_group_code_default_udf")),f.\u0275\u0275property("filter",!1)("options",e.udfTypeOptions)("ngModel",e.selectedCategories)("styleClass","full-width"),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.displayMultiSelect),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngIf",e.displayMultiSelectCustomer),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(31,24,"setting.udf.mandatory")),f.\u0275\u0275advance(3),f.\u0275\u0275property("switch-size","mini")("switch-handle-width",40)("switch-animate",!0)("switch-off-color","danger")}}function Ng(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",56),f.\u0275\u0275elementStart(1,"span",57),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,1,"setting.udf.udf-field")))}function Rg(e,t){1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"th"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"th"),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"th"),f.\u0275\u0275text(8),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"th"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"th"),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(16,"th"),f.\u0275\u0275elementStart(17,"th"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(20,"th"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(3,6,"setting.order")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(6,8,"setting.code")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(9,10,"setting.description")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,12,"setting.udf.field_type")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(15,14,"setting.udf.list_values")),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,16,"setting.udf.mandatory")))}const Og=function(){return{standalone:!0}};function jg(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275elementStart(2,"input",70),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.ordre=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275elementStart(4,"input",71),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.name=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275elementStart(6,"input",71),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.description=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275elementStart(8,"p-dropdown",72),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.fieldTypeLabel=t}),f.\u0275\u0275pipe(9,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"td"),f.\u0275\u0275element(11,"input",73),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"td"),f.\u0275\u0275elementStart(13,"button",74),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e),n=t.$implicit,i=t.rowIndex;return f.\u0275\u0275nextContext(3).addList(n,i)}),f.\u0275\u0275element(14,"i",75),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"td"),f.\u0275\u0275elementStart(16,"bSwitch",76),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.mandatory=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext(3).disableUDF(t.code)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"td"),f.\u0275\u0275elementStart(18,"button",52),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).rowIndex;return f.\u0275\u0275nextContext(3).deleteFromListUDF(t)}),f.\u0275\u0275element(19,"i",53),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=t.rowIndex,i=f.\u0275\u0275nextContext(3);f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.ordre),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.name),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.description),f.\u0275\u0275advance(2),f.\u0275\u0275propertyInterpolate("placeholder",f.\u0275\u0275pipeBind1(9,14,"setting.udf.select-a-field-type")),f.\u0275\u0275property("options",i.fieldType)("ngModel",e.fieldTypeLabel)("disabled",0!==e.fieldType),f.\u0275\u0275advance(3),f.\u0275\u0275property("value",null==e||null==e.fieldListValuesDTOs?null:e.fieldListValuesDTOs.length),f.\u0275\u0275advance(2),f.\u0275\u0275property("disabled",5!==(null==i.listUDFField[n].fieldTypeLabel?null:i.listUDFField[n].fieldTypeLabel.value)),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",e.mandatory)("switch-size","small")("switch-animate",!0)("ngModelOptions",f.\u0275\u0275pureFunction0(16,Og))("switch-off-color","danger")}}function Gg(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",43),f.\u0275\u0275elementStart(1,"button",44),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).addToListUDF()}),f.\u0275\u0275element(2,"fa-icon",4),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"p-table",45),f.\u0275\u0275template(6,Rg,21,18,"ng-template",7),f.\u0275\u0275template(7,jg,20,17,"ng-template",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"div",46),f.\u0275\u0275elementStart(9,"button",68),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext().reset(),t.dismiss()}),f.\u0275\u0275text(10),f.\u0275\u0275pipe(11,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"button",69),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).saveUdfGroup()}),f.\u0275\u0275text(13),f.\u0275\u0275pipe(14,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("d-inline-flex align-items-center btn btn-primary ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(1),f.\u0275\u0275property("icon",e.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,9,"button.udf.add_list_values")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("value",e.listUDFField)("tableStyle",f.\u0275\u0275pureFunction0(15,Dg)),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(11,11,"button.cancel")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(14,13,"button.save")," ")}}const Ug=function(){return[0,1]};function $g(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",31),f.\u0275\u0275elementStart(1,"div",32),f.\u0275\u0275template(2,Tg,3,3,"h5",33),f.\u0275\u0275template(3,Mg,3,3,"h5",33),f.\u0275\u0275elementStart(4,"button",34),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).$implicit.dismiss()}),f.\u0275\u0275elementStart(5,"span",35),f.\u0275\u0275text(6,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div"),f.\u0275\u0275elementStart(8,"p-accordion",54),f.\u0275\u0275elementStart(9,"p-accordionTab"),f.\u0275\u0275template(10,Vg,4,3,"ng-template",7),f.\u0275\u0275template(11,Bg,34,26,"ng-template",55),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"p-accordionTab"),f.\u0275\u0275template(13,Ng,4,3,"ng-template",7),f.\u0275\u0275template(14,Gg,15,16,"ng-template",55),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(9,Lg,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",0===e.updateId),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",0!==e.updateId),f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(4),f.\u0275\u0275property("activeIndex",f.\u0275\u0275pureFunction0(11,Ug))("multiple",!0)}}const Jg=function(){return[5,10,20,50,100]};let zg=(()=>{class e{constructor(e,t,n,i,r,a,o,s,d,c,p,m){this.ngbconfig=e,this.modal=t,this.router=n,this.dialog=i,this.settingsService=r,this.formBuilder=a,this.devToolsServices=o,this.translate=s,this.library=d,this.fb=c,this.udfService=p,this.loanManagementService=m,this.updateId=0,this.listUDF=[],this.listUDFField=[],this.selectedColumns=["code","description","enabled"],this.ngxLoadingAnimationTypes=l.Sn,this.primaryColour="var(--primary)",this.config={animationType:l.Sn.none,primaryColour:this.primaryColour},this.products=[],this.udfGroups=[],this.listValues=[],this.udfGroup=new Rt.t,this.fieldListValues=[],this.selectedCategories=[],this.selectedProducts=[],this.modalReference=null,this.addedListValues=[],this.displayMultiSelect=!1,this.displayMultiSelectCustomer=!1,this.listUDFFieldToDisable=[],this.listValuesToDisable=[],e.backdrop="static",e.keyboard=!1}ngOnInit(){this.udfTypeOptions=[{label:"Customer",value:"customer"},{label:"Loan Products",value:"loanProducts"},{label:"Loan Collateral",value:"loanCollateral"},{label:"Collection",value:"collection"},{label:"Legal",value:"legal"},{label:"Party",value:"party"},{label:"Prospect",value:"prospect"},{label:"Supplier",value:"supplier"},{label:"Others",value:"others"}],this.customerTypeOptions=[{label:"Personal",value:1},{label:"Organization",value:4},{label:"Group",value:8}],this.fieldType=[{label:"TEXT",value:1},{label:"NUMERIC",value:2},{label:"DATE",value:4},{label:"LIST",value:5}],this.createForm(),this.getUdfGroup(),this.getProducts()}createForm(){this.udfGroupForm=this.fb.group({id:[""],idUDGroupAbacus:[0],code:["",c.kI.required],description:["",c.kI.required],category:["",c.kI.required],productId:[""],customerType:[""],mondatory:[!1,c.kI.required],enabled:[!0]}),this.listForm=this.formBuilder.group({id:[""],name:["",c.kI.required],description:["",c.kI.required],parent:[""]})}getProducts(){var e=this;return(0,m.Z)(function*(){let t;const n=new ye.J;t=yield e.loanManagementService.getProducts(n).toPromise(),e.products=t})()}addGroup(){this.listValues=[],this.updateId=0,this.reset(),this.modal.open(this.modalContent,{size:"xl"})}reset(){this.udfGroupForm.reset(),this.listForm.reset(),this.listUDFField=[],this.selectedCategories=[],this.selectedProducts=[],this.selectedCustomerType=null,this.listValues=[],this.udfParentListValues=[],this.udfParentList=[],this.fieldListValues=[],this.listUDFFieldToDisable=[],this.listValuesToDisable=[]}updateMultiSelectVisibility(){this.displayMultiSelect=this.selectedCategories?.some(e=>"loanProducts"===e.value||"loanCollateral"===e.value),this.displayMultiSelectCustomer=this.selectedCategories?.some(e=>"loanProducts"===e.value||"loanCollateral"===e.value||"customer"===e.value)}resetUDFListValue(){this.listValues.map(e=>{e.parentUDFListValue=e.parentUDFListValue?.value})}editGroup(e){this.getUdfFiledListNationality(e.id),this.selectedCategories=(0,jt.r1)(this.udfTypeOptions,"value",e.category),this.selectedProducts=(0,jt.r1)(this.products,"id",String(e.productId),"number");let t=(0,jt.r1)(this.customerTypeOptions,"value",String(e.customerType),"number");this.selectedCustomerType=t[0],this.udfGroupForm.patchValue({id:e.id,code:e.code,description:e.description,mondatory:e.mondatory}),this.updateMultiSelectVisibility(),this.modal.open(this.modalContent,{size:"xl"}),this.updateId=1}getUdfFiledListNationality(e){var t=this;return(0,m.Z)(function*(){const n=new Ot.x;n.userDefinedFieldGroupDTO=new Rt.t,n.userDefinedFieldGroupDTO.id=e,n.idUDFField=0,t.udfService.getUdfField(n).subscribe(e=>{const n=e.map(e=>({...e,fieldTypeLabel:(0,jt.r1)(t.fieldType,"value",String(e.fieldType),"number")?.[0]}));t.listUDFField=n})})()}addList(e,t){0===this.updateId&&(this.listValues=[],this.listForm.patchValue({name:e.name,description:e.description})),this.getUDFFieldsListType(e.id),0!==this.updateId&&(e.fieldListValuesDTOs.length>0&&this.getUdfListValue(e.fieldListValuesDTOs[0]?.idUDFListLink),e?.fieldListValuesDTOs.length>0?(this.listValues=e?.fieldListValuesDTOs,this.listValues[0]?.parentUDFListValue&&this.getListValueById(this.listValues[0]?.parentUDFListValue)):this.addedListValues[t]?this.listValues=this.addedListValues[t]:(this.listForm.reset(),this.listValues=[])),this.index=t,this.modalReference=this.modal.open(this.addListModal,{size:"lg"})}getUDFFieldsListType(e){const t=new Ot.x;t.fieldType=5,t.idUDFField=0,this.udfService.getUdfField(t).subscribe(t=>{this.udfParentList=t.filter(t=>t.id!==e).map(e=>({label:e.name,value:e.id}))})}getUdfListValue(e){const t=new zu.X;t.idUDFList=e,this.udfService.getUdfListValue(t).subscribe(e=>{e&&this.listForm.patchValue({id:e[0].id,name:e[0].name,description:e[0].description})})}setParentListValues(e){const t=new Ot.x;t.id=e?.value,t.idUDFField=0,this.udfService.getUdfField(t).subscribe(e=>{this.udfParentListValues=e[0]?.fieldListValuesDTOs.map(e=>({label:e.name,value:e.id}))})}getListValueById(e){const t=new zu.X;t.id=e,this.udfService.getUdfListValue(t).subscribe(e=>{this.getListByIdUDFListValue(e[0]?.idUDFListLink)})}getListByIdUDFListValue(e){const t=new Ot.x;t.idUDFListValue=e,t.idUDFField=0,this.udfService.getUdfField(t).subscribe(e=>{this.listForm.patchValue({parent:{label:e[0]?.name,value:e[0]?.id}}),this.udfParentListValues=e[0]?.fieldListValuesDTOs.map(e=>({label:e.name,value:e.id})),this.listValues.map(t=>{let n=e[0]?.fieldListValuesDTOs.filter(e=>e.id==t.parentUDFListValue);t.parentUDFListValue={label:n[0]?.name,value:n[0]?.id}})})}getUdfGroup(){this.udfGroup=new Rt.t,this.udfGroup.idUDGroupAbacus=0,this.udfService.getUdfGroup(this.udfGroup).subscribe(e=>{this.udfGroups=e})}saveUdfGroup(){if(this.udfGroupForm.get("productId").updateValueAndValidity(),this.udfGroupForm.get("customerType").updateValueAndValidity(),this.udfGroupForm.patchValue({enabled:!0,idUDGroupAbacus:0}),!this.validateUdfGroupData())return this.devToolsServices.openToast(3,"alert.check-data"),void this.devToolsServices.backTop();const e=(0,jt.ML)(this.udfGroupForm.value?.category,"value");let t;this.udfGroupForm.value.productId&&(t=(0,jt.ML)(this.udfGroupForm.value.productId,"id"));let n={...this.udfGroupForm.value};n.category=e,n.productId=t,n.customerType=this.udfGroupForm.value.customerType?.value,this.listUDFField.forEach(e=>{const t=e.fieldTypeLabel;e.fieldTypeLabel=t.label,e.fieldType=t.value});const i={...n};this.udfService.saveUdfGroup(i).pipe((0,Re.w)(e=>{const t=e.id;return(0,cn.D)(this.listUDFField.map((e,n)=>(e.userDefinedFieldGroupDTO.id=t,5===e.fieldType&&0===e.idUDFListValue&&(e.idUDFListValue=(0,jt.fV)(n)),5===e.fieldType&&this.fieldListValues&&this.fieldListValues.length>0&&this.fieldListValues[n]&&this.fieldListValues[n].map((t,n)=>{"UserDefinedFieldLists"===t.tableAbacusName?(t.idUDFList=e.idUDFListValue,e.idUDFParentField=t.parentUDFListValue,t.parentUDFListValue=0):(t.idUDFListValue=(0,jt.fV)(n),t.idUDFListLink=e.idUDFListValue)}),this.udfService.saveUdfField(e).pipe((0,Re.w)(()=>5===e.fieldType&&this.fieldListValues&&this.fieldListValues.length>0&&this.fieldListValues[n]?this.udfService.savUdfListValue(this.fieldListValues[n]):(0,Wu.of)(null)))))).pipe((0,Ne.b)(()=>{this.devToolsServices.openToast(0,"alert.success"),this.getUdfGroup(),this.modal.dismissAll(),this.reset()}),(0,Ku.K)(e=>{throw this.devToolsServices.openToast(1,"alert.error"),e}))}),(0,Ku.K)(e=>{throw this.devToolsServices.openToast(1,"alert.error"),e})).subscribe(()=>{this.updateId=0},e=>{throw this.devToolsServices.openToast(1,"alert.error"),e}),this.listUDFFieldToDisable.length>0&&(this.listUDFFieldToDisable.forEach(e=>{const t=e.fieldTypeLabel;e.fieldTypeLabel=t.label,e.fieldType=t.value}),this.udfService.disableUdfFields(this.listUDFFieldToDisable).subscribe(e=>{this.modal.dismissAll(),this.reset()})),this.listValuesToDisable.length>0&&this.udfService.disableUdfListValues(this.listValuesToDisable).subscribe(e=>{this.modal.dismissAll(),this.reset()})}deleteFromListValues(e){this.listValuesToDisable.push(this.listValues[e]),this.listValues.splice(e,1)}addToListValues(){let e=new zu.X;e.tableAbacusName="UserDefinedFieldListValues",e.score=0,e.name="",e.description="",e.enabled=!0,e.parentUDFListValue=0,this.listValues.push(e)}deleteFromListUDF(e){this.listUDFFieldToDisable.push(this.listUDFField[e]),this.listUDFField.splice(e,1)}saveListValuesField(){if(!this.validateListValuesData())return this.devToolsServices.openToast(3,"alert.check-data"),void this.devToolsServices.backTop();this.fieldListValues[this.index]=[],this.addedListValues[this.index]=[];const e=new zu.X;e.tableAbacusName="UserDefinedFieldLists",e.score=0,e.id=this.listForm.value.id,e.name=this.listForm.value.name,e.description=this.listForm.value.description,e.enabled=!0,e.parentUDFListValue=this.listForm.value?.parent?.value?this.listForm.value?.parent?.value:0,this.listValues.forEach(e=>{e.parentUDFListValue=null==e.parentUDFListValue?0:e.parentUDFListValue.value}),this.addedListValues[this.index].push(...this.listValues),this.fieldListValues[this.index].push(...this.listValues),this.fieldListValues[this.index].push(e),this.modalReference.close()}addToListUDF(){const e=new Ot.x;e.userDefinedFieldGroupDTO=new Rt.t,e.idUDFField=0,e.name="",e.description="",e.mandatory=!1,e.fieldType=0,e.fieldTypeLabel="",e.idUDFListValue=0,e.idUDFParentField=0,e.udfParentFieldValue="0",e.enabled=!0,e.fieldListValuesDTOs=[],e.fieldValue="",e.fieldMasc="",e.uniqueField=!1,this.listUDFField.push(e)}openDialog(e){var t=this;return(0,m.Z)(function*(){e.enabled?(e.enabled=!0,yield t.udfService.saveUdfGroup(e).toPromise().then(e=>{t.devToolsServices.openToast(0,"alert.success")})):(e.enabled=!1,yield t.dialog.open(Td.z,{width:"350px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:"confirmation_dialog.disable_group"}}).afterClosed().subscribe(n=>{n&&t.udfService.saveUdfGroup(e).toPromise().then(e=>{t.devToolsServices.openToast(0,"alert.success"),t.getUdfGroup()})})),t.getUdfGroup()})()}validateUdfGroupData(){return this.devToolsServices.makeFormAsTouched(this.udfGroupForm),!(!this.udfGroupForm.valid||this.listUDFField.some(e=>!(e.ordre&&e.name&&e.description&&e.fieldTypeLabel)))}validateListValuesData(){return this.devToolsServices.makeFormAsTouched(this.listForm),!(!this.listForm.valid||this.listValues.some(e=>!e.name||!e.description))}getDirection(){return Se.y.direction}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(o.NM),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(x.F0),f.\u0275\u0275directiveInject(di.uw),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(Gt.H),f.\u0275\u0275directiveInject(qu.q))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-udf"]],viewQuery:function(e,t){if(1&e&&(f.\u0275\u0275viewQuery(gg,7),f.\u0275\u0275viewQuery(hg,7),f.\u0275\u0275viewQuery(fg,5)),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.modalContent=e.first),f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.addListModal=e.first),f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.ngxLoadingComponent=e.first)}},decls:19,vars:21,consts:[[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"lnr-paw","text-secondary","pr-2"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[1,"mx-2",3,"icon"],["sortMode","multiple",3,"responsive","autoLayout","value","lazy","lazyLoadOnInit","rowsPerPageOptions","paginator","pageLinks","rows","columns"],["dt",""],["pTemplate","header"],["pTemplate","body"],["addListModal",""],["modalContent",""],["class","text-center",3,"pSortableColumn",4,"ngFor","ngForOf"],[2,"width","40px"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"text-center",3,"pSortableColumn"],[1,"center-elem","text-center"],[1,"pl-1",3,"field"],[3,"ngSwitch"],["class","form-control placeholder","type","text",3,"input",4,"ngSwitchCase"],["class","form-control","type","text",3,"input",4,"ngSwitchCase"],["class","form-control ACM-Dashbord-productDescription-col",3,"showClear","change",4,"ngSwitchCase"],["type","text",1,"form-control","placeholder",3,"input"],["type","text",1,"form-control",3,"input"],[1,"form-control","ACM-Dashbord-productDescription-col",3,"showClear","change"],["value",""],["value","true"],["value","false"],[3,"pSelectableRow"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-handle-width","switch-animate","switch-off-color","ngModelChange","click"],[1,"btn","btn-warning","text-white",3,"click"],[3,"icon"],[3,"dir","ngClass"],[1,"modal-header","py-2"],["class","modal-title",4,"ngIf"],["type","button",3,"click"],["aria-hidden","true"],[1,"card-body"],[1,"form",3,"formGroup"],[1,"position-relative","pb-4"],[1,"input-group"],["type","text","formControlName","name",1,"form-control"],["rows","3","cols","20","pInputTextarea","","formControlName","description",1,"form-control"],["formControlName","parent","placeholder","Parent","optionLabel","label",3,"options","styleClass","onChange"],[1,"btn-actions-pane-right","d-flex","justify-content-between"],[3,"click"],[3,"value","tableStyle"],[1,"modal-footer","py-1"],["type","button",1,"mb-2","mx-2","btn","btn-outline-danger",3,"click"],["type","button",1,"mb-2","btn","btn-primary",3,"click"],[1,"modal-title"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Parent","optionLabel","label",3,"options","ngModel","styleClass","ngModelChange"],[1,"btn","btn-danger",3,"click"],[1,"pe-7s-trash","btn-icon-wrapper","text-white"],[1,"w-full",3,"activeIndex","multiple"],["pTemplate","content"],[1,"flex","align-items-center"],[1,"vertical-align-middle"],[1,"row"],[1,"col-xl-6","col-md-6","col-md-6","px-1"],[1,""],["type","text","formControlName","code",1,"form-control"],["type","text","formControlName","description",1,"form-control"],["formControlName","category","optionLabel","label",3,"filter","options","ngModel","styleClass","placeholder","ngModelChange"],["class","col-xl-6 col-md-6 col-md-6 px-1",4,"ngIf"],["formControlName","mondatory",1,"px-2","mb-0",3,"switch-size","switch-handle-width","switch-animate","switch-off-color"],["formControlName","productId","optionLabel","description",3,"filter","options","styleClass","ngModel","placeholder","required","ngModelChange"],["formControlName","customerType","optionLabel","label",3,"options","ngModel","placeholder","styleClass","required","ngModelChange"],["type","button",1,"mb-2","mx-2","btn","btn-outline-danger","close",3,"click"],["type","submit",1,"mb-2","btn","btn-primary",3,"click"],["type","number","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],["optionLabel","label",3,"options","ngModel","placeholder","disabled","ngModelChange"],["type","text","disabled","",1,"form-control",3,"value"],[1,"btn","btn-warning",3,"disabled","click"],[1,"pe-7s-pen","btn-icon-wrapper","text-white"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","ngModelOptions","switch-off-color","ngModelChange","click"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275elementStart(2,"div"),f.\u0275\u0275element(3,"i",2),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"div"),f.\u0275\u0275elementStart(7,"button",3),f.\u0275\u0275listener("click",function(){return t.addGroup()}),f.\u0275\u0275element(8,"fa-icon",4),f.\u0275\u0275text(9),f.\u0275\u0275pipe(10,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"p-table",5,6),f.\u0275\u0275template(13,bg,8,2,"ng-template",7),f.\u0275\u0275template(14,Cg,10,9,"ng-template",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(15,kg,46,37,"ng-template",null,9,f.\u0275\u0275templateRefExtractor),f.\u0275\u0275template(17,$g,15,12,"ng-template",null,10,f.\u0275\u0275templateRefExtractor)),2&e&&(f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(5,16,"setting.setting_udf")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(10,18,"button.create_udf_groupe")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("responsive",!0)("autoLayout",!0)("value",t.udfGroups)("lazy",!1)("lazyLoadOnInit",!1)("rowsPerPageOptions",f.\u0275\u0275pureFunction0(20,Jg))("paginator",!0)("pageLinks",5)("rows",10)("columns",t.selectedColumns))},directives:[p.BN,a.iA,b.jx,r.NgForOf,a.lQ,a.fz,r.NgSwitch,r.NgSwitchCase,C.oH,c.YN,c.Kr,a.Ei,I.U,c.JJ,c.On,Oe.Lv,r.NgClass,r.NgIf,c._Y,c.JL,c.sg,C.MU,le.jv,c.Fj,c.u,le.wj,Hu.Lt,mg,pg,hn.NU,c.Q7,c.wV],pipes:[s.X$,r.TitleCasePipe],styles:[""]}),e})();const Kg=["modalContent"],Wg=["modalTypeContent"],qg=["ngxLoading"];function Hg(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"th",13),f.\u0275\u0275elementStart(1,"div",14),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("pSortableColumn",e.field),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,2,e.header)," ")}}function Yg(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275template(1,Hg,4,4,"th",11),f.\u0275\u0275element(2,"th",12),f.\u0275\u0275element(3,"th",12),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",e)}}function Qg(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr",16),f.\u0275\u0275elementStart(1,"td",14),f.\u0275\u0275elementStart(2,"div"),f.\u0275\u0275text(3),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"td",14),f.\u0275\u0275element(5,"input",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"td"),f.\u0275\u0275elementStart(7,"bSwitch",18),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext(2).enableDisableType(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"td"),f.\u0275\u0275elementStart(9,"button",19),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext(2).editType(t)}),f.\u0275\u0275element(10,"fa-icon",20),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(e.name),f.\u0275\u0275advance(2),f.\u0275\u0275property("checked",1===e.primaryAddressType),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("switch-handle-width",40),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt"))}}function Xg(e,t){if(1&e&&f.\u0275\u0275template(0,Qg,11,8,"tr",15),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275property("ngForOf",e.addressType)}}function Zg(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"th",23),f.\u0275\u0275elementStart(1,"div",24),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275element(4,"p-sortIcon",25),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("pSortableColumn",e.field),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,3,e.header)," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("field",e.field)}}function eh(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",32),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.name," ")}}function th(e,t){if(1&e&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275template(1,eh,2,2,"option",31),f.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(4);f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",(null==e?null:e.addressListID)===(null==n.addressListEntity[0]?null:n.addressListEntity[0].addressListID))}}function nh(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"select",28),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(3).selectedCountry=t})("change",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(3);return t.loadList(t.selectedCountry,"Country")}),f.\u0275\u0275elementStart(1,"option",29),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(4,th,2,1,"ng-container",30),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(3);f.\u0275\u0275property("ngModel",e.selectedCountry),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue",null),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,4,"setting.SelectCountry")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.addressListValue[0])}}function ih(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",32),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.name," ")}}function rh(e,t){if(1&e&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275template(1,ih,2,2,"option",31),f.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(4);f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.addressListID===n.addressListEntity[1].addressListID&&e.parentAddressListValueID===(null==n.selectedCountry?null:n.selectedCountry.addressListValueID))}}function ah(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"select",28),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(3).selectedRegion=t})("change",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(3);return t.loadList(t.selectedRegion,"Region")}),f.\u0275\u0275elementStart(1,"option",29),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(4,rh,2,1,"ng-container",30),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(3);f.\u0275\u0275property("ngModel",e.selectedRegion),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue",null),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,4,"setting.SelectRegion")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.addressListValue[0])}}function oh(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",32),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.name," ")}}function lh(e,t){if(1&e&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275template(1,oh,2,2,"option",31),f.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(4);f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.addressListID===n.addressListEntity[2].addressListID&&e.parentAddressListValueID===(null==n.selectedRegion?null:n.selectedRegion.addressListValueID))}}function sh(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"select",28),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(3).selectedCity=t})("change",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(3);return t.loadList(t.selectedCity,"City")}),f.\u0275\u0275elementStart(1,"option",29),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(4,lh,2,1,"ng-container",30),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(3);f.\u0275\u0275property("ngModel",e.selectedCity),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue",null),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,4,"setting.SelectCity"),""),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.addressListValue[0])}}function dh(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",32),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.name," ")}}function ch(e,t){if(1&e&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275template(1,dh,2,2,"option",31),f.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(4);f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.addressListID===n.addressListEntity[3].addressListID&&e.parentAddressListValueID===(null==n.selectedCity?null:n.selectedCity.addressListValueID))}}function ph(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"select",28),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(3).selectedDistrict=t})("change",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(3);return t.loadList(t.selectedDistrict)}),f.\u0275\u0275elementStart(1,"option",29),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(4,ch,2,1,"ng-container",30),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(3);f.\u0275\u0275property("ngModel",e.selectedDistrict),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue",null),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,4,"setting.SelectDistrict")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.addressListValue[0])}}function mh(e,t){1&e&&(f.\u0275\u0275elementStart(0,"th",26),f.\u0275\u0275template(1,nh,5,6,"select",27),f.\u0275\u0275template(2,ah,5,6,"select",27),f.\u0275\u0275template(3,sh,5,6,"select",27),f.\u0275\u0275template(4,ph,5,6,"select",27),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275property("ngSwitch",t.$implicit.field),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","Country"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","Region"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","City"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngSwitchCase","District"))}function uh(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275template(1,Zg,5,5,"th",21),f.\u0275\u0275element(2,"th",12),f.\u0275\u0275element(3,"th",12),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"tr"),f.\u0275\u0275template(5,mh,5,5,"th",22),f.\u0275\u0275element(6,"th",12),f.\u0275\u0275element(7,"th",12),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",e),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",e)}}function gh(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr",16),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275elementStart(2,"div"),f.\u0275\u0275text(3),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"td"),f.\u0275\u0275elementStart(5,"div"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275elementStart(8,"div"),f.\u0275\u0275text(9),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"td"),f.\u0275\u0275elementStart(11,"div"),f.\u0275\u0275text(12),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"td"),f.\u0275\u0275elementStart(14,"div",33),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).enableDisable()}),f.\u0275\u0275elementStart(15,"span"),f.\u0275\u0275text(16),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"td"),f.\u0275\u0275elementStart(18,"button",19),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext(2).editAddress(t)}),f.\u0275\u0275element(19,"fa-icon",20),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(e.nameCountry),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(e.nameRegion),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(e.nameCity),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(e.nameDistrict),f.\u0275\u0275advance(2),f.\u0275\u0275styleProp("width","60px")("height","30px")("border-radius","15px")("background-color",e.isEnabled?"green":"red")("color","white")("display","flex")("align-items","center")("justify-content","center")("cursor","pointer")("font-weight","bold")("transition","background-color 0.3s ease"),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.isEnabled?"ON":"OFF"),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt"))}}function hh(e,t){if(1&e&&f.\u0275\u0275template(0,gh,20,28,"tr",15),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275property("ngForOf",e.getFilteredList())}}function fh(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",51),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"button.add_address"),""))}function vh(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",51),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"button.update_address"),""))}function Sh(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",32),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.name," ")}}function yh(e,t){if(1&e&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275template(1,Sh,2,2,"option",31),f.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(3);f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",(null==e?null:e.addressListID)===(null==n.addressListEntity[0]?null:n.addressListEntity[0].addressListID))}}function xh(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",52),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"select",28),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).selectedCountry=t})("change",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(2);return t.loadList(t.selectedCountry,"Country")}),f.\u0275\u0275template(6,yh,2,1,"ng-container",30),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,3,"setting.Country"),""),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",e.selectedCountry),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",e.addressListValue[0])}}function Eh(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",32),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.name," ")}}function bh(e,t){if(1&e&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275template(1,Eh,2,2,"option",31),f.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(3);f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.addressListID===n.addressListEntity[1].addressListID&&e.parentAddressListValueID===(null==n.selectedCountry?null:n.selectedCountry.addressListValueID))}}function Ch(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",52),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"select",28),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).selectedRegion=t})("change",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(2);return t.loadList(t.selectedRegion,"Region")}),f.\u0275\u0275template(6,bh,2,1,"ng-container",30),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,3,"setting.Region"),""),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",e.selectedRegion),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",e.addressListValue[0])}}function Ih(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",32),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.name," ")}}function wh(e,t){if(1&e&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275template(1,Ih,2,2,"option",31),f.\u0275\u0275elementContainerEnd()),2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext(3);f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.addressListID===n.addressListEntity[2].addressListID&&e.parentAddressListValueID===(null==n.selectedRegion?null:n.selectedRegion.addressListValueID))}}function Fh(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",52),f.\u0275\u0275elementStart(1,"label"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"select",28),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).selectedCity=t})("change",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(2);return t.loadList(t.selectedCity,"City")}),f.\u0275\u0275template(6,wh,2,1,"ng-container",30),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,3,"setting.City"),""),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",e.selectedCity),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",e.addressListValue[0])}}function _h(e,t){1&e&&(f.\u0275\u0275elementStart(0,"label"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"setting.District"),""))}function Lh(e,t){1&e&&(f.\u0275\u0275elementStart(0,"label"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"setting.City"),""))}function Dh(e,t){1&e&&(f.\u0275\u0275elementStart(0,"label"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"setting.Region"),""))}function kh(e,t){1&e&&(f.\u0275\u0275elementStart(0,"label"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"setting.Country"),""))}function Th(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",52),f.\u0275\u0275template(1,_h,3,3,"label",53),f.\u0275\u0275template(2,Lh,3,3,"label",53),f.\u0275\u0275template(3,Dh,3,3,"label",53),f.\u0275\u0275template(4,kh,3,3,"label",53),f.\u0275\u0275elementStart(5,"div"),f.\u0275\u0275element(6,"input",54),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","District"===e.selectedLevel),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","City"===e.selectedLevel),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","Region"===e.selectedLevel),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","Country"===e.selectedLevel)}}const Mh=function(e){return{"text-end":e}};function Vh(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",34),f.\u0275\u0275elementStart(1,"div",35),f.\u0275\u0275template(2,fh,3,3,"h5",36),f.\u0275\u0275template(3,vh,3,3,"h5",36),f.\u0275\u0275elementStart(4,"button",37),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).close()}),f.\u0275\u0275elementStart(5,"span",38),f.\u0275\u0275text(6,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",39),f.\u0275\u0275elementStart(8,"div",40),f.\u0275\u0275elementStart(9,"mat-radio-group",41),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().selectedLevel=t})("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSelectionChange(t.value)}),f.\u0275\u0275elementStart(10,"mat-radio-button",42),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"mat-radio-button",43),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"mat-radio-button",44),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"mat-radio-button",45),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(22,xh,7,5,"div",46),f.\u0275\u0275template(23,Ch,7,5,"div",46),f.\u0275\u0275template(24,Fh,7,5,"div",46),f.\u0275\u0275elementStart(25,"form",47),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275template(26,Th,7,4,"div",46),f.\u0275\u0275elementStart(27,"div",48),f.\u0275\u0275elementStart(28,"button",49),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().reset()}),f.\u0275\u0275text(29),f.\u0275\u0275pipe(30,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(31,"button",50),f.\u0275\u0275text(32),f.\u0275\u0275pipe(33,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(35,Mh,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",!e.update),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.update),f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngModel",e.selectedLevel),f.\u0275\u0275advance(1),f.\u0275\u0275property("disabled",e.update),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,23,"setting.Country")),f.\u0275\u0275advance(2),f.\u0275\u0275property("disabled",e.update),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(15,25,"setting.Region")),f.\u0275\u0275advance(2),f.\u0275\u0275property("disabled",e.update),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(18,27,"setting.City")),f.\u0275\u0275advance(2),f.\u0275\u0275property("disabled",e.update),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(21,29,"setting.District")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf","Region"===e.selectedLevel||"City"===e.selectedLevel||"District"===e.selectedLevel),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","City"===e.selectedLevel||"District"===e.selectedLevel),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","District"===e.selectedLevel),f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e.addressForm),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.selectedLevel),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(30,31,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(33,33,"button.save"))}}function Ah(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",51),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"button.add_type"),""))}function Ph(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",51),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"button.update_type"),""))}function Bh(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",34),f.\u0275\u0275elementStart(1,"div",35),f.\u0275\u0275template(2,Ah,3,3,"h5",36),f.\u0275\u0275template(3,Ph,3,3,"h5",36),f.\u0275\u0275elementStart(4,"button",37),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).close()}),f.\u0275\u0275elementStart(5,"span",38),f.\u0275\u0275text(6,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",39),f.\u0275\u0275elementStart(8,"form",47),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmitType()}),f.\u0275\u0275elementStart(9,"div",52),f.\u0275\u0275elementStart(10,"label"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"div"),f.\u0275\u0275element(14,"input",54),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",52),f.\u0275\u0275elementStart(16,"label",55),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(19,"input",56),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"div",48),f.\u0275\u0275elementStart(21,"button",49),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().resetType()}),f.\u0275\u0275text(22),f.\u0275\u0275pipe(23,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"button",50),f.\u0275\u0275text(25),f.\u0275\u0275pipe(26,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(20,Mh,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",!e.update),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.update),f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(4),f.\u0275\u0275property("formGroup",e.typeForm),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(12,12,"setting.name"),""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(18,14,"setting.Primary"),""),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(23,16,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(26,18,"button.save"))}}const Nh=function(){return[5,10,20,50,100]};let Rh=(()=>{class e{constructor(e,t,n,i,r,a,o,s,d,c){this.modal=e,this.router=t,this.dialog=n,this.cdr=i,this.settingsService=r,this.formBuilder=a,this.devToolsServices=o,this.translate=s,this.library=d,this.customerAddressService=c,this.update=!1,this.groupePaginationEntity=new Md,this.ngxLoadingAnimationTypes=l.Sn,this.primaryColour="var(--primary)",this.config={animationType:l.Sn.none,primaryColour:this.primaryColour},this.addressListEntity=[],this.addressListValue=[[]],this.addressList=[],this.addressIndex=0,this.selectedLevel="",this.addressType=[]}ngOnInit(){this.cols=[{field:"Country",header:"setting.Country"},{field:"Region",header:"setting.Region"},{field:"City",header:"setting.City"},{field:"District",header:"setting.District"}],this.settingValueCols=[{field:"Type",header:"setting.Type"},{field:"Primary",header:"setting.Primary"}],this.selectedColumns=this.cols,this.settingValueSelectedColumns=this.settingValueCols,this.customerAddressService.getAddressList(this.addressList).subscribe(e=>{this.addressListEntity=e,this.addressListEntity.forEach(e=>{if(0===e.parentAddressListID){const t=new Zo.M;t.addressListId=e.addressListID,this.customerAddressService.getAddressAllListValue(t).subscribe(e=>{e.length>0&&(this.addressListValue[this.addressIndex]=e)})}})}),this.customerAddressService.getAllAddressType().subscribe(e=>{this.addressType=e})}createForm(){this.addressForm=this.formBuilder.group({parentId:[0],addressListId:[0],tableAbacusName:[""],idExtern:[0],name:[""],valueJson:[""],enabled:[!0]})}createFormType(){this.typeForm=this.formBuilder.group({addressTypeID:[0],name:[""],primaryAddressType:[0],enabled:[!0]})}addAddress(){this.update=!1,this.clearForm(),this.createForm(),this.modal.open(this.modalContent,{size:"md"})}addType(){this.update=!1,this.clearFormType(),this.createFormType(),this.modal.open(this.modalTypeContent,{size:"md"})}onSelectionChange(e){this.selectedLevel=e,this.selectedCountry="",this.selectedRegion="",this.selectedCity="",this.selectedDistrict=""}onSubmit(){if(this.addressForm.valid){const e=(e,t,n)=>{this.addressForm.controls.parentId.setValue(e),this.addressForm.controls.tableAbacusName.setValue(t),this.addressForm.controls.addressListId.setValue(n)};this.update?{Country:()=>e(0,"AddressListValue",this.addressListEntity.find(e=>e.name.includes("Country")).addressListID),Region:()=>e(this.selectedCountry.addressListValueID,"AddressListValue",this.addressListEntity.find(e=>e.name.includes("Region")).addressListID),City:()=>e(this.selectedRegion.addressListValueID,"AddressListValue",this.addressListEntity.find(e=>e.name.includes("City")).addressListID),District:()=>e(this.selectedCity.addressListValueID,"AddressListValue",this.addressListEntity.find(e=>e.name.includes("District")).addressListID)}[this.selectedLevel]?.():({Country:()=>e(0,"AddressListValue",this.addressListEntity.find(e=>e.name.includes("Country")).addressListID),Region:()=>e(this.selectedCountry.addressListValueID,"AddressListValue",this.addressListEntity.find(e=>e.name.includes("Region")).addressListID),City:()=>e(this.selectedRegion.addressListValueID,"AddressListValue",this.addressListEntity.find(e=>e.name.includes("City")).addressListID),District:()=>e(this.selectedCity.addressListValueID,"AddressListValue",this.addressListEntity.find(e=>e.name.includes("District")).addressListID)}[this.selectedLevel]?.(),this.addressForm.controls.idExtern.setValue(Date.now()));let t=JSON.stringify({addressListValueID:this.addressForm.controls.idExtern.value,name:this.addressForm.controls.name.value,addressListID:this.addressForm.controls.addressListId.value,parentAddressListValueID:this.addressForm.controls.parentId.value,code:"0",cUAccountPortfolioId:0},null,0);this.addressForm.controls.valueJson.setValue(t);const n=new Zo.M;n.valueJson=this.addressForm.controls.valueJson.value,n.idExtern=this.addressForm.controls.idExtern.value,n.parentId=this.addressForm.controls.parentId.value,n.tableAbacusName=this.addressForm.controls.tableAbacusName.value,n.addressListId=this.addressForm.controls.addressListId.value,(this.update?this.customerAddressService.updateAdresseSetting(n):this.customerAddressService.saveAdresseSetting(n)).subscribe(e=>{this.selectedLevel.toLowerCase(),this[`selected${this.selectedLevel}`]=e;const t=this.addressListValue[0].findIndex(t=>t.addressListValueID===e.addressListValueID);-1!==t&&this.addressListValue[0].splice(t,1),this.addressListValue[0].push(e),this.loadList(e,this.selectedLevel),this.closeModale()})}}editAddress(e){this.update=!0,this.createForm();const t=[{level:"Country",selected:this.selectedCountry,nameKey:"nameCountry"},{level:"Region",selected:this.selectedRegion,nameKey:"nameRegion"},{level:"City",selected:this.selectedCity,nameKey:"nameCity"},{level:"District",selected:this.selectedDistrict,nameKey:"nameDistrict"}];for(const{level:n,selected:i,nameKey:r}of t)i&&(this.selectedLevel=n,this.addressForm.controls.idExtern.setValue(i.addressListValueID),this.addressForm.controls.parentId.setValue(i.parentAddressListValueID),this.addressForm.controls.name.setValue(e[r]));this.modal.open(this.modalContent,{size:"md"})}enableDisable(){let e;const t=["District","City","Region","Country"];for(const n of t)if(this[`selected${n}`]){e=this[`selected${n}`];break}if(e){const n=new Zo.M;n.idExtern=e.addressListValueID,n.enabled=e.enabled,this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.disable_environnemet").afterClosed().subscribe(i=>{if(i&&(this.customerAddressService.deleteAdresseSetting(n).subscribe(),t.find(t=>this[`selected${t}`]===e))){const t=this.addressListValue[0].findIndex(t=>t.addressListValueID===e.addressListValueID);-1!==t&&this.addressListValue[0].splice(t,1),e.enabled=!e.enabled,this.addressListValue[0].push(e),this.loadList(e,this.selectedLevel)}})}}enableDisableType(e){this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.disable_environnemet").afterClosed().subscribe(t=>{t&&this.customerAddressService.deleteTypeAdresseSetting(e).subscribe()})}editType(e){this.update=!0,this.createFormType(),this.typeForm.controls.addressTypeID.setValue(e.addressTypeID),this.typeForm.controls.primaryAddressType.setValue(e.primaryAddressType),this.typeForm.controls.name.setValue(e.name),this.typeForm.controls.enabled.setValue(e.enabled),this.modal.open(this.modalTypeContent,{size:"md"})}clearForm(){this.addressForm=this.formBuilder.group({parentId:[""],addressListId:[""],tableAbacusName:[""],idExtern:[""],valueJson:[""]})}clearFormType(){this.typeForm=this.formBuilder.group({addressTypeID:[0],name:[""],primaryAddressType:[0],enabled:[!0]})}closeModale(){this.modal.dismissAll(),this.clearForm(),this.selectedLevel=""}closeModaleType(){this.modal.dismissAll(),this.clearFormType()}reset(){this.modal.dismissAll(),this.clearForm(),this.selectedCountry="",this.selectedRegion="",this.selectedCity="",this.selectedDistrict="",this.selectedLevel=""}resetType(){this.modal.dismissAll(),this.clearFormType()}getDirection(){return Se.y.direction}loadList(e,t){if(e){"Country"===t&&(this.selectedRegion=null,this.selectedCity=null,this.selectedDistrict=null),"Region"===t&&(this.selectedCity=null,this.selectedDistrict=null),"City"===t&&(this.selectedDistrict=null);const n=this.addressListEntity.find(t=>t.parentAddressListID===e.addressListID),i=new Zo.M;i.addressListId=n?.addressListID??null,i.parentId=e.addressListValueID,this.customerAddressService.getAddressAllListValue(i).subscribe(e=>{e.forEach(e=>{this.addressListValue[0].some(t=>t.addressListValueID===e.addressListValueID)||this.addressListValue[0].push(e)})})}}getFilteredList(){const e={nameCountry:this.selectedCountry?.name||"---",nameRegion:this.selectedRegion?.name||"---",nameCity:this.selectedCity?.name||"---",nameDistrict:this.selectedDistrict?.name||"---"};return this.selectedDistrict?e.isEnabled=this.selectedDistrict.enabled:this.selectedCity?e.isEnabled=this.selectedCity.enabled:this.selectedRegion?e.isEnabled=this.selectedRegion.enabled:this.selectedCountry&&(e.isEnabled=this.selectedCountry.enabled),this.selectedCountry?[e]:[]}onSubmitType(){if(this.typeForm.valid){this.update||this.typeForm.controls.addressTypeID.setValue(Date.now());let e=JSON.stringify({addressTypeID:this.typeForm.controls.addressTypeID.value,name:this.typeForm.controls.name.value,primaryAddressType:this.typeForm.controls.primaryAddressType.value?1:0},null,0);const t=new Zo.M;t.valueJson=e,t.idExtern=this.typeForm.controls.addressTypeID.value,t.parentId=null,t.tableAbacusName="AddressType",t.addressListId=0,(this.update?this.customerAddressService.updateAdresseSetting(t):this.customerAddressService.saveAdresseSetting(t)).subscribe(e=>{this.customerAddressService.getAllAddressType().subscribe(e=>{this.addressType=e,this.closeModaleType()})})}}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(x.F0),f.\u0275\u0275directiveInject(di.uw),f.\u0275\u0275directiveInject(f.ChangeDetectorRef),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(tl.U))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-address"]],viewQuery:function(e,t){if(1&e&&(f.\u0275\u0275viewQuery(Kg,7),f.\u0275\u0275viewQuery(Wg,7),f.\u0275\u0275viewQuery(qg,5)),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.modalContent=e.first),f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.modalTypeContent=e.first),f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.ngxLoadingComponent=e.first)}},decls:31,vars:39,consts:[[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[1,"mx-2",3,"icon"],["addressForm","","sortMode","multiple",3,"responsive","autoLayout","value","lazy","lazyLoadOnInit","rowsPerPageOptions","paginator","pageLinks","rows","columns"],["dt",""],["pTemplate","header"],["pTemplate","body"],[1,"lnr-paw","text-secondary","pr-2"],["modalContent",""],["modalTypeContent",""],["style","text-align: center; vertical-align: middle;",3,"pSortableColumn",4,"ngFor","ngForOf"],[2,"width","40px"],[2,"text-align","center","vertical-align","middle",3,"pSortableColumn"],[2,"text-align","center","vertical-align","middle"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],["type","checkbox",1,"custom-control-input","mx-1",3,"checked"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","switch-handle-width","ngModelChange","click"],[1,"btn","btn-warning","text-white",3,"click"],[3,"icon"],["class","text-center",3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"text-center",3,"pSortableColumn"],[1,"center-elem","text-center"],[1,"pl-1",3,"field"],[3,"ngSwitch"],["class","form-control",3,"ngModel","ngModelChange","change",4,"ngSwitchCase"],[1,"form-control",3,"ngModel","ngModelChange","change"],["disabled","","selected","",3,"ngValue"],[4,"ngFor","ngForOf"],[3,"ngValue",4,"ngIf"],[3,"ngValue"],[3,"click"],[3,"dir","ngClass"],[1,"modal-header","py-2"],["class","modal-title",4,"ngIf"],["type","button",3,"click"],["aria-hidden","true"],[1,"card-body"],[1,"position-relative","pb-4",2,"display","flex","justify-content","center","gap","30px"],[2,"display","flex","justify-content","center",3,"ngModel","ngModelChange","change"],["value","Country",2,"margin-right","20px",3,"disabled"],["value","Region",2,"margin-right","20px",3,"disabled"],["value","City",2,"margin-right","20px",3,"disabled"],["value","District",2,"margin-right","20px",3,"disabled"],["class","position-relative pb-4",4,"ngIf"],[1,"form",3,"formGroup","ngSubmit"],[1,"modal-footer","py-1"],["type","reset",1,"mb-2","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-2","btn","btn-primary"],[1,"modal-title"],[1,"position-relative","pb-4"],[4,"ngIf"],["formControlName","name",1,"form-control"],[1,"form-check-label","me-3"],["type","checkbox","formControlName","primaryAddressType",1,"form-check-input"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275elementStart(2,"div"),f.\u0275\u0275elementStart(3,"button",2),f.\u0275\u0275listener("click",function(){return t.addType()}),f.\u0275\u0275element(4,"fa-icon",3),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"p-table",4,5),f.\u0275\u0275template(9,Yg,4,1,"ng-template",6),f.\u0275\u0275template(10,Xg,1,1,"ng-template",7),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(11,"br"),f.\u0275\u0275elementStart(12,"div",0),f.\u0275\u0275elementStart(13,"div",1),f.\u0275\u0275elementStart(14,"div"),f.\u0275\u0275element(15,"i",8),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(18,"div"),f.\u0275\u0275elementStart(19,"button",2),f.\u0275\u0275listener("click",function(){return t.addAddress()}),f.\u0275\u0275element(20,"fa-icon",3),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(23,"p-table",4,5),f.\u0275\u0275template(25,uh,8,2,"ng-template",6),f.\u0275\u0275template(26,hh,1,1,"ng-template",7),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(27,Vh,34,37,"ng-template",null,9,f.\u0275\u0275templateRefExtractor),f.\u0275\u0275template(29,Bh,27,22,"ng-template",null,10,f.\u0275\u0275templateRefExtractor)),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(6,31,"button.add_type")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("responsive",!0)("autoLayout",!0)("value",t.addressListValue)("lazy",!0)("lazyLoadOnInit",!1)("rowsPerPageOptions",f.\u0275\u0275pureFunction0(37,Nh))("paginator",!0)("pageLinks",5)("rows",10)("columns",t.settingValueSelectedColumns),f.\u0275\u0275advance(9),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(17,33,"setting.address-setting")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(22,35,"button.add_address")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("responsive",!0)("autoLayout",!0)("value",t.addressListValue)("lazy",!0)("lazyLoadOnInit",!1)("rowsPerPageOptions",f.\u0275\u0275pureFunction0(38,Nh))("paginator",!0)("pageLinks",5)("rows",10)("columns",t.selectedColumns))},directives:[p.BN,a.iA,b.jx,r.NgForOf,a.lQ,C.oH,I.U,c.JJ,c.On,a.fz,r.NgSwitch,r.NgSwitchCase,c.EJ,c.YN,c.Kr,r.NgIf,Oe.Lv,r.NgClass,fn.VQ,fn.U0,c._Y,c.JL,c.sg,C.MU,le.jv,c.Fj,c.u,le.wj,c.Wl],pipes:[s.X$],styles:[""]}),e})();const Oh=["modalContent"];function jh(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"th",9),f.\u0275\u0275elementStart(1,"div",10),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("pSortableColumn",e),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,2,e.header)," ")}}function Gh(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275template(1,jh,4,4,"th",7),f.\u0275\u0275element(2,"th",8),f.\u0275\u0275element(3,"th",8),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275property("ngForOf",e.selectedColumns)}}function Uh(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.valueJson.name," ")}}function $h(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr",11),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275elementStart(4,"select",12),f.\u0275\u0275template(5,Uh,2,1,"option",13),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"td"),f.\u0275\u0275elementStart(7,"bSwitch",14),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e).$implicit.enabled=t})("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().enableDisableList(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"td"),f.\u0275\u0275elementStart(9,"button",15),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().editList(t)}),f.\u0275\u0275element(10,"fa-icon",16),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();f.\u0275\u0275property("pSelectableRow",e),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(e.valueJson.name),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngForOf",n.getChildren(e.id)),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("switch-handle-width",40),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt"))}}function Jh(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",23),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"setting.new_list")," "))}function zh(e,t){1&e&&(f.\u0275\u0275elementStart(0,"h5",23),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"setting.modify_list")," "))}function Kh(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",24),f.\u0275\u0275elementStart(1,"span",25),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,1,"setting.list_details")))}function Wh(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"form",26),f.\u0275\u0275elementStart(1,"div",27),f.\u0275\u0275elementStart(2,"div",28),f.\u0275\u0275elementStart(3,"div",29),f.\u0275\u0275elementStart(4,"label"),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",30),f.\u0275\u0275element(8,"input",31),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275property("formGroup",e.settingListForm),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(6,2,"setting.name"))}}function qh(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",24),f.\u0275\u0275elementStart(1,"span",25),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,1,"setting.list_values")))}function Hh(e,t){1&e&&(f.\u0275\u0275elementStart(0,"th"),f.\u0275\u0275text(1),f.\u0275\u0275pipe(2,"translate"),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(2,1,"setting.Primary")," "))}function Yh(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"th"),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(4,Hh,3,3,"th",39),f.\u0275\u0275element(5,"th"),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(3);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(3,2,"setting.value")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.hasPrimaryField)}}function Qh(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"td"),f.\u0275\u0275elementStart(1,"bSwitch",43),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).$implicit.valueJson.primary=t})("ngModelChange",function(t){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275nextContext(2).rowIndex;return f.\u0275\u0275nextContext(3).onPrimaryChange(t,n)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2).$implicit;f.\u0275\u0275advance(1),f.\u0275\u0275property("ngModel",e.valueJson.primary)("switch-size","mini")("switch-animate",!0)("switch-off-color","danger")("switch-handle-width",40)}}function Xh(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275elementStart(2,"input",40),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().$implicit.valueJson.name=t}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(3,Qh,2,5,"td",39),f.\u0275\u0275elementStart(4,"td"),f.\u0275\u0275elementStart(5,"button",41),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext().rowIndex;return f.\u0275\u0275nextContext(3).disableItem(t)}),f.\u0275\u0275element(6,"i",42),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.valueJson.name),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",void 0!==(null==e.valueJson?null:e.valueJson.primary))}}function Zh(e,t){1&e&&f.\u0275\u0275template(0,Xh,7,2,"tr",39),2&e&&f.\u0275\u0275property("ngIf",t.$implicit.enabled)}const ef=function(){return{width:"100%"}};function tf(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",32),f.\u0275\u0275elementStart(1,"button",33),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).addToList()}),f.\u0275\u0275element(2,"fa-icon",34),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"p-table",35),f.\u0275\u0275template(6,Yh,6,4,"ng-template",4),f.\u0275\u0275template(7,Zh,1,1,"ng-template",5),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"div",36),f.\u0275\u0275elementStart(9,"button",37),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext().$implicit;return f.\u0275\u0275nextContext().reset(),t.dismiss()}),f.\u0275\u0275text(10),f.\u0275\u0275pipe(11,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"button",38),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).saveUdfGroup()}),f.\u0275\u0275text(13),f.\u0275\u0275pipe(14,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("d-inline-flex align-items-center btn btn-primary ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(1),f.\u0275\u0275property("icon",e.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,9,"button.add_list_values")," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("value",e.updateChildSettingList)("tableStyle",f.\u0275\u0275pureFunction0(15,ef)),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(11,11,"button.cancel")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(14,13,"button.save")," ")}}const nf=function(){return[0,1]};function rf(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",17),f.\u0275\u0275template(2,Jh,3,3,"h5",18),f.\u0275\u0275template(3,zh,3,3,"h5",18),f.\u0275\u0275elementStart(4,"button",19),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).$implicit.dismiss()}),f.\u0275\u0275elementStart(5,"span",20),f.\u0275\u0275text(6,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div"),f.\u0275\u0275elementStart(8,"p-accordion",21),f.\u0275\u0275elementStart(9,"p-accordionTab"),f.\u0275\u0275template(10,Kh,4,3,"ng-template",4),f.\u0275\u0275template(11,Wh,9,4,"ng-template",22),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(12,"p-accordionTab"),f.\u0275\u0275template(13,qh,4,3,"ng-template",4),f.\u0275\u0275template(14,tf,15,16,"ng-template",22),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",!e.update),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.update),f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(4),f.\u0275\u0275property("activeIndex",f.\u0275\u0275pureFunction0(7,nf))("multiple",!0)}}const af=function(){return[5,10,20,50,100]};let of=(()=>{class e{constructor(e,t,n,i,r,a,o,l,s){this.modal=e,this.router=t,this.dialog=n,this.cdr=i,this.settingsService=r,this.formBuilder=a,this.devToolsServices=o,this.translate=l,this.library=s,this.settingList=[],this.filteredSettings=[],this.updateSettingList=null,this.updateChildSettingList=[],this.update=!1}ngOnInit(){this.cols=[{field:"ListName",header:"setting.ListName"},{field:"ListValue",header:"setting.ListValue"}],this.selectedColumns=this.cols;const e=new hp.N;this.settingsService.findListSetting(e).subscribe(e=>{this.settingList=e.map(e=>({...e,valueJson:JSON.parse(e.valueJson)})),this.filteredSettings=this.settingList.filter(e=>0===e.valueJson?.parentListID)})}createForm(){this.settingListForm=this.formBuilder.group({id:[],valueJson:this.formBuilder.group({name:["",c.kI.required],parentListID:[0]}),enabled:[!0]})}enableDisableList(e){this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog.disable_environnemet").afterClosed().subscribe(t=>{e.valueJson=JSON.stringify(e.valueJson),this.settingsService.saveListSetting(e).subscribe(),this.ngOnInit()})}addList(){this.update=!1,this.updateChildSettingList=[],this.createForm(),this.settingListForm.patchValue({valueJson:{name:"",parentListID:0},enabled:!0}),this.modal.open(this.modalContent,{size:"xl"})}getChildren(e){return this.settingList.filter(t=>t.valueJson?.parentListID===e&&t.enabled)}editList(e){this.update=!0,this.updateSettingList=e,this.updateChildSettingList=this.getChildren(this.updateSettingList.id),this.createForm(),this.settingListForm.patchValue({id:e.id,valueJson:{name:e.valueJson?.name,parentListID:e.valueJson?.parentListID},enabled:e.enabled}),this.modal.open(this.modalContent,{size:"xl"})}disableItem(e){this.updateChildSettingList[e].id?this.updateChildSettingList[e].enabled=!1:this.updateChildSettingList.splice(e,1)}addToList(){"nationality"===this.settingListForm.get("valueJson.name")?.value?.toLowerCase()?this.updateChildSettingList.push({valueJson:{name:"",parentListID:this.settingListForm.get("id")?.value,primary:!1},enabled:!0}):this.updateChildSettingList.push({valueJson:{name:"",parentListID:this.settingListForm.get("id")?.value},enabled:!0})}saveUdfGroup(){var e=this;return(0,m.Z)(function*(){if(e.devToolsServices.makeFormAsTouched(e.settingListForm),e.settingListForm.invalid)return e.devToolsServices.InvalidControl(),void e.devToolsServices.openToast(3,"alert.check-data");for(const t of e.updateChildSettingList)if(!t.valueJson.name||""===t.valueJson.name.trim())return void e.devToolsServices.openToast(3,"alert.setting_list_value_vide");if(e.update)e.updateChildSettingList.push(e.settingListForm.value),e.updateChildSettingList=e.updateChildSettingList.map(e=>({...e,valueJson:JSON.stringify(e.valueJson)})),yield e.settingsService.saveAllListSetting(e.updateChildSettingList).toPromise();else{e.settingListForm.value.valueJson=JSON.stringify(e.settingListForm.value.valueJson);const t=yield e.settingsService.saveListSetting(e.settingListForm.value).toPromise();e.updateChildSettingList=e.updateChildSettingList.map(e=>(e.valueJson.parentListID=t.id,e.valueJson=JSON.stringify(e.valueJson),e)),yield e.settingsService.saveAllListSetting(e.updateChildSettingList).toPromise()}e.devToolsServices.openToast(0,"alert.success"),e.modal.dismissAll(),e.updateChildSettingList=[],e.settingListForm.reset(),e.ngOnInit()})()}reset(){this.updateChildSettingList=[],this.settingListForm.reset()}get hasPrimaryField(){return"nationality"===this.settingListForm.get("valueJson.name")?.value?.toLowerCase()}primaryItem(e){const t=this.updateChildSettingList[e];t?.valueJson&&(t.valueJson.primary=!0!==t.valueJson.primary)}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(x.F0),f.\u0275\u0275directiveInject(di.uw),f.\u0275\u0275directiveInject(f.ChangeDetectorRef),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(p.by))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting-list"]],viewQuery:function(e,t){if(1&e&&f.\u0275\u0275viewQuery(Oh,7),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.modalContent=e.first)}},decls:9,vars:14,consts:[[1,"card"],[1,"card-header","d-flex","justify-content-between"],["sortMode","multiple",3,"responsive","autoLayout","value","lazy","lazyLoadOnInit","rowsPerPageOptions","paginator","pageLinks","rows","columns"],["dt",""],["pTemplate","header"],["pTemplate","body"],["modalContent",""],["class","text-center",3,"pSortableColumn",4,"ngFor","ngForOf"],[2,"width","40px"],[1,"text-center",3,"pSortableColumn"],[1,"center-elem","text-center"],[3,"pSelectableRow"],[1,"form-select"],[4,"ngFor","ngForOf"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","switch-handle-width","ngModelChange","click"],[1,"btn","btn-warning","text-white",3,"click"],[3,"icon"],[1,"modal-header","py-2"],["class","modal-title",4,"ngIf"],["type","button",3,"click"],["aria-hidden","true"],[1,"w-full",3,"activeIndex","multiple"],["pTemplate","content"],[1,"modal-title"],[1,"flex","align-items-center"],[1,"vertical-align-middle"],[1,"form",3,"formGroup"],[1,"position-relative","pb-4"],[1,"row"],[1,"col-xl-6","col-md-6","col-md-6","px-1"],["formGroupName","valueJson"],["type","text","formControlName","name","disabled","",1,"form-control"],[1,"btn-actions-pane-right","d-flex","justify-content-between"],[3,"click"],[1,"mx-2",3,"icon"],[3,"value","tableStyle"],[1,"modal-footer","py-1"],["type","button",1,"mb-2","mx-2","btn","btn-outline-danger","close",3,"click"],["type","submit",1,"mb-2","btn","btn-primary",3,"click"],[4,"ngIf"],["type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-danger",3,"click"],[1,"pe-7s-trash","btn-icon-wrapper","text-white"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","switch-handle-width","ngModelChange"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275element(2,"div"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"p-table",2,3),f.\u0275\u0275template(5,Gh,4,1,"ng-template",4),f.\u0275\u0275template(6,$h,11,9,"ng-template",5),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(7,rf,15,8,"ng-template",null,6,f.\u0275\u0275templateRefExtractor)),2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(1),f.\u0275\u0275property("responsive",!0)("autoLayout",!0)("value",t.filteredSettings)("lazy",!1)("lazyLoadOnInit",!1)("rowsPerPageOptions",f.\u0275\u0275pureFunction0(13,af))("paginator",!0)("pageLinks",5)("rows",10)("columns",t.selectedColumns))},directives:[a.iA,b.jx,r.NgForOf,a.lQ,a.Ei,I.U,c.JJ,c.On,p.BN,c.YN,c.Kr,r.NgIf,mg,pg,c._Y,c.JL,c.sg,C.MU,le.jv,c.x0,c.Fj,C.oH,c.u,le.wj,c.Q7],pipes:[s.X$],styles:[""]}),e})();var lf=n(34214),sf=n(99738),df=n(17420);function cf(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"tr"),f.\u0275\u0275elementStart(1,"td"),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"td"),f.\u0275\u0275text(4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"td"),f.\u0275\u0275text(6),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"td"),f.\u0275\u0275elementStart(8,"button",15),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit,n=f.\u0275\u0275nextContext(),i=f.\u0275\u0275reference(47);return n.updateReportingSetting(i,t)}),f.\u0275\u0275element(9,"fa-icon",16),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"button",17),f.\u0275\u0275listener("click",function(){const t=f.\u0275\u0275restoreView(e).$implicit;return f.\u0275\u0275nextContext().disableReportingSetting(t)}),f.\u0275\u0275element(11,"fa-icon",16),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=f.\u0275\u0275nextContext();f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",e.reportName," "),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",e.sqlProcedureName," "),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",e.filterItemsValues," "),f.\u0275\u0275advance(3),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","pencil-alt")),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",n.library.getIconDefinition("fas","trash"))}}const pf=function(e){return{"text-end":e}};function mf(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",18),f.\u0275\u0275elementStart(1,"div",19),f.\u0275\u0275elementStart(2,"h5",20),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",21),f.\u0275\u0275elementStart(6,"span",22),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"form",23),f.\u0275\u0275elementStart(9,"div",24),f.\u0275\u0275elementStart(10,"div",25),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",26),f.\u0275\u0275element(15,"input",27),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"div",25),f.\u0275\u0275elementStart(17,"label"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"div",26),f.\u0275\u0275element(21,"input",28),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(22,"div",29),f.\u0275\u0275elementStart(23,"label"),f.\u0275\u0275text(24),f.\u0275\u0275pipe(25,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(26,"p-multiSelect",30),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"div",29),f.\u0275\u0275elementStart(28,"label"),f.\u0275\u0275text(29),f.\u0275\u0275pipe(30,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(31,"p-multiSelect",31),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(32,"div",32),f.\u0275\u0275elementStart(33,"button",33),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModal()}),f.\u0275\u0275text(34),f.\u0275\u0275pipe(35,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(36,"button",34),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().saveReportingSetting()}),f.\u0275\u0275text(37),f.\u0275\u0275pipe(38,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(35,pf,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,21,"update"===e.action?"reporting.update-reporting-setting":"reporting.add-reporting-setting"),""),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.reportingSettingForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,23,"reporting.report_name")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,25,"reporting.procedure_name")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(25,27,"reporting.filter_items")),f.\u0275\u0275advance(2),f.\u0275\u0275property("filter",!1)("options",e.filterItems)("styleClass","full-width")("required",e.displayMultiSelect),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(30,29,"reporting.authorized-group")),f.\u0275\u0275advance(2),f.\u0275\u0275property("filter",!1)("options",e.groupEntities)("styleClass","full-width")("required",e.displayMultiSelect),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(35,31,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(38,33,"button.save"))}}let uf=(()=>{class e{constructor(e,t,n,i,r,a,o,l,s,d){this.translate=e,this.library=t,this.fb=n,this.settingsService=i,this.modal=r,this.devToolsServices=a,this.reportServices=o,this.sharedService=l,this.customerManagementService=s,this.chartOfAccountsService=d,this.displayMultiSelect=!1,this.reportingSettingList=[],this.action="create",this.currentUser=new ss.H,this.connectedUserGroups=""}ngOnInit(){this.pageSize=10,this.page=1,this.connectedUserGroups="",this.currentUser=this.sharedService.getUser(),this.currentUser.groupes.map(e=>this.connectedUserGroups=this.connectedUserGroups+e.code+";"),this.filterItems=[{key:"valueDate",value:"Value Date From / To"},{key:"glAccountCategory",value:"GL Account Category"},{key:"glAccounts",value:"GL Account"},{key:"products",value:"Product"},{key:"loanOfficiers",value:"Loan Officer"},{key:"issueDate",value:"Issue Date From / To"},{key:"customerName",value:"Customer Name"},{key:"customerNumber",value:"Customer Number"},{key:"accountNumber",value:"Account Number"},{key:"loanStatus",value:"Loan Status"},{key:"branches",value:"Branches"}],this.settingsService.findAllGroup().subscribe(e=>{this.groupEntities=e});let e=new lf.N;e.authorizedGroups=this.connectedUserGroups,this.reportServices.findReportingSetting(e).subscribe(e=>{this.reportingSettingList=e.map(e=>({...e,filterItemsValues:this.getFilterItemsValue(e.filterItems)}))})}getFilterItemsValue(e){return e.split(";").map(e=>{const t=this.filterItems.find(t=>t.key.split(";").includes(e));return t?t.value:""}).filter(e=>e).join(" ; ")}getFilterItem(e){return e?e.split(";").map(e=>this.filterItems.find(t=>t.key.split(";").includes(e))||null).filter(e=>e):null}getGroups(e){if(e){let t=e.split(";"),n=[];return t.forEach(e=>{let t=this.groupEntities.filter(t=>t.code===e)[0];t&&n.push(t)}),n}return null}createForm(e){this.reportingSettingForm=this.fb.group({reportName:[e?.reportName,[jt.MS]],sqlProcedureName:[e?.sqlProcedureName,[jt.MS]],filterItems:[this.getFilterItem(e?.filterItems),[jt.MS]],authorizedGroups:[this.getGroups(e?.authorizedGroups),[jt.MS]]})}addReportingSetting(e){this.action="create",this.reportingSetting=new lf.N,this.createForm(new lf.N),this.modal.open(e)}updateReportingSetting(e,t){this.action="update",this.reportingSetting=t,this.createForm(this.reportingSetting),this.modal.open(e)}closeModal(){this.modal.dismissAll()}getDirection(){return Se.y.direction}saveReportingSetting(){this.devToolsServices.makeFormAsTouched(this.reportingSettingForm),this.reportingSettingForm.valid&&(this.reportingSetting.reportName=this.reportingSettingForm.controls.reportName.value,this.reportingSetting.sqlProcedureName=this.reportingSettingForm.controls.sqlProcedureName.value,this.reportingSetting.filterItems=this.reportingSettingForm.controls.filterItems.value.map(e=>e.key).join(";"),this.reportingSetting.authorizedGroups=this.reportingSettingForm.controls.authorizedGroups.value.map(e=>e.code).join(";"),this.reportServices.saveReportingSetting(this.reportingSetting).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.modal.dismissAll(),this.ngOnInit()}))}disableReportingSetting(e){this.reportingSetting=e,this.reportingSetting.enabled=!1,this.devToolsServices.openConfirmDialogWithoutRedirect("reporting.delete-reporting-setting").afterClosed().subscribe(e=>{e&&this.reportServices.saveReportingSetting(this.reportingSetting).subscribe(e=>{this.devToolsServices.openToast(0,"alert.success"),this.ngOnInit()})})}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(p.by),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(sf.r),f.\u0275\u0275directiveInject(y.F),f.\u0275\u0275directiveInject(Dc.n),f.\u0275\u0275directiveInject(df.g))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-core-reporting-setting"]],decls:48,vars:46,consts:[[1,"main-card","mb-2","card"],[1,"card-header"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[2,"margin-right","7px",3,"icon"],[1,"table-responsive"],[1,"mb-0","t","table","table-hover"],[4,"ngFor","ngForOf"],[1,"card-footer","pb-0"],[1,"row","no-gutters","w-100"],[1,"col-xl-6","col-lg-6","col-md-12"],["size","sm",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],[1,"d-flex","justify-content-lg-end"],["name","pageSize",1,"custom-select",2,"width","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["modalContent",""],[1,"btn","btn-sm","btn-success","text-white","mx-1",3,"click"],[1,"mx-2",3,"icon"],[1,"btn","btn-sm","btn-danger","text-white",3,"click"],[3,"dir","ngClass"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button"],["aria-hidden","true",3,"click"],[1,"form",3,"formGroup"],[1,"card-body"],[1,"position-relative","pb-4"],[1,"form-group"],["type","text","formControlName","reportName",1,"form-control"],["type","text","formControlName","sqlProcedureName",1,"form-control"],[1,"position-relative","form-group"],["formControlName","filterItems","optionLabel","value",3,"filter","options","styleClass","required"],["formControlName","authorizedGroups","optionLabel","libelle",3,"filter","options","styleClass","required"],[1,"modal-footer"],["type","reset",1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-1","btn","btn-primary",3,"click"]],template:function(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275elementStart(5,"button",2),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const n=f.\u0275\u0275reference(47);return t.addReportingSetting(n)}),f.\u0275\u0275element(6,"fa-icon",3),f.\u0275\u0275text(7),f.\u0275\u0275pipe(8,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div"),f.\u0275\u0275elementStart(10,"div",4),f.\u0275\u0275elementStart(11,"table",5),f.\u0275\u0275elementStart(12,"thead"),f.\u0275\u0275elementStart(13,"tr"),f.\u0275\u0275elementStart(14,"th"),f.\u0275\u0275text(15),f.\u0275\u0275pipe(16,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"th"),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"th"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(23,"th"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"tbody"),f.\u0275\u0275template(25,cf,12,5,"tr",6),f.\u0275\u0275pipe(26,"slice"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(27,"div",7),f.\u0275\u0275elementStart(28,"div",8),f.\u0275\u0275elementStart(29,"div",9),f.\u0275\u0275elementStart(30,"ngb-pagination",10),f.\u0275\u0275listener("pageChange",function(e){return t.page=e}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(31,"div",9),f.\u0275\u0275elementStart(32,"div",11),f.\u0275\u0275elementStart(33,"select",12),f.\u0275\u0275listener("ngModelChange",function(e){return t.pageSize=e}),f.\u0275\u0275elementStart(34,"option",13),f.\u0275\u0275text(35),f.\u0275\u0275pipe(36,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"option",13),f.\u0275\u0275text(38),f.\u0275\u0275pipe(39,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(40,"option",13),f.\u0275\u0275text(41),f.\u0275\u0275pipe(42,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(43,"option",13),f.\u0275\u0275text(44),f.\u0275\u0275pipe(45,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(46,mf,39,37,"ng-template",null,14,f.\u0275\u0275templateRefExtractor)}2&e&&(f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,24,"reporting.report_list")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",t.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(8,26,"setting.setting_configuration_product.add")," "),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(16,28,"reporting.report_name")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,30,"reporting.procedure_name")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,32,"reporting.filter_items")),f.\u0275\u0275advance(4),f.\u0275\u0275property("ngForOf",f.\u0275\u0275pipeBind3(26,34,t.reportingSettingList,(t.page-1)*t.pageSize,(t.page-1)*t.pageSize+t.pageSize)),f.\u0275\u0275advance(5),f.\u0275\u0275property("collectionSize",null==t.reportingSettingList?null:t.reportingSettingList.length)("page",t.page)("pageSize",t.pageSize)("maxSize",3)("boundaryLinks",!0),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngModel",t.pageSize),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngValue",5),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(36,38,"pagination.5_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",10),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(39,40,"pagination.10_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",20),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(42,42,"pagination.20_item")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngValue",50),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(45,44,"pagination.50_item")))},directives:[p.BN,r.NgForOf,o.N9,c.EJ,c.JJ,c.On,c.YN,c.Kr,Oe.Lv,r.NgClass,c._Y,c.JL,c.sg,C.MU,le.jv,C.HK,c.Fj,C.oH,c.u,le.wj,hn.NU,c.Q7],pipes:[s.X$,r.SlicePipe],styles:[""]}),e})();const gf=["fileInput"],hf=["generalConfig","productConfig","productGuarantar","productTopup","productEligibility","productGuarantee","productIscore","productDocumentCreation","productFilters","productCurrency","productPriority"];function ff(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",28),f.\u0275\u0275element(1,"app-setting-sms"),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275property("ngClass",!0===e.expandedSettingSMS?"collapse show":"collapse")}}const vf=function(){return{width:"98%"}},Sf=function(){return{width:"2%"}};function yf(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",7),f.\u0275\u0275element(2,"app-setting-synchronize-calendar"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"div",7),f.\u0275\u0275element(4,"app-customer-setting"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div",7),f.\u0275\u0275element(6,"app-setting-notification"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",7),f.\u0275\u0275element(8,"app-charge-fee"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div",7),f.\u0275\u0275element(10,"app-motifs-rejet"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"div",7),f.\u0275\u0275element(12,"app-apr-setting"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"div",7),f.\u0275\u0275element(14,"app-claims-customer"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",7),f.\u0275\u0275element(16,"app-environment"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(17,"div",7),f.\u0275\u0275element(18,"app-setting-level"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"div",13),f.\u0275\u0275elementStart(20,"div",14),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().toggleCollapseSMSSetting()}),f.\u0275\u0275elementStart(21,"div"),f.\u0275\u0275element(22,"i",15),f.\u0275\u0275text(23),f.\u0275\u0275pipe(24,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(25,"div"),f.\u0275\u0275element(26,"i",16),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(27,ff,2,1,"div",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(28,"div",7),f.\u0275\u0275element(29,"app-setting-reset-data"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(30,"div",7),f.\u0275\u0275element(31,"app-setting-client"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(32,"div",7),f.\u0275\u0275element(33,"app-renewal-condition-settings"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(34,"div",7),f.\u0275\u0275element(35,"app-setting-type-risk"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(36,"div",7),f.\u0275\u0275element(37,"app-journal-entry-type"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(38,"div",7),f.\u0275\u0275element(39,"app-currency-setting"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(40,"div",7),f.\u0275\u0275element(41,"app-closed-days-setting"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(42,"div",7),f.\u0275\u0275element(43,"app-holidays-setting"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(44,"div",18),f.\u0275\u0275elementStart(45,"div",19),f.\u0275\u0275text(46),f.\u0275\u0275pipe(47,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(48,"div",20),f.\u0275\u0275elementStart(49,"div",21),f.\u0275\u0275elementStart(50,"div",22),f.\u0275\u0275elementStart(51,"div",23),f.\u0275\u0275text(52),f.\u0275\u0275pipe(53,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(54,"div",24),f.\u0275\u0275elementStart(55,"button",25),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().refreshIssuedLoans()}),f.\u0275\u0275text(56),f.\u0275\u0275pipe(57,"translate"),f.\u0275\u0275element(58,"i",26),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(59,"div",22),f.\u0275\u0275elementStart(60,"div",23),f.\u0275\u0275text(61),f.\u0275\u0275pipe(62,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(63,"div",24),f.\u0275\u0275elementStart(64,"button",25),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().refreshCancelledLoans()}),f.\u0275\u0275text(65),f.\u0275\u0275pipe(66,"translate"),f.\u0275\u0275element(67,"i",26),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(68,"div",22),f.\u0275\u0275elementStart(69,"div",23),f.\u0275\u0275text(70),f.\u0275\u0275pipe(71,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(72,"div",24),f.\u0275\u0275elementStart(73,"button",25),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(),n=f.\u0275\u0275reference(35);return t.synchronizeModal(n)}),f.\u0275\u0275text(74),f.\u0275\u0275pipe(75,"translate"),f.\u0275\u0275element(76,"i",26),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(77,"div",27),f.\u0275\u0275elementStart(78,"div",22),f.\u0275\u0275elementStart(79,"div",23),f.\u0275\u0275text(80),f.\u0275\u0275pipe(81,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(82,"div",24),f.\u0275\u0275elementStart(83,"button",25),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().synchCustomers()}),f.\u0275\u0275text(84),f.\u0275\u0275pipe(85,"translate"),f.\u0275\u0275element(86,"i",26),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(87,"div",22),f.\u0275\u0275elementStart(88,"div",23),f.\u0275\u0275text(89),f.\u0275\u0275pipe(90,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(91,"div",24),f.\u0275\u0275elementStart(92,"button",25),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().synchPortfolio()}),f.\u0275\u0275text(93),f.\u0275\u0275pipe(94,"translate"),f.\u0275\u0275element(95,"i",26),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(96,"div",22),f.\u0275\u0275elementStart(97,"div",23),f.\u0275\u0275text(98),f.\u0275\u0275pipe(99,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(100,"div",24),f.\u0275\u0275elementStart(101,"button",25),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().synchCustomerBranches()}),f.\u0275\u0275text(102),f.\u0275\u0275pipe(103,"translate"),f.\u0275\u0275element(104,"i",26),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(105,"div",27),f.\u0275\u0275elementStart(106,"div",22),f.\u0275\u0275elementStart(107,"div",23),f.\u0275\u0275text(108),f.\u0275\u0275pipe(109,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(110,"div",24),f.\u0275\u0275elementStart(111,"button",25),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().synchCollections()}),f.\u0275\u0275text(112),f.\u0275\u0275pipe(113,"translate"),f.\u0275\u0275element(114,"i",26),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(115,"div",22),f.\u0275\u0275elementStart(116,"div",23),f.\u0275\u0275text(117),f.\u0275\u0275pipe(118,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(119,"div",24),f.\u0275\u0275elementStart(120,"button",25),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(),n=f.\u0275\u0275reference(37);return t.openchargeOffModal(n)}),f.\u0275\u0275text(121),f.\u0275\u0275pipe(122,"translate"),f.\u0275\u0275element(123,"i",26),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(124,"div",22),f.\u0275\u0275elementStart(125,"div",23),f.\u0275\u0275text(126),f.\u0275\u0275pipe(127,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(128,"div",24),f.\u0275\u0275elementStart(129,"button",25),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().runAML()}),f.\u0275\u0275text(130),f.\u0275\u0275pipe(131,"translate"),f.\u0275\u0275element(132,"i",26),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(133,"div",27),f.\u0275\u0275elementStart(134,"div",22),f.\u0275\u0275elementStart(135,"div",23),f.\u0275\u0275text(136),f.\u0275\u0275pipe(137,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(138,"div",24),f.\u0275\u0275elementStart(139,"button",25),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().runDoubtfulLoan()}),f.\u0275\u0275text(140),f.\u0275\u0275pipe(141,"translate"),f.\u0275\u0275element(142,"i",26),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275advance(21),f.\u0275\u0275styleMap(f.\u0275\u0275pureFunction0(72,vf)),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(24,28,"setting.setting-SMS"),""),f.\u0275\u0275advance(2),f.\u0275\u0275styleMap(f.\u0275\u0275pureFunction0(73,Sf)),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngClass",!0===e.expandedSettingSMS?"lnr-chevron-up text-secondary":"lnr-chevron-down text-secondary"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!0===e.expandedSettingSMS),f.\u0275\u0275advance(19),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(47,30,"setting.synchronize_loans")," "),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(53,32,"setting.synchronize_issued_loans")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(57,34,"button.synchronize")," "),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(62,36,"setting.synchronize_cancelled_loans")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(66,38,"button.synchronize")," "),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(71,40,"setting.synchronize_loan_by_account_number")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(75,42,"button.synchronize")," "),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(81,44,"setting.synchronize_customer")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(85,46,"button.synchronize")," "),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(90,48,"setting.synchronize_portfolio")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(94,50,"button.synchronize")," "),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(99,52,"setting.synchronize_customers_branches")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(103,54,"button.synchronize")," "),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(109,56,"setting.synchronize_collections")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(113,58,"button.synchronize")," "),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(118,60,"Charge_OFF")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(122,62,"upload_CSV_File")," "),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(127,64,"setting.run_aml")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(131,66,"button.run")," "),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(137,68,"setting.run_Doubtful_loan")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(141,70,"button.run")," ")}}function xf(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"button",35),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).toggleIsEditMode()}),f.\u0275\u0275element(1,"fa-icon",36),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275property("ngClass",e.isEditMode?"btn-success":"btn-warning"),f.\u0275\u0275advance(1),f.\u0275\u0275property("icon",e.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,3,"setting.add_new_product")," ")}}function Ef(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",45),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.description," ")}}const bf=function(){return{standalone:!0}};function Cf(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",46),f.\u0275\u0275element(1,"label"),f.\u0275\u0275elementStart(2,"div",47),f.\u0275\u0275elementStart(3,"div",39),f.\u0275\u0275elementStart(4,"label",48),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"bSwitch",49),f.\u0275\u0275listener("ngModelChange",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(3).enabled=t})("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(3).EnableProduct()}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(3);f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(6,6,"setting.enable_product")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngModel",e.enabled)("switch-size","small")("switch-animate",!0)("ngModelOptions",f.\u0275\u0275pureFunction0(8,bf))("switch-off-color","danger")}}const If=function(e,t){return{"col-md-8":e,"col-md-12":t}};function wf(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",20),f.\u0275\u0275elementStart(1,"form",37),f.\u0275\u0275elementStart(2,"div",21),f.\u0275\u0275elementStart(3,"div",16),f.\u0275\u0275elementStart(4,"div",38),f.\u0275\u0275elementStart(5,"label"),f.\u0275\u0275text(6),f.\u0275\u0275pipe(7,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"div",39),f.\u0275\u0275elementStart(9,"select",40,41),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).selectProduct()}),f.\u0275\u0275elementStart(11,"option",42),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(14,Ef,2,2,"option",43),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(15,Cf,8,9,"div",44),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e.productForm),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction2(10,If,e.productSelected,!e.productSelected)),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(7,6,"setting.product")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,8,"setting.select_product")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.productEntitys),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.productSelected)}}function Ff(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",7),f.\u0275\u0275element(1,"app-setting-product-general-configuration",50,51),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("productEntity",e.productEntity)("isEditMode",e.isEditMode)}}function _f(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",7),f.\u0275\u0275element(1,"app-setting-product-configuration",52,53),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("productEntity",e.productEntity)}}function Lf(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",7),f.\u0275\u0275element(1,"app-guarantar-collateral",50,54),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("productEntity",e.productEntity)("isEditMode",e.isEditMode)}}function Df(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",7),f.\u0275\u0275element(1,"app-setting-topup-product",50,55),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("productEntity",e.productEntity)("isEditMode",e.isEditMode)}}function kf(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",7),f.\u0275\u0275element(1,"app-product-eligibility",50,56),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("productEntity",e.productEntity)("isEditMode",e.isEditMode)}}function Tf(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",7),f.\u0275\u0275element(1,"app-product-guarantee",50,57),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("productEntity",e.productEntity)("isEditMode",e.isEditMode)}}function Mf(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",7),f.\u0275\u0275element(1,"app-setting-iscore-aml",50,58),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("productEntity",e.productEntity)("isEditMode",e.isEditMode)}}function Vf(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",7),f.\u0275\u0275element(1,"app-product-filters",50,59),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("productEntity",e.productEntity)("isEditMode",e.isEditMode)}}function Af(e,t){if(1&e&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275element(1,"app-setting-document-type-product",52),f.\u0275\u0275elementContainerEnd()),2&e){const e=f.\u0275\u0275nextContext(3);f.\u0275\u0275advance(1),f.\u0275\u0275property("productEntity",e.productEntity)}}function Pf(e,t){if(1&e&&f.\u0275\u0275element(0,"app-setting-document-product-creation",52,62),2&e){const e=f.\u0275\u0275nextContext(3);f.\u0275\u0275property("productEntity",e.productEntity)}}function Bf(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",7),f.\u0275\u0275template(1,Af,2,1,"ng-container",60),f.\u0275\u0275template(2,Pf,2,1,"ng-template",null,61,f.\u0275\u0275templateRefExtractor),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275reference(3),t=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.isEditMode)("ngIfElse",e)}}function Nf(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",7),f.\u0275\u0275element(1,"app-product-currency-setting",50,63),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("productEntity",e.productEntity)("isEditMode",e.isEditMode)}}function Rf(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",7),f.\u0275\u0275element(1,"app-payment-priority-setting",50,64),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("productEntity",e.productEntity)("isEditMode",e.isEditMode)}}function Of(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",65),f.\u0275\u0275elementStart(1,"div"),f.\u0275\u0275elementStart(2,"button",66),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).toggleIsEditMode()}),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",67),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).createProduct()}),f.\u0275\u0275text(6),f.\u0275\u0275pipe(7,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(4,5,"button.cancel")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(7,7,"button.create_new_product")," ")}}function jf(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"mat-tab",6),f.\u0275\u0275pipe(1,"translate"),f.\u0275\u0275elementStart(2,"div",29),f.\u0275\u0275elementStart(3,"div",30),f.\u0275\u0275elementStart(4,"div",19),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementStart(7,"div"),f.\u0275\u0275template(8,xf,4,5,"button",31),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(9,wf,16,13,"div",32),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(10,Ff,3,2,"div",33),f.\u0275\u0275template(11,_f,3,1,"div",33),f.\u0275\u0275template(12,Lf,3,2,"div",33),f.\u0275\u0275template(13,Df,3,2,"div",33),f.\u0275\u0275template(14,kf,3,2,"div",33),f.\u0275\u0275template(15,Tf,3,2,"div",33),f.\u0275\u0275template(16,Mf,3,2,"div",33),f.\u0275\u0275template(17,Vf,3,2,"div",33),f.\u0275\u0275template(18,Bf,4,2,"div",33),f.\u0275\u0275template(19,Nf,3,2,"div",33),f.\u0275\u0275template(20,Rf,3,2,"div",33),f.\u0275\u0275template(21,Of,8,9,"div",34),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("label",f.\u0275\u0275pipeBind1(1,19,"setting.setting_product")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(6,21,e.isEditMode?"setting.select_product":"setting.add_new_product")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.isEditMode),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.isEditMode),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",null!=e.productEntity||null!=e.productEntity),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",null!=e.productEntity||null!=e.productEntity),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",null!=e.productEntity||null!=e.productEntity),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",null!=e.productEntity||null!=e.productEntity),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",null!=e.productEntity||null!=e.productEntity),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",null!=e.productEntity||null!=e.productEntity),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",null!=e.productEntity||null!=e.productEntity),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",null!=e.productEntity||null!=e.productEntity),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",null!=e.productEntity||null!=e.productEntity),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",null!=e.productEntity||null!=e.productEntity),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",null!=e.productEntity||null!=e.productEntity),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!e.isEditMode)}}function Gf(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",7),f.\u0275\u0275element(2,"app-setting-document-type"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(3,"div",7),f.\u0275\u0275elementStart(4,"div",30),f.\u0275\u0275elementStart(5,"div",19),f.\u0275\u0275text(6),f.\u0275\u0275pipe(7,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"div",20),f.\u0275\u0275elementStart(9,"div",21),f.\u0275\u0275text(10),f.\u0275\u0275pipe(11,"translate"),f.\u0275\u0275elementStart(12,"button",68),f.\u0275\u0275element(13,"fa-icon",69),f.\u0275\u0275text(14),f.\u0275\u0275pipe(15,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(7,6,"setting.save_ged_documents")," "),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate2(" ",f.\u0275\u0275pipeBind1(11,8,"setting.ged_document")," : ",e.countEnabledDocuments," "),f.\u0275\u0275advance(2),f.\u0275\u0275property("disabled",0===e.countEnabledDocuments),f.\u0275\u0275advance(1),f.\u0275\u0275property("icon",e.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(15,10,"button.synchronize")," ")}}function Uf(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"mat-tab",6),f.\u0275\u0275pipe(1,"translate"),f.\u0275\u0275template(2,Gf,16,12,"div",8),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("label",f.\u0275\u0275pipeBind1(1,2,"setting.setting_ged")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.settingDMSLoading)}}function $f(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",7),f.\u0275\u0275element(2,"app-setting-users"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd())}function Jf(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"mat-tab",6),f.\u0275\u0275pipe(1,"translate"),f.\u0275\u0275template(2,$f,3,0,"div",8),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("label",f.\u0275\u0275pipeBind1(1,2,"setting.setting_user")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.settingUserLoading)}}function zf(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",7),f.\u0275\u0275element(2,"app-groupe"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd())}function Kf(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"mat-tab",6),f.\u0275\u0275pipe(1,"translate"),f.\u0275\u0275template(2,zf,3,0,"div",8),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("label",f.\u0275\u0275pipeBind1(1,2,"setting.setting_group")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.settingGroupLoading)}}function Wf(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",7),f.\u0275\u0275element(2,"app-habilitation"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd())}function qf(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"mat-tab",6),f.\u0275\u0275pipe(1,"translate"),f.\u0275\u0275template(2,Wf,3,0,"div",8),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("label",f.\u0275\u0275pipeBind1(1,2,"setting.setting_habilitation")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.settingAccessLoading)}}function Hf(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",7),f.\u0275\u0275element(2,"app-branches-setting"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd())}function Yf(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"mat-tab",6),f.\u0275\u0275pipe(1,"translate"),f.\u0275\u0275template(2,Hf,3,0,"div",8),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("label",f.\u0275\u0275pipeBind1(1,2,"setting.branches-setting.branches-setting")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.settingBranches)}}function Qf(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",7),f.\u0275\u0275element(2,"app-financial-category-setting"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd())}function Xf(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"mat-tab",6),f.\u0275\u0275pipe(1,"translate"),f.\u0275\u0275template(2,Qf,3,0,"div",8),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("label",f.\u0275\u0275pipeBind1(1,2,"setting.financial-category-setting.financial-category-setting")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.settingFinancialCategory)}}function Zf(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",7),f.\u0275\u0275element(2,"app-setting-aml-check-and-doubtful-tx"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd())}function ev(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"mat-tab",6),f.\u0275\u0275pipe(1,"translate"),f.\u0275\u0275template(2,Zf,3,0,"div",8),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("label",f.\u0275\u0275pipeBind1(1,2,"setting.setting_aml")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.settingAMLLoading)}}function tv(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",7),f.\u0275\u0275element(2,"app-setting-blacklist"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd())}function nv(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"mat-tab",6),f.\u0275\u0275pipe(1,"translate"),f.\u0275\u0275template(2,tv,3,0,"div",8),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("label",f.\u0275\u0275pipeBind1(1,2,"setting.setting-blacklist")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.settingBlacklistLoading)}}function iv(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",7),f.\u0275\u0275element(2,"app-setting-aml",70),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275property("navigationMode",e.navigationMode)}}function rv(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"mat-tab",6),f.\u0275\u0275pipe(1,"translate"),f.\u0275\u0275template(2,iv,3,1,"div",8),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("label",f.\u0275\u0275pipeBind1(1,2,"setting.aml_setting.aml_setting_tab")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.settingIscoreLoading)}}function av(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",7),f.\u0275\u0275element(2,"app-setting-field"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd())}function ov(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"mat-tab",6),f.\u0275\u0275pipe(1,"translate"),f.\u0275\u0275template(2,av,3,0,"div",8),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("label",f.\u0275\u0275pipeBind1(1,2,"setting.setting_field")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.settingFieldLoading)}}function lv(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",45),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.description," ")}}function sv(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",7),f.\u0275\u0275element(1,"app-setting-level-process",74),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("productEntity",e.productEntityWorkflow)("productEntitys",e.productEntitys)}}function dv(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"mat-tab",6),f.\u0275\u0275pipe(1,"translate"),f.\u0275\u0275elementStart(2,"div",30),f.\u0275\u0275elementStart(3,"div",19),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"div",20),f.\u0275\u0275elementStart(7,"form",37),f.\u0275\u0275elementStart(8,"div",21),f.\u0275\u0275elementStart(9,"div",71),f.\u0275\u0275elementStart(10,"label"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"div",39),f.\u0275\u0275elementStart(14,"select",72,41),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().selectProductWorkflow()}),f.\u0275\u0275elementStart(16,"option",73),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(19,lv,2,2,"option",43),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(20,sv,2,2,"div",33),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("label",f.\u0275\u0275pipeBind1(1,8,"setting.setting_workflow")),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(5,10,"setting.select_product")," "),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.productWorkflowForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,12,"setting.product")),f.\u0275\u0275advance(5),f.\u0275\u0275property("selected",null===e.productEntityWorkflow),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(18,14,"setting.select_product")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.productEntitys),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",null!=e.productEntityWorkflow||null!=e.productEntityWorkflow)}}function cv(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"button",78),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(3),n=f.\u0275\u0275reference(33);return t.addConfiguration(n,"ADD")}),f.\u0275\u0275element(1,"fa-icon",36),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(3);f.\u0275\u0275advance(1),f.\u0275\u0275property("icon",e.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,2,"setting.setting_configuration_product.add")," ")}}function pv(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"button",79),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(e);const t=f.\u0275\u0275nextContext(3),n=f.\u0275\u0275reference(33);return t.addConfiguration(n,"UPDATE")}),f.\u0275\u0275element(1,"fa-icon",36),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(3);f.\u0275\u0275advance(1),f.\u0275\u0275property("icon",e.library.getIconDefinition("fas","plus")),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,2,"setting.setting_configuration_product.edit")," ")}}function mv(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"option",45),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;f.\u0275\u0275property("ngValue",e),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate1(" ",e.name," ")}}function uv(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",30),f.\u0275\u0275elementStart(1,"div",19),f.\u0275\u0275text(2),f.\u0275\u0275pipe(3,"translate"),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275template(5,cv,4,4,"button",76),f.\u0275\u0275template(6,pv,4,4,"button",77),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(7,"div",20),f.\u0275\u0275elementStart(8,"form",37),f.\u0275\u0275elementStart(9,"div",21),f.\u0275\u0275elementStart(10,"div",71),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",39),f.\u0275\u0275elementStart(15,"select",72,41),f.\u0275\u0275listener("change",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext(2).selectProductWorkflow()}),f.\u0275\u0275elementStart(17,"option",73),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(20,mv,2,2,"option",43),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(3,11,"setting.generic_workflow")," "),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("btn-actions-pane-right ACM-header-right-",e.translate.currentLang,""),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",!e.productEntityWorkflow),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",e.productEntityWorkflow),f.\u0275\u0275advance(2),f.\u0275\u0275property("formGroup",e.productWorkflowForm),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(13,13,"setting.product")),f.\u0275\u0275advance(5),f.\u0275\u0275property("selected",null===e.productEntityWorkflow),f.\u0275\u0275advance(1),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,15,"setting.select_product")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngForOf",e.genericWorkflowObjects)}}function gv(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"div",7),f.\u0275\u0275element(1,"app-setting-generic-workflow",74),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275property("productEntity",e.productEntityWorkflow)("productEntitys",e.genericWorkflowObjects)}}function hv(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"mat-tab",6),f.\u0275\u0275pipe(1,"translate"),f.\u0275\u0275template(2,uv,21,17,"div",75),f.\u0275\u0275template(3,gv,2,2,"div",33),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("label",f.\u0275\u0275pipeBind1(1,3,"setting.generic_workflow")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.settinggGenericWorkflow),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",null!=e.productEntityWorkflow||null!=e.productEntityWorkflow)}}function fv(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",7),f.\u0275\u0275element(2,"app-setting-udf"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd())}function vv(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"mat-tab",6),f.\u0275\u0275pipe(1,"translate"),f.\u0275\u0275template(2,fv,3,0,"div",8),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("label",f.\u0275\u0275pipeBind1(1,2,"setting.setting_udf")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.settingUDFLoading)}}function Sv(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",7),f.\u0275\u0275element(2,"app-setting-address"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd())}function yv(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"mat-tab",6),f.\u0275\u0275pipe(1,"translate"),f.\u0275\u0275template(2,Sv,3,0,"div",8),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("label",f.\u0275\u0275pipeBind1(1,2,"setting.address-setting")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.settingAddress)}}function xv(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",7),f.\u0275\u0275element(2,"app-setting-list"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd())}function Ev(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"mat-tab",6),f.\u0275\u0275pipe(1,"translate"),f.\u0275\u0275template(2,xv,3,0,"div",8),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("label",f.\u0275\u0275pipeBind1(1,2,"setting.list-setting")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.settingList)}}function bv(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div"),f.\u0275\u0275elementStart(1,"div",7),f.\u0275\u0275element(2,"app-core-reporting-setting"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd())}function Cv(e,t){if(1&e&&(f.\u0275\u0275elementStart(0,"mat-tab",6),f.\u0275\u0275pipe(1,"translate"),f.\u0275\u0275template(2,bv,3,0,"div",8),f.\u0275\u0275elementEnd()),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("label",f.\u0275\u0275pipeBind1(1,2,"reporting.reporting-setting")),f.\u0275\u0275advance(2),f.\u0275\u0275property("ngIf",e.settingReporting)}}const Iv=function(e){return{"text-end":e}};function wv(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",80),f.\u0275\u0275elementStart(1,"div",81),f.\u0275\u0275elementStart(2,"h5",82),f.\u0275\u0275text(3),f.\u0275\u0275pipe(4,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"button",83),f.\u0275\u0275elementStart(6,"span",84),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(7,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"form",85),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onSubmit()}),f.\u0275\u0275elementStart(9,"div",86),f.\u0275\u0275elementStart(10,"label"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(13,"div",87),f.\u0275\u0275element(14,"input",88),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(15,"div",89),f.\u0275\u0275elementStart(16,"button",90),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().closeModale()}),f.\u0275\u0275text(17),f.\u0275\u0275pipe(18,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(19,"button",91),f.\u0275\u0275text(20),f.\u0275\u0275pipe(21,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(18,Iv,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(4,10,"setting.setting_configuration_product.name")),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(3),f.\u0275\u0275property("formGroup",e.productDetailsForm),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(12,12,"setting-generic_workflow.name"),""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(18,14,"button.cancel")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(21,16,"button.save"))}}function Fv(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",80),f.\u0275\u0275elementStart(1,"form",92),f.\u0275\u0275listener("ngSubmit",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().synchronizeLoan()}),f.\u0275\u0275elementStart(2,"div",81),f.\u0275\u0275elementStart(3,"h4",82),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"button",93),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).dismiss("Cross click")}),f.\u0275\u0275elementStart(7,"span",94),f.\u0275\u0275text(8,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div",95),f.\u0275\u0275elementStart(10,"div",96),f.\u0275\u0275elementStart(11,"label"),f.\u0275\u0275text(12),f.\u0275\u0275pipe(13,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",39),f.\u0275\u0275element(15,"input",97),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(16,"div",98),f.\u0275\u0275elementStart(17,"button",99),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).close("Close click")}),f.\u0275\u0275text(18),f.\u0275\u0275pipe(19,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(20,"button",100),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(18,Iv,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",e.syncLoanForm),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(5,10,"setting.synchronize_loan_by_account_number")),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(13,12,"setting.account_number")," "),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(19,14,"button.close")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,16,"button.save"))}}function _v(e,t){if(1&e){const e=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"div",80),f.\u0275\u0275elementStart(1,"div",101),f.\u0275\u0275elementStart(2,"div",102),f.\u0275\u0275elementStart(3,"h5",82),f.\u0275\u0275text(4),f.\u0275\u0275pipe(5,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(6,"button",93),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).dismiss("Cross click")}),f.\u0275\u0275elementStart(7,"span",94),f.\u0275\u0275text(8,"\xd7"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(9,"div",103),f.\u0275\u0275elementStart(10,"input",104),f.\u0275\u0275listener("change",function(t){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().onFileSelected(t)}),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(11,"div",89),f.\u0275\u0275elementStart(12,"button",105),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e).close("Close click")}),f.\u0275\u0275text(13,"Close"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"button",106),f.\u0275\u0275listener("click",function(){return f.\u0275\u0275restoreView(e),f.\u0275\u0275nextContext().uploadFile()}),f.\u0275\u0275text(15),f.\u0275\u0275pipe(16,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()}if(2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275propertyInterpolate("dir",e.getDirection()),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction1(11,Iv,"ar"===e.translate.currentLang)),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(5,7,"upload_CSV_File")),f.\u0275\u0275advance(2),f.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),f.\u0275\u0275advance(9),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(16,9,"upload"))}}let Lv=(()=>{class e{constructor(e,t,n,i,r,a,o){this.settingsService=e,this.devToolsServices=t,this.sharedService=n,this.formBuilder=i,this.modalService=r,this.translate=a,this.library=o,this.currentJustify2="justified",this.csvData=null,this.productEntitys=[],this.productSelected=!1,this.acmDocumentsGedEntity=[],this.countEnabledDocuments=0,this.navigationMode="setting",this.active=1,this.isEditMode=!0,this.settingSystemLoading=!1,this.settingDMSLoading=!1,this.settingUserLoading=!1,this.settingGroupLoading=!1,this.settingAccessLoading=!1,this.settingIscoreLoading=!1,this.settingUDFLoading=!1,this.settingFieldLoading=!1,this.settingWorkFlowLoading=!1,this.settingAMLLoading=!1,this.settingBlacklistLoading=!1,this.settinggGenericWorkflow=!1,this.settingBranches=!1,this.settingFinancialCategory=!1,this.settingAddress=!1,this.settingList=!1,this.settingReporting=!1,this.dtoList=[],this.showUploadModal=!1,this.testExpiryDate=!1,this.today=new Date,this.testMac=!1,this.expandedSettingSMS=!0,this.genericWorkflowObjectForEdit=new xe.f,this.genericWorkflowObjects=[]}ngOnInit(){this.settingsService.getMacServer().subscribe(e=>{null!=this.sharedService.getActivationKey()||null!=this.sharedService.getActivationKey()?(this.mac=this.sharedService.getActivationKey().filter(e=>e.includes("MAC"))[0].split(":")[1],this.testMac=this.mac===e[0],this.expiryDate=this.sharedService.getActivationKey().filter(e=>e.includes("EXPIRYDATE"))[0].split(":")[1],this.expiryDate&&(this.expiryDate=new Date(this.expiryDate.substring(4),this.expiryDate.substring(2,4)-1,this.expiryDate.substring(0,2)),this.testExpiryDate=this.expiryDate>this.today),this.settingSystemLoading=!!this.testExpiryDate):this.settingsService.getEnvirementValueByKeys([h.J.KEY_LICENCE]).subscribe(e=>{null!==e&&(this.sharedService.setActivationKey(e.filter(e=>e.key===h.J.KEY_LICENCE)[0].value.split(",")),this.sharedService.setCreptedKey(e.filter(e=>e.key===h.J.KEY_LICENCE)[0].creptedKey),this.sharedService.setEnvironnementLicence(e.filter(e=>e.key===h.J.KEY_LICENCE)[0]),this.mac=this.sharedService.getActivationKey().filter(e=>e.includes("MAC"))[0].split(":")[1],this.expiryDate=this.sharedService.getActivationKey().filter(e=>e.includes("EXPIRYDATE"))[0].split(":")[1],this.expiryDate&&(this.expiryDate=new Date(this.expiryDate.substring(4),this.expiryDate.substring(2,4)-1,this.expiryDate.substring(0,2)),this.testExpiryDate=this.expiryDate>this.today),this.settingSystemLoading=!!this.testExpiryDate)}),this.createFormProduct(),this.productSelected=!1,this.userConnected=this.sharedService.getUser(),this.settingsService.getRefreshSettingConfiguration().subscribe(e=>{this.findAllProducts(),this.findAllGnericWfObject()}),this.createForm(),this.createFormWorkflow()})}findAllProducts(){this.settingsService.findAllProduct().subscribe(e=>{this.productEntitys=e})}createFormProduct(){this.productForm=this.formBuilder.group({selectedProduct:["",c.kI.required]})}createForm(){this.syncLoanForm=this.formBuilder.group({accountNumber:["",c.kI.required]})}createFormWorkflow(){this.productWorkflowForm=this.formBuilder.group({selectedProductWorkflow:["",jt.MS]})}selectProduct(){this.productEntity=this.productForm.controls.selectedProduct.value,this.productSelected=!0,this.enabled=this.productEntity.enabled}selectProductWorkflow(){this.productWorkflowForm.controls.selectedProductWorkflow.value?(this.productEntityWorkflow=this.productWorkflowForm.controls.selectedProductWorkflow.value,this.productSelected=!0,this.enabled=this.productEntityWorkflow.enabled):this.productEntityWorkflow=null}toggleCollapseSMSSetting(){this.expandedSettingSMS=!this.expandedSettingSMS}reset(){this.productEntity=null,this.productSelected=!1}EnableProduct(){null!=this.productEntity&&(this.productEntity.enabled=!this.productEntity.enabled,this.settingsService.updateProduct(this.productEntity).subscribe())}synchroniseLoans(){this.settingsService.synchroniseLoans().subscribe(e=>{null!==e&&(this.nbOfSyncLoans=e,this.devToolsServices.openToastArrayMessagesWithParameterInMiddle(0,["","synchronized_loans"],String(this.nbOfSyncLoans)))})}refreshIssuedLoans(){this.settingsService.synchroniseIssuedLoans().subscribe(e=>{null!==e&&(this.syncIssuedLoans=e,this.devToolsServices.openToastArrayMessagesWithParameterInMiddle(0,["","loan_synchronized"],String(this.syncIssuedLoans)))})}refreshCancelledLoans(){this.settingsService.synchroniseCancelledLoans().subscribe(e=>{null!==e&&(this.syncCancelledLoans=e,this.devToolsServices.openToastArrayMessagesWithParameterInMiddle(0,["","loan_synchronized"],String(this.syncCancelledLoans)))})}synchronizeModal(e){var t=this;return(0,m.Z)(function*(){t.createForm(),t.modalService.open(e,{size:"md"})})()}getDirection(){return Se.y.direction}synchronizeLoan(){this.syncLoanForm.valid&&this.settingsService.synchroniseLoanAccountNumber(this.syncLoanForm.controls.accountNumber.value).subscribe(e=>{null===e?this.devToolsServices.openToast(3,"alert.no_loan_founded"):(this.modalService.dismissAll(),this.devToolsServices.openToast(0,"alert.success"))})}synchCustomers(){this.settingsService.synchroniseCustomers().subscribe(e=>{null!==e&&this.devToolsServices.openToast(0,"alert.success")})}synchPortfolio(){this.settingsService.synchronisePortfolio().subscribe(e=>{null!==e&&this.devToolsServices.openToast(0,"alert.success")})}synchCustomerBranches(){this.settingsService.synchroniseCustomerBranches().subscribe(e=>{null!==e&&this.devToolsServices.openToast(0,"alert.success")})}synchCollections(){this.settingsService.synchroniseCollections().subscribe(e=>{null!==e&&this.devToolsServices.openToast(0,"alert.success")})}onTabChanged(e){switch(e.index){case 0:this.settingSystemLoading=!this.testExpiryDate,this.settingDMSLoading=!1,this.settingUserLoading=!1,this.settingGroupLoading=!1,this.settingAccessLoading=!1,this.settingIscoreLoading=!1,this.settingFieldLoading=!1,this.settingUDFLoading=!1,this.settingAMLLoading=!1,this.settingBlacklistLoading=!1,this.settinggGenericWorkflow=!1,this.settingBranches=!1,this.settingFinancialCategory=!1,this.settingAddress=!1,this.settingList=!1,this.settingReporting=!1;break;case 1:this.settingSystemLoading=!this.settingSystemLoading,this.settingDMSLoading=!1,this.settingUserLoading=!1,this.settingGroupLoading=!1,this.settingAccessLoading=!1,this.settingIscoreLoading=!1,this.settingFieldLoading=!1,this.settingUDFLoading=!1,this.settingAMLLoading=!1,this.settingBlacklistLoading=!1,this.settinggGenericWorkflow=!1,this.settingBranches=!1,this.settingFinancialCategory=!1,this.settingAddress=!1,this.settingList=!1,this.settingReporting=!1;break;case 2:this.settingDMSLoading=!this.settingDMSLoading,this.settingSystemLoading=!1,this.settingUserLoading=!1,this.settingGroupLoading=!1,this.settingAccessLoading=!1,this.settingIscoreLoading=!1,this.settingFieldLoading=!1,this.settingUDFLoading=!1,this.settingAMLLoading=!1,this.settingBlacklistLoading=!1,this.settinggGenericWorkflow=!1,this.settingBranches=!1,this.settingFinancialCategory=!1,this.settingAddress=!1,this.settingList=!1,this.settingReporting=!1;break;case 3:this.settingUserLoading=!this.settingUserLoading,this.settingSystemLoading=!1,this.settingDMSLoading=!1,this.settingGroupLoading=!1,this.settingAccessLoading=!1,this.settingIscoreLoading=!1,this.settingFieldLoading=!1,this.settingUDFLoading=!1,this.settingAMLLoading=!1,this.settingBlacklistLoading=!1,this.settinggGenericWorkflow=!1,this.settingBranches=!1,this.settingFinancialCategory=!1,this.settingAddress=!1,this.settingList=!1,this.settingReporting=!1;break;case 4:this.settingGroupLoading=!this.settingGroupLoading,this.settingSystemLoading=!1,this.settingDMSLoading=!1,this.settingUserLoading=!1,this.settingAccessLoading=!1,this.settingIscoreLoading=!1,this.settingFieldLoading=!1,this.settingUDFLoading=!1,this.settingAMLLoading=!1,this.settingBlacklistLoading=!1,this.settinggGenericWorkflow=!1,this.settingBranches=!1,this.settingFinancialCategory=!1,this.settingAddress=!1,this.settingList=!1,this.settingReporting=!1;break;case 5:this.settingAccessLoading=!this.settingAccessLoading,this.settingSystemLoading=!1,this.settingDMSLoading=!1,this.settingUserLoading=!1,this.settingGroupLoading=!1,this.settingIscoreLoading=!1,this.settingFieldLoading=!1,this.settingUDFLoading=!1,this.settingAMLLoading=!1,this.settingBlacklistLoading=!1,this.settinggGenericWorkflow=!1,this.settingBranches=!1,this.settingFinancialCategory=!1,this.settingAddress=!1,this.settingList=!1,this.settingReporting=!1;break;case 6:this.settingAccessLoading=!1,this.settingSystemLoading=!1,this.settingDMSLoading=!1,this.settingUserLoading=!1,this.settingGroupLoading=!1,this.settingIscoreLoading=!1,this.settingFieldLoading=!1,this.settingUDFLoading=!1,this.settingAMLLoading=!1,this.settingBlacklistLoading=!1,this.settinggGenericWorkflow=!1,this.settingBranches=!this.settingBranches,this.settingFinancialCategory=!1,this.settingAddress=!1,this.settingList=!1,this.settingReporting=!1;break;case 7:this.settingAccessLoading=!1,this.settingSystemLoading=!1,this.settingDMSLoading=!1,this.settingUserLoading=!1,this.settingGroupLoading=!1,this.settingIscoreLoading=!1,this.settingFieldLoading=!1,this.settingUDFLoading=!1,this.settingAMLLoading=!1,this.settingBlacklistLoading=!1,this.settinggGenericWorkflow=!1,this.settingBranches=!1,this.settingFinancialCategory=!this.settingFinancialCategory,this.settingAddress=!1,this.settingList=!1,this.settingReporting=!1;break;case 8:this.settingAMLLoading=!this.settingAMLLoading,this.settingAccessLoading=!1,this.settingSystemLoading=!1,this.settingDMSLoading=!1,this.settingUserLoading=!1,this.settingGroupLoading=!1,this.settingIscoreLoading=!1,this.settingFieldLoading=!1,this.settingUDFLoading=!1,this.settingBlacklistLoading=!1,this.settinggGenericWorkflow=!1,this.settingBranches=!1,this.settingFinancialCategory=!1,this.settingAddress=!1,this.settingList=!1,this.settingReporting=!1;break;case 9:this.settingBlacklistLoading=!this.settingBlacklistLoading,this.settingAccessLoading=!1,this.settingSystemLoading=!1,this.settingDMSLoading=!1,this.settingUserLoading=!1,this.settingGroupLoading=!1,this.settingIscoreLoading=!1,this.settingFieldLoading=!1,this.settingUDFLoading=!1,this.settingAMLLoading=!1,this.settinggGenericWorkflow=!1,this.settingBranches=!1,this.settingFinancialCategory=!1,this.settingAddress=!1,this.settingList=!1,this.settingReporting=!1;break;case 10:this.settingIscoreLoading=!this.settingIscoreLoading,this.settingSystemLoading=!1,this.settingDMSLoading=!1,this.settingUserLoading=!1,this.settingGroupLoading=!1,this.settingAccessLoading=!1,this.settingFieldLoading=!1,this.settingUDFLoading=!1,this.settingAMLLoading=!1,this.settingBlacklistLoading=!1,this.settinggGenericWorkflow=!1,this.settingBranches=!1,this.settingFinancialCategory=!1,this.settingAddress=!1,this.settingList=!1,this.settingReporting=!1;break;case 11:this.settingFieldLoading=!this.settingFieldLoading,this.settingSystemLoading=!1,this.settingDMSLoading=!1,this.settingUserLoading=!1,this.settingGroupLoading=!1,this.settingAccessLoading=!1,this.settingIscoreLoading=!1,this.settingUDFLoading=!1,this.settingAMLLoading=!1,this.settingBlacklistLoading=!1,this.settinggGenericWorkflow=!1,this.settingBranches=!1,this.settingFinancialCategory=!1,this.settingAddress=!1,this.settingList=!1,this.settingReporting=!1;break;case 12:this.createFormWorkflow(),this.productEntityWorkflow=null,this.settingSystemLoading=!1,this.settingDMSLoading=!1,this.settingUserLoading=!1,this.settingGroupLoading=!1,this.settingAccessLoading=!1,this.settingIscoreLoading=!1,this.settingFieldLoading=!1,this.settingUDFLoading=!1,this.settingAMLLoading=!1,this.settingBlacklistLoading=!1,this.settinggGenericWorkflow=!1,this.settingBranches=!1,this.settingFinancialCategory=!1,this.settingAddress=!1,this.settingList=!1,this.settingReporting=!1;break;case 13:this.settingFieldLoading=!1,this.settingSystemLoading=!1,this.settingDMSLoading=!1,this.settingUserLoading=!1,this.settingGroupLoading=!1,this.settingAccessLoading=!1,this.settingIscoreLoading=!1,this.settingAMLLoading=!1,this.settingUDFLoading=!1,this.settingBlacklistLoading=!1,this.settinggGenericWorkflow=!this.settinggGenericWorkflow,this.settingBranches=!1,this.settingFinancialCategory=!1,this.settingAddress=!1,this.settingList=!1,this.settingReporting=!1;break;case 14:this.settingFieldLoading=!1,this.settingSystemLoading=!1,this.settingDMSLoading=!1,this.settingUserLoading=!1,this.settingGroupLoading=!1,this.settingAccessLoading=!1,this.settingIscoreLoading=!1,this.settingAMLLoading=!1,this.settingBlacklistLoading=!1,this.settingUDFLoading=!this.settingUDFLoading,this.settinggGenericWorkflow=!1,this.settingBranches=!1,this.settingFinancialCategory=!1,this.settingAddress=!1,this.settingList=!1,this.settingReporting=!1;break;case 15:this.settingFieldLoading=!1,this.settingSystemLoading=!1,this.settingDMSLoading=!1,this.settingUserLoading=!1,this.settingGroupLoading=!1,this.settingAccessLoading=!1,this.settingIscoreLoading=!1,this.settingAMLLoading=!1,this.settingBlacklistLoading=!1,this.settingUDFLoading=!1,this.settinggGenericWorkflow=!1,this.settingBranches=!1,this.settingFinancialCategory=!1,this.settingAddress=!this.settingAddress,this.settingList=!1,this.settingReporting=!1;break;case 16:this.settingFieldLoading=!1,this.settingSystemLoading=!1,this.settingDMSLoading=!1,this.settingUserLoading=!1,this.settingGroupLoading=!1,this.settingAccessLoading=!1,this.settingIscoreLoading=!1,this.settingAMLLoading=!1,this.settingBlacklistLoading=!1,this.settingUDFLoading=!1,this.settinggGenericWorkflow=!1,this.settingBranches=!1,this.settingFinancialCategory=!1,this.settingAddress=!1,this.settingList=!this.settingList,this.settingReporting=!1;break;case 17:this.settingFieldLoading=!1,this.settingSystemLoading=!1,this.settingDMSLoading=!1,this.settingUserLoading=!1,this.settingGroupLoading=!1,this.settingAccessLoading=!1,this.settingIscoreLoading=!1,this.settingAMLLoading=!1,this.settingBlacklistLoading=!1,this.settingUDFLoading=!1,this.settinggGenericWorkflow=!1,this.settingBranches=!1,this.settingFinancialCategory=!1,this.settingAddress=!1,this.settingList=!1,this.settingReporting=!this.settingReporting}}onFileSelected(e){this.selectedFile=e.target.files[0],this.parseCSV(this.selectedFile)}uploadFile(){!this.selectedFile||(this.dtoList.length<=5e3?this.settingsService.sendDataCsvFileChargeOff(this.dtoList).subscribe(e=>{this.devToolsServices.openToast(0,"file_uploaded_successfully")},e=>{this.devToolsServices.openToast(1,"error_uploading_file")}):this.devToolsServices.openToast(3,"maximum_records"))}parseCSV(e){const t=new FileReader;t.onload=()=>{const e=t.result.split("\n"),n=e[0].trim().split("\t");for(let t=1;t<e.length;t++)if(e[t].trim().split("\t").length===n.length){const n=e[t].split(";"),i={cuAccountId:+n[0],orginalProductId:+n[1],chargeOffProductId:+n[2]};!isNaN(i.cuAccountId)&&!isNaN(i.orginalProductId)&&!isNaN(i.chargeOffProductId)&&this.dtoList.push(i)}},t.readAsText(e)}openFileUploadModal(){this.showUploadModal=!0}closeFileUploadModal(){this.showUploadModal=!1}openchargeOffModal(e){var t=this;return(0,m.Z)(function*(){t.dtoList=[],t.modalService.open(e,{size:"md"})})()}addConfiguration(e,t){this.createFormModalGenericWorkFlow(),this.operationType=t,"UPDATE"==t&&(this.productDetailsForm.controls.name.setValue(this.productWorkflowForm.controls.selectedProductWorkflow.value.name),this.genericWorkflowObjectForEdit=this.productWorkflowForm.controls.selectedProductWorkflow.value),this.modalService.open(e)}createFormModalGenericWorkFlow(){this.productWorkflowForm&&(this.productDetailsForm=this.formBuilder.group({name:["",c.kI.required]}))}closeModale(){this.modalService.dismissAll()}onSubmit(){if(this.devToolsServices.makeFormAsTouched(this.productDetailsForm),this.productDetailsForm.valid){let e=new xe.f;"UPDATE"===this.operationType?(e=this.genericWorkflowObjectForEdit,e.name=this.productDetailsForm.controls.name.value,this.productEntityWorkflow=null,this.appSettingGenericWorkflowComponent.ngOnInit()):e.name=this.productDetailsForm.controls.name.value,this.settingsService.saveWorkFlowObject(e).subscribe(e=>{this.findAllGnericWfObject(),this.closeModale()})}}findAllGnericWfObject(){this.settingsService.findWorkFlowObjects().subscribe(e=>{this.genericWorkflowObjects=e})}runAML(){this.settingsService.runAML().subscribe(e=>{null!==e&&this.devToolsServices.openToast(0,"alert.success")})}runDoubtfulLoan(){this.settingsService.runDoubtfulLoan().subscribe(e=>{null!==e&&this.devToolsServices.openToast(0,"alert.success")})}toggleIsEditMode(){this.isEditMode?(this.initializeProductEntity(),this.productForm.controls.selectedProduct.setValue(""),this.isEditMode=!1):(this.productEntity=null,this.isEditMode=!0)}initializeProductEntity(){this.productEntity=new ye.J,this.productEntity.code="",this.productEntity.description="",this.productEntity.minimumTerm=0,this.productEntity.productIndiv=!0,this.productEntity.productGrp=!1,this.productEntity.productOrg=!0,this.productEntity.refinance=!0,this.productEntity.supplier=!1,this.productEntity.disburse=!1,this.productEntity.isFrequency=!0,this.productEntity.isFrequencyWithDeferredPeriode=!0,this.productEntity.rate=0,this.productEntity.minimumBalance=0,this.productEntity.minimumAge=0,this.productEntity.minimumDeferredPeriod=0,this.productEntity.enabled=!1,this.productEntity.roundType="",this.productEntity.topup=!1,this.productEntity.settingTopup=null,this.productEntity.productDetailsDTOs=[]}createProduct(){let e=0;const t=this.children.toArray().reduce((t,n)=>(!1===n.getUpdatedData()&&(e+=1),{...t,...n.getUpdatedData()}),{});e>0?console.log("problem with entries"):this.settingsService.createProduct(t).subscribe(e=>{this.productEntity=e,this.toggleIsEditMode(),this.devToolsServices.openToast(0,"alert.success"),document.body.scrollTop=document.documentElement.scrollTop=0,this.findAllProducts()})}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(y.F),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(o.FF),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(p.by))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-setting"]],viewQuery:function(e,t){if(1&e&&(f.\u0275\u0275viewQuery(gf,5),f.\u0275\u0275viewQuery(Xn,5),f.\u0275\u0275viewQuery(hf,5)),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.fileInput=e.first),f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.appSettingGenericWorkflowComponent=e.first),f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.children=e)}},decls:38,vars:24,consts:[[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"lnr-cog","icon-gradient","bg-tempting-azure"],["mat-stretch-tabs","false","mat-align-tabs","start",3,"selectedTabChange"],[3,"label"],[1,"py-1"],[4,"ngIf"],[3,"label",4,"ngIf"],["modalContent",""],["synchronizeModalContent",""],["chargeOffModal",""],["id","SMS-setting",1,"card","mb-2"],["data-target","#collapseSMSSetting","aria-expanded","true","aria-controls","collapseSMSSetting",1,"card-header","d-flex",3,"click"],[1,"lnr-cog","px-2"],[3,"ngClass"],["aria-labelledby","headingTopupSteps","data-parent","#accordionExample",3,"ngClass",4,"ngIf"],[1,"card","py-1"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-xl-4","row"],[1,"col-xl-5"],[1,"col-xl-6"],[1,"btn-icon","btn-icon-only","btn","btn-success","mx-2",3,"click"],[1,"pe-7s-refresh-2","btn-icon-wrapper","px-2"],[1,"row","pt-3"],["aria-labelledby","headingTopupSteps","data-parent","#accordionExample",3,"ngClass"],[1,"col-md-12","py-3"],[1,"card"],["class","btn-icon btn",3,"ngClass","click",4,"ngIf"],["class","card-body",4,"ngIf"],["class","py-1",4,"ngIf"],["class","card py-1 my-1",4,"ngIf"],[1,"btn-icon","btn",3,"ngClass","click"],[1,"mx-2",3,"icon"],[3,"formGroup"],[1,"position-relative","select_product"],[1,"input-group"],["name","selectedValue","id","selectedValue","formControlName","selectedProduct",1,"form-control",3,"change"],["selectedValue",""],["disabled","","selected","","value",""],[3,"ngValue",4,"ngFor","ngForOf"],["class","position-relative col-md-4",4,"ngIf"],[3,"ngValue"],[1,"position-relative","col-md-4"],[1,"pt-2"],[1,"pt-2","px-3"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","ngModelOptions","switch-off-color","ngModelChange","click"],[3,"productEntity","isEditMode"],["generalConfig",""],[3,"productEntity"],["productConfig",""],["productGuarantar",""],["productTopup",""],["productEligibility",""],["productGuarantee",""],["productIscore",""],["productFilters",""],[4,"ngIf","ngIfElse"],["documentCreation",""],["productDocumentCreation",""],["productCurrency",""],["productPriority",""],[1,"card","py-1","my-1"],["type","button",1,"btn","btn-danger","text-white",3,"click"],["type","button",1,"m-2","btn","btn-primary","text-white",3,"click"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-primary",3,"disabled"],["name","plus",1,"mx-2",3,"icon"],[3,"navigationMode"],[1,"position-relative","col-md-12","select_product"],["name","selectedValue","formControlName","selectedProductWorkflow",1,"form-control",3,"change"],["disabled","","value","",3,"selected"],[3,"productEntity","productEntitys"],["class","card",4,"ngIf"],["class","d-inline-flex align-items-center btn btn-primary",3,"click",4,"ngIf"],["class","d-inline-flex align-items-center btn btn-warning",3,"click",4,"ngIf"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[1,"d-inline-flex","align-items-center","btn","btn-warning",3,"click"],[3,"dir","ngClass"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button"],["aria-hidden","true",3,"click"],[1,"form",3,"formGroup","ngSubmit"],[1,"position-relative","pb-2",2,"margin-bottom","11px"],[1,"input-group","form-group"],["type","text","formControlName","name",1,"form-control"],[1,"modal-footer"],["type","reset",1,"mb-1","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-1","btn","btn-primary"],[1,"form","col-xl-12","col-md-12","px-0",3,"formGroup","ngSubmit"],["type","button","aria-label","Close",3,"click"],["aria-hidden","true"],[1,"modal-body","row","no-gutters"],[1,"position-relative","form-group","col-xl-12","col-md-12"],["formControlName","accountNumber",1,"form-control"],[1,"modal-footer","py-1"],["type","reset",1,"btn","btn-outline-danger",3,"click"],["type","submit",1,"btn","btn-danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-body"],["type","file",1,"form-control","mb-3",3,"change"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275elementStart(1,"div",1),f.\u0275\u0275elementStart(2,"div",2),f.\u0275\u0275elementStart(3,"div",3),f.\u0275\u0275element(4,"i",4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(5,"div"),f.\u0275\u0275text(6),f.\u0275\u0275pipe(7,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"mat-tab-group",5),f.\u0275\u0275listener("selectedTabChange",function(e){return t.onTabChanged(e)}),f.\u0275\u0275elementStart(9,"mat-tab",6),f.\u0275\u0275pipe(10,"translate"),f.\u0275\u0275elementStart(11,"div"),f.\u0275\u0275elementStart(12,"div",7),f.\u0275\u0275element(13,"app-setting-system-licence"),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(14,yf,143,74,"div",8),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(15,jf,22,23,"mat-tab",9),f.\u0275\u0275template(16,Uf,3,4,"mat-tab",9),f.\u0275\u0275template(17,Jf,3,4,"mat-tab",9),f.\u0275\u0275template(18,Kf,3,4,"mat-tab",9),f.\u0275\u0275template(19,qf,3,4,"mat-tab",9),f.\u0275\u0275template(20,Yf,3,4,"mat-tab",9),f.\u0275\u0275template(21,Xf,3,4,"mat-tab",9),f.\u0275\u0275template(22,ev,3,4,"mat-tab",9),f.\u0275\u0275template(23,nv,3,4,"mat-tab",9),f.\u0275\u0275template(24,rv,3,4,"mat-tab",9),f.\u0275\u0275template(25,ov,3,4,"mat-tab",9),f.\u0275\u0275template(26,dv,21,16,"mat-tab",9),f.\u0275\u0275template(27,hv,4,5,"mat-tab",9),f.\u0275\u0275template(28,vv,3,4,"mat-tab",9),f.\u0275\u0275template(29,yv,3,4,"mat-tab",9),f.\u0275\u0275template(30,Ev,3,4,"mat-tab",9),f.\u0275\u0275template(31,Cv,3,4,"mat-tab",9),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(32,wv,22,20,"ng-template",null,10,f.\u0275\u0275templateRefExtractor),f.\u0275\u0275template(34,Fv,23,20,"ng-template",null,11,f.\u0275\u0275templateRefExtractor),f.\u0275\u0275template(36,_v,17,13,"ng-template",null,12,f.\u0275\u0275templateRefExtractor)),2&e&&(f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(7,20,"setting.setting")),f.\u0275\u0275advance(3),f.\u0275\u0275propertyInterpolate("label",f.\u0275\u0275pipeBind1(10,22,"setting.setting_system")),f.\u0275\u0275advance(5),f.\u0275\u0275property("ngIf",t.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.testExpiryDate),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.testExpiryDate))},directives:[Zn.SP,Zn.uX,si,r.NgIf,hi,vi,Ci,Ai,$i,Ji,Xi,Sr,Vr,r.NgClass,Gr,Wr,ea,ha,Va,Ra,Ka,no,yo,p.BN,c._Y,c.JL,c.sg,C.MU,le.jv,c.EJ,C.oH,c.JJ,c.u,le.wj,c.YN,c.Kr,r.NgForOf,I.U,c.On,wo,Oo,zo,Qo,sl,gl,yl,kl,Rl,$l,Kl,Xl,ls,kd,ic,bc,Fc,Qc,op,up,ve,Np,Ju,Xn,zg,Rh,of,uf,Oe.Lv,C.HK,c.Fj],pipes:[s.X$],styles:[""]}),e})();var Dv=n(49994),kv=n(24088),Tv=n(42121);function Mv(e,t){1&e&&(f.\u0275\u0275element(0,"app-page-title",45),f.\u0275\u0275pipe(1,"translate")),2&e&&f.\u0275\u0275property("heading",f.\u0275\u0275pipeBind1(1,4,"button.add_party"))("icon","lnr-user icon-gradient bg-ripe-malin")("account","")("status",-1)}function Vv(e,t){1&e&&(f.\u0275\u0275element(0,"app-page-title",45),f.\u0275\u0275pipe(1,"translate")),2&e&&f.\u0275\u0275property("heading",f.\u0275\u0275pipeBind1(1,4,"button.edit_party"))("icon","lnr-user icon-gradient bg-ripe-malin")("account","")("status",-1)}const Av=[{path:"",children:[{path:"setting",canActivate:[ae.P],component:Lv,data:{extraParameter:"dashboardsMenu"}},{path:"setting-aml",canActivate:[ae.P],component:ve,data:{extraParameter:"dashboardsMenu"}},{path:"upload",component:re.Y,data:{extraParameter:"dashboardsMenu"}},{path:"setting-third-party",canActivate:[ae.P],component:ie,data:{extraParameter:"dashboardsMenu"}},{path:"add-setting-third-party",canActivate:[ae.P],component:(()=>{class e{constructor(e,t,n,i,r,a,o,l){this.customerAddressService=e,this.settingsService=t,this.translate=n,this.formBuilder=i,this.devToolsServices=r,this.router=a,this.activatedRoute=o,this.sharedService=l,this.thirdPartyforUpdate=new g.$,this.thirdPartySetting=!0,this.emailMask=new RegExp(/^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$/),this.countryList=[],this.regionList=[],this.elementId=new Tv.u,this.addressList=[],this.addressListEntity=[]}ngOnInit(){var e=this;return(0,m.Z)(function*(){e.navigationSubscription=e.router.events.subscribe(t=>{t instanceof x.m2&&e.ResetForm()}),e.activatedRoute.queryParams.subscribe(t=>{e.source=t.source,"ADD"===t.source?(e.thirdPartyforUpdate=null,e.elementId.thirdPartyId=0,e.sharedService.setElementId(e.elementId)):"EDIT"===t.source&&(e.thirdPartyforUpdate=e.sharedService.getThirdParty(),e.elementId.thirdPartyId=e.thirdPartyforUpdate.id,e.sharedService.setElementId(e.elementId))}),null!==e.thirdPartyforUpdate?e.editParty():e.addParty()})()}addParty(){var e=this;return(0,m.Z)(function*(){0===e.countryList.length&&e.customerAddressService.getAddressList(e.addressList).subscribe(t=>{e.addressListEntity=t,e.addressListEntity.forEach(t=>{if(0===t.parentAddressListID){const n=new Zo.M;n.addressListId=t.addressListID,e.customerAddressService.getAddressListValue(n).subscribe(t=>{e.countryList=t.filter(e=>"ETRANGER"!==e.name)})}})}),yield e.createForm(e.thirdPartyforUpdate)})()}editParty(){var e=this;return(0,m.Z)(function*(){0===e.countryList.length&&e.customerAddressService.getAddressList(e.addressList).toPromise().then(t=>{e.addressListEntity=t,e.addressListEntity.forEach(e=>{0===e.parentAddressListID&&((new Zo.M).addressListId=e.addressListID)})}),yield e.createForm(e.thirdPartyforUpdate)})()}createForm(e){this.groupForm=this.formBuilder.group({firstName:[e?.firstName,[jt.MS]],lastName:[e?.lastName,jt.MS],phoneNumber:[e?.phoneNumber,[jt.MS]],addressParty:[e?.addressParty],email:[e?.email,[jt.MS,jt.E7,(0,jt.eG)(this.emailMask)]],code_postal:[e?.code_postal,[jt.MS]],numero_rne:[e?.numero_rne,[jt.MS]],statut:[e?.statut,[jt.MS]],type:[e?.type,[jt.MS]],pays:[this.country],ville:[this.region]})}loadRegion(e,t){this.addressListEntity.forEach(n=>{const i=new Zo.M;n.parentAddressListID===e&&(i.addressListId=n.addressListID,i.parentId=null===t?this.groupForm?.controls.pays?.value?.addressListValueID:t,this.customerAddressService.getAddressListValue(i).subscribe(e=>{this.regionList=e,this.region=this.regionList.filter(e=>e.name===this.thirdPartyforUpdate?.ville)[0]}))})}exit(){this.sharedService.resetThirdParty(),void 0!==this.thirdPartyforUpdate?this.devToolsServices.openConfirmationDialog(h.J.EXIT_FORM_MSG,h.J.THIRD_PARTY_URL):this.groupForm.reset()}ResetForm(){this.ngOnInit(),this.thirdPartyforUpdate=null,this.elementId.thirdPartyId=0,this.sharedService.setElementId(this.elementId),this.groupForm.reset(),this.udfStepWorkflowComponent.ngOnInit()}ngOnDestroy(){this.thirdPartyforUpdate=null,this.elementId.thirdPartyId=0,this.sharedService.setElementId(this.elementId),this.navigationSubscription&&this.navigationSubscription.unsubscribe()}onSubmit(){if(this.devToolsServices.makeFormAsTouched(this.udfStepWorkflowComponent.udfLoanForm),this.udfStepWorkflowComponent.udfLoanForm.invalid||this.groupForm.invalid)this.devToolsServices.InvalidControl();else{if(!this.genericWorkFlowDocumentComponent.checkRequiredDocument())return this.devToolsServices.openToast(3,"alert.enter_required_documents"),void this.devToolsServices.backTop();if(this.udfStepWorkflowComponent.udfLoanForm.invalid||this.groupForm.invalid)this.devToolsServices.InvalidControl();else{if(!this.genericWorkFlowDocumentComponent.checkRequiredDocument())return this.devToolsServices.openToast(3,"alert.enter_required_documents"),void this.devToolsServices.backTop();if(this.groupForm.valid&&this.udfStepWorkflowComponent.udfLoanForm.valid&&this.genericWorkFlowDocumentComponent.checkRequiredDocument())if(null!==this.thirdPartyforUpdate)this.thirdPartyforUpdate.firstName=this.groupForm.controls.firstName.value,this.thirdPartyforUpdate.lastName=this.groupForm.controls.lastName.value,this.thirdPartyforUpdate.addressParty=this.groupForm.controls.addressParty.value,this.thirdPartyforUpdate.email=this.groupForm.controls.email.value,this.thirdPartyforUpdate.phoneNumber=this.groupForm.controls.phoneNumber.value,this.thirdPartyforUpdate.code_postal=this.groupForm.controls.code_postal.value,this.thirdPartyforUpdate.numero_rne=this.groupForm.controls.numero_rne.value,this.thirdPartyforUpdate.statut=this.groupForm.controls.statut.value,this.thirdPartyforUpdate.type=this.groupForm.controls.type.value,this.thirdPartyforUpdate.userDefinedFieldsLinksDTOs=this.udfStepWorkflowComponent.onSubmitElement(),this.genericWorkFlowDocumentComponent.save(),this.settingsService.updateSettingThirdParty(this.thirdPartyforUpdate).toPromise().then(()=>{this.devToolsServices.openToast(0,"alert.success"),this.sharedService.resetThirdParty(),this.router.navigate([h.J.LIST_THIRD_PARTY])});else{const e=new g.$;e.firstName=this.groupForm.controls.firstName.value,e.lastName=this.groupForm.controls.lastName.value,e.addressParty=this.groupForm.controls.addressParty.value,e.email=this.groupForm.controls.email.value,e.phoneNumber=this.groupForm.controls.phoneNumber.value,e.code_postal=this.groupForm.controls.code_postal.value,e.numero_rne=this.groupForm.controls.numero_rne.value,e.statut=this.groupForm.controls.statut.value,e.type=this.groupForm.controls.type.value,e.userDefinedFieldsLinksDTOs=this.udfStepWorkflowComponent.onSubmitElement(),this.settingsService.createSettingThirdParty(e).toPromise().then(e=>{this.elementId.thirdPartyId=e.id,this.sharedService.setElementId(this.elementId),this.genericWorkFlowDocumentComponent.save(),this.devToolsServices.openToast(0,"alert.success"),this.sharedService.resetThirdParty(),this.router.navigate([h.J.LIST_THIRD_PARTY])})}else this.devToolsServices.openToast(3,"alert.check-data"),this.devToolsServices.backTop()}}}compareAddressListValue(e,t){if(void 0!==e&&void 0!==t)return e?.name===t?.name}toggleCollapseSetting(){this.thirdPartySetting=!this.thirdPartySetting}submit(){this.validateForm(),this.onSubmit()}validateForm(){Object.values(this.groupForm.controls).forEach(e=>{e.markAsTouched(),e.updateValueAndValidity()})}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(tl.U),f.\u0275\u0275directiveInject(v.g),f.\u0275\u0275directiveInject(s.sK),f.\u0275\u0275directiveInject(c.qu),f.\u0275\u0275directiveInject(S.R),f.\u0275\u0275directiveInject(x.F0),f.\u0275\u0275directiveInject(x.gz),f.\u0275\u0275directiveInject(y.F))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["app-add-setting-third-party"]],viewQuery:function(e,t){if(1&e&&(f.\u0275\u0275viewQuery(Dv.F,5),f.\u0275\u0275viewQuery(kv.u,5)),2&e){let e;f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.udfStepWorkflowComponent=e.first),f.\u0275\u0275queryRefresh(e=f.\u0275\u0275loadQuery())&&(t.genericWorkFlowDocumentComponent=e.first)}},decls:150,vars:96,consts:[[3,"heading","icon","account","status",4,"ngIf"],[1,"card-hover-shadow-2x","mb-1","card"],["data-target","#collapseCustomer","aria-expanded","true","aria-controls","collapseCustomerAccount",1,"card-header","d-flex","justify-content-between",3,"click"],[1,"lnr-user","text-secondary","pr-2"],[3,"ngClass"],["id","collapseCustomer","aria-labelledby","headingOne","data-parent","#accordionExample",3,"ngClass"],[1,"form",3,"formGroup"],["ngForm","ngForm"],[1,"card-body"],[1,"col-xl-12","col-sm-12","row","no-gutters"],[1,"col-xl-12","d-flex","justify-content-end"],[1,"col-sm-4"],[1,"position-relative","form-group"],[1,"text-danger"],["formControlName","firstName",1,"form-control"],["formControlName","lastName",1,"form-control"],["formControlName","email",1,"form-control"],["formControlName","addressParty",1,"form-control"],["formControlName","code_postal","type","number",1,"form-control"],["formControlName","phoneNumber","type","number",1,"form-control"],["formControlName","numero_rne","type","text","maxlength","8",1,"form-control"],["formControlName","type","name","type",1,"form-control"],["selected","","value","null"],["value","Financial partners"],["value","Insurance companies"],["value","Financial backers"],["value","Business partners"],["value","Technical partners"],["value","Individuals"],["value","Lawyer"],["value","Bailiff"],["value","Expert"],["value","Consultant"],["value","Collection company"],["value","Recovery company"],["formControlName","statut","name","statut",1,"form-control"],["value","Active"],["value","Inactive"],["value","Reactivated"],["value","Black list"],[3,"category","expanded"],[3,"source","category"],[1,"d-block","text-end","card-footer","p-2"],[1,"mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-1","btn","btn-primary",3,"click"],[3,"heading","icon","account","status"]],template:function(e,t){1&e&&(f.\u0275\u0275template(0,Mv,2,6,"app-page-title",0),f.\u0275\u0275template(1,Vv,2,6,"app-page-title",0),f.\u0275\u0275elementStart(2,"div",1),f.\u0275\u0275elementStart(3,"div",2),f.\u0275\u0275listener("click",function(){return t.toggleCollapseSetting()}),f.\u0275\u0275elementStart(4,"div"),f.\u0275\u0275element(5,"i",3),f.\u0275\u0275text(6),f.\u0275\u0275pipe(7,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(8,"div"),f.\u0275\u0275element(9,"i",4),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(10,"div",5),f.\u0275\u0275elementStart(11,"form",6,7),f.\u0275\u0275elementStart(13,"div",8),f.\u0275\u0275elementStart(14,"div",9),f.\u0275\u0275elementStart(15,"div",10),f.\u0275\u0275elementStart(16,"div",11),f.\u0275\u0275elementStart(17,"div",12),f.\u0275\u0275elementStart(18,"label"),f.\u0275\u0275text(19),f.\u0275\u0275pipe(20,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(21,"span",13),f.\u0275\u0275text(22,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(23,"input",14),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(24,"div",11),f.\u0275\u0275elementStart(25,"div",12),f.\u0275\u0275elementStart(26,"label"),f.\u0275\u0275text(27),f.\u0275\u0275pipe(28,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(29,"span",13),f.\u0275\u0275text(30,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(31,"input",15),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(32,"div",11),f.\u0275\u0275elementStart(33,"div",12),f.\u0275\u0275elementStart(34,"label"),f.\u0275\u0275text(35),f.\u0275\u0275pipe(36,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(37,"span",13),f.\u0275\u0275text(38,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(39,"input",16),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(40,"div",10),f.\u0275\u0275elementStart(41,"div",11),f.\u0275\u0275elementStart(42,"div",12),f.\u0275\u0275elementStart(43,"label"),f.\u0275\u0275text(44),f.\u0275\u0275pipe(45,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(46,"input",17),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(47,"div",11),f.\u0275\u0275elementStart(48,"div",12),f.\u0275\u0275elementStart(49,"label"),f.\u0275\u0275text(50),f.\u0275\u0275pipe(51,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(52,"span",13),f.\u0275\u0275text(53,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(54,"input",18),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(55,"div",11),f.\u0275\u0275elementStart(56,"div",12),f.\u0275\u0275elementStart(57,"label"),f.\u0275\u0275text(58),f.\u0275\u0275pipe(59,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(60,"span",13),f.\u0275\u0275text(61,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(62,"input",19),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(63,"div",10),f.\u0275\u0275elementStart(64,"div",11),f.\u0275\u0275elementStart(65,"div",12),f.\u0275\u0275elementStart(66,"label"),f.\u0275\u0275text(67,"RNE"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(68,"span",13),f.\u0275\u0275text(69,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(70,"input",20),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(71,"div",11),f.\u0275\u0275elementStart(72,"div",12),f.\u0275\u0275elementStart(73,"label"),f.\u0275\u0275text(74),f.\u0275\u0275pipe(75,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(76,"span",13),f.\u0275\u0275text(77,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(78,"select",21),f.\u0275\u0275elementStart(79,"option",22),f.\u0275\u0275text(80),f.\u0275\u0275pipe(81,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(82,"option",23),f.\u0275\u0275text(83),f.\u0275\u0275pipe(84,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(85,"option",24),f.\u0275\u0275text(86),f.\u0275\u0275pipe(87,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(88,"option",25),f.\u0275\u0275text(89),f.\u0275\u0275pipe(90,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(91,"option",26),f.\u0275\u0275text(92),f.\u0275\u0275pipe(93,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(94,"option",27),f.\u0275\u0275text(95),f.\u0275\u0275pipe(96,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(97,"option",28),f.\u0275\u0275text(98),f.\u0275\u0275pipe(99,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(100,"option",29),f.\u0275\u0275text(101),f.\u0275\u0275pipe(102,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(103,"option",30),f.\u0275\u0275text(104),f.\u0275\u0275pipe(105,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(106,"option",31),f.\u0275\u0275text(107),f.\u0275\u0275pipe(108,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(109,"option",32),f.\u0275\u0275text(110),f.\u0275\u0275pipe(111,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(112,"option",33),f.\u0275\u0275text(113),f.\u0275\u0275pipe(114,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(115,"option",34),f.\u0275\u0275text(116),f.\u0275\u0275pipe(117,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(118,"div",11),f.\u0275\u0275elementStart(119,"div",12),f.\u0275\u0275elementStart(120,"label"),f.\u0275\u0275text(121),f.\u0275\u0275pipe(122,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(123,"span",13),f.\u0275\u0275text(124,"*"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(125,"select",35),f.\u0275\u0275elementStart(126,"option",22),f.\u0275\u0275text(127),f.\u0275\u0275pipe(128,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(129,"option",36),f.\u0275\u0275text(130),f.\u0275\u0275pipe(131,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(132,"option",37),f.\u0275\u0275text(133),f.\u0275\u0275pipe(134,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(135,"option",38),f.\u0275\u0275text(136),f.\u0275\u0275pipe(137,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(138,"option",39),f.\u0275\u0275text(139),f.\u0275\u0275pipe(140,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd(),f.\u0275\u0275element(141,"app-generic-workFlow-document",40),f.\u0275\u0275element(142,"app-udf-step-workflow",41),f.\u0275\u0275elementStart(143,"div",42),f.\u0275\u0275elementStart(144,"button",43),f.\u0275\u0275listener("click",function(){return t.exit()}),f.\u0275\u0275text(145),f.\u0275\u0275pipe(146,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(147,"button",44),f.\u0275\u0275listener("click",function(){return t.submit()}),f.\u0275\u0275text(148),f.\u0275\u0275pipe(149,"translate"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275property("ngIf","ADD"===t.source),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf","EDIT"===t.source),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(7,38,"setting.third-party.partner-info")," "),f.\u0275\u0275advance(3),f.\u0275\u0275property("ngClass",!0===t.thirdPartySetting?"lnr-chevron-up text-secondary":"lnr-chevron-down text-secondary"),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngClass",!0===t.thirdPartySetting?"collapse show":"collapse"),f.\u0275\u0275advance(1),f.\u0275\u0275property("formGroup",t.groupForm),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(20,40,"setting.setting_users.first-name"),""),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(28,42,"customer.last_name")),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(36,44,"customer.email")),f.\u0275\u0275advance(9),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(45,46,"customer.address")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(51,48,"customer_management.zip_code")),f.\u0275\u0275advance(8),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(59,50,"customer.telephone")),f.\u0275\u0275advance(16),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(75,52,"party.type_partner")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1("",f.\u0275\u0275pipeBind1(81,54,"party.type.default_select")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(84,56,"party.type.financial-partners")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(87,58,"party.type.insurance-companies")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(90,60,"party.type.financial-backers")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(93,62,"party.type.business-partners")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(96,64,"party.type.technical-partners")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(99,66,"party.type.individuals")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(102,68,"party.type.lawyer")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(105,70,"party.type.bailiff")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(108,72,"party.type.expert")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(111,74,"party.type.consultant")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(114,76,"party.type.collection_company")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(117,78,"party.type.recovery_company")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(122,80,"Statut")),f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(128,82,"party.statut.default-select")," "),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(131,84,"party.statut.active"),""),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(134,86,"party.statut.inactive"),""),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(137,88,"party.statut.reactivated"),""),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(140,90,"party.statut.black-list"),""),f.\u0275\u0275advance(2),f.\u0275\u0275property("category","THIRD_PARTY")("expanded",!0),f.\u0275\u0275advance(1),f.\u0275\u0275property("source",null!==t.thirdPartyforUpdate?"edit":"add")("category","PARTY"),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(146,92,"button.exit")),f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate1(" ",f.\u0275\u0275pipeBind1(149,94,"button.save")," "))},directives:[r.NgIf,r.NgClass,c._Y,c.JL,c.sg,C.MU,le.jv,C.HK,c.Fj,C.oH,c.JJ,c.u,le.wj,c.wV,c.nD,c.EJ,c.YN,c.Kr,kv.u,Dv.F,E.T],pipes:[s.X$],styles:[""]}),e})(),data:{extraParameter:"dashboardsMenu"}}]}];let Pv=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=f.\u0275\u0275defineInjector({imports:[[x.Bz.forChild(Av)],x.Bz]}),e})();var Bv=n(39929),Nv=n(19309);const Rv=function(e,t){return{"p-button-icon":!0,"p-button-icon-left":e,"p-button-icon-right":t}};function Ov(e,t){if(1&e&&f.\u0275\u0275element(0,"span",3),2&e){const e=f.\u0275\u0275nextContext();f.\u0275\u0275classMap(e.checked?e.onIcon:e.offIcon),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction2(3,Rv,"left"===e.iconPos,"right"===e.iconPos))}}const jv=function(e,t,n){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":e,"p-highlight":t,"p-disabled":n}},Gv={provide:c.JU,useExisting:(0,f.forwardRef)(()=>Uv),multi:!0};let Uv=(()=>{class e{constructor(e){this.cd=e,this.iconPos="left",this.onChange=new f.EventEmitter,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}toggle(e){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:e,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return e.\u0275fac=function(t){return new(t||e)(f.\u0275\u0275directiveInject(f.ChangeDetectorRef))},e.\u0275cmp=f.\u0275\u0275defineComponent({type:e,selectors:[["p-toggleButton"]],hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[f.\u0275\u0275ProvidersFeature([Gv])],decls:4,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(e,t){1&e&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275listener("click",function(e){return t.toggle(e)})("keydown.enter",function(e){return t.toggle(e)}),f.\u0275\u0275template(1,Ov,1,6,"span",1),f.\u0275\u0275elementStart(2,"span",2),f.\u0275\u0275text(3),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementEnd()),2&e&&(f.\u0275\u0275classMap(t.styleClass),f.\u0275\u0275property("ngClass",f.\u0275\u0275pureFunction3(8,jv,t.onIcon&&t.offIcon&&!t.hasOnLabel&&!t.hasOffLabel,t.checked,t.disabled))("ngStyle",t.style),f.\u0275\u0275attribute("tabindex",t.disabled?null:"0")("aria-checked",t.checked),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",t.onIcon||t.offIcon),f.\u0275\u0275advance(2),f.\u0275\u0275textInterpolate(t.checked?t.hasOnLabel?t.onLabel:"":t.hasOffLabel?t.offLabel:""))},directives:[Nv.H,r.NgClass,r.NgStyle,r.NgIf],styles:[".p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]   .p-button-label[_ngcontent-%COMP%]{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}.p-button-label[_ngcontent-%COMP%]{transition:all .2s}"],changeDetection:0}),e})(),$v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=f.\u0275\u0275defineInjector({imports:[[r.CommonModule,Nv.T]]}),e})();var Jv=n(90838);let zv=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=f.\u0275\u0275defineInjector({imports:[[r.CommonModule,Pv,Bv.p,a.U$,o.IJ,i.m,Zn.Nh,fn.Fk,gn.p9,se.O,c.UX,C.VN,p.uH,I.E,c.u5,xa.WN,d.Xd,_o._c,l.q.forRoot({}),s.aw,Pt,hn.q4,ug,Hu.kW,$v,Jv.u,le.sm.forRoot({type:"validation",invalidClass:"invalid-input"}),qa._8]]}),e})()}}]);