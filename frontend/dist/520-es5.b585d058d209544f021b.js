!function(){"use strict";function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e=function(){return t};var t={},n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(T){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof m?t:m,o=Object.create(r.prototype),a=new b(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return N()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=d(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=c;var u={};function m(){}function p(){}function v(){}var h={};l(h,o,function(){return this});var f=Object.getPrototypeOf,y=f&&f(f(k([])));y&&y!==n&&i.call(y,o)&&(h=y);var I=v.prototype=m.prototype=Object.create(h);function g(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){function n(r,o,a,s){var l=d(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(u).then(function(e){c.value=e,a(c)},function(e){return n("throw",e,a,s)})}s(l.arg)}var r;this._invoke=function(e,i){function o(){return new t(function(t,r){n(e,i,t,r)})}return r=r?r.then(o,o):o()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=d(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function b(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:N}}function N(){return{value:void 0,done:!0}}return p.prototype=v,l(I,"constructor",v),l(v,"constructor",p),p.displayName=l(v,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,s,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},g(E.prototype),l(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new E(c(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},g(I),l(I,s,"Generator"),l(I,o,function(){return this}),l(I,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=k,b.prototype={constructor:b,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkacm_web=self.webpackChunkacm_web||[]).push([[520],{23520:function(t,r,o){o.r(r),o.d(r,{IncentiveModule:function(){return xt}});var a,s=o(38583),l=o(29790),c=o(3679),d=o(39929),u=o(61137),m=o(99266),p=o(72159),v=o(8239),h=o(58762),f=o(97199),y=n(function e(){i(this,e)}),I=n(function e(){i(this,e)}),g=n(function e(){i(this,e)}),E=n(function e(){i(this,e)}),S=n(function e(){i(this,e)}),x=n(function e(){i(this,e)}),C=n(function e(){i(this,e)}),b=o(37716),k=o(23990),N=o(28970),T=o(6452),F=o(91841),w=((a=function(){function e(t){i(this,e),this.httpClient=t}return n(e,[{key:"findIncentiveSettingsConstantsByCategories",value:function(e){return this.httpClient.post(T.f.FIND_INCENTIVE_SETTING_CONSTANTS_BY_CATEGORIES,e)}},{key:"getIncentiveSettings",value:function(e){return this.httpClient.post(T.f.FIND_INCENTIVE_SETTING,e)}},{key:"createIncentiveSetting",value:function(e){return this.httpClient.post(T.f.CREATE_INCENTIVE_SETTING,e)}},{key:"updateIncentiveSetting",value:function(e){return this.httpClient.put(T.f.UPDATE_INCENTIVE_SETTING,e)}},{key:"deleteIncentiveSetting",value:function(e){return this.httpClient.delete(T.f.DELETE_INCENTIVE_SETTING+e)}},{key:"getProductCategories",value:function(e){return this.httpClient.post(T.f.PRODUCT_CATEGORY,e)}},{key:"updateStatusIncentiveSettings",value:function(e){return this.httpClient.post(T.f.UPDTATE_STATUS_INCENTIVE_SETTING,e)}},{key:"getStatusIncentiveSettingsByCode",value:function(e){return this.httpClient.post(T.f.FIND_STATUS_INCENTIVE_SETTING,e)}},{key:"updateProductCategory",value:function(e){return this.httpClient.put(T.f.UPDATE_PRODUCT_CATEGORY,e)}}]),e}()).\u0275fac=function(e){return new(e||a)(b.\u0275\u0275inject(F.eN))},a.\u0275prov=b.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a),R=function(){var e=function(){function e(t){i(this,e),this.httpClient=t}return n(e,[{key:"getBranchProdLevels",value:function(e){return this.httpClient.post(T.f.FIND_BRANCH_PRODUCTIVITY,e)}},{key:"createBranchProdLevel",value:function(e){return this.httpClient.post(T.f.CREATE_BRANCH_PRODUCTIVITY,e)}},{key:"updateBranchProdLevel",value:function(e){return this.httpClient.put(T.f.UPDATE_BRANCH_PRODUCTIVITY,e)}},{key:"deleteBranchProdLevel",value:function(e){return this.httpClient.delete(T.f.DELETE_BRANCH_PRODUCTIVITY+e)}},{key:"findPaginationRepayment",value:function(e){return this.httpClient.post(T.f.FIND_PAGINATION_INCENTIVE_REPAYMENT,e)}},{key:"createIncentiveRepayment",value:function(e){return this.httpClient.post(T.f.CREATE_INCENTIVE_REPAYMENT,e)}},{key:"updateIncentiveRepayment",value:function(e){return this.httpClient.put(T.f.UPDATE_INCENTIVE_REPAYMENT,e)}},{key:"deleteIncentiveRepayment",value:function(e){return this.httpClient.delete(T.f.DELETE_INCENTIVE_REPAYMENT+e)}},{key:"updateApplyDiscountOrBranch",value:function(e){return this.httpClient.post(T.f.UPDATE_APPLY_DISCOUNT_BRANCH,e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.\u0275\u0275inject(F.eN))},e.\u0275prov=b.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),_=o(85627),O=o(35554),P=o(57552),V=o(61181);function L(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.description," ")}}function B(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.description," ")}}function A(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275element(1,"input",49),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index;b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","from",n,"")}}function q(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275element(1,"input",49),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index;b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","to",n,"")}}function M(e,t){if(1&e){var n=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"div",50),b.\u0275\u0275elementStart(2,"div",51),b.\u0275\u0275elementStart(3,"button",52),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext().index;return b.\u0275\u0275nextContext(2).saveActiveCustomer(e)}),b.\u0275\u0275element(4,"i",53),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(5,"div",51),b.\u0275\u0275elementStart(6,"button",54),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext().index;return b.\u0275\u0275nextContext(2).deleteActiveCustomer(e)}),b.\u0275\u0275element(7,"i",55),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()}}function D(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"tr"),b.\u0275\u0275template(1,A,2,1,"td",48),b.\u0275\u0275template(2,q,2,1,"td",48),b.\u0275\u0275template(3,M,8,0,"td",48),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete)}}function G(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275element(1,"input",49),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index;b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","from",n,"")}}function j(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275element(1,"input",49),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index;b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","to",n,"")}}function Y(e,t){if(1&e){var n=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"div",50),b.\u0275\u0275elementStart(2,"div",51),b.\u0275\u0275elementStart(3,"button",52),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext().index;return b.\u0275\u0275nextContext(2).saveProductivity(e)}),b.\u0275\u0275element(4,"i",53),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(5,"div",51),b.\u0275\u0275elementStart(6,"button",54),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext().index;return b.\u0275\u0275nextContext(2).deleteProductivity(e)}),b.\u0275\u0275element(7,"i",55),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()}}function z(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"tr"),b.\u0275\u0275template(1,G,2,1,"td",48),b.\u0275\u0275template(2,j,2,1,"td",48),b.\u0275\u0275template(3,Y,8,0,"td",48),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete)}}function U(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275element(1,"input",49),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index;b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","from",n,"")}}function J(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275element(1,"input",49),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index;b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","to",n,"")}}function H(e,t){if(1&e){var n=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"div",50),b.\u0275\u0275elementStart(2,"div",51),b.\u0275\u0275elementStart(3,"button",52),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext().index;return b.\u0275\u0275nextContext(2).saveRiskLevel(e)}),b.\u0275\u0275element(4,"i",53),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(5,"div",51),b.\u0275\u0275elementStart(6,"button",54),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext().index;return b.\u0275\u0275nextContext(2).deleteRiskLevel(e)}),b.\u0275\u0275element(7,"i",55),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()}}function $(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"tr"),b.\u0275\u0275template(1,U,2,1,"td",48),b.\u0275\u0275template(2,J,2,1,"td",48),b.\u0275\u0275template(3,H,8,0,"td",48),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete)}}function W(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().$implicit;b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate(n.ordre)}}function Z(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275element(1,"input",49),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index;b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","from",n,"")}}function K(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275element(1,"input",49),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index;b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","to",n,"")}}function X(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275element(1,"input",49),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index;b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","discount",n,"")}}function Q(e,t){if(1&e){var n=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"div",50),b.\u0275\u0275elementStart(2,"div",51),b.\u0275\u0275elementStart(3,"button",52),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext().index;return b.\u0275\u0275nextContext(2).saveDiscount(e)}),b.\u0275\u0275element(4,"i",53),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(5,"div",51),b.\u0275\u0275elementStart(6,"button",54),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext().index;return b.\u0275\u0275nextContext(2).deleteDiscount(e)}),b.\u0275\u0275element(7,"i",55),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()}}function ee(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"tr"),b.\u0275\u0275template(1,W,2,1,"td",48),b.\u0275\u0275template(2,Z,2,1,"td",48),b.\u0275\u0275template(3,K,2,1,"td",48),b.\u0275\u0275template(4,X,2,1,"td",48),b.\u0275\u0275template(5,Q,8,0,"td",48),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete)}}function te(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n.code),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.libelle," ")}}function ne(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"select",56),b.\u0275\u0275template(2,te,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index,i=b.\u0275\u0275nextContext(2);b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","role",n,""),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",i.groupeEntitys)}}function ie(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275element(1,"input",49),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index;b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","minAmount",n,"")}}function re(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275element(1,"input",49),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index;b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","minCustomers",n,"")}}function oe(e,t){if(1&e){var n=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"div",50),b.\u0275\u0275elementStart(2,"div",51),b.\u0275\u0275elementStart(3,"button",52),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext().index;return b.\u0275\u0275nextContext(2).saveBranchProdLevel(e)}),b.\u0275\u0275element(4,"i",53),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(5,"div",51),b.\u0275\u0275elementStart(6,"button",54),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext().index;return b.\u0275\u0275nextContext(2).deleteBranchProdLevel(e)}),b.\u0275\u0275element(7,"i",55),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()}}function ae(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"tr"),b.\u0275\u0275template(1,ne,3,2,"td",48),b.\u0275\u0275template(2,ie,2,1,"td",48),b.\u0275\u0275template(3,re,2,1,"td",48),b.\u0275\u0275template(4,oe,8,0,"td",48),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete)}}function se(e,t){1&e&&(b.\u0275\u0275elementStart(0,"span",57),b.\u0275\u0275text(1),b.\u0275\u0275pipe(2,"translate"),b.\u0275\u0275elementEnd()),2&e&&(b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",b.\u0275\u0275pipeBind1(2,1,"incentive.advanced_search")," "))}function le(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n.code),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.libelle," ")}}function ce(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n.id),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate2(" ",n.from," - ",n.to," ")}}function de(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n.id),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate2(" ",n.from," - ",n.to," ")}}function ue(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n.id),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate2(" ",n.from," - ",n.to," ")}}function me(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.description," ")}}function pe(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.description," ")}}function ve(e,t){if(1&e){var n=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"form",42),b.\u0275\u0275elementStart(1,"div"),b.\u0275\u0275elementStart(2,"div",58),b.\u0275\u0275elementStart(3,"div",59),b.\u0275\u0275elementStart(4,"div",60),b.\u0275\u0275elementStart(5,"label"),b.\u0275\u0275text(6),b.\u0275\u0275pipe(7,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(8,"select",61),b.\u0275\u0275template(9,le,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(10,"div",59),b.\u0275\u0275elementStart(11,"div",60),b.\u0275\u0275elementStart(12,"label"),b.\u0275\u0275text(13),b.\u0275\u0275pipe(14,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(15,"select",62),b.\u0275\u0275template(16,ce,2,3,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(17,"div",59),b.\u0275\u0275elementStart(18,"div",60),b.\u0275\u0275elementStart(19,"label"),b.\u0275\u0275text(20),b.\u0275\u0275pipe(21,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(22,"select",63),b.\u0275\u0275template(23,de,2,3,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(24,"div",59),b.\u0275\u0275elementStart(25,"div",60),b.\u0275\u0275elementStart(26,"label"),b.\u0275\u0275text(27),b.\u0275\u0275pipe(28,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(29,"select",64),b.\u0275\u0275template(30,ue,2,3,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(31,"div",59),b.\u0275\u0275elementStart(32,"div",60),b.\u0275\u0275elementStart(33,"label"),b.\u0275\u0275text(34),b.\u0275\u0275pipe(35,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(36,"select",65),b.\u0275\u0275template(37,me,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(38,"div",59),b.\u0275\u0275elementStart(39,"div",60),b.\u0275\u0275elementStart(40,"label"),b.\u0275\u0275text(41),b.\u0275\u0275pipe(42,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(43,"select",66),b.\u0275\u0275template(44,pe,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(45,"div",59),b.\u0275\u0275elementStart(46,"div",67),b.\u0275\u0275elementStart(47,"div",51),b.\u0275\u0275elementStart(48,"button",68),b.\u0275\u0275listener("click",function(){return b.\u0275\u0275restoreView(n),b.\u0275\u0275nextContext(2).onSubmit()}),b.\u0275\u0275text(49),b.\u0275\u0275pipe(50,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(51,"div",51),b.\u0275\u0275elementStart(52,"button",54),b.\u0275\u0275listener("click",function(){return b.\u0275\u0275restoreView(n),b.\u0275\u0275nextContext(2).reset()}),b.\u0275\u0275text(53," reset "),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()}if(2&e){var i=b.\u0275\u0275nextContext(2);b.\u0275\u0275property("formGroup",i.repaymentFilterForm),b.\u0275\u0275advance(6),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(7,14,"incentive.role")),b.\u0275\u0275advance(3),b.\u0275\u0275property("ngForOf",i.groupeEntitys),b.\u0275\u0275advance(4),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(14,16,"incentive.issuance_and_repayment.active_customer")),b.\u0275\u0275advance(3),b.\u0275\u0275property("ngForOf",i.listActiveCustomers),b.\u0275\u0275advance(4),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(21,18,"incentive.issuance_and_repayment.productivity")),b.\u0275\u0275advance(3),b.\u0275\u0275property("ngForOf",i.listProductivities),b.\u0275\u0275advance(4),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(28,20,"incentive.issuance_and_repayment.risk_level")),b.\u0275\u0275advance(3),b.\u0275\u0275property("ngForOf",i.listRiskLevels),b.\u0275\u0275advance(4),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(35,22,"incentive.incentive_type")),b.\u0275\u0275advance(3),b.\u0275\u0275property("ngForOf",i.incentiveTypes),b.\u0275\u0275advance(4),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(42,24,"incentive.based_on")),b.\u0275\u0275advance(3),b.\u0275\u0275property("ngForOf",i.repaymentsBasedOn),b.\u0275\u0275advance(5),b.\u0275\u0275textInterpolate1(" ",b.\u0275\u0275pipeBind1(50,26,"upload_document.search")," ")}}function he(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n.code),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.libelle," ")}}function fe(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"select",56),b.\u0275\u0275template(2,he,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index,i=b.\u0275\u0275nextContext(2);b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","role",n,""),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",i.groupeEntitys)}}function ye(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n.id),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate2(" ",n.from," - ",n.to," ")}}function Ie(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"select",56),b.\u0275\u0275template(2,ye,2,3,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index,i=b.\u0275\u0275nextContext(2);b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","activeCustomer",n,""),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",i.listActiveCustomers)}}function ge(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n.id),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate2(" ",n.from," - ",n.to," ")}}function Ee(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"select",56),b.\u0275\u0275template(2,ge,2,3,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index,i=b.\u0275\u0275nextContext(2);b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","productivity",n,""),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",i.listProductivities)}}function Se(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n.id),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate2(" ",n.from," - ",n.to," ")}}function xe(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"select",56),b.\u0275\u0275template(2,Se,2,3,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index,i=b.\u0275\u0275nextContext(2);b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","riskLevel",n,""),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",i.listRiskLevels)}}function Ce(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.description," ")}}function be(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"select",69),b.\u0275\u0275template(2,Ce,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index,i=b.\u0275\u0275nextContext(2);b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","incentiveType",n,""),b.\u0275\u0275property("compareWith",i.compareIncentiveType),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",i.incentiveTypes)}}function ke(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275element(1,"input",70),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index;b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","incentiveValue",n,"")}}function Ne(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.description," ")}}function Te(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"select",69),b.\u0275\u0275template(2,Ne,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index,i=b.\u0275\u0275nextContext(2);b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","basedOn",n,""),b.\u0275\u0275property("compareWith",i.compareBasedOn),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",i.repaymentsBasedOn)}}function Fe(e,t){if(1&e){var n=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"div",7),b.\u0275\u0275elementStart(2,"div",71),b.\u0275\u0275elementStart(3,"button",52),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext().index;return b.\u0275\u0275nextContext(2).saveRepaymentSettings(e)}),b.\u0275\u0275element(4,"i",53),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(5,"div",71),b.\u0275\u0275elementStart(6,"button",54),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext().index;return b.\u0275\u0275nextContext(2).deleteIncentiveRepayment(e)}),b.\u0275\u0275element(7,"i",55),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()}}function we(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"tr"),b.\u0275\u0275template(1,fe,3,2,"td",48),b.\u0275\u0275template(2,Ie,3,2,"td",48),b.\u0275\u0275template(3,Ee,3,2,"td",48),b.\u0275\u0275template(4,xe,3,2,"td",48),b.\u0275\u0275template(5,be,3,3,"td",48),b.\u0275\u0275template(6,ke,2,1,"td",48),b.\u0275\u0275template(7,Te,3,3,"td",48),b.\u0275\u0275template(8,Fe,8,0,"td",48),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete)}}function Re(e,t){if(1&e){var n=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"div",17),b.\u0275\u0275elementStart(1,"div",18),b.\u0275\u0275text(2),b.\u0275\u0275pipe(3,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(4,"form",19),b.\u0275\u0275elementStart(5,"div",7),b.\u0275\u0275elementStart(6,"div",20),b.\u0275\u0275elementStart(7,"table",21),b.\u0275\u0275elementStart(8,"tr"),b.\u0275\u0275elementStart(9,"th"),b.\u0275\u0275text(10),b.\u0275\u0275pipe(11,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(12,"th"),b.\u0275\u0275text(13),b.\u0275\u0275pipe(14,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(15,"th"),b.\u0275\u0275elementEnd(),b.\u0275\u0275template(16,D,4,3,"tr",22),b.\u0275\u0275element(17,"div",23,24),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(19,"div",25),b.\u0275\u0275elementStart(20,"button",26),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275reference(18);return b.\u0275\u0275nextContext().addActiveCustomer(e)}),b.\u0275\u0275elementStart(21,"fa",27),b.\u0275\u0275element(22,"i",28),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(23,"div",18),b.\u0275\u0275text(24),b.\u0275\u0275pipe(25,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(26,"form",19),b.\u0275\u0275elementStart(27,"div",7),b.\u0275\u0275elementStart(28,"div",20),b.\u0275\u0275elementStart(29,"table",21),b.\u0275\u0275elementStart(30,"tr"),b.\u0275\u0275elementStart(31,"th"),b.\u0275\u0275text(32),b.\u0275\u0275pipe(33,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(34,"th"),b.\u0275\u0275text(35),b.\u0275\u0275pipe(36,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(37,"th"),b.\u0275\u0275elementEnd(),b.\u0275\u0275template(38,z,4,3,"tr",22),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(39,"div",23,29),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(41,"div",25),b.\u0275\u0275elementStart(42,"button",26),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275reference(40);return b.\u0275\u0275nextContext().addProductivity(e)}),b.\u0275\u0275elementStart(43,"fa",27),b.\u0275\u0275element(44,"i",28),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(45,"div",18),b.\u0275\u0275text(46),b.\u0275\u0275pipe(47,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(48,"form",19),b.\u0275\u0275elementStart(49,"div",7),b.\u0275\u0275elementStart(50,"div",20),b.\u0275\u0275elementStart(51,"table",21),b.\u0275\u0275elementStart(52,"tr"),b.\u0275\u0275elementStart(53,"th"),b.\u0275\u0275text(54),b.\u0275\u0275pipe(55,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(56,"th"),b.\u0275\u0275text(57),b.\u0275\u0275pipe(58,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(59,"th"),b.\u0275\u0275elementEnd(),b.\u0275\u0275template(60,$,4,3,"tr",22),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(61,"div",23,30),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(63,"div",25),b.\u0275\u0275elementStart(64,"button",26),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275reference(62);return b.\u0275\u0275nextContext().addRiskLevel(e)}),b.\u0275\u0275elementStart(65,"fa",27),b.\u0275\u0275element(66,"i",28),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(67,"div",18),b.\u0275\u0275text(68),b.\u0275\u0275pipe(69,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(70,"form",19),b.\u0275\u0275elementStart(71,"div",7),b.\u0275\u0275elementStart(72,"div",20),b.\u0275\u0275elementStart(73,"table",21),b.\u0275\u0275elementStart(74,"tr"),b.\u0275\u0275elementStart(75,"th"),b.\u0275\u0275text(76),b.\u0275\u0275pipe(77,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(78,"th"),b.\u0275\u0275text(79),b.\u0275\u0275pipe(80,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(81,"th"),b.\u0275\u0275text(82),b.\u0275\u0275pipe(83,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(84,"th"),b.\u0275\u0275element(85,"th"),b.\u0275\u0275elementEnd(),b.\u0275\u0275template(86,ee,6,5,"tr",22),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(87,"div",23,31),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(89,"div",25),b.\u0275\u0275elementStart(90,"button",26),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275reference(88);return b.\u0275\u0275nextContext().addDiscount(e)}),b.\u0275\u0275elementStart(91,"fa",27),b.\u0275\u0275element(92,"i",28),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(93,"div",18),b.\u0275\u0275text(94),b.\u0275\u0275pipe(95,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(96,"form",19),b.\u0275\u0275elementStart(97,"div",7),b.\u0275\u0275elementStart(98,"div",20),b.\u0275\u0275elementStart(99,"table",21),b.\u0275\u0275elementStart(100,"tr"),b.\u0275\u0275elementStart(101,"th"),b.\u0275\u0275text(102),b.\u0275\u0275pipe(103,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(104,"th"),b.\u0275\u0275text(105),b.\u0275\u0275pipe(106,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(107,"th"),b.\u0275\u0275text(108),b.\u0275\u0275pipe(109,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(110,"th"),b.\u0275\u0275elementEnd(),b.\u0275\u0275template(111,ae,5,4,"tr",22),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(112,"div",23,32),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(114,"div",25),b.\u0275\u0275elementStart(115,"button",26),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275reference(113);return b.\u0275\u0275nextContext().addBranchProdLevel(e)}),b.\u0275\u0275elementStart(116,"fa",27),b.\u0275\u0275element(117,"i",28),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(118,"div",18),b.\u0275\u0275text(119),b.\u0275\u0275pipe(120,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(121,"div",33),b.\u0275\u0275elementStart(122,"div",34),b.\u0275\u0275elementStart(123,"div",10),b.\u0275\u0275elementStart(124,"label",35),b.\u0275\u0275text(125),b.\u0275\u0275pipe(126,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(127,"div",36),b.\u0275\u0275elementStart(128,"div",10),b.\u0275\u0275elementStart(129,"bSwitch",14),b.\u0275\u0275listener("ngModelChange",function(e){return b.\u0275\u0275restoreView(n),b.\u0275\u0275nextContext().applyDiscount=e})("click",function(){return b.\u0275\u0275restoreView(n),b.\u0275\u0275nextContext().applyDiscountRule()}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(130,"div",37),b.\u0275\u0275elementStart(131,"div",34),b.\u0275\u0275elementStart(132,"div",10),b.\u0275\u0275elementStart(133,"label",35),b.\u0275\u0275text(134),b.\u0275\u0275pipe(135,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(136,"div",36),b.\u0275\u0275elementStart(137,"div",10),b.\u0275\u0275elementStart(138,"bSwitch",14),b.\u0275\u0275listener("ngModelChange",function(e){return b.\u0275\u0275restoreView(n),b.\u0275\u0275nextContext().applyBranch=e})("click",function(){return b.\u0275\u0275restoreView(n),b.\u0275\u0275nextContext().applyBranchRule()}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(139,"div",38),b.\u0275\u0275elementStart(140,"ngb-accordion"),b.\u0275\u0275elementStart(141,"ngb-panel",39),b.\u0275\u0275template(142,se,3,3,"ng-template",40),b.\u0275\u0275template(143,ve,54,28,"ng-template",41),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(144,"form",42),b.\u0275\u0275elementStart(145,"div",7),b.\u0275\u0275elementStart(146,"div",3),b.\u0275\u0275elementStart(147,"table",21),b.\u0275\u0275elementStart(148,"tr"),b.\u0275\u0275elementStart(149,"th"),b.\u0275\u0275text(150),b.\u0275\u0275pipe(151,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(152,"th"),b.\u0275\u0275text(153),b.\u0275\u0275pipe(154,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(155,"th"),b.\u0275\u0275text(156),b.\u0275\u0275pipe(157,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(158,"th"),b.\u0275\u0275text(159),b.\u0275\u0275pipe(160,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(161,"th"),b.\u0275\u0275text(162),b.\u0275\u0275pipe(163,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(164,"th"),b.\u0275\u0275text(165),b.\u0275\u0275pipe(166,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(167,"th"),b.\u0275\u0275text(168),b.\u0275\u0275pipe(169,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(170,"th"),b.\u0275\u0275elementEnd(),b.\u0275\u0275template(171,we,9,8,"tr",22),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(172,"div",23,43),b.\u0275\u0275elementStart(174,"div",44),b.\u0275\u0275elementStart(175,"div",45),b.\u0275\u0275elementStart(176,"ngb-pagination",46),b.\u0275\u0275listener("pageChange",function(e){return b.\u0275\u0275restoreView(n),b.\u0275\u0275nextContext().pageNumber=e})("pageChange",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext();return e.reloadRepaymentIncentive(e.pageNumber,"NUMBER")}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(177,"div",47),b.\u0275\u0275elementStart(178,"button",26),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275reference(173);return b.\u0275\u0275nextContext().addRepayment(e)}),b.\u0275\u0275elementStart(179,"fa",27),b.\u0275\u0275element(180,"i",28),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()}if(2&e){var i=b.\u0275\u0275nextContext();b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate1(" ",b.\u0275\u0275pipeBind1(3,58,"incentive.issuance_and_repayment.active_customer_setting")," "),b.\u0275\u0275advance(2),b.\u0275\u0275property("formGroup",i.activeCustomerForm),b.\u0275\u0275advance(6),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(11,60,"incentive.issuance_and_repayment.from")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(14,62,"incentive.issuance_and_repayment.to")),b.\u0275\u0275advance(3),b.\u0275\u0275property("ngForOf",i.activeCustomers),b.\u0275\u0275advance(4),b.\u0275\u0275property("disabled",i.saveNewActive),b.\u0275\u0275advance(4),b.\u0275\u0275textInterpolate1(" ",b.\u0275\u0275pipeBind1(25,64,"incentive.issuance_and_repayment.productivity_setting")," "),b.\u0275\u0275advance(2),b.\u0275\u0275property("formGroup",i.productivityForm),b.\u0275\u0275advance(6),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(33,66,"incentive.issuance_and_repayment.from")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(36,68,"incentive.issuance_and_repayment.to")),b.\u0275\u0275advance(3),b.\u0275\u0275property("ngForOf",i.productivities),b.\u0275\u0275advance(4),b.\u0275\u0275property("disabled",i.saveNewProductivity),b.\u0275\u0275advance(4),b.\u0275\u0275textInterpolate1(" ",b.\u0275\u0275pipeBind1(47,70,"incentive.issuance_and_repayment.risk_level_setting")," "),b.\u0275\u0275advance(2),b.\u0275\u0275property("formGroup",i.riskLevelForm),b.\u0275\u0275advance(6),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(55,72,"incentive.issuance_and_repayment.from")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(58,74,"incentive.issuance_and_repayment.to")),b.\u0275\u0275advance(3),b.\u0275\u0275property("ngForOf",i.riskLevels),b.\u0275\u0275advance(4),b.\u0275\u0275property("disabled",i.saveNewRisk),b.\u0275\u0275advance(4),b.\u0275\u0275textInterpolate1(" ",b.\u0275\u0275pipeBind1(69,76,"incentive.issuance_and_repayment.discount_from_total_settings")," "),b.\u0275\u0275advance(2),b.\u0275\u0275property("formGroup",i.discountForm),b.\u0275\u0275advance(6),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(77,78,"incentive.issuance_and_repayment.from")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(80,80,"incentive.issuance_and_repayment.to")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(83,82,"incentive.issuance_and_repayment.discount")),b.\u0275\u0275advance(4),b.\u0275\u0275property("ngForOf",i.discounts),b.\u0275\u0275advance(4),b.\u0275\u0275property("disabled",i.saveNewDiscount),b.\u0275\u0275advance(4),b.\u0275\u0275textInterpolate1(" ",b.\u0275\u0275pipeBind1(95,84,"incentive.issuance_and_repayment.branch_productivity_levels_setting")," "),b.\u0275\u0275advance(2),b.\u0275\u0275property("formGroup",i.branchProdForm),b.\u0275\u0275advance(6),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(103,86,"incentive.role")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(106,88,"incentive.issuance_and_repayment.minAmount")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(109,90,"incentive.issuance_and_repayment.minCustomers")),b.\u0275\u0275advance(3),b.\u0275\u0275property("ngForOf",i.branchProdLevels),b.\u0275\u0275advance(4),b.\u0275\u0275property("disabled",i.saveBranchProd),b.\u0275\u0275advance(4),b.\u0275\u0275textInterpolate1(" ",b.\u0275\u0275pipeBind1(120,92,"incentive.issuance_and_repayment.issuance_and_repayment_incentives_settings")," "),b.\u0275\u0275advance(6),b.\u0275\u0275textInterpolate1(" ",b.\u0275\u0275pipeBind1(126,94,"incentive.issuance_and_repayment.apply_discount"),""),b.\u0275\u0275advance(4),b.\u0275\u0275property("ngModel",i.applyDiscount)("switch-size","small")("switch-animate",!0)("switch-off-color","danger"),b.\u0275\u0275advance(5),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(135,96,"incentive.issuance_and_repayment.apply_branch")),b.\u0275\u0275advance(4),b.\u0275\u0275property("ngModel",i.applyBranch)("switch-size","small")("switch-animate",!0)("switch-off-color","danger"),b.\u0275\u0275advance(6),b.\u0275\u0275property("formGroup",i.repaymentForm),b.\u0275\u0275advance(6),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(151,98,"incentive.role")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(154,100,"incentive.issuance_and_repayment.active_customer")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(157,102,"incentive.issuance_and_repayment.productivity")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(160,104,"incentive.issuance_and_repayment.risk_level")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(163,106,"incentive.incentive_type")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(166,108,"incentive.incentive_value")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(169,110,"incentive.based_on")),b.\u0275\u0275advance(3),b.\u0275\u0275property("ngForOf",i.repayments),b.\u0275\u0275advance(5),b.\u0275\u0275property("collectionSize",i.totalElements)("page",i.pageNumber)("pageSize",i.pageSize)("maxSize",3)("boundaryLinks",!0),b.\u0275\u0275advance(2),b.\u0275\u0275property("disabled",i.saveRepayment)}}var _e=function(){var t=function(){function t(e,n,r,o,a,s){i(this,t),this.loanManagementService=e,this.settingsService=n,this.incentiveService=r,this.formBuilder=o,this.issuanceRepaymentService=a,this.devToolsServices=s,this.productEntitys=[],this.groupeEntitys=[],this.groupeEntity=new f.P,this.frequencies=[],this.incentiveSettings=[],this.activeCustomers=[],this.listActiveCustomers=[],this.productivities=[],this.listProductivities=[],this.riskLevels=[],this.listRiskLevels=[],this.discounts=[],this.listDiscounts=[],this.branchProdLevels=[],this.listBranchProdLevels=[],this.incentiveRepayments=[],this.repayments=[],this.incentiveTypes=[],this.repaymentsBasedOn=[],this.activeCustomerIndex=0,this.productivityIndex=0,this.riskLevelIndex=0,this.discountIndex=0,this.branchIndex=0,this.repaymentIndex=0,this.productSelected=!1,this.frequencySelected=!1,this.saveNewActive=!1,this.saveNewProductivity=!1,this.saveNewRisk=!1,this.saveNewDiscount=!1,this.saveBranchProd=!1,this.saveRepayment=!1,this.pageSize=5,this.repaymentEntity=new I}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.getProduct().then(function(){e.getIncentiveConstantsSettingsbyCategories().then(function(){e.frequencies.length>0&&e.productEntitys.length>0&&(e.frequency=e.frequencies[0],e.frequencySelected=!0,e.productEntity=e.productEntitys[0],e.productSelected=!0,e.activeCustomerForm=e.formBuilder.group({}),e.productivityForm=e.formBuilder.group({}),e.riskLevelForm=e.formBuilder.group({}),e.discountForm=e.formBuilder.group({}),e.branchProdForm=e.formBuilder.group({}),e.repaymentForm=e.formBuilder.group({}),e.repaymentFilterForm=e.formBuilder.group({}),e.getActiveCustomers(),e.getProdictivity(),e.getRiskLevel(),e.getDiscounts(),e.getBranchProdLevels(),e.getIssuanceAndRepayment(),e.createFilterForm())})}),this.getRoles(),this.getSettingStatus()}},{key:"getSettingStatus",value:function(){var e=this,t=new x;t.code=h.J.ACM_INCENTIVE_REPAYMENT,this.incentiveService.getStatusIncentiveSettingsByCode(t).subscribe(function(t){e.incentiveSettingRunEntity=t,e.applyDiscount=e.incentiveSettingRunEntity.applayDiscountRule,e.applyBranch=e.incentiveSettingRunEntity.appalyBranchProdLevel})}},{key:"selectProduct",value:function(e){this.productEntity=e,this.productSelected=!0,this.enabled=e.incentiveRepayment,this.activeCustomerForm=this.formBuilder.group({}),this.activeCustomers=[],this.productivityForm=this.formBuilder.group({}),this.productivities=[],this.riskLevelForm=this.formBuilder.group({}),this.riskLevels=[],this.discountForm=this.formBuilder.group({}),this.discounts=[],this.branchProdLevels=[],this.branchProdForm=this.formBuilder.group({}),this.repayments=[],this.repaymentForm=this.formBuilder.group({}),this.repaymentFilterForm=this.formBuilder.group({}),this.saveNewActive=!1,this.saveNewProductivity=!1,this.saveNewRisk=!1,this.saveNewDiscount=!1,this.saveBranchProd=!1,this.saveRepayment=!1,this.getActiveCustomers(),this.getProdictivity(),this.getRiskLevel(),this.getDiscounts(),this.getBranchProdLevels(),this.getIssuanceAndRepayment(),this.createFilterForm()}},{key:"selectFrequency",value:function(e){this.frequency=e,this.frequencySelected=!0,this.activeCustomerForm=this.formBuilder.group({}),this.activeCustomers=[],this.productivityForm=this.formBuilder.group({}),this.productivities=[],this.riskLevelForm=this.formBuilder.group({}),this.riskLevels=[],this.discountForm=this.formBuilder.group({}),this.discounts=[],this.branchProdLevels=[],this.branchProdForm=this.formBuilder.group({}),this.repayments=[],this.repaymentForm=this.formBuilder.group({}),this.saveNewActive=!1,this.saveNewProductivity=!1,this.saveNewRisk=!1,this.saveNewDiscount=!1,this.saveBranchProd=!1,this.saveRepayment=!1,this.repaymentFilterForm=this.formBuilder.group({}),this.saveNewActive=!1,this.saveNewProductivity=!1,this.saveNewRisk=!1,this.saveNewDiscount=!1,this.saveBranchProd=!1,this.saveRepayment=!1,this.getActiveCustomers(),this.getProdictivity(),this.getRiskLevel(),this.getDiscounts(),this.getBranchProdLevels(),this.getIssuanceAndRepayment(),this.createFilterForm()}},{key:"getProduct",value:function(){var t=this;return(0,v.Z)(e().mark(function n(){var i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=new C,e.next=3,t.incentiveService.getProductCategories(i).toPromise().then(function(e){t.productEntitys=e,t.enabled=t.productEntitys[0].incentiveRepayment});case 3:case"end":return e.stop()}},n)}))()}},{key:"getRoles",value:function(){var e=this;this.settingsService.findGroup(this.groupeEntity).subscribe(function(t){e.groupeEntitys=t})}},{key:"getIncentiveConstantsSettingsbyCategories",value:function(){var t=this;return(0,v.Z)(e().mark(function n(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.incentiveService.findIncentiveSettingsConstantsByCategories(h.J.INCENTIVE_SETTING_CONSTANTS_ISSUANCE_REPAYMENT).toPromise().then(function(e){e.forEach(function(e){e.category===h.J.ACM_INCENTIVE_REPAYMENT?t.repaymentsBasedOn.push(e):e.category===h.J.FREQUENCY?t.frequencies.push(e):e.category===h.J.INCENTIVE_SETTING_TYPE&&t.incentiveTypes.push(e)})});case 2:case"end":return e.stop()}},n)}))()}},{key:"createFormActiveCustomer",value:function(){this.activeCustomerForm=this.formBuilder.group({from0:["",c.kI.required],to0:["",c.kI.required]})}},{key:"getActiveCustomers",value:function(){var t=this;return(0,v.Z)(e().mark(function n(){var i,r;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=new E).category=h.J.ACTIVE_CUSTOMER,null!=t.productEntity&&(i.productId=t.productEntity.id),null!=t.frequency&&((r=new S).id=t.frequency.id,i.frequency=r),e.t0=t.frequencySelected&&t.productSelected,!e.t0){e.next=7;break}return t.activeCustomerIndex=0,e.next=7,t.incentiveService.getIncentiveSettings(i).subscribe(function(e){if(e.length>0){t.listActiveCustomers=e;for(var n=0;n<t.listActiveCustomers.length;n++)t.activeCustomerIndex=n,t.activeCustomers.push(t.listActiveCustomers[n]),t.activeCustomerForm.addControl("from"+t.activeCustomerIndex,new c.NI(t.listActiveCustomers[n].from,c.kI.required)),t.activeCustomerForm.addControl("to"+t.activeCustomerIndex,new c.NI(t.listActiveCustomers[n].to,c.kI.required))}else t.activeCustomers.push(new E),t.createFormActiveCustomer()});case 7:case"end":return e.stop()}},n)}))()}},{key:"addActiveCustomer",value:function(e){setTimeout(function(){e.scrollIntoView({behavior:"smooth"})},0),this.saveNewActive=!0;var t=new E;this.activeCustomers.push(t),this.activeCustomerIndex++,this.activeCustomerForm.addControl("from"+this.activeCustomerIndex,new c.NI("",c.kI.required)),this.activeCustomerForm.addControl("to"+this.activeCustomerIndex,new c.NI("",c.kI.required))}},{key:"saveActiveCustomer",value:function(e){var t=this;if(this.devToolsServices.makeFormAsTouched(this.activeCustomerForm),this.activeCustomerForm.valid)if(null==this.activeCustomers[e].id){var n=0;this.listActiveCustomers.length>0&&(n=Math.max.apply(Math,this.listActiveCustomers.map(function(e){return e.ordre})));var i=n+1,r=new E;r.frequency=this.frequency,r.productId=this.productEntity.id,r.category="ACTIVE_CUSTOMER",r.ordre=i,r.from=this.activeCustomerForm.controls["from"+e].value,r.to=this.activeCustomerForm.controls["to"+e].value;var o=this.listActiveCustomers[this.listActiveCustomers.length-1].to;if(r.from<o)return void this.activeCustomerForm.controls["from"+e].setValidators([c.kI.min(o)]);if(r.from>r.to)return void this.activeCustomerForm.controls["to"+e].setValidators([c.kI.min(r.from)]);this.incentiveService.createIncentiveSetting(r).subscribe(function(n){t.devToolsServices.openToast(0,"alert.success"),t.listActiveCustomers.push(n),t.activeCustomers[e]=n,t.saveNewActive=!1})}else{if(this.listActiveCustomers[e].from=this.activeCustomerForm.controls["from"+e].value,this.listActiveCustomers[e].to=this.activeCustomerForm.controls["to"+e].value,e>0){if(this.listActiveCustomers[e].from<this.listActiveCustomers[e-1].to)return void this.activeCustomerForm.controls["from"+e].setValidators([c.kI.min(this.listActiveCustomers[e-1].to)]);if(this.listActiveCustomers[e].from>this.listActiveCustomers[e].to)return void this.activeCustomerForm.controls["to"+e].setValidators([c.kI.min(this.listActiveCustomers[e].from)]);if(e!==this.activeCustomerIndex&&this.listActiveCustomers[e].to>this.activeCustomerForm.controls["from"+(e+1)].value)return void this.activeCustomerForm.controls["to"+e].setValidators([c.kI.max(this.activeCustomerForm.controls["from"+(e+1)].value)])}else{if(this.activeCustomerForm.controls["from"+e].value<0)return void this.activeCustomerForm.controls["from"+e].setValidators([c.kI.min(0)]);if(this.listActiveCustomers[e].from>this.listActiveCustomers[e].to)return void this.activeCustomerForm.controls["to"+e].setValidators([c.kI.min(this.listActiveCustomers[e].from)])}this.incentiveService.updateIncentiveSetting(this.listActiveCustomers[e]).subscribe(function(n){t.devToolsServices.openToast(0,"alert.success"),t.listActiveCustomers[e]=n})}}},{key:"deleteActiveCustomer",value:function(e){var t=this;this.listActiveCustomers.length>0?this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog."+h.J.DELETE_INCENTIVE_SETTING).afterClosed().subscribe(function(n){n&&(t.activeCustomers[e].delete=!0,t.activeCustomerForm.removeControl("from"+e),t.activeCustomerForm.removeControl("to"+e),null!=t.activeCustomers[e].id&&t.incentiveService.deleteIncentiveSetting(t.activeCustomers[e].id).subscribe(function(){t.activeCustomerForm=t.formBuilder.group({}),t.activeCustomers=[],t.getActiveCustomers(),t.devToolsServices.openToast(0,"alert.success")}),t.saveNewActive=!1)}):(this.activeCustomers[e].delete=!0,this.activeCustomerForm.removeControl("from"+e),this.activeCustomerForm.removeControl("to"+e),this.saveNewActive=!1)}},{key:"createFormProdictivity",value:function(){this.productivityForm=this.formBuilder.group({from0:["",c.kI.required],to0:["",c.kI.required]})}},{key:"getProdictivity",value:function(){var t=this;return(0,v.Z)(e().mark(function n(){var i,r;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=new E).category=h.J.PRODUCTIVITY,null!=t.productEntity&&(i.productId=t.productEntity.id),null!=t.frequency&&((r=new S).id=t.frequency.id,i.frequency=r),e.t0=t.frequencySelected&&t.productSelected,!e.t0){e.next=7;break}return t.productivityIndex=0,e.next=7,t.incentiveService.getIncentiveSettings(i).subscribe(function(e){if(e.length>0){t.listProductivities=e;for(var n=0;n<t.listProductivities.length;n++)t.productivityIndex=n,t.productivities.push(t.listProductivities[n]),t.productivityForm.addControl("from"+t.productivityIndex,new c.NI(t.listProductivities[n].from,c.kI.required)),t.productivityForm.addControl("to"+t.productivityIndex,new c.NI(t.listProductivities[n].to,c.kI.required))}else t.productivities.push(new E),t.createFormProdictivity()});case 7:case"end":return e.stop()}},n)}))()}},{key:"addProductivity",value:function(e){setTimeout(function(){e.scrollIntoView({behavior:"smooth"})},0),this.saveNewProductivity=!0;var t=new E;this.productivities.push(t),this.productivityIndex++,this.productivityForm.addControl("from"+this.productivityIndex,new c.NI("",c.kI.required)),this.productivityForm.addControl("to"+this.productivityIndex,new c.NI("",c.kI.required))}},{key:"saveProductivity",value:function(e){var t=this;if(this.devToolsServices.makeFormAsTouched(this.productivityForm),this.productivityForm.valid)if(e>=this.listProductivities.length){var n=0;this.listProductivities.length>0&&(n=Math.max.apply(Math,this.listProductivities.map(function(e){return e.ordre})));var i=n+1,r=new E;r.frequency=this.frequency,r.productId=this.productEntity.id,r.category="PRODUCTIVITY",r.ordre=i,r.from=this.productivityForm.controls["from"+e].value,r.to=this.productivityForm.controls["to"+e].value;var o=this.listProductivities[this.listProductivities.length-1].to;if(r.from<o)return void this.productivityForm.controls["from"+e].setValidators([c.kI.min(o)]);if(r.from>r.to)return void this.productivityForm.controls["to"+e].setValidators([c.kI.min(r.from)]);this.incentiveService.createIncentiveSetting(r).subscribe(function(n){t.devToolsServices.openToast(0,"alert.success"),t.listProductivities.push(n),t.productivities[e]=n,t.saveNewProductivity=!1})}else{if(this.listProductivities[e].from=this.productivityForm.controls["from"+e].value,this.listProductivities[e].to=this.productivityForm.controls["to"+e].value,e>0){if(this.listProductivities[e].from<this.listProductivities[e-1].to)return void this.productivityForm.controls["from"+e].setValidators([c.kI.min(this.listProductivities[e-1].to)]);if(this.listProductivities[e].from>this.listProductivities[e].to)return void this.productivityForm.controls["to"+e].setValidators([c.kI.min(this.listProductivities[e].from)]);if(e!==this.productivityIndex&&this.listProductivities[e].to>this.productivityForm.controls["from"+(e+1)].value)return void this.productivityForm.controls["to"+e].setValidators([c.kI.max(this.productivityForm.controls["from"+(e+1)].value)])}else{if(this.productivityForm.controls["from"+e].value<0)return void this.productivityForm.controls["from"+e].setValidators([c.kI.min(0)]);if(this.listProductivities[e].from>this.listProductivities[e].to)return void this.productivityForm.controls["to"+e].setValidators([c.kI.min(this.listProductivities[e].from)])}this.incentiveService.updateIncentiveSetting(this.listProductivities[e]).subscribe(function(n){t.devToolsServices.openToast(0,"alert.success"),t.listProductivities[e]=n})}}},{key:"deleteProductivity",value:function(e){var t=this;this.listProductivities.length>0?this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog."+h.J.DELETE_INCENTIVE_SETTING).afterClosed().subscribe(function(n){n&&(t.productivities[e].delete=!0,t.productivityForm.removeControl("from"+e),t.productivityForm.removeControl("to"+e),null!=t.productivities[e].id&&t.incentiveService.deleteIncentiveSetting(t.productivities[e].id).subscribe(function(){t.productivityForm=t.formBuilder.group({}),t.productivities=[],t.getProdictivity(),t.devToolsServices.openToast(0,"alert.success")}),t.saveNewProductivity=!1)}):(this.productivities[e].delete=!0,this.productivityForm.removeControl("from"+e),this.productivityForm.removeControl("to"+e),this.saveNewProductivity=!1)}},{key:"createFormRiskLevel",value:function(){this.riskLevelForm=this.formBuilder.group({from0:["",c.kI.required],to0:["",c.kI.required]})}},{key:"getRiskLevel",value:function(){var t=this;return(0,v.Z)(e().mark(function n(){var i,r;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=new E).category=h.J.RISK_LEVEL,null!=t.productEntity&&(i.productId=t.productEntity.id),null!=t.frequency&&((r=new S).id=t.frequency.id,i.frequency=r),e.t0=t.frequencySelected&&t.productSelected,!e.t0){e.next=7;break}return t.riskLevelIndex=0,e.next=7,t.incentiveService.getIncentiveSettings(i).subscribe(function(e){if(e.length>0){t.listRiskLevels=e;for(var n=0;n<t.listRiskLevels.length;n++)t.riskLevelIndex=n,t.riskLevels.push(t.listRiskLevels[n]),t.riskLevelForm.addControl("from"+t.riskLevelIndex,new c.NI(t.listRiskLevels[n].from,c.kI.required)),t.riskLevelForm.addControl("to"+t.riskLevelIndex,new c.NI(t.listRiskLevels[n].to,c.kI.required))}else t.riskLevels.push(new E),t.createFormRiskLevel()});case 7:case"end":return e.stop()}},n)}))()}},{key:"addRiskLevel",value:function(e){setTimeout(function(){e.scrollIntoView({behavior:"smooth"})},0),this.saveNewRisk=!0;var t=new E;this.riskLevels.push(t),this.riskLevelIndex++,this.riskLevelForm.addControl("from"+this.riskLevelIndex,new c.NI("",c.kI.required)),this.riskLevelForm.addControl("to"+this.riskLevelIndex,new c.NI("",c.kI.required))}},{key:"saveRiskLevel",value:function(e){var t=this;if(this.devToolsServices.makeFormAsTouched(this.riskLevelForm),this.riskLevelForm.valid)if(e>=this.listRiskLevels.length){var n=0;this.listRiskLevels.length>0&&(n=Math.max.apply(Math,this.listRiskLevels.map(function(e){return e.ordre})));var i=n+1,r=new E;r.frequency=this.frequency,r.productId=this.productEntity.id,r.category="RISK_LEVEL",r.ordre=i,r.from=this.riskLevelForm.controls["from"+e].value,r.to=this.riskLevelForm.controls["to"+e].value;var o=this.listRiskLevels[this.listRiskLevels.length-1].to;if(r.from<o)return void this.riskLevelForm.controls["from"+e].setValidators([c.kI.min(o)]);if(r.from>r.to)return void this.riskLevelForm.controls["to"+e].setValidators([c.kI.min(r.from)]);this.incentiveService.createIncentiveSetting(r).subscribe(function(n){t.devToolsServices.openToast(0,"alert.success"),t.listRiskLevels.push(n),t.riskLevels[e]=n,t.saveNewRisk=!1})}else{if(this.listRiskLevels[e].from=this.riskLevelForm.controls["from"+e].value,this.listRiskLevels[e].to=this.riskLevelForm.controls["to"+e].value,e>0){if(this.listRiskLevels[e].from<this.listRiskLevels[e-1].to)return void this.riskLevelForm.controls["from"+e].setValidators([c.kI.min(this.listRiskLevels[e-1].to)]);if(this.listRiskLevels[e].from>this.listRiskLevels[e].to)return void this.riskLevelForm.controls["to"+e].setValidators([c.kI.min(this.listRiskLevels[e].from)]);if(e!==this.riskLevelIndex&&this.listRiskLevels[e].to>this.riskLevelForm.controls["from"+(e+1)].value)return void this.riskLevelForm.controls["to"+e].setValidators([c.kI.max(this.riskLevelForm.controls["from"+(e+1)].value)])}else{if(this.riskLevelForm.controls["from"+e].value<0)return void this.riskLevelForm.controls["from"+e].setValidators([c.kI.min(0)]);if(this.listRiskLevels[e].from>this.listRiskLevels[e].to)return void this.riskLevelForm.controls["to"+e].setValidators([c.kI.min(this.listRiskLevels[e].from)])}this.incentiveService.updateIncentiveSetting(this.listRiskLevels[e]).subscribe(function(n){t.devToolsServices.openToast(0,"alert.success"),t.listRiskLevels[e]=n})}}},{key:"deleteRiskLevel",value:function(e){var t=this;this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog."+h.J.DELETE_INCENTIVE_SETTING).afterClosed().subscribe(function(n){n&&(t.riskLevels[e].delete=!0,t.riskLevelForm.removeControl("from"+e),t.riskLevelForm.removeControl("to"+e),null!=t.riskLevels[e].id&&t.incentiveService.deleteIncentiveSetting(t.riskLevels[e].id).subscribe(function(){t.riskLevelForm=t.formBuilder.group({}),t.riskLevels=[],t.getRiskLevel(),t.devToolsServices.openToast(0,"alert.success")}),t.saveNewRisk=!1)})}},{key:"createFormDiscount",value:function(){this.discountForm=this.formBuilder.group({from0:["",c.kI.required],to0:["",c.kI.required],discount0:["",c.kI.required]})}},{key:"getDiscounts",value:function(){var t=this;return(0,v.Z)(e().mark(function n(){var i,r;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=new E).category=h.J.DISCOUNT_FROM_TOTAL,null!=t.productEntity&&(i.productId=t.productEntity.id),null!=t.frequency&&((r=new S).id=t.frequency.id,i.frequency=r),e.t0=t.frequencySelected&&t.productSelected,!e.t0){e.next=7;break}return t.discountIndex=0,e.next=7,t.incentiveService.getIncentiveSettings(i).subscribe(function(e){if(e.length>0){t.listDiscounts=e;for(var n=0;n<t.listDiscounts.length;n++)t.discountIndex=n,t.discounts.push(t.listDiscounts[n]),t.discountForm.addControl("from"+t.discountIndex,new c.NI(t.listDiscounts[n].from,c.kI.required)),t.discountForm.addControl("to"+t.discountIndex,new c.NI(t.listDiscounts[n].to,c.kI.required)),t.discountForm.addControl("discount"+t.discountIndex,new c.NI(t.listDiscounts[n].discount,c.kI.required))}else t.discounts.push(new E),t.createFormDiscount()});case 7:case"end":return e.stop()}},n)}))()}},{key:"addDiscount",value:function(e){setTimeout(function(){e.scrollIntoView({behavior:"smooth"})},0),this.saveNewDiscount=!0;var t=new E;this.discounts.push(t),this.discountIndex++,this.discountForm.addControl("from"+this.discountIndex,new c.NI("",c.kI.required)),this.discountForm.addControl("to"+this.discountIndex,new c.NI("",c.kI.required)),this.discountForm.addControl("discount"+this.discountIndex,new c.NI("",c.kI.required))}},{key:"saveDiscount",value:function(e){var t=this;if(this.devToolsServices.makeFormAsTouched(this.discountForm),this.discountForm.valid)if(e>=this.listDiscounts.length){var n=0;this.listDiscounts.length>0&&(n=Math.max.apply(Math,this.listDiscounts.map(function(e){return e.ordre})));var i=n+1,r=new E;r.frequency=this.frequency,r.productId=this.productEntity.id,r.category="DISCOUNT_FROM_TOTAL",r.ordre=i,r.from=this.discountForm.controls["from"+e].value,r.to=this.discountForm.controls["to"+e].value,r.discount=this.discountForm.controls["discount"+e].value;var o=this.listDiscounts[this.listDiscounts.length-1].to;if(r.from<o)return void this.discountForm.controls["from"+e].setValidators([c.kI.min(o)]);if(r.from>r.to)return void this.discountForm.controls["to"+e].setValidators([c.kI.min(r.from)]);this.incentiveService.createIncentiveSetting(r).subscribe(function(n){t.devToolsServices.openToast(0,"alert.success"),t.listDiscounts.push(n),t.discounts[e]=n,t.saveNewDiscount=!1})}else{if(this.listDiscounts[e].from=this.discountForm.controls["from"+e].value,this.listDiscounts[e].to=this.discountForm.controls["to"+e].value,this.listDiscounts[e].discount=this.discountForm.controls["discount"+e].value,e>0){if(this.listDiscounts[e].from<this.listDiscounts[e-1].to)return void this.discountForm.controls["from"+e].setValidators([c.kI.min(this.listDiscounts[e-1].to)]);if(this.listDiscounts[e].from>this.listDiscounts[e].to)return void this.discountForm.controls["to"+e].setValidators([c.kI.min(this.listDiscounts[e].from)]);if(e!==this.discountIndex&&this.listDiscounts[e].to>this.discountForm.controls["from"+(e+1)].value)return void this.discountForm.controls["to"+e].setValidators([c.kI.max(this.discountForm.controls["from"+(e+1)].value)])}else{if(this.discountForm.controls["from"+e].value<0)return void this.discountForm.controls["from"+e].setValidators([c.kI.min(0)]);if(this.listDiscounts[e].from>this.listDiscounts[e].to)return void this.discountForm.controls["to"+e].setValidators([c.kI.min(this.listDiscounts[e].from)])}this.incentiveService.updateIncentiveSetting(this.listDiscounts[e]).subscribe(function(n){t.devToolsServices.openToast(0,"alert.success"),t.listDiscounts[e]=n})}}},{key:"deleteDiscount",value:function(e){var t=this;this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog."+h.J.DELETE_INCENTIVE_SETTING).afterClosed().subscribe(function(n){n&&(t.discounts[e].delete=!0,t.discountForm.removeControl("from"+e),t.discountForm.removeControl("to"+e),t.discountForm.removeControl("discount"+e),null!=t.discounts[e].id&&t.incentiveService.deleteIncentiveSetting(t.discounts[e].id).subscribe(function(){t.discountForm=t.formBuilder.group({}),t.discounts=[],t.getDiscounts(),t.devToolsServices.openToast(0,"alert.success")}),t.saveNewDiscount=!1)})}},{key:"createFormBranchProd",value:function(){this.branchProdForm=this.formBuilder.group({role0:["",c.kI.required],minAmount0:["",c.kI.required],minCustomers0:["",c.kI.required]})}},{key:"getBranchProdLevels",value:function(){var t=this;return(0,v.Z)(e().mark(function n(){var i,r;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=new y,null!=t.productEntity&&(i.productId=t.productEntity.id),null!=t.frequency&&((r=new S).id=t.frequency.id,i.frequency=r),e.t0=t.frequencySelected&&t.productSelected,!e.t0){e.next=7;break}return t.branchIndex=0,e.next=7,t.issuanceRepaymentService.getBranchProdLevels(i).subscribe(function(e){if(e.length>0){t.listBranchProdLevels=e;for(var n=0;n<t.listBranchProdLevels.length;n++)t.branchIndex=n,t.branchProdLevels.push(t.listBranchProdLevels[n]),t.branchProdForm.addControl("role"+t.branchIndex,new c.NI(t.listBranchProdLevels[n].role,c.kI.required)),t.branchProdForm.addControl("minAmount"+t.branchIndex,new c.NI(t.listBranchProdLevels[n].minAmount,c.kI.required)),t.branchProdForm.addControl("minCustomers"+t.branchIndex,new c.NI(t.listBranchProdLevels[n].minNumberCustomer,c.kI.required))}else t.branchProdLevels.push(new y),t.createFormBranchProd()});case 7:case"end":return e.stop()}},n)}))()}},{key:"addBranchProdLevel",value:function(e){setTimeout(function(){e.scrollIntoView({behavior:"smooth",block:"start"})},0),this.saveBranchProd=!0;var t=new y;this.branchProdLevels.push(t),this.branchIndex++,this.branchProdForm.addControl("role"+this.branchIndex,new c.NI("",c.kI.required)),this.branchProdForm.addControl("minAmount"+this.branchIndex,new c.NI("",c.kI.required)),this.branchProdForm.addControl("minCustomers"+this.branchIndex,new c.NI("",c.kI.required))}},{key:"saveBranchProdLevel",value:function(e){var t=this;if(this.devToolsServices.makeFormAsTouched(this.branchProdForm),this.branchProdForm.valid)if(e>=this.listBranchProdLevels.length){var n=0;this.listBranchProdLevels.length>0&&(n=Math.max.apply(Math,this.listBranchProdLevels.map(function(e){return e.ordre})));var i=n+1,r=new y;r.frequency=this.frequency,r.productId=this.productEntity.id,r.ordre=i,r.role=this.branchProdForm.controls["role"+e].value,r.minAmount=this.branchProdForm.controls["minAmount"+e].value,r.minNumberCustomer=this.branchProdForm.controls["minCustomers"+e].value,this.issuanceRepaymentService.createBranchProdLevel(r).subscribe(function(n){t.devToolsServices.openToast(0,"alert.success"),t.listBranchProdLevels.push(n),t.branchProdLevels[e]=n,t.saveBranchProd=!1})}else this.listBranchProdLevels[e].role=this.branchProdForm.controls["role"+e].value,this.listBranchProdLevels[e].minAmount=this.branchProdForm.controls["minAmount"+e].value,this.listBranchProdLevels[e].minNumberCustomer=this.branchProdForm.controls["minCustomers"+e].value,this.issuanceRepaymentService.updateBranchProdLevel(this.listBranchProdLevels[e]).subscribe(function(n){t.devToolsServices.openToast(0,"alert.success"),t.listBranchProdLevels[e]=n})}},{key:"deleteBranchProdLevel",value:function(e){var t=this;this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog."+h.J.DELETE_INCENTIVE_SETTING).afterClosed().subscribe(function(n){n&&(t.branchProdLevels[e].delete=!0,t.branchProdForm.removeControl("role"+e),t.branchProdForm.removeControl("minAmount"+e),t.branchProdForm.removeControl("minCustomers"+e),null!=t.branchProdLevels[e].id&&t.issuanceRepaymentService.deleteBranchProdLevel(t.branchProdLevels[e].id).subscribe(function(){t.devToolsServices.openToast(0,"alert.success")}),t.saveBranchProd=!1)})}},{key:"createFormRepayment",value:function(){this.repaymentForm=this.formBuilder.group({role0:["",c.kI.required],activeCustomer0:["",c.kI.required],productivity0:["",c.kI.required],riskLevel0:["",c.kI.required],incentiveType0:["",c.kI.required],incentiveValue0:["",c.kI.required],basedOn0:["",c.kI.required]})}},{key:"getIssuanceAndRepayment",value:function(){var e=this,t=new g;if(t.pageSize=this.pageSize,t.params=new I,null!=this.productEntity&&(t.params.productId=this.productEntity.id),null!=this.frequency){var n=new S;n.id=this.frequency.id,t.params.frequency=n}this.frequencySelected&&this.productSelected&&(this.repaymentIndex=0,this.issuanceRepaymentService.findPaginationRepayment(t).subscribe(function(t){if(e.pageSize=t.pageSize,e.totalElements=t.totalElements,e.pageNumber=t.pageNumber+1,e.incentiveRepayments=[],t.totalElements>0){e.incentiveRepayments=t.resultsIncentiveRepayments;for(var n=0;n<e.incentiveRepayments.length;n++)e.repaymentIndex=n,e.repayments.push(e.incentiveRepayments[n]),e.repaymentForm.addControl("role"+e.repaymentIndex,new c.NI(e.incentiveRepayments[n].role,c.kI.required)),e.repaymentForm.addControl("activeCustomer"+e.repaymentIndex,new c.NI(e.incentiveRepayments[n].activeCustomerId,c.kI.required)),e.repaymentForm.addControl("productivity"+e.repaymentIndex,new c.NI(e.incentiveRepayments[n].productivityId,c.kI.required)),e.repaymentForm.addControl("riskLevel"+e.repaymentIndex,new c.NI(e.incentiveRepayments[n].riskLevelId,c.kI.required)),e.repaymentForm.addControl("incentiveType"+e.repaymentIndex,new c.NI(e.incentiveRepayments[n].incentiveType,c.kI.required)),e.repaymentForm.addControl("incentiveValue"+e.repaymentIndex,new c.NI(e.incentiveRepayments[n].incentiveValue,c.kI.required)),e.repaymentForm.addControl("basedOn"+e.repaymentIndex,new c.NI(e.incentiveRepayments[n].basedOnId,c.kI.required))}else e.repayments.push(new I),e.createFormRepayment()}))}},{key:"reloadRepaymentIncentive",value:function(e){var t=this,n=new g;n.pageNumber=e-1,n.pageSize=this.pageSize,n.params=this.repaymentEntity,this.repaymentIndex=0,this.issuanceRepaymentService.findPaginationRepayment(n).subscribe(function(e){if(t.pageSize=e.pageSize,t.totalElements=e.totalElements,t.pageNumber=e.pageNumber+1,t.incentiveRepayments=[],e.totalElements>0){t.incentiveRepayments=e.resultsIncentiveRepayments,t.repayments=[],t.repaymentForm=t.formBuilder.group({});for(var n=0;n<t.incentiveRepayments.length;n++)t.repaymentIndex=n,t.repayments.push(t.incentiveRepayments[n]),t.repaymentForm.addControl("role"+t.repaymentIndex,new c.NI(t.incentiveRepayments[n].role,c.kI.required)),t.repaymentForm.addControl("activeCustomer"+t.repaymentIndex,new c.NI(t.incentiveRepayments[n].activeCustomerId,c.kI.required)),t.repaymentForm.addControl("productivity"+t.repaymentIndex,new c.NI(t.incentiveRepayments[n].productivityId,c.kI.required)),t.repaymentForm.addControl("riskLevel"+t.repaymentIndex,new c.NI(t.incentiveRepayments[n].riskLevelId,c.kI.required)),t.repaymentForm.addControl("incentiveType"+t.repaymentIndex,new c.NI(t.incentiveRepayments[n].incentiveType,c.kI.required)),t.repaymentForm.addControl("incentiveValue"+t.repaymentIndex,new c.NI(t.incentiveRepayments[n].incentiveValue,c.kI.required)),t.repaymentForm.addControl("basedOn"+t.repaymentIndex,new c.NI(t.incentiveRepayments[n].basedOnId,c.kI.required))}})}},{key:"addRepayment",value:function(e){setTimeout(function(){e.scrollIntoView({behavior:"smooth"})},0),this.saveRepayment=!0;var t=new I;this.repayments.push(t),this.repaymentIndex++,this.repaymentForm.addControl("role"+this.repaymentIndex,new c.NI("",c.kI.required)),this.repaymentForm.addControl("activeCustomer"+this.repaymentIndex,new c.NI("",c.kI.required)),this.repaymentForm.addControl("productivity"+this.repaymentIndex,new c.NI("",c.kI.required)),this.repaymentForm.addControl("riskLevel"+this.repaymentIndex,new c.NI("",c.kI.required)),this.repaymentForm.addControl("incentiveType"+this.repaymentIndex,new c.NI("",c.kI.required)),this.repaymentForm.addControl("incentiveValue"+this.repaymentIndex,new c.NI("",c.kI.required)),this.repaymentForm.addControl("basedOn"+this.repaymentIndex,new c.NI("",c.kI.required))}},{key:"saveRepaymentSettings",value:function(e){var t=this;if(this.devToolsServices.makeFormAsTouched(this.repaymentForm),this.repaymentForm.valid)if(e>=this.incentiveRepayments.length){var n=0;this.incentiveRepayments.length>0&&(n=Math.max.apply(Math,this.incentiveRepayments.map(function(e){return e.ordre})));var i=n+1,r=new I;r.frequency=this.frequency,r.productId=this.productEntity.id,r.ordre=i,r.role=this.repaymentForm.controls["role"+e].value,r.activeCustomerId=this.repaymentForm.controls["activeCustomer"+e].value,r.productivityId=this.repaymentForm.controls["productivity"+e].value,r.riskLevelId=this.repaymentForm.controls["riskLevel"+e].value,r.incentiveType=this.repaymentForm.controls["incentiveType"+e].value,r.incentiveValue=this.repaymentForm.controls["incentiveValue"+e].value,r.basedOnId=this.repaymentForm.controls["basedOn"+e].value,this.issuanceRepaymentService.createIncentiveRepayment(r).subscribe(function(e){t.devToolsServices.openToast(0,"alert.success"),t.incentiveRepayments.push(e),t.repayments[t.repaymentIndex]=e,t.saveRepayment=!1})}else this.incentiveRepayments[e].role=this.repaymentForm.controls["role"+e].value,this.incentiveRepayments[e].activeCustomerId=this.repaymentForm.controls["activeCustomer"+e].value,this.incentiveRepayments[e].productivityId=this.repaymentForm.controls["productivity"+e].value,this.incentiveRepayments[e].riskLevelId=this.repaymentForm.controls["riskLevel"+e].value,this.incentiveRepayments[e].incentiveType=this.repaymentForm.controls["incentiveType"+e].value,this.incentiveRepayments[e].incentiveValue=this.repaymentForm.controls["incentiveValue"+e].value,this.incentiveRepayments[e].basedOnId=this.repaymentForm.controls["basedOn"+e].value,this.issuanceRepaymentService.updateIncentiveRepayment(this.incentiveRepayments[e]).subscribe(function(n){t.devToolsServices.openToast(0,"alert.success"),t.incentiveRepayments[e]=n})}},{key:"deleteIncentiveRepayment",value:function(e){var t=this;this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog."+h.J.DELETE_INCENTIVE_SETTING).afterClosed().subscribe(function(n){n&&(t.repayments[e].delete=!0,t.repaymentForm.removeControl("role"+e),t.branchProdForm.removeControl("activeCustomer"+e),t.branchProdForm.removeControl("productivity"+e),t.repaymentForm.removeControl("riskLevel"+e),t.branchProdForm.removeControl("incentiveType"+e),t.branchProdForm.removeControl("incentiveValue"+e),t.repaymentForm.removeControl("basedOn"+e),null!=t.repayments[e].id&&t.issuanceRepaymentService.deleteIncentiveRepayment(t.repayments[e].id).subscribe(function(){t.devToolsServices.openToast(0,"alert.success")}),t.saveRepayment=!1)})}},{key:"compareIncentiveType",value:function(e,t){return e.code===t.code&&e.id===t.id}},{key:"compareBasedOn",value:function(e,t){return e.code===t.code&&e.id===t.id}},{key:"changeStatusRepaymentSetting",value:function(){var e=this;this.productEntity.incentiveRepayment=this.enabled,this.incentiveService.updateProductCategory(this.productEntity).subscribe(function(t){e.devToolsServices.openToast(0,"alert.success"),e.enabled=t[0].enabled})}},{key:"applyDiscountRule",value:function(){var e=this,t=new x;t.code=h.J.ACM_INCENTIVE_REPAYMENT,t.applayDiscountRule=this.applyDiscount,this.issuanceRepaymentService.updateApplyDiscountOrBranch(t).subscribe(function(t){e.devToolsServices.openToast(0,"alert.success")})}},{key:"applyBranchRule",value:function(){var e=this,t=new x;t.code=h.J.ACM_INCENTIVE_REPAYMENT,t.appalyBranchProdLevel=this.applyBranch,this.issuanceRepaymentService.updateApplyDiscountOrBranch(t).subscribe(function(t){e.devToolsServices.openToast(0,"alert.success")})}},{key:"createFilterForm",value:function(){this.repaymentFilterForm=this.formBuilder.group({role:[""],activeCustomer:[""],productivity:[""],riskLevel:[""],incentiveType:[""],basedOn:[""]})}},{key:"onSubmit",value:function(){if(this.repaymentFilterForm.controls.role.value&&(this.repaymentEntity.role=this.repaymentFilterForm.controls.role.value),(this.repaymentFilterForm.controls.activeCustomer.value||0===this.repaymentFilterForm.controls.activeCustomer.value)&&(this.repaymentEntity.activeCustomerId=this.repaymentFilterForm.controls.activeCustomer.value),(this.repaymentFilterForm.controls.productivity.value||0===this.repaymentFilterForm.controls.productivity.value)&&(this.repaymentEntity.productivityId=this.repaymentFilterForm.controls.productivity.value),(this.repaymentFilterForm.controls.riskLevel.value||0===this.repaymentFilterForm.controls.riskLevel.value)&&(this.repaymentEntity.riskLevelId=this.repaymentFilterForm.controls.riskLevel.value),(this.repaymentFilterForm.controls.incentiveType.value||0===this.repaymentFilterForm.controls.incentiveType.value)&&(this.repaymentEntity.incentiveType=this.repaymentFilterForm.controls.incentiveType.value),(this.repaymentFilterForm.controls.basedOn.value||0===this.repaymentFilterForm.controls.basedOn.value)&&(this.repaymentEntity.basedOnId=this.repaymentFilterForm.controls.basedOn.value),null!=this.productEntity&&(this.repaymentEntity.productId=this.productEntity.id),null!=this.frequency){var e=new S;e.id=this.frequency.id,this.repaymentEntity.frequency=e}this.repayments=[],this.repaymentForm=this.formBuilder.group({}),this.reloadRepaymentIncentive(1)}},{key:"reset",value:function(){this.pageSize=5,this.page=1,this.repaymentEntity=new I,this.repayments=[],this.repaymentForm=this.formBuilder.group({}),this.getIssuanceAndRepayment(),this.createFilterForm()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(b.\u0275\u0275directiveInject(k.q),b.\u0275\u0275directiveInject(N.g),b.\u0275\u0275directiveInject(w),b.\u0275\u0275directiveInject(c.qu),b.\u0275\u0275directiveInject(R),b.\u0275\u0275directiveInject(_.R))},t.\u0275cmp=b.\u0275\u0275defineComponent({type:t,selectors:[["app-issuance-repayment-incentives"]],decls:36,vars:24,consts:[[3,"heading","icon","account","status"],[1,"card","row"],[1,"card-header"],[1,"col-xl-11","col-lg-11","col-md-11","col-sm-11"],[1,"card-title","m-0"],[1,"card-body"],[1,"row","pt-3"],[1,"row"],[1,"col-md-2","col-lg-2","col-sm-2"],[1,"col-md-4","col-lg-4","col-sm-4","justify-content-start"],[1,"input-group"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-2","col-lg-2","col-sm-2","d-flex","justify-content-start"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","ngModelChange","click"],["class","pt-5",4,"ngIf"],[3,"ngValue"],[1,"pt-5"],[1,"card-header-incentive"],[1,"py-5",3,"formGroup"],[1,"col-xl-10","col-lg-10","col-md-10","col-sm-10"],[1,"table"],[4,"ngFor","ngForOf"],[1,"scroll-incentive"],["scrollToNewActiveCustomer",""],[1,"col-xl-2","col-lg-2","col-md-2","col-sm-2"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-primary",3,"disabled","click"],["name","plus",1,"mx-2"],["aria-hidden","true","ng-reflect-klass","fa fa-plus",1,"fa","fa-plus"],["scrollToNewProductivity",""],["scrollToNewRisk",""],["scrollToNewDiscount",""],["scrollToNewBranchProd",""],[1,"row","pt-3","px-1"],[1,"col-xl-3","col-sm-4","d-flex","justify-content-start"],[1,"pt-2","px-3"],[1,"col","d-flex","justify-content-start"],[1,"row","px-1"],[1,"divider","mb-0"],["id","static-1"],["ngbPanelTitle",""],["ngbPanelContent",""],[3,"formGroup"],["scrollToNewRepayment",""],[1,"col-xl-12","col-md-12","px-0","mx-0","row"],[1,"col-xl-9","col-md-9"],["size","sm",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],[1,"col-xl-1","col-lg-1","col-md-1","col-sm-1"],[4,"ngIf"],["type","number",1,"form-control",3,"formControlName"],[1,"row","d-flex","justify-content-end","px-3"],[1,"px-2"],[1,"btn","btn-success",3,"click"],[1,"pe-7s-check","btn-icon-wrapper","text-white"],[1,"btn","btn-danger",3,"click"],[1,"pe-7s-trash","btn-icon-wrapper","text-white"],[1,"form-control",3,"formControlName"],[1,"card-header--title"],[1,"d-flex","flex-row","d-flex","justify-content-center"],[1,"col"],[1,"position-relative","form-group"],["formControlName","role","name","role",1,"form-control"],["formControlName","activeCustomer","name","activeCustomer",1,"form-control"],["formControlName","productivity","name","productivity",1,"form-control"],["formControlName","riskLevel","name","riskLevel",1,"form-control"],["formControlName","incentiveType","name","incentiveType",1,"form-control"],["formControlName","basedOn","name","basedOn",1,"form-control"],[1,"d-flex","position-relative","form-group","pt-4","mt-1"],[1,"btn","btn-primary",3,"click"],[1,"form-control",3,"formControlName","compareWith"],["type","text",1,"form-control",3,"formControlName"],[1,"col-xl-6","col-sm-12","py-1","px-0","d-flex","justify-content-center"]],template:function(e,t){1&e&&(b.\u0275\u0275element(0,"app-page-title",0),b.\u0275\u0275pipe(1,"translate"),b.\u0275\u0275elementStart(2,"div",1),b.\u0275\u0275elementStart(3,"div",2),b.\u0275\u0275elementStart(4,"div",3),b.\u0275\u0275elementStart(5,"div",4),b.\u0275\u0275text(6),b.\u0275\u0275pipe(7,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(8,"div",5),b.\u0275\u0275elementStart(9,"div",6),b.\u0275\u0275elementStart(10,"div",3),b.\u0275\u0275elementStart(11,"div",7),b.\u0275\u0275elementStart(12,"div",8),b.\u0275\u0275elementStart(13,"label"),b.\u0275\u0275text(14),b.\u0275\u0275pipe(15,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(16,"div",9),b.\u0275\u0275elementStart(17,"div",10),b.\u0275\u0275elementStart(18,"select",11),b.\u0275\u0275listener("ngModelChange",function(e){return t.productEntity=e})("ngModelChange",function(e){return t.selectProduct(e)}),b.\u0275\u0275template(19,L,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(20,"div",13),b.\u0275\u0275elementStart(21,"div"),b.\u0275\u0275elementStart(22,"div",10),b.\u0275\u0275elementStart(23,"bSwitch",14),b.\u0275\u0275listener("ngModelChange",function(e){return t.enabled=e})("click",function(){return t.changeStatusRepaymentSetting()}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(24,"div",6),b.\u0275\u0275elementStart(25,"div",3),b.\u0275\u0275elementStart(26,"div",7),b.\u0275\u0275elementStart(27,"div",8),b.\u0275\u0275elementStart(28,"label"),b.\u0275\u0275text(29),b.\u0275\u0275pipe(30,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(31,"div",9),b.\u0275\u0275elementStart(32,"div",10),b.\u0275\u0275elementStart(33,"select",11),b.\u0275\u0275listener("ngModelChange",function(e){return t.frequency=e})("ngModelChange",function(e){return t.selectFrequency(e)}),b.\u0275\u0275template(34,B,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275template(35,Re,181,112,"div",15),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&e&&(b.\u0275\u0275property("heading",b.\u0275\u0275pipeBind1(1,16,"sidebar.issuance_and_repayment_incentives"))("icon","pe-7s-gift")("account","")("status",-1),b.\u0275\u0275advance(6),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(7,18,"incentive.issuance_and_repayment.issuance_and_repayment_incentives_settings")),b.\u0275\u0275advance(8),b.\u0275\u0275textInterpolate1("",b.\u0275\u0275pipeBind1(15,20,"incentive.select_category")," : "),b.\u0275\u0275advance(4),b.\u0275\u0275property("ngModel",t.productEntity),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",t.productEntitys),b.\u0275\u0275advance(4),b.\u0275\u0275property("ngModel",t.enabled)("switch-size","small")("switch-animate",!0)("switch-off-color","danger"),b.\u0275\u0275advance(6),b.\u0275\u0275textInterpolate1("",b.\u0275\u0275pipeBind1(30,22,"incentive.select_frequency")," : "),b.\u0275\u0275advance(4),b.\u0275\u0275property("ngModel",t.frequency),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",t.frequencies),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",t.productSelected&&t.frequencySelected))},directives:[O.T,c.EJ,P.oH,c.JJ,c.On,s.NgForOf,u.U,s.NgIf,c.YN,c.Kr,c._Y,c.JL,c.sg,P.MU,V.gY,V.Gk,V.Cu,V.gW,V.N9,c.wV,c.Fj,c.u,P.HK],pipes:[l.X$],styles:[""]}),t}(),Oe=n(function e(){i(this,e)}),Pe=n(function e(){i(this,e)}),Ve=function(){var e=function(){function e(t){i(this,e),this.httpClient=t}return n(e,[{key:"getIncentiveOperations",value:function(e){return this.httpClient.post(T.f.FIND_INCENTIVE_OPERATION,e)}},{key:"createOperationIncentive",value:function(e){return this.httpClient.post(T.f.CREATE_INCENTIVE_OPERATION,e)}},{key:"updateOperationIncentive",value:function(e){return this.httpClient.put(T.f.UPDATE_INCENTIVE_OPERATION,e)}},{key:"deleteOperationIncentive",value:function(e){return this.httpClient.delete(T.f.DELETE_INCENTIVE_OPERATION+e)}},{key:"findPagination",value:function(e){return this.httpClient.post(T.f.FIND_PAGINATION_OPERATION,e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.\u0275\u0275inject(F.eN))},e.\u0275prov=b.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function Le(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.description," ")}}function Be(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.description," ")}}function Ae(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n.code),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.libelle," ")}}function qe(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"select",32),b.\u0275\u0275template(2,Ae,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index,i=b.\u0275\u0275nextContext(2);b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","role",n,""),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",i.groupeEntitys)}}function Me(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.description," ")}}function De(e,t){if(1&e){var n=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"select",33),b.\u0275\u0275listener("ngModelChange",function(e){b.\u0275\u0275restoreView(n);var t=b.\u0275\u0275nextContext().index;return b.\u0275\u0275nextContext(2).onChangeIncentiveType(e,t)}),b.\u0275\u0275template(2,Me,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()}if(2&e){var i=b.\u0275\u0275nextContext().index,r=b.\u0275\u0275nextContext(2);b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","incentiveType",i,""),b.\u0275\u0275property("compareWith",r.compareIncentiveType),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",r.incentiveTypes)}}function Ge(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275element(1,"input",34),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index;b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","incentiveValue",n,"")}}function je(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.description," ")}}function Ye(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"select",35),b.\u0275\u0275template(2,je,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index,i=b.\u0275\u0275nextContext(2);b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","basedOn",n,""),b.\u0275\u0275property("compareWith",i.compareBasedOn),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",i.operationsBasedOn)}}function ze(e,t){if(1&e){var n=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"div",36),b.\u0275\u0275elementStart(2,"div",37),b.\u0275\u0275elementStart(3,"button",38),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext().index;return b.\u0275\u0275nextContext(2).saveOperationSettings(e)}),b.\u0275\u0275element(4,"i",39),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(5,"div",37),b.\u0275\u0275elementStart(6,"button",40),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext().index;return b.\u0275\u0275nextContext(2).deleteIncentiveOperation(e)}),b.\u0275\u0275element(7,"i",41),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()}}function Ue(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"tr"),b.\u0275\u0275template(1,qe,3,2,"td",31),b.\u0275\u0275template(2,De,3,3,"td",31),b.\u0275\u0275template(3,Ge,2,1,"td",31),b.\u0275\u0275template(4,Ye,3,3,"td",31),b.\u0275\u0275template(5,ze,8,0,"td",31),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete)}}function Je(e,t){if(1&e){var n=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"div",17),b.\u0275\u0275elementStart(1,"form",18),b.\u0275\u0275elementStart(2,"div",7),b.\u0275\u0275elementStart(3,"div",19),b.\u0275\u0275elementStart(4,"table",20),b.\u0275\u0275elementStart(5,"tr"),b.\u0275\u0275elementStart(6,"th"),b.\u0275\u0275text(7),b.\u0275\u0275pipe(8,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(9,"th"),b.\u0275\u0275text(10),b.\u0275\u0275pipe(11,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(12,"th"),b.\u0275\u0275text(13),b.\u0275\u0275pipe(14,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(15,"th"),b.\u0275\u0275text(16),b.\u0275\u0275pipe(17,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275template(18,Ue,6,5,"tr",21),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(19,"div",22,23),b.\u0275\u0275elementStart(21,"div",24),b.\u0275\u0275elementStart(22,"div",25),b.\u0275\u0275elementStart(23,"ngb-pagination",26),b.\u0275\u0275listener("pageChange",function(e){return b.\u0275\u0275restoreView(n),b.\u0275\u0275nextContext().pageNumber=e})("pageChange",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext();return e.reloadIncentiveOperations(e.pageNumber,"NUMBER")}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(24,"div",27),b.\u0275\u0275elementStart(25,"button",28),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275reference(20);return b.\u0275\u0275nextContext().addOperation(e)}),b.\u0275\u0275elementStart(26,"fa",29),b.\u0275\u0275element(27,"i",30),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()}if(2&e){var i=b.\u0275\u0275nextContext();b.\u0275\u0275advance(1),b.\u0275\u0275property("formGroup",i.operationIncentiveForm),b.\u0275\u0275advance(6),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(8,12,"incentive.role")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(11,14,"incentive.incentive_type")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(14,16,"incentive.incentive_value")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(17,18,"incentive.based_on")),b.\u0275\u0275advance(2),b.\u0275\u0275property("ngForOf",i.operations),b.\u0275\u0275advance(5),b.\u0275\u0275property("collectionSize",i.totalElements)("page",i.pageNumber)("pageSize",i.pageSize)("maxSize",3)("boundaryLinks",!0),b.\u0275\u0275advance(2),b.\u0275\u0275property("disabled",i.saveOperation)}}var He=function(){var t=function(){function t(e,n,r,o,a,s){i(this,t),this.loanManagementService=e,this.formBuilder=n,this.incentiveService=r,this.settingsService=o,this.operationIncentivesService=a,this.devToolsServices=s,this.productEntitys=[],this.productSelected=!1,this.frequencySelected=!1,this.groupeEntitys=[],this.groupeEntity=new f.P,this.frequencies=[],this.incentiveTypes=[],this.operationsBasedOn=[],this.operations=[],this.incentiveOperations=[],this.operationIndex=0,this.pageSize=5,this.disableBasedOn=!0,this.saveOperation=!1}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.getProduct().then(function(){e.getIncentiveConstantsSettingsbyCategories().then(function(){e.frequencies.length>0&&e.productEntitys.length>0&&(e.frequency=e.frequencies[0],e.frequencySelected=!0,e.productEntity=e.productEntitys[0],e.productSelected=!0,e.getIncentiveOperations())})}),this.operationIncentiveForm=this.formBuilder.group({}),this.getRoles(),this.getSettingStatus()}},{key:"reloadIncentiveOperations",value:function(e){var t=this,n=new Pe;n.pageNumber=e-1,n.pageSize=this.pageSize,n.params=new Oe,this.operationIndex=0,this.operationIncentivesService.findPagination(n).subscribe(function(e){if(t.pageSize=e.pageSize,t.totalElements=e.totalElements,t.pageNumber=e.pageNumber+1,t.incentiveOperations=[],e.totalElements>0){t.incentiveOperations=e.resultsIncentiveOperations,t.operations=[],t.operationIncentiveForm=t.formBuilder.group({});for(var n=0;n<t.incentiveOperations.length;n++)t.operationIndex=n,t.operations.push(t.incentiveOperations[n]),t.operationIncentiveForm.addControl("role"+t.operationIndex,new c.NI(t.incentiveOperations[n].role,c.kI.required)),t.operationIncentiveForm.addControl("incentiveType"+t.operationIndex,new c.NI(t.incentiveOperations[n].incentiveType,c.kI.required)),t.operationIncentiveForm.addControl("incentiveValue"+t.operationIndex,new c.NI(t.incentiveOperations[n].incentiveValue,c.kI.required)),t.operationIncentiveForm.addControl("basedOn"+t.operationIndex,new c.NI(t.incentiveOperations[n].basedOnId,c.kI.required))}else t.operations.push(new Oe),t.createForm()})}},{key:"getSettingStatus",value:function(){var e=this,t=new x;t.code=h.J.ACM_INCENTIVE_OPERATION,this.incentiveService.getStatusIncentiveSettingsByCode(t).subscribe(function(t){e.incentiveSettingRunEntity=t})}},{key:"selectProduct",value:function(e){this.productEntity=e,this.enabled=e.incentiveOperation,this.productSelected=!0,this.operationIncentiveForm=this.formBuilder.group({}),this.operations=[],this.saveOperation=!1,this.getIncentiveOperations()}},{key:"selectFrequency",value:function(e){this.frequency=e,this.frequencySelected=!0,this.operationIncentiveForm=this.formBuilder.group({}),this.operations=[],this.saveOperation=!1,this.getIncentiveOperations()}},{key:"getIncentiveOperations",value:function(){var e=this,t=new Pe;if(t.pageSize=this.pageSize,t.params=new Oe,null!=this.productEntity&&(t.params.productId=this.productEntity.id),null!=this.frequency){var n=new S;n.id=this.frequency.id,t.params.frequency=n}this.operationIndex=0,this.operationIncentivesService.findPagination(t).subscribe(function(t){if(e.pageSize=t.pageSize,e.totalElements=t.totalElements,e.pageNumber=t.pageNumber+1,e.incentiveOperations=[],t.totalElements>0){e.incentiveOperations=t.resultsIncentiveOperations;for(var n=0;n<e.incentiveOperations.length;n++)e.operationIndex=n,e.operations.push(e.incentiveOperations[n]),e.operationIncentiveForm.addControl("role"+e.operationIndex,new c.NI(e.incentiveOperations[n].role,c.kI.required)),e.operationIncentiveForm.addControl("incentiveType"+e.operationIndex,new c.NI(e.incentiveOperations[n].incentiveType,c.kI.required)),e.operationIncentiveForm.addControl("incentiveValue"+e.operationIndex,new c.NI(e.incentiveOperations[n].incentiveValue,c.kI.required)),e.operationIncentiveForm.addControl("basedOn"+e.operationIndex,new c.NI(e.incentiveOperations[n].basedOnId,c.kI.required))}else e.operations.push(new Oe),e.createForm()})}},{key:"compareIncentiveType",value:function(e,t){return e.code===t.code&&e.id===t.id}},{key:"compareBasedOn",value:function(e,t){return e.code===t.code&&e.id===t.id}},{key:"getProduct",value:function(){var t=this;return(0,v.Z)(e().mark(function n(){var i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=new C,e.next=3,t.incentiveService.getProductCategories(i).toPromise().then(function(e){t.productEntitys=e,t.enabled=t.productEntitys[0].incentiveOperation});case 3:case"end":return e.stop()}},n)}))()}},{key:"getIncentiveConstantsSettingsbyCategories",value:function(){var t=this;return(0,v.Z)(e().mark(function n(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.incentiveService.findIncentiveSettingsConstantsByCategories(h.J.INCENTIVE_SETTING_CONSTANTS_OPERATION).toPromise().then(function(e){e.forEach(function(e){e.category===h.J.ACM_INCENTIVE_OPERATION?t.operationsBasedOn.push(e):e.category===h.J.FREQUENCY?t.frequencies.push(e):e.category===h.J.INCENTIVE_SETTING_TYPE&&t.incentiveTypes.push(e)})});case 2:case"end":return e.stop()}},n)}))()}},{key:"getRoles",value:function(){var e=this;this.settingsService.findGroup(this.groupeEntity).subscribe(function(t){e.groupeEntitys=t})}},{key:"createForm",value:function(){this.operationIncentiveForm=this.formBuilder.group({role0:["",c.kI.required],incentiveType0:["",c.kI.required],incentiveValue0:["",c.kI.required],basedOn0:["",c.kI.required]})}},{key:"addOperation",value:function(e){setTimeout(function(){e.scrollIntoView({behavior:"smooth"})},0),this.saveOperation=!0;var t=new Oe;this.operations.push(t),this.operationIndex++,this.operationIncentiveForm.addControl("role"+this.operationIndex,new c.NI("",c.kI.required)),this.operationIncentiveForm.addControl("incentiveType"+this.operationIndex,new c.NI("",c.kI.required)),this.operationIncentiveForm.addControl("incentiveValue"+this.operationIndex,new c.NI("",c.kI.required)),this.operationIncentiveForm.addControl("basedOn"+this.operationIndex,new c.NI("",c.kI.required))}},{key:"saveOperationSettings",value:function(e){var t=this;if(this.devToolsServices.makeFormAsTouched(this.operationIncentiveForm),this.operationIncentiveForm.valid)if(e>=this.incentiveOperations.length){var n=0;this.incentiveOperations.length>0&&(n=Math.max.apply(Math,this.incentiveOperations.map(function(e){return e.ordre})));var i=n+1,r=new Oe;r.frequency=this.frequency,r.productId=this.productEntity.id,r.ordre=i,r.role=this.operationIncentiveForm.controls["role"+e].value,r.incentiveType=this.operationIncentiveForm.controls["incentiveType"+e].value,r.incentiveValue=this.operationIncentiveForm.controls["incentiveValue"+e].value,r.basedOnId=this.operationIncentiveForm.controls["basedOn"+e].value,this.operationIncentivesService.createOperationIncentive(r).subscribe(function(e){t.devToolsServices.openToast(0,"alert.success"),t.incentiveOperations.push(e),t.operations[t.operationIndex]=e,t.saveOperation=!1})}else this.incentiveOperations[e].role=this.operationIncentiveForm.controls["role"+e].value,this.incentiveOperations[e].incentiveType=this.operationIncentiveForm.controls["incentiveType"+e].value,this.incentiveOperations[e].incentiveValue=this.operationIncentiveForm.controls["incentiveValue"+e].value,this.incentiveOperations[e].basedOnId=this.operationIncentiveForm.controls["basedOn"+e].value,this.operationIncentivesService.updateOperationIncentive(this.incentiveOperations[e]).subscribe(function(n){t.devToolsServices.openToast(0,"alert.success"),t.incentiveOperations[e]=n})}},{key:"deleteIncentiveOperation",value:function(e){var t=this;this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog."+h.J.DELETE_INCENTIVE_SETTING).afterClosed().subscribe(function(n){n&&(t.operations[e].delete=!0,t.operationIncentiveForm.removeControl("basedOn"+e),t.operationIncentiveForm.removeControl("role"+e),t.operationIncentiveForm.removeControl("incentiveType"+e),t.operationIncentiveForm.removeControl("incentiveValue"+e),null!=t.operations[e].id&&t.operationIncentivesService.deleteOperationIncentive(t.operations[e].id).subscribe(function(){t.devToolsServices.openToast(0,"alert.success")})),t.saveOperation=!1})}},{key:"EnableDisableOperation",value:function(){var e=this;this.productEntity.incentiveOperation=this.enabled,this.incentiveService.updateProductCategory(this.productEntity).subscribe(function(t){e.devToolsServices.openToast(0,"alert.success"),e.enabled=t[0].enabled})}},{key:"onChangeIncentiveType",value:function(e,t){var n=new S;"FIXED"===e.code?(this.disableBasedOn=!0,n=this.operationsBasedOn.find(function(e){return"NB_ISSUED_LOANS"===e.code}),this.operationIncentiveForm.controls["basedOn"+t].setValue(n)):(n=this.operationsBasedOn.find(function(e){return"TOTAL_ISSUED"===e.code}),this.operationIncentiveForm.controls["basedOn"+t].setValue(n))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(b.\u0275\u0275directiveInject(k.q),b.\u0275\u0275directiveInject(c.qu),b.\u0275\u0275directiveInject(w),b.\u0275\u0275directiveInject(N.g),b.\u0275\u0275directiveInject(Ve),b.\u0275\u0275directiveInject(_.R))},t.\u0275cmp=b.\u0275\u0275defineComponent({type:t,selectors:[["app-operation-incentives"]],decls:36,vars:24,consts:[[3,"heading","icon","account","status"],[1,"card","row"],[1,"card-header"],[1,"col-xl-11","col-lg-11","col-md-11","col-sm-11"],[1,"card-title","m-0"],[1,"card-body"],[1,"row","pt-3"],[1,"row"],[1,"col-md-2","col-lg-2","col-sm-2"],[1,"col-md-4","col-lg-4","col-sm-4","justify-content-start"],[1,"input-group"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-2","col-lg-2","col-sm-2","d-flex","justify-content-start"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","ngModelChange","click"],["class","pt-5",4,"ngIf"],[3,"ngValue"],[1,"pt-5"],[3,"formGroup"],[1,"col-xl-10","col-lg-10","col-md-10","col-sm-10"],[1,"table"],[4,"ngFor","ngForOf"],[1,"scroll-incentive"],["scrollToNewOperation",""],[1,"col-xl-12","col-md-12","px-0","mx-0","row"],[1,"col-xl-9","col-md-9"],["size","sm",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],[1,"col-xl-2","col-lg-2","col-md-2","col-sm-2"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-primary",3,"disabled","click"],["name","plus",1,"mx-2"],["aria-hidden","true","ng-reflect-klass","fa fa-plus",1,"fa","fa-plus"],[4,"ngIf"],[1,"form-control",3,"formControlName"],[1,"form-control",3,"formControlName","compareWith","ngModelChange"],["type","text",1,"form-control",3,"formControlName"],["disabled","",1,"form-control",3,"formControlName","compareWith"],[1,"row","d-flex","justify-content-end","px-3"],[1,"px-2"],[1,"btn","btn-success",3,"click"],[1,"pe-7s-check","btn-icon-wrapper","text-white"],[1,"btn","btn-danger",3,"click"],[1,"pe-7s-trash","btn-icon-wrapper","text-white"]],template:function(e,t){1&e&&(b.\u0275\u0275element(0,"app-page-title",0),b.\u0275\u0275pipe(1,"translate"),b.\u0275\u0275elementStart(2,"div",1),b.\u0275\u0275elementStart(3,"div",2),b.\u0275\u0275elementStart(4,"div",3),b.\u0275\u0275elementStart(5,"div",4),b.\u0275\u0275text(6),b.\u0275\u0275pipe(7,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(8,"div",5),b.\u0275\u0275elementStart(9,"div",6),b.\u0275\u0275elementStart(10,"div",3),b.\u0275\u0275elementStart(11,"div",7),b.\u0275\u0275elementStart(12,"div",8),b.\u0275\u0275elementStart(13,"label"),b.\u0275\u0275text(14),b.\u0275\u0275pipe(15,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(16,"div",9),b.\u0275\u0275elementStart(17,"div",10),b.\u0275\u0275elementStart(18,"select",11),b.\u0275\u0275listener("ngModelChange",function(e){return t.productEntity=e})("ngModelChange",function(e){return t.selectProduct(e)}),b.\u0275\u0275template(19,Le,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(20,"div",13),b.\u0275\u0275elementStart(21,"div"),b.\u0275\u0275elementStart(22,"div",10),b.\u0275\u0275elementStart(23,"bSwitch",14),b.\u0275\u0275listener("ngModelChange",function(e){return t.enabled=e})("click",function(){return t.EnableDisableOperation()}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(24,"div",6),b.\u0275\u0275elementStart(25,"div",3),b.\u0275\u0275elementStart(26,"div",7),b.\u0275\u0275elementStart(27,"div",8),b.\u0275\u0275elementStart(28,"label"),b.\u0275\u0275text(29),b.\u0275\u0275pipe(30,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(31,"div",9),b.\u0275\u0275elementStart(32,"div",10),b.\u0275\u0275elementStart(33,"select",11),b.\u0275\u0275listener("ngModelChange",function(e){return t.frequency=e})("ngModelChange",function(e){return t.selectFrequency(e)}),b.\u0275\u0275template(34,Be,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275template(35,Je,28,20,"div",15),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&e&&(b.\u0275\u0275property("heading",b.\u0275\u0275pipeBind1(1,16,"sidebar.operations_incentives"))("icon","pe-7s-gift")("account","")("status",-1),b.\u0275\u0275advance(6),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(7,18,"incentive.operation_incentives_settings")),b.\u0275\u0275advance(8),b.\u0275\u0275textInterpolate1("",b.\u0275\u0275pipeBind1(15,20,"incentive.select_category")," : "),b.\u0275\u0275advance(4),b.\u0275\u0275property("ngModel",t.productEntity),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",t.productEntitys),b.\u0275\u0275advance(4),b.\u0275\u0275property("ngModel",t.enabled)("switch-size","small")("switch-animate",!0)("switch-off-color","danger"),b.\u0275\u0275advance(6),b.\u0275\u0275textInterpolate1("",b.\u0275\u0275pipeBind1(30,22,"incentive.select_frequency")," : "),b.\u0275\u0275advance(4),b.\u0275\u0275property("ngModel",t.frequency),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",t.frequencies),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",t.productSelected&&t.frequencySelected))},directives:[O.T,c.EJ,P.oH,c.JJ,c.On,s.NgForOf,u.U,s.NgIf,c.YN,c.Kr,c._Y,c.JL,c.sg,P.MU,V.N9,c.u,c.Fj],pipes:[l.X$],styles:[""]}),t}(),$e=n(function e(){i(this,e)}),We=n(function e(){i(this,e)}),Ze=function(){var e=function(){function e(t){i(this,e),this.httpClient=t}return n(e,[{key:"getIncentiveRegistrations",value:function(e){return this.httpClient.post(T.f.FIND_INCENTIVE_REGISTRATION,e)}},{key:"createRegistrationIncentive",value:function(e){return this.httpClient.post(T.f.CREATE_INCENTIVE_REGISTRATION,e)}},{key:"updateRegistrationIncentive",value:function(e){return this.httpClient.put(T.f.UPDATE_INCENTIVE_REGISTRATION,e)}},{key:"deleteRegistrationIncentive",value:function(e){return this.httpClient.delete(T.f.DELETE_INCENTIVE_REGISTRATION+e)}},{key:"findPagination",value:function(e){return this.httpClient.post(T.f.FIND_PAGINATION_REGISTRATION,e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.\u0275\u0275inject(F.eN))},e.\u0275prov=b.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function Ke(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.description," ")}}function Xe(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.description," ")}}function Qe(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n.code),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.libelle," ")}}function et(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"select",32),b.\u0275\u0275template(2,Qe,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index,i=b.\u0275\u0275nextContext(2);b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","role",n,""),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",i.groupeEntitys)}}function tt(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.description," ")}}function nt(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"select",33),b.\u0275\u0275template(2,tt,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index,i=b.\u0275\u0275nextContext(2);b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","customerType",n,""),b.\u0275\u0275property("compareWith",i.compareCustomerType),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",i.registrationCustomerType)}}function it(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.description," ")}}function rt(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"select",33),b.\u0275\u0275template(2,it,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index,i=b.\u0275\u0275nextContext(2);b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","incentiveType",n,""),b.\u0275\u0275property("compareWith",i.compareIncentiveType),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",i.incentiveTypes)}}function ot(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275element(1,"input",34),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index;b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","incentiveValue",n,"")}}function at(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",16),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.description," ")}}function st(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"select",33),b.\u0275\u0275template(2,at,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&e){var n=b.\u0275\u0275nextContext().index,i=b.\u0275\u0275nextContext(2);b.\u0275\u0275advance(1),b.\u0275\u0275propertyInterpolate1("formControlName","basedOn",n,""),b.\u0275\u0275property("compareWith",i.compareBasedOn),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",i.registrationsBasedOn)}}function lt(e,t){if(1&e){var n=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"td"),b.\u0275\u0275elementStart(1,"div",35),b.\u0275\u0275elementStart(2,"div",36),b.\u0275\u0275elementStart(3,"button",37),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext().index;return b.\u0275\u0275nextContext(2).saveRegistrationSettings(e)}),b.\u0275\u0275element(4,"i",38),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(5,"div",36),b.\u0275\u0275elementStart(6,"button",39),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext().index;return b.\u0275\u0275nextContext(2).deleteIncentiveRegistration(e)}),b.\u0275\u0275element(7,"i",40),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()}}function ct(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"tr"),b.\u0275\u0275template(1,et,3,2,"td",31),b.\u0275\u0275template(2,nt,3,3,"td",31),b.\u0275\u0275template(3,rt,3,3,"td",31),b.\u0275\u0275template(4,ot,2,1,"td",31),b.\u0275\u0275template(5,st,3,3,"td",31),b.\u0275\u0275template(6,lt,8,0,"td",31),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",!n.delete)}}function dt(e,t){if(1&e){var n=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"div",17),b.\u0275\u0275elementStart(1,"form",18),b.\u0275\u0275elementStart(2,"div",7),b.\u0275\u0275elementStart(3,"div",19),b.\u0275\u0275elementStart(4,"table",20),b.\u0275\u0275elementStart(5,"tr"),b.\u0275\u0275elementStart(6,"th"),b.\u0275\u0275text(7),b.\u0275\u0275pipe(8,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(9,"th"),b.\u0275\u0275text(10),b.\u0275\u0275pipe(11,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(12,"th"),b.\u0275\u0275text(13),b.\u0275\u0275pipe(14,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(15,"th"),b.\u0275\u0275text(16),b.\u0275\u0275pipe(17,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(18,"th"),b.\u0275\u0275text(19),b.\u0275\u0275pipe(20,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275template(21,ct,7,6,"tr",21),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(22,"div",22,23),b.\u0275\u0275elementStart(24,"div",24),b.\u0275\u0275elementStart(25,"div",25),b.\u0275\u0275elementStart(26,"ngb-pagination",26),b.\u0275\u0275listener("pageChange",function(e){return b.\u0275\u0275restoreView(n),b.\u0275\u0275nextContext().pageNumber=e})("pageChange",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275nextContext();return e.reloadIncentiveRegistrations(e.pageNumber,"NUMBER")}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(27,"div",27),b.\u0275\u0275elementStart(28,"button",28),b.\u0275\u0275listener("click",function(){b.\u0275\u0275restoreView(n);var e=b.\u0275\u0275reference(23);return b.\u0275\u0275nextContext().addRegistration(e)}),b.\u0275\u0275elementStart(29,"fa",29),b.\u0275\u0275element(30,"i",30),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()}if(2&e){var i=b.\u0275\u0275nextContext();b.\u0275\u0275advance(1),b.\u0275\u0275property("formGroup",i.registrationIncentiveForm),b.\u0275\u0275advance(6),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(8,13,"incentive.role")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(11,15,"incentive.customer_type")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(14,17,"incentive.incentive_type")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(17,19,"incentive.incentive_value")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(20,21,"incentive.based_on")),b.\u0275\u0275advance(2),b.\u0275\u0275property("ngForOf",i.registrations),b.\u0275\u0275advance(5),b.\u0275\u0275property("collectionSize",i.totalElements)("page",i.pageNumber)("pageSize",i.pageSize)("maxSize",3)("boundaryLinks",!0),b.\u0275\u0275advance(2),b.\u0275\u0275property("disabled",i.saveRegistration)}}var ut=function(){var t=function(){function t(e,n,r,o,a){i(this,t),this.incentiveService=e,this.formBuilder=n,this.settingsService=r,this.registrationIncentivesService=o,this.devToolsServices=a,this.productEntitys=[],this.groupeEntitys=[],this.groupeEntity=new f.P,this.registrations=[],this.incentiveRegistrations=[],this.frequencies=[],this.incentiveTypes=[],this.registrationCustomerType=[],this.registrationsBasedOn=[],this.registrationIndex=0,this.productSelected=!1,this.frequencySelected=!1,this.pageSize=5,this.saveRegistration=!1}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.getProduct().then(function(){e.getIncentiveConstantsSettingsbyCategories().then(function(){e.frequencies.length>0&&e.productEntitys.length>0&&(e.frequency=e.frequencies[0],e.frequencySelected=!0,e.productEntity=e.productEntitys[0],e.productSelected=!0,e.getIncentiveRegistrations())})}),this.registrationIncentiveForm=this.formBuilder.group({}),this.getRoles(),this.getSettingStatus()}},{key:"reloadIncentiveRegistrations",value:function(e){var t=this,n=new We;n.pageNumber=e-1,n.pageSize=this.pageSize,n.params=new $e,this.registrationIndex=0,this.registrationIncentivesService.findPagination(n).subscribe(function(e){if(t.pageSize=e.pageSize,t.totalElements=e.totalElements,t.pageNumber=e.pageNumber+1,t.incentiveRegistrations=[],e.totalElements>0){t.incentiveRegistrations=e.resultsIncentiveRegistrations,t.registrations=[],t.registrationIncentiveForm=t.formBuilder.group({});for(var n=0;n<t.incentiveRegistrations.length;n++)t.registrationIndex=n,t.registrations.push(t.incentiveRegistrations[n]),t.registrationIncentiveForm.addControl("role"+t.registrationIndex,new c.NI(t.incentiveRegistrations[n].role,c.kI.required)),t.registrationIncentiveForm.addControl("customerType"+t.registrationIndex,new c.NI(t.incentiveRegistrations[n].customerType,c.kI.required)),t.registrationIncentiveForm.addControl("incentiveType"+t.registrationIndex,new c.NI(t.incentiveRegistrations[n].incentiveType,c.kI.required)),t.registrationIncentiveForm.addControl("incentiveValue"+t.registrationIndex,new c.NI(t.incentiveRegistrations[n].incentiveValue,c.kI.required)),t.registrationIncentiveForm.addControl("basedOn"+t.registrationIndex,new c.NI(t.incentiveRegistrations[n].basedOnId,c.kI.required))}else t.registrations.push(new $e),t.createForm()})}},{key:"getIncentiveRegistrations",value:function(){var e=this,t=new We;if(t.pageSize=this.pageSize,t.params=new $e,null!=this.productEntity&&(t.params.productId=this.productEntity.id),null!=this.frequency){var n=new S;n.id=this.frequency.id,t.params.frequency=n}this.registrationIndex=0,this.registrationIncentivesService.findPagination(t).subscribe(function(t){if(e.pageSize=t.pageSize,e.totalElements=t.totalElements,e.pageNumber=t.pageNumber+1,e.incentiveRegistrations=[],t.totalElements>0){e.incentiveRegistrations=t.resultsIncentiveRegistrations;for(var n=0;n<e.incentiveRegistrations.length;n++)e.registrationIndex=n,e.registrations.push(e.incentiveRegistrations[n]),e.registrationIncentiveForm.addControl("role"+e.registrationIndex,new c.NI(e.incentiveRegistrations[n].role,c.kI.required)),e.registrationIncentiveForm.addControl("customerType"+e.registrationIndex,new c.NI(e.incentiveRegistrations[n].customerType,c.kI.required)),e.registrationIncentiveForm.addControl("incentiveType"+e.registrationIndex,new c.NI(e.incentiveRegistrations[n].incentiveType,c.kI.required)),e.registrationIncentiveForm.addControl("incentiveValue"+e.registrationIndex,new c.NI(e.incentiveRegistrations[n].incentiveValue,c.kI.required)),e.registrationIncentiveForm.addControl("basedOn"+e.registrationIndex,new c.NI(e.incentiveRegistrations[n].basedOnId,c.kI.required))}else e.incentiveRegistrations.length>0?e.registrationIncentiveForm=e.formBuilder.group({}):(e.registrations.push(new $e),e.createForm())})}},{key:"getSettingStatus",value:function(){var e=this,t=new x;t.code=h.J.ACM_INCENTIVE_REGESTRATION,this.incentiveService.getStatusIncentiveSettingsByCode(t).subscribe(function(t){e.incentiveSettingRunEntity=t})}},{key:"selectProduct",value:function(e){this.productEntity=e,this.enabled=e.incentiveRegistration,this.productSelected=!0,this.registrationIncentiveForm=this.formBuilder.group({}),this.registrations=[],this.saveRegistration=!1,this.getIncentiveRegistrations()}},{key:"selectFrequency",value:function(e){this.frequency=e,this.frequencySelected=!0,this.registrationIncentiveForm=this.formBuilder.group({}),this.registrations=[],this.saveRegistration=!1,this.getIncentiveRegistrations()}},{key:"getIncentiveConstantsSettingsbyCategories",value:function(){var t=this;return(0,v.Z)(e().mark(function n(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.incentiveService.findIncentiveSettingsConstantsByCategories(h.J.INCENTIVE_SETTING_CONSTANTS_REGISTRATION).toPromise().then(function(e){e.forEach(function(e){e.category===h.J.ACM_INCENTIVE_REGESTRATION?t.registrationsBasedOn.push(e):e.category===h.J.FREQUENCY?t.frequencies.push(e):e.category===h.J.INCENTIVE_REGESTRATION_CUSTOMER_TYPE?t.registrationCustomerType.push(e):e.category===h.J.INCENTIVE_SETTING_TYPE&&t.incentiveTypes.push(e)})});case 2:case"end":return e.stop()}},n)}))()}},{key:"compareIncentiveType",value:function(e,t){return e.code===t.code&&e.id===t.id}},{key:"compareCustomerType",value:function(e,t){return e.code===t.code&&e.id===t.id}},{key:"compareBasedOn",value:function(e,t){return e.code===t.code&&e.id===t.id}},{key:"getProduct",value:function(){var t=this;return(0,v.Z)(e().mark(function n(){var i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=new C,e.next=3,t.incentiveService.getProductCategories(i).toPromise().then(function(e){t.productEntitys=e,t.enabled=t.productEntitys[0].incentiveRegistration});case 3:case"end":return e.stop()}},n)}))()}},{key:"getRoles",value:function(){var e=this;this.settingsService.findGroup(this.groupeEntity).subscribe(function(t){e.groupeEntitys=t})}},{key:"createForm",value:function(){this.registrationIncentiveForm=this.formBuilder.group({role0:["",c.kI.required],customerType0:["",c.kI.required],incentiveType0:["",c.kI.required],incentiveValue0:["",c.kI.required],basedOn0:["",c.kI.required]})}},{key:"addRegistration",value:function(e){this.saveRegistration=!0;var t=new $e;this.registrations.push(t),this.registrationIndex++,this.registrationIncentiveForm.addControl("role"+this.registrationIndex,new c.NI("",c.kI.required)),this.registrationIncentiveForm.addControl("customerType"+this.registrationIndex,new c.NI("",c.kI.required)),this.registrationIncentiveForm.addControl("incentiveType"+this.registrationIndex,new c.NI("",c.kI.required)),this.registrationIncentiveForm.addControl("incentiveValue"+this.registrationIndex,new c.NI("",c.kI.required)),this.registrationIncentiveForm.addControl("basedOn"+this.registrationIndex,new c.NI("",c.kI.required)),setTimeout(function(){e.scrollIntoView({behavior:"smooth"})},0)}},{key:"saveRegistrationSettings",value:function(e){var t=this;if(this.devToolsServices.makeFormAsTouched(this.registrationIncentiveForm),this.registrationIncentiveForm.valid)if(e>=this.incentiveRegistrations.length){var n=0;this.incentiveRegistrations.length>0&&(n=Math.max.apply(Math,this.incentiveRegistrations.map(function(e){return e.ordre})));var i=n+1,r=new $e;r.frequency=this.frequency,r.productId=this.productEntity.id,r.ordre=i,r.role=this.registrationIncentiveForm.controls["role"+e].value,r.customerType=this.registrationIncentiveForm.controls["customerType"+e].value,r.incentiveType=this.registrationIncentiveForm.controls["incentiveType"+e].value,r.incentiveValue=this.registrationIncentiveForm.controls["incentiveValue"+e].value,r.basedOnId=this.registrationIncentiveForm.controls["basedOn"+e].value,this.registrationIncentivesService.createRegistrationIncentive(r).subscribe(function(e){t.devToolsServices.openToast(0,"alert.success"),t.incentiveRegistrations.push(e),t.registrations[t.registrationIndex]=e,t.saveRegistration=!1})}else this.incentiveRegistrations[e].role=this.registrationIncentiveForm.controls["role"+e].value,this.incentiveRegistrations[e].customerType=this.registrationIncentiveForm.controls["customerType"+e].value,this.incentiveRegistrations[e].incentiveType=this.registrationIncentiveForm.controls["incentiveType"+e].value,this.incentiveRegistrations[e].incentiveValue=this.registrationIncentiveForm.controls["incentiveValue"+e].value,this.incentiveRegistrations[e].basedOnId=this.registrationIncentiveForm.controls["basedOn"+e].value,this.registrationIncentivesService.updateRegistrationIncentive(this.incentiveRegistrations[e]).subscribe(function(n){t.devToolsServices.openToast(0,"alert.success"),t.incentiveRegistrations[e]=n})}},{key:"deleteIncentiveRegistration",value:function(e){var t=this;this.devToolsServices.openConfirmDialogWithoutRedirect("confirmation_dialog."+h.J.DELETE_INCENTIVE_SETTING).afterClosed().subscribe(function(n){n&&(t.registrations[e].delete=!0,t.registrationIncentiveForm.removeControl("basedOn"+e),t.registrationIncentiveForm.removeControl("role"+e),t.registrationIncentiveForm.removeControl("customerType"+e),t.registrationIncentiveForm.removeControl("incentiveType"+e),t.registrationIncentiveForm.removeControl("incentiveValue"+e),null!=t.registrations[e].id&&t.registrationIncentivesService.deleteRegistrationIncentive(t.registrations[e].id).subscribe(function(){t.devToolsServices.openToast(0,"alert.success")})),t.saveRegistration=!1})}},{key:"EnableDisableRegistration",value:function(){var e=this;this.productEntity.incentiveRegistration=this.enabled,this.incentiveService.updateProductCategory(this.productEntity).subscribe(function(t){e.devToolsServices.openToast(0,"alert.success"),e.enabled=t[0].enabled})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(b.\u0275\u0275directiveInject(w),b.\u0275\u0275directiveInject(c.qu),b.\u0275\u0275directiveInject(N.g),b.\u0275\u0275directiveInject(Ze),b.\u0275\u0275directiveInject(_.R))},t.\u0275cmp=b.\u0275\u0275defineComponent({type:t,selectors:[["app-registration-incentives"]],decls:36,vars:24,consts:[[3,"heading","icon","account","status"],[1,"card","row"],[1,"card-header"],[1,"col-xl-11","col-lg-11","col-md-11","col-sm-11"],[1,"card-title","m-0"],[1,"card-body"],[1,"row","pt-3"],[1,"row"],[1,"col-md-2","col-lg-2","col-sm-2"],[1,"col-md-4","col-lg-4","col-sm-4","justify-content-start"],[1,"input-group"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-md-2","col-lg-2","col-sm-2","d-flex","justify-content-start"],[1,"px-2","mb-0",3,"ngModel","switch-size","switch-animate","switch-off-color","ngModelChange","click"],["class","pt-5",4,"ngIf"],[3,"ngValue"],[1,"pt-5"],[3,"formGroup"],[1,"col-xl-10","col-lg-10","col-md-10","col-sm-10"],[1,"table"],[4,"ngFor","ngForOf"],[1,"scroll-incentive"],["scrollToNewRegistration",""],[1,"col-xl-12","col-md-12","px-0","mx-0","row"],[1,"col-xl-9","col-md-9"],["size","sm",3,"collectionSize","page","pageSize","maxSize","boundaryLinks","pageChange"],[1,"col-xl-2","col-lg-2","col-md-2","col-sm-2"],["type","button",1,"btn-shadow","d-inline-flex","align-items-center","btn","btn-primary",3,"disabled","click"],["name","plus",1,"mx-2"],["aria-hidden","true","ng-reflect-klass","fa fa-plus",1,"fa","fa-plus"],[4,"ngIf"],[1,"form-control",3,"formControlName"],[1,"form-control",3,"formControlName","compareWith"],["type","text",1,"form-control",3,"formControlName"],[1,"row","d-flex","justify-content-end","px-3"],[1,"px-2"],[1,"btn","btn-success",3,"click"],[1,"pe-7s-check","btn-icon-wrapper","text-white"],[1,"btn","btn-danger",3,"click"],[1,"pe-7s-trash","btn-icon-wrapper","text-white"]],template:function(e,t){1&e&&(b.\u0275\u0275element(0,"app-page-title",0),b.\u0275\u0275pipe(1,"translate"),b.\u0275\u0275elementStart(2,"div",1),b.\u0275\u0275elementStart(3,"div",2),b.\u0275\u0275elementStart(4,"div",3),b.\u0275\u0275elementStart(5,"div",4),b.\u0275\u0275text(6),b.\u0275\u0275pipe(7,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(8,"div",5),b.\u0275\u0275elementStart(9,"div",6),b.\u0275\u0275elementStart(10,"div",3),b.\u0275\u0275elementStart(11,"div",7),b.\u0275\u0275elementStart(12,"div",8),b.\u0275\u0275elementStart(13,"label"),b.\u0275\u0275text(14),b.\u0275\u0275pipe(15,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(16,"div",9),b.\u0275\u0275elementStart(17,"div",10),b.\u0275\u0275elementStart(18,"select",11),b.\u0275\u0275listener("ngModelChange",function(e){return t.productEntity=e})("ngModelChange",function(e){return t.selectProduct(e)}),b.\u0275\u0275template(19,Ke,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(20,"div",13),b.\u0275\u0275elementStart(21,"div"),b.\u0275\u0275elementStart(22,"div",10),b.\u0275\u0275elementStart(23,"bSwitch",14),b.\u0275\u0275listener("ngModelChange",function(e){return t.enabled=e})("click",function(){return t.EnableDisableRegistration()}),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(24,"div",6),b.\u0275\u0275elementStart(25,"div",3),b.\u0275\u0275elementStart(26,"div",7),b.\u0275\u0275elementStart(27,"div",8),b.\u0275\u0275elementStart(28,"label"),b.\u0275\u0275text(29),b.\u0275\u0275pipe(30,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(31,"div",9),b.\u0275\u0275elementStart(32,"div",10),b.\u0275\u0275elementStart(33,"select",11),b.\u0275\u0275listener("ngModelChange",function(e){return t.frequency=e})("ngModelChange",function(e){return t.selectFrequency(e)}),b.\u0275\u0275template(34,Xe,2,2,"option",12),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275template(35,dt,31,23,"div",15),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&e&&(b.\u0275\u0275property("heading",b.\u0275\u0275pipeBind1(1,16,"sidebar.registration_incentives"))("icon","pe-7s-gift")("account","")("status",-1),b.\u0275\u0275advance(6),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(7,18,"incentive.registration_incentives_settings")),b.\u0275\u0275advance(8),b.\u0275\u0275textInterpolate1("",b.\u0275\u0275pipeBind1(15,20,"incentive.select_category")," : "),b.\u0275\u0275advance(4),b.\u0275\u0275property("ngModel",t.productEntity),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",t.productEntitys),b.\u0275\u0275advance(4),b.\u0275\u0275property("ngModel",t.enabled)("switch-size","small")("switch-animate",!0)("switch-off-color","danger"),b.\u0275\u0275advance(6),b.\u0275\u0275textInterpolate1("",b.\u0275\u0275pipeBind1(30,22,"incentive.select_frequency")," : "),b.\u0275\u0275advance(4),b.\u0275\u0275property("ngModel",t.frequency),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngForOf",t.frequencies),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngIf",t.productSelected&&t.frequencySelected))},directives:[O.T,c.EJ,P.oH,c.JJ,c.On,s.NgForOf,u.U,s.NgIf,c.YN,c.Kr,c._Y,c.JL,c.sg,P.MU,V.N9,c.u,c.Fj],pipes:[l.X$],styles:[""]}),t}(),mt=n(function e(){i(this,e)}),pt=function(){var e=function(){function e(t){i(this,e),this.httpClient=t}return n(e,[{key:"findIncentiveSettingsRun",value:function(e){return this.httpClient.post(T.f.FIND_ALL_INCENTIVE_RUN,e)}},{key:"runCalculateIncentiveRepayment",value:function(){return this.httpClient.get(T.f.INCENTIVE_RUN_REPAYMENT)}},{key:"reportingIncentiveRepayment",value:function(e){return this.httpClient.post(T.f.INCENTIVE_GENERATE_REPORT_REPAYMENT,e,{responseType:"blob"})}},{key:"runCalculateIncentiveOperation",value:function(){return this.httpClient.get(T.f.INCENTIVE_RUN_OPERATION)}},{key:"reportingIncentiveOperation",value:function(e){return this.httpClient.post(T.f.INCENTIVE_GENERATE_REPORT_OPERATION,e,{responseType:"blob"})}},{key:"runCalculateIncentiveRegistration",value:function(){return this.httpClient.get(T.f.INCENTIVE_RUN_REGISTRATION)}},{key:"reportingIncentiveRegistration",value:function(e){return this.httpClient.post(T.f.INCENTIVE_GENERATE_REPORT_REGISTRATION,e,{responseType:"blob"})}},{key:"incentiveLoanRunYearRegistration",value:function(){return this.httpClient.get(T.f.INCENTIVE_LOAD_RUN_YEAR_REGISTRATION)}},{key:"incentiveLoanRunMonthRegistration",value:function(){return this.httpClient.get(T.f.INCENTIVE_LOAD_RUN_MONTH_REGISTRATION)}},{key:"incentiveLoanRunYearOperation",value:function(){return this.httpClient.get(T.f.INCENTIVE_LOAD_RUN_YEAR_OPERATION)}},{key:"incentiveLoanRunMonthOperation",value:function(){return this.httpClient.get(T.f.INCENTIVE_LOAD_RUN_MONTH_OPERATION)}},{key:"incentiveLoanRunYearRepayment",value:function(){return this.httpClient.get(T.f.INCENTIVE_LOAD_RUN_YEAR_REPAYMENT)}},{key:"incentiveLoanRunMonthRepayment",value:function(){return this.httpClient.get(T.f.INCENTIVE_LOAD_RUN_MONTH_REPAYMENT)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(b.\u0275\u0275inject(F.eN))},e.\u0275prov=b.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),vt=o(65981);function ht(e,t){if(1&e){var n=b.\u0275\u0275getCurrentView();b.\u0275\u0275elementStart(0,"tr"),b.\u0275\u0275elementStart(1,"td",18),b.\u0275\u0275text(2),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(3,"td",18),b.\u0275\u0275text(4),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(5,"td",18),b.\u0275\u0275elementStart(6,"button",21),b.\u0275\u0275listener("click",function(){var e=b.\u0275\u0275restoreView(n).$implicit;return b.\u0275\u0275nextContext().calculate(e.code)}),b.\u0275\u0275element(7,"i",22),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(8,"td",18),b.\u0275\u0275elementStart(9,"button",19),b.\u0275\u0275listener("click",function(){var e=b.\u0275\u0275restoreView(n).$implicit;return b.\u0275\u0275nextContext().generateReport(e.code,"current")}),b.\u0275\u0275element(10,"i",20),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()}if(2&e){var i=t.$implicit,r=b.\u0275\u0275nextContext();b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate(i.description),b.\u0275\u0275advance(2),b.\u0275\u0275textInterpolate(i.frequency.description),b.\u0275\u0275advance(2),b.\u0275\u0275property("ngbTooltip",i.description)("disabled",r.checkHabilitation(i)),b.\u0275\u0275advance(3),b.\u0275\u0275property("ngbTooltip","Download Report")("disabled",r.checkHabilitation(i))}}function ft(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",14),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.description," ")}}function yt(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",14),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n.value),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.value," ")}}function It(e,t){if(1&e&&(b.\u0275\u0275elementStart(0,"option",14),b.\u0275\u0275text(1),b.\u0275\u0275elementEnd()),2&e){var n=t.$implicit;b.\u0275\u0275property("ngValue",n.value),b.\u0275\u0275advance(1),b.\u0275\u0275textInterpolate1(" ",n.value," ")}}var gt=[{path:"",children:[{path:"run-incentive",canActivate:[p.P],component:function(){var t=function(){function t(e,n,r,o){i(this,t),this.runIncentiveService=e,this.devToolsServices=n,this.formBuilder=r,this.loanSharedService=o,this.incentiveSettingRuns=[],this.selectedReport=!1,this.incentiveHistoryYears=[],this.incentiveHistoryMonth=[],this.currentPath=h.J.RUN_INCENTIVE_URL}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.runIncentiveService.findIncentiveSettingsRun(new x).subscribe(function(t){e.incentiveSettingRuns=t}),this.createIncentiveHistoryForm()}},{key:"generateReport",value:function(t,n){var i=this;return(0,v.Z)(e().mark(function r(){var o,a;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=new mt,"history"===n&&(t=i.incentiveHistoryForm.controls.incentiveReport.value.code,o.year=i.incentiveHistoryForm.controls.year.value,o.month=i.incentiveHistoryForm.controls.month.value),a=new Date,e.t0=t,e.next="ACM_INCENTIVE_REPAYMENT"===e.t0?6:"ACM_INCENTIVE_REGESTRATION"===e.t0?9:"ACM_INCENTIVE_OPERATION"===e.t0?12:14;break;case 6:return e.next=8,i.runIncentiveService.reportingIncentiveRepayment(o).subscribe(function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(t),i=document.createElement("a");i.download="incentive_repayment_"+a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate()+"_"+a.getHours()+"-"+a.getMinutes(),i.href=n,i.click()});case 8:return e.abrupt("break",14);case 9:return e.next=11,i.runIncentiveService.reportingIncentiveRegistration(o).subscribe(function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(t),i=document.createElement("a");i.download="incentive_registration_"+a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate()+"_"+a.getHours()+"-"+a.getMinutes(),i.href=n,i.click()});case 11:return e.abrupt("break",14);case 12:return e.next=14,i.runIncentiveService.reportingIncentiveOperation(o).subscribe(function(e){var t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(t),i=document.createElement("a");i.download="incentive_operation_"+a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate()+"_"+a.getHours()+"-"+a.getMinutes(),i.href=n,i.click()});case 14:case"end":return e.stop()}},r)}))()}},{key:"calculate",value:function(t){var n=this;return(0,v.Z)(e().mark(function i(){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="ACM_INCENTIVE_REPAYMENT"===e.t0?3:"ACM_INCENTIVE_REGESTRATION"===e.t0?6:"ACM_INCENTIVE_OPERATION"===e.t0?9:11;break;case 3:return e.next=5,n.runIncentiveService.runCalculateIncentiveRepayment().toPromise().then(function(e){n.response=e,n.devToolsServices.openToast(0,"alert.success")});case 5:return e.abrupt("break",11);case 6:return e.next=8,n.runIncentiveService.runCalculateIncentiveRegistration().toPromise().then(function(e){n.response=e,n.devToolsServices.openToast(0,"alert.success")});case 8:return e.abrupt("break",11);case 9:return e.next=11,n.runIncentiveService.runCalculateIncentiveOperation().toPromise().then(function(e){n.response=e,n.devToolsServices.openToast(0,"alert.success")});case 11:case"end":return e.stop()}},i)}))()}},{key:"createIncentiveHistoryForm",value:function(){this.incentiveHistoryForm=this.formBuilder.group({incentiveReport:[null,c.kI.required],year:["",c.kI.required],month:["",c.kI.required]})}},{key:"loadYearMonth",value:function(){var e=this;if(this.incentiveHistoryMonth=[],this.incentiveHistoryYears=[],null!==this.incentiveHistoryForm.controls.incentiveReport.value){switch(this.selectedReport=!0,this.incentiveHistoryForm.controls.incentiveReport.value.code){case"ACM_INCENTIVE_REPAYMENT":this.runIncentiveService.incentiveLoanRunYearRepayment().subscribe(function(t){e.incentiveHistoryYears=t}),this.runIncentiveService.incentiveLoanRunMonthRepayment().subscribe(function(t){e.incentiveHistoryMonth=t});break;case"ACM_INCENTIVE_REGESTRATION":this.runIncentiveService.incentiveLoanRunYearRegistration().subscribe(function(t){e.incentiveHistoryYears=t}),this.runIncentiveService.incentiveLoanRunMonthRegistration().subscribe(function(t){e.incentiveHistoryMonth=t});break;case"ACM_INCENTIVE_OPERATION":this.runIncentiveService.incentiveLoanRunYearOperation().subscribe(function(t){e.incentiveHistoryYears=t}),this.runIncentiveService.incentiveLoanRunMonthOperation().subscribe(function(t){e.incentiveHistoryMonth=t})}this.incentiveHistoryForm.controls.year.setValue(null),this.incentiveHistoryForm.controls.month.setValue(null)}else this.selectedReport=!1,this.incentiveHistoryYears=[],this.incentiveHistoryMonth=[]}},{key:"checkHabilitation",value:function(e){switch(e.code){case"ACM_INCENTIVE_REPAYMENT":return this.loanSharedService.habilitationButton(h.J.ISSUANCE_REPAYEMENT,this.currentPath);case"ACM_INCENTIVE_REGESTRATION":return this.loanSharedService.habilitationButton(h.J.REGISTRATION,this.currentPath);case"ACM_INCENTIVE_OPERATION":return this.loanSharedService.habilitationButton(h.J.OPERATION,this.currentPath);case"ACM_INCENTIVE_LEGAL":return this.loanSharedService.habilitationButton(h.J.LEGEL,this.currentPath);default:return!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(b.\u0275\u0275directiveInject(pt),b.\u0275\u0275directiveInject(_.R),b.\u0275\u0275directiveInject(c.qu),b.\u0275\u0275directiveInject(vt.F))},t.\u0275cmp=b.\u0275\u0275defineComponent({type:t,selectors:[["app-run-incentive"]],decls:65,vars:39,consts:[[3,"heading","icon","account","status"],[1,"card","row"],[1,"card-header"],[1,"col-xl-11","col-lg-11","col-md-11","col-sm-11"],[1,"card-title","m-0"],[1,"py-0"],[1,"table-responsive"],[1,"align-middle","mb-0","table","table-hover"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],[1,"pt-0"],[3,"formGroup"],["scope","col"],["formControlName","incentiveReport",1,"form-control",3,"change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","month",1,"form-control"],["formControlName","year",1,"form-control"],[1,"text-center"],[1,"btn","btn-warning",3,"ngbTooltip","disabled","click"],[1,"pe-7s-note2","btn-icon-wrapper"],[1,"btn","btn-primary",3,"ngbTooltip","disabled","click"],[1,"pe-7s-play","btn-icon-wrapper","text-white"]],template:function(e,t){1&e&&(b.\u0275\u0275element(0,"app-page-title",0),b.\u0275\u0275pipe(1,"translate"),b.\u0275\u0275elementStart(2,"div",1),b.\u0275\u0275elementStart(3,"div",2),b.\u0275\u0275elementStart(4,"div",3),b.\u0275\u0275elementStart(5,"div",4),b.\u0275\u0275text(6),b.\u0275\u0275pipe(7,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(8,"div",5),b.\u0275\u0275elementStart(9,"div",6),b.\u0275\u0275elementStart(10,"table",7),b.\u0275\u0275elementStart(11,"thead"),b.\u0275\u0275elementStart(12,"tr"),b.\u0275\u0275elementStart(13,"th",8),b.\u0275\u0275text(14),b.\u0275\u0275pipe(15,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(16,"th",8),b.\u0275\u0275text(17),b.\u0275\u0275pipe(18,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(19,"th",8),b.\u0275\u0275element(20,"th",8),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(21,"tbody"),b.\u0275\u0275template(22,ht,11,6,"tr",9),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(23,"div",1),b.\u0275\u0275elementStart(24,"div",2),b.\u0275\u0275elementStart(25,"div",3),b.\u0275\u0275elementStart(26,"div",4),b.\u0275\u0275text(27),b.\u0275\u0275pipe(28,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(29,"div",10),b.\u0275\u0275elementStart(30,"form",11),b.\u0275\u0275elementStart(31,"div",6),b.\u0275\u0275elementStart(32,"table",7),b.\u0275\u0275elementStart(33,"thead"),b.\u0275\u0275elementStart(34,"tr"),b.\u0275\u0275elementStart(35,"th",12),b.\u0275\u0275text(36),b.\u0275\u0275pipe(37,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(38,"th",12),b.\u0275\u0275text(39),b.\u0275\u0275pipe(40,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(41,"th",12),b.\u0275\u0275text(42),b.\u0275\u0275pipe(43,"translate"),b.\u0275\u0275elementEnd(),b.\u0275\u0275element(44,"th",8),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(45,"tbody"),b.\u0275\u0275elementStart(46,"tr"),b.\u0275\u0275elementStart(47,"td"),b.\u0275\u0275elementStart(48,"select",13),b.\u0275\u0275listener("change",function(){return t.loadYearMonth()}),b.\u0275\u0275elementStart(49,"option",14),b.\u0275\u0275text(50,"-------------"),b.\u0275\u0275elementEnd(),b.\u0275\u0275template(51,ft,2,2,"option",15),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(52,"td"),b.\u0275\u0275elementStart(53,"select",16),b.\u0275\u0275elementStart(54,"option",14),b.\u0275\u0275text(55,"-------------"),b.\u0275\u0275elementEnd(),b.\u0275\u0275template(56,yt,2,2,"option",15),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(57,"td"),b.\u0275\u0275elementStart(58,"select",17),b.\u0275\u0275elementStart(59,"option",14),b.\u0275\u0275text(60,"-------------"),b.\u0275\u0275elementEnd(),b.\u0275\u0275template(61,It,2,2,"option",15),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementStart(62,"td",18),b.\u0275\u0275elementStart(63,"button",19),b.\u0275\u0275listener("click",function(){return t.generateReport(null,"history")}),b.\u0275\u0275element(64,"i",20),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd(),b.\u0275\u0275elementEnd()),2&e&&(b.\u0275\u0275property("heading",b.\u0275\u0275pipeBind1(1,23,"sidebar.run_incentive"))("icon","pe-7s-gift")("account","")("status",-1),b.\u0275\u0275advance(6),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(7,25,"incentive.run_incentives.titre")),b.\u0275\u0275advance(8),b.\u0275\u0275textInterpolate1(" ",b.\u0275\u0275pipeBind1(15,27,"incentive.run_incentives.name"),""),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(18,29,"incentive.run_incentives.frequency")),b.\u0275\u0275advance(5),b.\u0275\u0275property("ngForOf",t.incentiveSettingRuns),b.\u0275\u0275advance(5),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(28,31,"incentive.incentive_history")),b.\u0275\u0275advance(3),b.\u0275\u0275property("formGroup",t.incentiveHistoryForm),b.\u0275\u0275advance(6),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(37,33,"incentive.incentive_type")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(40,35,"incentive.month")),b.\u0275\u0275advance(3),b.\u0275\u0275textInterpolate(b.\u0275\u0275pipeBind1(43,37,"incentive.year")),b.\u0275\u0275advance(7),b.\u0275\u0275property("ngValue",null),b.\u0275\u0275advance(2),b.\u0275\u0275property("ngForOf",t.incentiveSettingRuns),b.\u0275\u0275advance(2),b.\u0275\u0275attribute("disabled",t.selectedReport?null:""),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngValue",null),b.\u0275\u0275advance(2),b.\u0275\u0275property("ngForOf",t.incentiveHistoryMonth),b.\u0275\u0275advance(2),b.\u0275\u0275attribute("disabled",t.selectedReport?null:""),b.\u0275\u0275advance(1),b.\u0275\u0275property("ngValue",null),b.\u0275\u0275advance(2),b.\u0275\u0275property("ngForOf",t.incentiveHistoryYears),b.\u0275\u0275advance(2),b.\u0275\u0275property("ngbTooltip","Download Report")("disabled",t.incentiveHistoryForm.invalid))},directives:[O.T,s.NgForOf,c._Y,c.JL,c.sg,P.MU,c.EJ,P.oH,c.JJ,c.u,c.YN,c.Kr,V._L],pipes:[l.X$],styles:[""]}),t}(),data:{extraParameter:"dashboardsMenu"}},{path:"issuance-repayment-incentives",canActivate:[p.P],component:_e,data:{extraParameter:"dashboardsMenu"}},{path:"registration-incentive",canActivate:[p.P],component:ut,data:{extraParameter:"dashboardsMenu"}},{path:"operations-incentives",canActivate:[p.P],component:He,data:{extraParameter:"dashboardsMenu"}}]}],Et=function(){var e=n(function e(){i(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=b.\u0275\u0275defineInjector({imports:[[m.Bz.forChild(gt)],m.Bz]}),e}(),St=o(39577),xt=function(){var e=n(function e(){i(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=b.\u0275\u0275defineInjector({imports:[[s.CommonModule,Et,d.p,V.IJ,St.uH,c.UX,P.VN,c.u5,u.E,l.aw]]}),e}()},97199:function(e,t,r){r.d(t,{P:function(){return o}});var o=n(function e(){i(this,e)})}}])}();