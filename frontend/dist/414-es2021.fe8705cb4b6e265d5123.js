"use strict";(self.webpackChunkacm_web=self.webpackChunkacm_web||[]).push([[414],{93414:function(e,t,n){n.r(t),n.d(t,{UserPagesModule:function(){return D}});var i=n(38583),r=n(29790),l=n(3679),o=n(42663),a=n(99266),s=n(8239),d=n(58762),c=n(26772),m=n(37716),p=n(12547),u=n(85627),h=n(65981),g=n(61181),v=n(57552);let f=(()=>{class e{constructor(e,t,n,i,r,l,o){this.authService=e,this.router=t,this.formBuilder=n,this.translate=i,this.devToolsServices=r,this.loanSharedService=l,this.modalService=o,this.userConnected=new c.H,this.fieldTextTypeOldPwd=!1,this.fieldTextTypeNewPwd=!1,this.fieldTextTypeConfirmPwd=!1,this.error=""}ngOnInit(){this.userConnected=this.loanSharedService.getUser(),this.createFormChangePwd()}createFormChangePwd(){this.changePwdForm=this.formBuilder.group({oldPwd:["",l.kI.required],newPwd:["",l.kI.required],confirmationPwd:["",l.kI.required]})}changePwd(){var e=this;return(0,s.Z)(function*(){if(e.changePwdForm.valid)if(e.changePwdForm.value.newPwd!==e.changePwdForm.value.confirmationPwd)e.changePwdForm.controls.confirmationPwd.setValidators([l.kI.required]),e.devToolsServices.openToast(3,"alert.pwd_not_confirm");else{e.userConnected.pwd=e.changePwdForm.value.oldPwd,e.userConnected.pwdNew=e.changePwdForm.value.newPwd,e.userConnected.pwdConfirm=e.changePwdForm.value.confirmationPwd;try{yield e.authService.changePwd(e.userConnected).toPromise().then(t=>{e.loanSharedService.getUser().temporaryPwd=t.temporaryPwd,e.loanSharedService.getUser().temporaryPassword=t.temporaryPassword,e.devToolsServices.openToast(0,"alert.success"),e.router.navigate([d.J.DASHBOARD_URL])})}catch{e.devToolsServices.openToast(3,"alert.error")}}})()}checkPwd(){this.userConnected.password!==this.changePwdForm.value.oldPwd&&(this.devToolsServices.openToast(3,"alert.pwd_invalid"),this.changePwdForm.controls.oldPwd.setValidators([l.kI.required]),this.changePwdForm.controls.oldPwd.clearValidators(),this.changePwdForm.controls.oldPwd.reset())}checkConfirmPwd(){if(this.changePwdForm.value.newPwd!==this.changePwdForm.value.confirmationPwd)return this.changePwdForm.controls.pwdConfirm.setValidators([l.kI.required]),this.changePwdForm.controls.pwdConfirm.clearValidators(),this.changePwdForm.controls.pwdConfirm.reset(),this.devToolsServices.openToast(3,"alert.pwd_not_confirm")}getConnectedUser(){var e=this;return(0,s.Z)(function*(){e.userConnected=e.loanSharedService.getUser()})()}toggleFieldTextTypeOldPwd(){this.fieldTextTypeOldPwd=!this.fieldTextTypeOldPwd}toggleFieldTextTypNewPwd(){this.fieldTextTypeNewPwd=!this.fieldTextTypeNewPwd}toggleFieldTextTypeConfirmPwd(){this.fieldTextTypeConfirmPwd=!this.fieldTextTypeConfirmPwd}}return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275directiveInject(p.g),m.\u0275\u0275directiveInject(a.F0),m.\u0275\u0275directiveInject(l.qu),m.\u0275\u0275directiveInject(r.sK),m.\u0275\u0275directiveInject(u.R),m.\u0275\u0275directiveInject(h.F),m.\u0275\u0275directiveInject(g.FF))},e.\u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["app-change-pwd"]],decls:66,vars:34,consts:[[1,"ACM-h-100","bg-plum-plate","bg-animation"],[1,"d-flex","justify-content-center","align-items-center"],[1,"mx-auto","mt-5","app-login-box","col-md-6"],[1,"modal-dialog","w-100"],[1,"modal-content"],[1,"modal-header"],[1,"h5","modal-title"],[1,"mt-1","mb-0","opacity-8"],[1,"modal-body"],[1,"form",3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["tabindex","-1","role","group"],[1,"row","no-gutters"],[1,"col-md-11"],["id","input-pwd","formControlName","oldPwd",1,"form-control",3,"type","placeholder"],[1,"col-md-1"],[1,"input-group-addon"],[1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-eye-slash","text-white"],["formControlName","newPwd","maxlength","20","pattern","^(?=.*[A-Za-z])(?=.*\\d)(?=.*[$@$!%*#?&])[A-Za-z\\d$@$!%*#?&]{8,}$",1,"form-control",3,"type","placeholder"],["formControlName","confirmationPwd","pattern","^(?=.*[A-Za-z])(?=.*\\d)(?=.*[$@$!%*#?&])[A-Za-z\\d$@$!%*#?&]{8,}$",1,"form-control",3,"type","placeholder"],[1,"text-danger"],[1,"modal-footer","py-1"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(m.\u0275\u0275elementStart(0,"div",0),m.\u0275\u0275elementStart(1,"div",1),m.\u0275\u0275elementStart(2,"div",2),m.\u0275\u0275elementStart(3,"div",3),m.\u0275\u0275elementStart(4,"div",4),m.\u0275\u0275elementStart(5,"div",5),m.\u0275\u0275elementStart(6,"div",6),m.\u0275\u0275elementStart(7,"h5",7),m.\u0275\u0275elementStart(8,"span"),m.\u0275\u0275text(9),m.\u0275\u0275pipe(10,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(11,"div",8),m.\u0275\u0275elementStart(12,"form",9),m.\u0275\u0275elementStart(13,"div",10),m.\u0275\u0275elementStart(14,"div",11),m.\u0275\u0275elementStart(15,"fieldset",12),m.\u0275\u0275elementStart(16,"div",13),m.\u0275\u0275elementStart(17,"label"),m.\u0275\u0275text(18),m.\u0275\u0275pipe(19,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(20,"div",14),m.\u0275\u0275elementStart(21,"div",15),m.\u0275\u0275element(22,"input",16),m.\u0275\u0275pipe(23,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(24,"div",17),m.\u0275\u0275elementStart(25,"div",18),m.\u0275\u0275elementStart(26,"button",19),m.\u0275\u0275listener("click",function(){return t.toggleFieldTextTypeOldPwd()}),m.\u0275\u0275element(27,"i",20),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(28,"div",11),m.\u0275\u0275elementStart(29,"fieldset",12),m.\u0275\u0275elementStart(30,"div",13),m.\u0275\u0275elementStart(31,"label"),m.\u0275\u0275text(32),m.\u0275\u0275pipe(33,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(34,"div",14),m.\u0275\u0275elementStart(35,"div",15),m.\u0275\u0275element(36,"input",21),m.\u0275\u0275pipe(37,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(38,"div",17),m.\u0275\u0275elementStart(39,"div",18),m.\u0275\u0275elementStart(40,"button",19),m.\u0275\u0275listener("click",function(){return t.toggleFieldTextTypNewPwd()}),m.\u0275\u0275element(41,"i",20),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(42,"div",11),m.\u0275\u0275elementStart(43,"fieldset",12),m.\u0275\u0275elementStart(44,"div",13),m.\u0275\u0275elementStart(45,"label"),m.\u0275\u0275text(46),m.\u0275\u0275pipe(47,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(48,"div",14),m.\u0275\u0275elementStart(49,"div",15),m.\u0275\u0275element(50,"input",22),m.\u0275\u0275pipe(51,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(52,"div",17),m.\u0275\u0275elementStart(53,"div",18),m.\u0275\u0275elementStart(54,"button",19),m.\u0275\u0275listener("click",function(){return t.toggleFieldTextTypeConfirmPwd()}),m.\u0275\u0275element(55,"i",20),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(56,"span"),m.\u0275\u0275text(57),m.\u0275\u0275pipe(58,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(59,"div",23),m.\u0275\u0275text(60),m.\u0275\u0275pipe(61,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(62,"div",24),m.\u0275\u0275elementStart(63,"button",25),m.\u0275\u0275listener("click",function(){return t.changePwd()}),m.\u0275\u0275text(64),m.\u0275\u0275pipe(65,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(9),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(10,14,"login.change_password")),m.\u0275\u0275advance(3),m.\u0275\u0275property("formGroup",t.changePwdForm),m.\u0275\u0275advance(6),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind1(19,16,"login.old_password"),""),m.\u0275\u0275advance(4),m.\u0275\u0275propertyInterpolate("placeholder",m.\u0275\u0275pipeBind1(23,18,"login.old_password")),m.\u0275\u0275property("type",t.fieldTextTypeOldPwd?"text":"password"),m.\u0275\u0275advance(10),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(33,20,"login.new_password")),m.\u0275\u0275advance(4),m.\u0275\u0275propertyInterpolate("placeholder",m.\u0275\u0275pipeBind1(37,22,"login.new_password")),m.\u0275\u0275property("type",t.fieldTextTypeNewPwd?"text":"password"),m.\u0275\u0275advance(10),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(47,24,"login.confirmation_password")),m.\u0275\u0275advance(4),m.\u0275\u0275propertyInterpolate("placeholder",m.\u0275\u0275pipeBind1(51,26,"login.confirmation_password")),m.\u0275\u0275property("type",t.fieldTextTypeConfirmPwd?"text":"password"),m.\u0275\u0275advance(7),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(58,28,"login.password_regex")),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(61,30,t.error)),m.\u0275\u0275advance(4),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(65,32,"button.submit")))},directives:[l._Y,l.JL,l.sg,v.MU,v.HK,l.Fj,v.oH,l.JJ,l.u,l.nD,l.c5],pipes:[r.X$],styles:[""]}),e})();const S=["*"];let w=(()=>{class e{constructor(e,t,n){this.el=e,this.zone=t,this.platformId=n,this.afterChange=new m.EventEmitter,this.beforeChange=new m.EventEmitter,this.breakpoint=new m.EventEmitter,this.destroy=new m.EventEmitter,this.init=new m.EventEmitter,this.slides=[],this.initialized=!1,this._removedSlides=[],this._addedSlides=[]}ngOnDestroy(){this.unslick()}ngAfterViewInit(){this.ngAfterViewChecked()}ngAfterViewChecked(){if(!(0,i.isPlatformServer)(this.platformId)&&(this._addedSlides.length>0||this._removedSlides.length>0)){const e=this.slides.length-this._removedSlides.length+this._addedSlides.length;this.initialized?0===e?this.unslick():(this._addedSlides.forEach(e=>{this.slides.push(e),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickAdd",e.el.nativeElement)})}),this._addedSlides=[],this._removedSlides.forEach(e=>{const t=this.slides.indexOf(e);this.slides=this.slides.filter(t=>t!==e),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickRemove",t)})}),this._removedSlides=[]):e>0&&this.initSlick()}}initSlick(){this.slides=this._addedSlides,this._addedSlides=[],this._removedSlides=[],this.zone.runOutsideAngular(()=>{this.$instance=jQuery(this.el.nativeElement),this.$instance.on("init",(e,t)=>{this.zone.run(()=>{this.init.emit({event:e,slick:t})})}),this.$instance.slick(this.config),this.zone.run(()=>{this.initialized=!0,this.currentIndex=this.config&&this.config.initialSlide?this.config.initialSlide:0}),this.$instance.on("afterChange",(e,t,n)=>{this.zone.run(()=>{this.afterChange.emit({event:e,slick:t,currentSlide:n}),this.currentIndex=n})}),this.$instance.on("beforeChange",(e,t,n,i)=>{this.zone.run(()=>{this.beforeChange.emit({event:e,slick:t,currentSlide:n,nextSlide:i}),this.currentIndex=i})}),this.$instance.on("breakpoint",(e,t,n)=>{this.zone.run(()=>{this.breakpoint.emit({event:e,slick:t,breakpoint:n})})}),this.$instance.on("destroy",(e,t)=>{this.zone.run(()=>{this.destroy.emit({event:e,slick:t}),this.initialized=!1})})})}addSlide(e){this._addedSlides.push(e)}removeSlide(e){this._removedSlides.push(e)}slickGoTo(e){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickGoTo",e)})}slickNext(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickNext")})}slickPrev(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPrev")})}slickPause(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPause")})}slickPlay(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPlay")})}unslick(){this.$instance&&(this.zone.runOutsideAngular(()=>{this.$instance.slick("unslick")}),this.$instance=void 0),this.initialized=!1}ngOnChanges(e){if(this.initialized){const t=e.config;if(t.previousValue!==t.currentValue&&void 0!==t.currentValue){const e=t.currentValue.refresh,n=Object.assign({},t.currentValue);delete n.refresh,this.zone.runOutsideAngular(()=>{this.$instance.slick("slickSetOption",n,e)})}}}}return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275directiveInject(m.ElementRef),m.\u0275\u0275directiveInject(m.NgZone),m.\u0275\u0275directiveInject(m.PLATFORM_ID))},e.\u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["ngx-slick-carousel"]],inputs:{config:"config"},outputs:{afterChange:"afterChange",beforeChange:"beforeChange",breakpoint:"breakpoint",destroy:"destroy",init:"init"},exportAs:["slick-carousel"],features:[m.\u0275\u0275ProvidersFeature([{provide:l.JU,useExisting:(0,m.forwardRef)(()=>e),multi:!0}]),m.\u0275\u0275NgOnChangesFeature],ngContentSelectors:S,decls:1,vars:0,template:function(e,t){1&e&&(m.\u0275\u0275projectionDef(),m.\u0275\u0275projection(0))},encapsulation:2}),e})(),E=(()=>{class e{constructor(e,t,n){this.el=e,this.platformId=t,this.carousel=n}ngOnInit(){(0,i.isPlatformBrowser)(this.platformId)&&this.carousel.addSlide(this)}ngOnDestroy(){(0,i.isPlatformBrowser)(this.platformId)&&this.carousel.removeSlide(this)}}return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275directiveInject(m.ElementRef),m.\u0275\u0275directiveInject(m.PLATFORM_ID),m.\u0275\u0275directiveInject(w,1))},e.\u0275dir=m.\u0275\u0275defineDirective({type:e,selectors:[["","ngxSlickItem",""]]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=m.\u0275\u0275defineInjector({imports:[[i.CommonModule]]}),e})(),x=(()=>{class e{constructor(){this.slideConfig2={className:"center",centerMode:!0,infinite:!0,centerPadding:"0",slidesToShow:1,speed:500,dots:!0}}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["app-forgot-password"]],decls:54,vars:1,consts:[[1,"h-100"],[1,"row","h-100","no-gutters"],[1,"d-none","d-lg-block","col-lg-4"],[1,"slider-light"],[1,"slick-slider","slick-dotted",3,"config"],["slickModal","slick-carousel"],["ngxSlickItem",""],[1,"position-relative","h-100","d-flex","justify-content-center","align-items-center","bg-plum-plate"],[1,"slide-img-bg"],[1,"slider-content","text-light"],[1,"position-relative","h-100","d-flex","justify-content-center","align-items-center","bg-premium-dark"],[1,"position-relative","h-100","d-flex","justify-content-center","align-items-center","bg-sunny-morning"],[1,"slide-img-bg","opacity-6"],[1,"h-100","d-flex","bg-white","justify-content-center","align-items-center","col-md-12","col-lg-8"],[1,"mx-auto","app-login-box","col-sm-12","col-md-8","col-lg-6"],[1,"app-logo"],[1,"row"],[1,"col-md-12"],["id","__BVID__133",1,"form-group"],["tabindex","-1","role","group"],["for","exampleEmail"],["id","exampleEmail","name","email","type","email","placeholder","Email here...",1,"form-control"],[1,"mt-4","d-flex","align-items-center"],[1,"mb-0"],[1,"text-primary",3,"routerLink"],[1,"ml-auto"],["type","button",1,"btn","btn-primary","btn-lg"]],template:function(e,t){1&e&&(m.\u0275\u0275elementStart(0,"div",0),m.\u0275\u0275elementStart(1,"div",1),m.\u0275\u0275elementStart(2,"div",2),m.\u0275\u0275elementStart(3,"div",3),m.\u0275\u0275elementStart(4,"ngx-slick-carousel",4,5),m.\u0275\u0275elementStart(6,"div",6),m.\u0275\u0275elementStart(7,"div",7),m.\u0275\u0275element(8,"div",8),m.\u0275\u0275elementStart(9,"div",9),m.\u0275\u0275elementStart(10,"h3"),m.\u0275\u0275text(11,"Perfect Balance"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(12,"p"),m.\u0275\u0275text(13," ArchitectUI is like a dream. Some think it's too good to be true! Extensive collection of unified Vue Bootstrap Components and Elements. "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(14,"div",6),m.\u0275\u0275elementStart(15,"div",10),m.\u0275\u0275element(16,"div",8),m.\u0275\u0275elementStart(17,"div",9),m.\u0275\u0275elementStart(18,"h3"),m.\u0275\u0275text(19,"Scalable, Modular, Consistent"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(20,"p"),m.\u0275\u0275text(21," Easily exclude the components you don't require. Lightweight, consistent Bootstrap based styles across all elements and components "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(22,"div",6),m.\u0275\u0275elementStart(23,"div",11),m.\u0275\u0275element(24,"div",12),m.\u0275\u0275elementStart(25,"div",9),m.\u0275\u0275elementStart(26,"h3"),m.\u0275\u0275text(27,"Complex, but lightweight"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(28,"p"),m.\u0275\u0275text(29," We've included a lot of components that cover almost all use cases for any type of application. "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(30,"div",13),m.\u0275\u0275elementStart(31,"div",14),m.\u0275\u0275element(32,"div",15),m.\u0275\u0275elementStart(33,"h4"),m.\u0275\u0275elementStart(34,"div"),m.\u0275\u0275text(35,"Forgot your Password?"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(36,"span"),m.\u0275\u0275text(37,"Use the form below to recover it."),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(38,"div"),m.\u0275\u0275elementStart(39,"form"),m.\u0275\u0275elementStart(40,"div",16),m.\u0275\u0275elementStart(41,"div",17),m.\u0275\u0275elementStart(42,"fieldset",18),m.\u0275\u0275elementStart(43,"div",19),m.\u0275\u0275elementStart(44,"label",20),m.\u0275\u0275text(45,"Email"),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(46,"input",21),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(47,"div",22),m.\u0275\u0275elementStart(48,"h6",23),m.\u0275\u0275elementStart(49,"a",24),m.\u0275\u0275text(50,"Sign in existing account"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(51,"div",25),m.\u0275\u0275elementStart(52,"button",26),m.\u0275\u0275text(53,"Recover Password"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()),2&e&&(m.\u0275\u0275advance(4),m.\u0275\u0275property("config",t.slideConfig2))},directives:[w,E,l._Y,l.JL,l.F,v.HK,v.oH,a.yS],encapsulation:2}),e})();var b=n(55041),k=n(22134),I=n(17316),C=n(89082),P=n(28970),T=n(19773),F=n(75346),_=n(47814);let j=(()=>{class e{constructor(e,t){this.accountService=e,this.authServerProvider=t}login(e){return this.authServerProvider.login(e).pipe((0,T.zg)(()=>this.accountService.identity(!0)))}logout(){this.authServerProvider.logout().subscribe({complete:()=>this.accountService.authenticate(null)})}}return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275inject(F.B),m.\u0275\u0275inject(_.S))},e.\u0275prov=m.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const O=["slickModal"],A=["username"];function B(e,t){if(1&e){const e=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"button",30),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(e),m.\u0275\u0275nextContext().logWithOutlook()}),m.\u0275\u0275element(1,"img",31),m.\u0275\u0275text(2),m.\u0275\u0275pipe(3,"translate"),m.\u0275\u0275elementEnd()}2&e&&(m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind1(3,1,"login.outlook")," "))}function z(e,t){if(1&e){const e=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"form",33),m.\u0275\u0275elementStart(1,"div",34),m.\u0275\u0275elementStart(2,"h4",35),m.\u0275\u0275text(3),m.\u0275\u0275pipe(4,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(5,"button",36),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(e).dismiss("Cross click")}),m.\u0275\u0275elementStart(6,"span",37),m.\u0275\u0275text(7,"\xd7"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(8,"div",38),m.\u0275\u0275elementStart(9,"div",39),m.\u0275\u0275elementStart(10,"label"),m.\u0275\u0275text(11),m.\u0275\u0275pipe(12,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(13,"input",40),m.\u0275\u0275pipe(14,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(15,"div",41),m.\u0275\u0275elementStart(16,"button",42),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(e).close("Close click")}),m.\u0275\u0275text(17),m.\u0275\u0275pipe(18,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(19,"button",43),m.\u0275\u0275listener("click",function(){return m.\u0275\u0275restoreView(e),m.\u0275\u0275nextContext().submitReset()}),m.\u0275\u0275text(20),m.\u0275\u0275pipe(21,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd()}if(2&e){const e=m.\u0275\u0275nextContext();m.\u0275\u0275property("formGroup",e.resetPwdForm),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(4,9,"login.forget_pwd")),m.\u0275\u0275advance(2),m.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),m.\u0275\u0275advance(6),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind1(12,11,"login.username"),""),m.\u0275\u0275advance(2),m.\u0275\u0275propertyInterpolate("placeholder",m.\u0275\u0275pipeBind1(14,13,"login.username")),m.\u0275\u0275advance(4),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(18,15,"button.close")),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(21,17,"button.submit"))}}const U=function(){return{"h-100":!0}},N=function(){return{"position-relative h-100 d-flex justify-content-center align-items-center bg-plum-plate":!0}},L=function(){return{"slide-img-bg":!0}},R=function(){return{"slider-content text-light":!0}},M=[{path:"",children:[{path:"login",component:(()=>{class e{constructor(e,t,n,i,r,l,o,a,s,d,c,m,p){this.authService=e,this.router=t,this.formBuilder=n,this.translate=i,this.oauthService=r,this.configService=l,this.devToolsServices=o,this.loanSharedService=a,this.azureConfigService=s,this.modalService=d,this.datePipe=c,this.settingsService=m,this.loginService=p,this.slideConfig={className:"center",centerMode:!0,infinite:!0,centerPadding:"0",slidesToShow:1,slidesToScroll:1,speed:500,dots:!0,autoplay:!0,autoplaySpeed:3e3,rtl:!1},this.error=""}ngOnInit(){const e=this.azureConfigService.getTenantId(),t=this.azureConfigService.getClientId();this.outlookButton=this.azureConfigService.getEnabled(),e&&t?(this.oauthService.configure(this.azureConfigService.getAuthConfig()),this.oauthService.loadDiscoveryDocumentAndTryLogin().then().catch(e=>{console.error("Error loading discovery document:",e)})):console.error("Missing tenantId or clientId");const n=localStorage.getItem("lang");localStorage.setItem("lang",n),this.devToolsServices.backTop(),this.slideConfig.rtl="ar"===this.translate.currentLang,localStorage.getItem("currentUser")&&this.authService.logout(),this.createForm()}createForm(){this.loginForm=this.formBuilder.group({username:["",l.kI.required],password:["",l.kI.required]})}login(){this.loginService.login(this.loginForm.getRawValue()).subscribe({next:()=>{this.router.getCurrentNavigation()||(localStorage.setItem("currentUser",sessionStorage.getItem("jhi-authenticationToken")),this.settingsService.getEnvirementValueByKeys([d.J.KEY_LICENCE]).subscribe(e=>{null!==e&&(this.loanSharedService.setActivationKey(e.filter(e=>e.key===d.J.KEY_LICENCE)[0].value.split(",")),this.loanSharedService.setCreptedKey(e.filter(e=>e.key===d.J.KEY_LICENCE)[0].creptedKey),this.loanSharedService.setEnvironnementLicence(e.filter(e=>e.key===d.J.KEY_LICENCE)[0]))}),this.router.navigate([""]))},error:()=>console.log(this.error)})}onSubmit(){var e=this;return(0,s.Z)(function*(){if(localStorage.clear(),(0,k.L0)()){const t=JSON.parse(sessionStorage.getItem("currentUser"));e.setUser(t),void 0===t?e.error="login.login_msg":(e.getConnectedUser(),e.getHabilitation(),e.loanSharedService.setAuthorized(!1))}})()}langFR(){this.translate.use("fr"),b.y.direction="ltr",this.slickModal.ngOnDestroy(),localStorage.setItem("lang","fr")}langEN(){this.translate.use("en"),b.y.direction="ltr",this.slickModal.ngOnDestroy(),localStorage.setItem("lang","en")}langAR(){this.translate.use("ar"),b.y.direction="rtl",this.slickModal.ngOnDestroy(),localStorage.setItem("lang","ar")}getHabilitation(){var e=this;return(0,s.Z)(function*(){if((0,k.L0)()){const t=JSON.parse(sessionStorage.getItem("habilitations"));e.loanSharedService.setHabilitationEntitys(t)}else yield e.authService.getUserHabilitation().toPromise().then(t=>{e.loanSharedService.setHabilitationEntitys(t)});if(e.loanSharedService.getHabilitationEntitys().length>0){if(e.loanSharedService.getUser().pwdExpiryDate){const t=new Date(e.loanSharedService.getUser().pwdExpiryDate),n=new Date;n.setDate(n.getDate()+7),t<n&&e.devToolsServices.openToastWithParameter(3,"alert.pwd_expiry_date",e.datePipe.transform(t,"dd/MM/yyyy"))}e.loanSharedService.getUser().temporaryPwd||null!==e.loanSharedService.getUser().temporaryPassword?yield e.router.navigate([d.J.CHANGE_PWD]):yield e.router.navigate([d.J.DASHBOARD_URL])}else console.log("habilitation_msg"),e.error="login.habilitation_msg"})()}slickInit(e){this.slideConfig.className="center",this.slideConfig.centerMode=!0,this.slideConfig.infinite=!0,this.slideConfig.centerPadding="0",this.slideConfig.slidesToShow=1,this.slideConfig.slidesToScroll=1,this.slideConfig.speed=500,this.slideConfig.dots=!0,this.slideConfig.autoplay=!0,this.slideConfig.autoplaySpeed=3e3,"en"===this.translate.currentLang||"fr"===this.translate.currentLang?this.slideConfig.rtl=!1:"ar"===this.translate.currentLang&&(this.slideConfig.rtl=!0),this.slickModal.config=this.slideConfig}createFormResetPwd(){this.resetPwdForm=this.formBuilder.group({resetUsername:["",l.kI.required]})}open(e){this.createFormResetPwd(),this.modalService.open(e)}submitReset(){if(this.resetPwdForm.valid){const e=new c.H;e.login=this.resetPwdForm.value.resetUsername,this.modalService.dismissAll(),this.authService.resetPwd(e).toPromise().then(e=>{this.devToolsServices.openToast(0,"alert.reset_pwd"),localStorage.clear()})}}getDirection(){return b.y.direction}checkIfUserIsAuthorized(){if((0,k.L0)()){const e=JSON.parse(sessionStorage.getItem("check-if-user-authorized"));null!==e&&this.loanSharedService.setAuthorized(e)}else this.authService.checkIfGroupOfConnectedUserIsAuthorized(d.J.AUTHORIZED_GROUPS).subscribe(e=>{null!==e&&this.loanSharedService.setAuthorized(e)})}getConnectedUser(){var e=this;return(0,s.Z)(function*(){if((0,k.L0)()){console.log("canActivate - getConnectedUser");const t=JSON.parse(sessionStorage.getItem("currentUser"));e.setUser(t)}else e.authService.curentUser().subscribe(t=>{e.setUser(t)})})()}logWithOutlook(){this.oauthService.initLoginFlow()}setUser(e){e&&(this.loanSharedService.setUser(e),null===e.defaultLang&&(e.defaultLang="AR"),localStorage.setItem("lang",e.defaultLang.toLowerCase()),e.defaultLang===d.J.AR?(this.translate.use("ar"),b.y.direction="rtl"):e.defaultLang===d.J.EN?(this.translate.use("en"),b.y.direction="ltr"):e.defaultLang===d.J.FR&&(this.translate.use("fr"),b.y.direction="ltr"))}}return e.\u0275fac=function(t){return new(t||e)(m.\u0275\u0275directiveInject(p.g),m.\u0275\u0275directiveInject(a.F0),m.\u0275\u0275directiveInject(l.qu),m.\u0275\u0275directiveInject(r.sK),m.\u0275\u0275directiveInject(I.Ct),m.\u0275\u0275directiveInject(C.v),m.\u0275\u0275directiveInject(u.R),m.\u0275\u0275directiveInject(h.F),m.\u0275\u0275directiveInject(C.v),m.\u0275\u0275directiveInject(g.FF),m.\u0275\u0275directiveInject(i.DatePipe),m.\u0275\u0275directiveInject(P.g),m.\u0275\u0275directiveInject(j))},e.\u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["app-login"]],viewQuery:function(e,t){if(1&e&&(m.\u0275\u0275viewQuery(O,5),m.\u0275\u0275viewQuery(A,5)),2&e){let e;m.\u0275\u0275queryRefresh(e=m.\u0275\u0275loadQuery())&&(t.slickModal=e.first),m.\u0275\u0275queryRefresh(e=m.\u0275\u0275loadQuery())&&(t.username=e.first)}},decls:71,vars:44,consts:[[1,"he-100"],[1,"row","no-gutters"],[1,"d-none","d-lg-block","col-lg-4"],[1,"slider-light"],[1,"slick-slider","slick-dotted"],[3,"config","init"],["slickModal","slick-carousel"],["ngxSlickItem","",3,"ngClass"],[3,"ngClass"],[1,"h-100","col-md-12","col-lg-8"],[1,"text-end","pt-3","pr-5"],[1,"mb-2","mx-2","border-0","btn-transition","btn","btn-outline-primary",3,"disabled","click"],[1,"h-100","d-flex","bg-white","justify-content-center","align-items-center"],[1,"mx-auto","app-login-box","col-sm-12","col-md-10","col-lg-9"],[1,"app-logo"],[1,"mb-0"],[1,"divider"],[1,"form",3,"formGroup"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["tabindex","-1","role","group"],["type","text","formControlName","username",1,"form-control",3,"placeholder"],["type","password","formControlName","password",1,"form-control",3,"placeholder"],[1,"text-danger"],[1,"align-items-center"],[1,"ml-auto",2,"display","flex","justify-content","space-between"],["type","submit",1,"btn","btn-primary","btn-lg",3,"click"],[1,"btn","btn-link",3,"click"],["class","btn btn-light p-1 button-darken","style","border-radius: 10px !important;filter: drop-shadow(1px black);",3,"click",4,"ngIf"],[1,"btn","btn-light","p-1","button-darken",2,"border-radius","10px !important","filter","drop-shadow(1px black)",3,"click"],["src","assets/resources/images/microsoft-logo.svg","alt","Outlook Logo",1,"logo",2,"width","20px !important"],["content",""],[1,"position-relative","col-xl-12","px-0","col-md-12",3,"formGroup"],[1,"modal-header","py-2"],[1,"modal-title"],["type","button","aria-label","Close",3,"click"],["aria-hidden","true"],[1,"modal-body","row","no-gutters"],[1,"position-relative","col-xl-12","col-md-12"],["type","text","formControlName","resetUsername",1,"form-control",3,"placeholder"],[1,"modal-footer","py-1"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(e,t){if(1&e){const e=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"div",0),m.\u0275\u0275elementStart(1,"div",1),m.\u0275\u0275elementStart(2,"div",2),m.\u0275\u0275elementStart(3,"div",3),m.\u0275\u0275elementStart(4,"div",4),m.\u0275\u0275elementStart(5,"ngx-slick-carousel",5,6),m.\u0275\u0275listener("init",function(e){return t.slickInit(e)}),m.\u0275\u0275elementStart(7,"div",7),m.\u0275\u0275elementStart(8,"div",8),m.\u0275\u0275element(9,"div",8),m.\u0275\u0275elementStart(10,"div",8),m.\u0275\u0275elementStart(11,"h3"),m.\u0275\u0275text(12,"TALYS - THE HOUSE OF DIGITAL EXPERTS"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(13,"div",9),m.\u0275\u0275elementStart(14,"div",10),m.\u0275\u0275elementStart(15,"button",11),m.\u0275\u0275listener("click",function(){return t.langFR()}),m.\u0275\u0275text(16,"Fran\xe7ais "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(17,"button",11),m.\u0275\u0275listener("click",function(){return t.langEN()}),m.\u0275\u0275text(18,"English "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(19,"button",11),m.\u0275\u0275listener("click",function(){return t.langAR()}),m.\u0275\u0275text(20,"\u0639\u0631\u0628\u064a\u0629 "),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(21,"div",12),m.\u0275\u0275elementStart(22,"div",13),m.\u0275\u0275element(23,"div",14),m.\u0275\u0275elementStart(24,"h4",15),m.\u0275\u0275elementStart(25,"div"),m.\u0275\u0275text(26),m.\u0275\u0275pipe(27,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(28,"span"),m.\u0275\u0275text(29),m.\u0275\u0275pipe(30,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(31,"div",16),m.\u0275\u0275elementStart(32,"div"),m.\u0275\u0275elementStart(33,"form",17),m.\u0275\u0275elementStart(34,"div",18),m.\u0275\u0275elementStart(35,"div",19),m.\u0275\u0275elementStart(36,"fieldset",20),m.\u0275\u0275elementStart(37,"div",21),m.\u0275\u0275elementStart(38,"label"),m.\u0275\u0275text(39),m.\u0275\u0275pipe(40,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(41,"input",22),m.\u0275\u0275pipe(42,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(43,"div",19),m.\u0275\u0275elementStart(44,"fieldset",20),m.\u0275\u0275elementStart(45,"div",21),m.\u0275\u0275elementStart(46,"label"),m.\u0275\u0275text(47),m.\u0275\u0275pipe(48,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(49,"input",23),m.\u0275\u0275pipe(50,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(51,"div",24),m.\u0275\u0275text(52),m.\u0275\u0275pipe(53,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275element(54,"div",16),m.\u0275\u0275elementStart(55,"div",25),m.\u0275\u0275elementStart(56,"div",26),m.\u0275\u0275elementStart(57,"div"),m.\u0275\u0275elementStart(58,"button",27),m.\u0275\u0275listener("click",function(){return t.login()}),m.\u0275\u0275text(59),m.\u0275\u0275pipe(60,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(61,"button",28),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(e);const n=m.\u0275\u0275reference(70);return t.open(n)}),m.\u0275\u0275text(62),m.\u0275\u0275pipe(63,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(64,B,4,3,"button",29),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(65,"button",30),m.\u0275\u0275listener("click",function(){return t.logWithOutlook()}),m.\u0275\u0275element(66,"img",31),m.\u0275\u0275text(67),m.\u0275\u0275pipe(68,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(69,z,22,19,"ng-template",null,32,m.\u0275\u0275templateRefExtractor),m.\u0275\u0275elementEnd()}2&e&&(m.\u0275\u0275advance(5),m.\u0275\u0275property("config",t.slideConfig),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction0(40,U)),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction0(41,N)),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction0(42,L)),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction0(43,R)),m.\u0275\u0275advance(5),m.\u0275\u0275property("disabled","fr"===t.translate.currentLang),m.\u0275\u0275advance(2),m.\u0275\u0275property("disabled","en"===t.translate.currentLang),m.\u0275\u0275advance(2),m.\u0275\u0275property("disabled","ar"===t.translate.currentLang),m.\u0275\u0275advance(7),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(27,20,"login.welcome")),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(30,22,"login.please_sign_in")),m.\u0275\u0275advance(4),m.\u0275\u0275property("formGroup",t.loginForm),m.\u0275\u0275advance(6),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind1(40,24,"login.username"),""),m.\u0275\u0275advance(2),m.\u0275\u0275propertyInterpolate("placeholder",m.\u0275\u0275pipeBind1(42,26,"login.username")),m.\u0275\u0275advance(6),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(48,28,"login.password")),m.\u0275\u0275advance(2),m.\u0275\u0275propertyInterpolate("placeholder",m.\u0275\u0275pipeBind1(50,30,"login.password")),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(53,32,t.error)),m.\u0275\u0275advance(7),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(60,34,"login.login")),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(63,36,"login.forget_pwd")),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngIf",t.outlookButton),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind1(68,38,"login.outlook")," "))},directives:[w,E,i.NgClass,l._Y,l.JL,l.sg,v.MU,v.HK,l.Fj,v.oH,l.JJ,l.u,i.NgIf],pipes:[r.X$],styles:[".button-darken[_ngcontent-%COMP%] {\n    border-radius: 10px !important;\n    font-size: medium;\n    display: ruby;\n    filter: drop-shadow(1px black);\n    transition: filter 0.3s ease-in-out;\n  }\n\n  .button-darken[_ngcontent-%COMP%]:hover {\n    filter: brightness(85%);\n  }"]}),e})(),data:{extraParameter:""}},{path:"forgot-password",component:x,data:{extraParameter:""}},{path:"change-pwd",component:f,data:{extraParameter:""}}]}];let $=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=m.\u0275\u0275defineInjector({imports:[[a.Bz.forChild(M)],a.Bz]}),e})(),D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=m.\u0275\u0275defineInjector({imports:[[i.CommonModule,$,y,l.UX,v.VN,l.u5,r.aw,o.q.forRoot({})]]}),e})()}}]);