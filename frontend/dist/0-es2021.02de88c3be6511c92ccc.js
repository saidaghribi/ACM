(self.webpackChunkacm_web=self.webpackChunkacm_web||[]).push([[0],{22194:function(e,t,n){var i,r,a;!function(o){if("object"==typeof e.exports){var s=o(0,t);void 0!==s&&(e.exports=s)}else r=[n,t],void 0!==(a="function"==typeof(i=o)?i.apply(t,r):i)&&(e.exports=a)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;t.default=["ar",[["\u0635","\u0645"],n,n],[["\u0635","\u0645"],n,["\u0635\u0628\u0627\u062d\u064b\u0627","\u0645\u0633\u0627\u0621\u064b"]],[["\u062d","\u0646","\u062b","\u0631","\u062e","\u062c","\u0633"],["\u0627\u0644\u0623\u062d\u062f","\u0627\u0644\u0627\u062b\u0646\u064a\u0646","\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062e\u0645\u064a\u0633","\u0627\u0644\u062c\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062a"],n,["\u0623\u062d\u062f","\u0625\u062b\u0646\u064a\u0646","\u062b\u0644\u0627\u062b\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639\u0629","\u0633\u0628\u062a"]],n,[["\u064a","\u0641","\u0645","\u0623","\u0648","\u0646","\u0644","\u063a","\u0633","\u0643","\u0628","\u062f"],["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],n],n,[["\u0642.\u0645","\u0645"],n,["\u0642\u0628\u0644 \u0627\u0644\u0645\u064a\u0644\u0627\u062f","\u0645\u064a\u0644\u0627\u062f\u064a"]],6,[5,6],["d\u200f/M\u200f/y","dd\u200f/MM\u200f/y","d MMMM y","EEEE\u060c d MMMM y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1} {0}",n,n,n],[".",",",";","\u200e%\u200e","\u200e+","\u200e-","E","\xd7","\u2030","\u221e","\u0644\u064a\u0633\xa0\u0631\u0642\u0645\u064b\u0627",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"EGP","\u062c.\u0645.\u200f","\u062c\u0646\u064a\u0647 \u0645\u0635\u0631\u064a",{AED:["\u062f.\u0625.\u200f"],ARS:[n,"AR$"],AUD:["AU$"],BBD:[n,"BB$"],BHD:["\u062f.\u0628.\u200f"],BMD:[n,"BM$"],BND:[n,"BN$"],BSD:[n,"BS$"],BZD:[n,"BZ$"],CAD:["CA$"],CLP:[n,"CL$"],CNY:["CN\xa5"],COP:[n,"CO$"],CUP:[n,"CU$"],DOP:[n,"DO$"],DZD:["\u062f.\u062c.\u200f"],EGP:["\u062c.\u0645.\u200f","E\xa3"],FJD:[n,"FJ$"],GBP:["UK\xa3"],GYD:[n,"GY$"],HKD:["HK$"],IQD:["\u062f.\u0639.\u200f"],IRR:["\u0631.\u0625."],JMD:[n,"JM$"],JOD:["\u062f.\u0623.\u200f"],JPY:["JP\xa5"],KWD:["\u062f.\u0643.\u200f"],KYD:[n,"KY$"],LBP:["\u0644.\u0644.\u200f","L\xa3"],LRD:[n,"$LR"],LYD:["\u062f.\u0644.\u200f"],MAD:["\u062f.\u0645.\u200f"],MRU:["\u0623.\u0645."],MXN:["MX$"],NZD:["NZ$"],OMR:["\u0631.\u0639.\u200f"],QAR:["\u0631.\u0642.\u200f"],SAR:["\u0631.\u0633.\u200f"],SBD:[n,"SB$"],SDD:["\u062f.\u0633.\u200f"],SDG:["\u062c.\u0633."],SRD:[n,"SR$"],SYP:["\u0644.\u0633.\u200f","\xa3"],THB:["\u0e3f"],TND:["\u062f.\u062a.\u200f"],TTD:[n,"TT$"],TWD:["NT$"],USD:["US$"],UYU:[n,"UY$"],XXX:["***"],YER:["\u0631.\u064a.\u200f"]},"rtl",function(e){return 0===e?0:1===e?1:2===e?2:e%100===Math.floor(e%100)&&e%100>=3&&e%100<=10?3:e%100===Math.floor(e%100)&&e%100>=11&&e%100<=99?4:5}]})},3929:function(e,t,n){var i,r,a;!function(o){if("object"==typeof e.exports){var s=o(0,t);void 0!==s&&(e.exports=s)}else r=[n,t],void 0!==(a="function"==typeof(i=o)?i.apply(t,r):i)&&(e.exports=a)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;t.default=["en",[["a","p"],["AM","PM"],n],[["AM","PM"],n,n],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],n,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],n,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",n,"{1} 'at' {0}",n],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}]})},35885:function(e,t,n){"use strict";var i=n(19806),r=n(1356),a=n(89859),o=n(87047),s=n(1247),l=n(40737),c=n(97058),d=n(42516),u=n(4621),p=n(79397),m=n(73144),v=n(33745),h=n(67091);t.x=function(){return i.__assign({},r.adapterFactory(),{addWeeks:a,addMonths:o,subDays:s,subWeeks:l,subMonths:c,getISOWeek:d,setDate:u,setMonth:p,setYear:m,getDate:v,getYear:h})}},1356:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(51420),r=n(1999),a=n(70129),o=n(51879),s=n(90357),l=n(18340),c=n(45814),d=n(64566),u=n(36247),p=n(55911),m=n(91697),v=n(97267),h=n(28846),g=n(70997),f=n(51727),y=n(69454),E=n(29530),S=n(28081),x=n(90583),w=n(51538),C=n(349),b=n(23083),D=n(71708),T=n(44511);t.adapterFactory=function(){return{addDays:i,addHours:r,addMinutes:a,addSeconds:o,differenceInDays:s,differenceInMinutes:l,differenceInSeconds:c,endOfDay:d,endOfMonth:u,endOfWeek:p,getDay:m,getMonth:v,isSameDay:h,isSameMonth:g,isSameSecond:f,max:y,setHours:E,setMinutes:S,startOfDay:x,startOfMinute:w,startOfMonth:C,startOfWeek:b,getHours:D,getMinutes:T}}},92686:function(e){e.exports=function(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();return t.setSeconds(0,0),6e4*n+t.getTime()%6e4}},51420:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e),r=Number(t);return n.setDate(n.getDate()+r),n}},1999:function(e,t,n){var i=n(43635);e.exports=function(e,t){var n=Number(t);return i(e,36e5*n)}},40513:function(e,t,n){var i=n(3047),r=n(31974);e.exports=function(e,t){var n=Number(t);return r(e,i(e)+n)}},43635:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e).getTime(),r=Number(t);return new Date(n+r)}},70129:function(e,t,n){var i=n(43635);e.exports=function(e,t){var n=Number(t);return i(e,6e4*n)}},87047:function(e,t,n){var i=n(92495),r=n(70449);e.exports=function(e,t){var n=i(e),a=Number(t),o=n.getMonth()+a,s=new Date(0);s.setFullYear(n.getFullYear(),o,1),s.setHours(0,0,0,0);var l=r(s);return n.setMonth(o,Math.min(l,n.getDate())),n}},78634:function(e,t,n){var i=n(87047);e.exports=function(e,t){var n=Number(t);return i(e,3*n)}},51879:function(e,t,n){var i=n(43635);e.exports=function(e,t){var n=Number(t);return i(e,1e3*n)}},89859:function(e,t,n){var i=n(51420);e.exports=function(e,t){var n=Number(t);return i(e,7*n)}},50682:function(e,t,n){var i=n(87047);e.exports=function(e,t){var n=Number(t);return i(e,12*n)}},72722:function(e,t,n){var i=n(92495);e.exports=function(e,t,n,r){var a=i(e).getTime(),o=i(t).getTime(),s=i(n).getTime(),l=i(r).getTime();if(a>o||s>l)throw new Error("The start of the range cannot be after the end of the range");return a<l&&s<o}},51118:function(e,t,n){var i=n(92495);e.exports=function(e,t){if(!(t instanceof Array))throw new TypeError(toString.call(t)+" is not an instance of Array");var n,r,a=i(e).getTime();return t.forEach(function(e,t){var o=i(e),s=Math.abs(a-o.getTime());(void 0===n||s<r)&&(n=t,r=s)}),n}},1250:function(e,t,n){var i=n(92495);e.exports=function(e,t){if(!(t instanceof Array))throw new TypeError(toString.call(t)+" is not an instance of Array");var n,r,a=i(e).getTime();return t.forEach(function(e){var t=i(e),o=Math.abs(a-t.getTime());(void 0===n||o<r)&&(n=t,r=o)}),n}},34570:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e).getTime(),r=i(t).getTime();return n<r?-1:n>r?1:0}},36821:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e).getTime(),r=i(t).getTime();return n>r?-1:n<r?1:0}},50669:function(e,t,n){var i=n(90583);e.exports=function(e,t){var n=i(e),r=i(t),a=n.getTime()-6e4*n.getTimezoneOffset(),o=r.getTime()-6e4*r.getTimezoneOffset();return Math.round((a-o)/864e5)}},52440:function(e,t,n){var i=n(70789);e.exports=function(e,t){var n=i(e),r=i(t),a=n.getTime()-6e4*n.getTimezoneOffset(),o=r.getTime()-6e4*r.getTimezoneOffset();return Math.round((a-o)/6048e5)}},60001:function(e,t,n){var i=n(3047);e.exports=function(e,t){return i(e)-i(t)}},48299:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e),r=i(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}},61294:function(e,t,n){var i=n(55456),r=n(92495);e.exports=function(e,t){var n=r(e),a=r(t);return 4*(n.getFullYear()-a.getFullYear())+(i(n)-i(a))}},44282:function(e,t,n){var i=n(23083);e.exports=function(e,t,n){var r=i(e,n),a=i(t,n),o=r.getTime()-6e4*r.getTimezoneOffset(),s=a.getTime()-6e4*a.getTimezoneOffset();return Math.round((o-s)/6048e5)}},42395:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e),r=i(t);return n.getFullYear()-r.getFullYear()}},90357:function(e,t,n){var i=n(92495),r=n(50669),a=n(34570);e.exports=function(e,t){var n=i(e),o=i(t),s=a(n,o),l=Math.abs(r(n,o));return n.setDate(n.getDate()-s*l),s*(l-(a(n,o)===-s))}},59506:function(e,t,n){var i=n(62968);e.exports=function(e,t){var n=i(e,t)/36e5;return n>0?Math.floor(n):Math.ceil(n)}},21834:function(e,t,n){var i=n(92495),r=n(60001),a=n(34570),o=n(99790);e.exports=function(e,t){var n=i(e),s=i(t),l=a(n,s),c=Math.abs(r(n,s));return n=o(n,l*c),l*(c-(a(n,s)===-l))}},62968:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e),r=i(t);return n.getTime()-r.getTime()}},18340:function(e,t,n){var i=n(62968);e.exports=function(e,t){var n=i(e,t)/6e4;return n>0?Math.floor(n):Math.ceil(n)}},63782:function(e,t,n){var i=n(92495),r=n(48299),a=n(34570);e.exports=function(e,t){var n=i(e),o=i(t),s=a(n,o),l=Math.abs(r(n,o));return n.setMonth(n.getMonth()-s*l),s*(l-(a(n,o)===-s))}},97878:function(e,t,n){var i=n(63782);e.exports=function(e,t){var n=i(e,t)/3;return n>0?Math.floor(n):Math.ceil(n)}},45814:function(e,t,n){var i=n(62968);e.exports=function(e,t){var n=i(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},69506:function(e,t,n){var i=n(90357);e.exports=function(e,t){var n=i(e,t)/7;return n>0?Math.floor(n):Math.ceil(n)}},95308:function(e,t,n){var i=n(92495),r=n(42395),a=n(34570);e.exports=function(e,t){var n=i(e),o=i(t),s=a(n,o),l=Math.abs(r(n,o));return n.setFullYear(n.getFullYear()-s*l),s*(l-(a(n,o)===-s))}},77521:function(e,t,n){var i=n(36821),r=n(92495),a=n(45814),o=n(63782),s=n(40246),l=43200;e.exports=function(e,t,n){var c=n||{},d=i(e,t),u=c.locale,p=s.distanceInWords.localize;u&&u.distanceInWords&&u.distanceInWords.localize&&(p=u.distanceInWords.localize);var m,v,h={addSuffix:Boolean(c.addSuffix),comparison:d};d>0?(m=r(e),v=r(t)):(m=r(t),v=r(e));var g,f=a(v,m),y=v.getTimezoneOffset()-m.getTimezoneOffset(),E=Math.round(f/60)-y;if(E<2)return c.includeSeconds?f<5?p("lessThanXSeconds",5,h):f<10?p("lessThanXSeconds",10,h):f<20?p("lessThanXSeconds",20,h):f<40?p("halfAMinute",null,h):p(f<60?"lessThanXMinutes":"xMinutes",1,h):0===E?p("lessThanXMinutes",1,h):p("xMinutes",E,h);if(E<45)return p("xMinutes",E,h);if(E<90)return p("aboutXHours",1,h);if(E<1440)return p("aboutXHours",Math.round(E/60),h);if(E<2520)return p("xDays",1,h);if(E<l)return p("xDays",Math.round(E/1440),h);if(E<86400)return p("aboutXMonths",g=Math.round(E/l),h);if((g=o(v,m))<12)return p("xMonths",Math.round(E/l),h);var S=g%12,x=Math.floor(g/12);return S<3?p("aboutXYears",x,h):S<9?p("overXYears",x,h):p("almostXYears",x+1,h)}},19563:function(e,t,n){var i=n(36821),r=n(92495),a=n(45814),o=n(40246),s=525600;e.exports=function(e,t,n){var l=n||{},c=i(e,t),d=l.locale,u=o.distanceInWords.localize;d&&d.distanceInWords&&d.distanceInWords.localize&&(u=d.distanceInWords.localize);var p,m,v={addSuffix:Boolean(l.addSuffix),comparison:c};c>0?(p=r(e),m=r(t)):(p=r(t),m=r(e));var h,g=Math[l.partialMethod?String(l.partialMethod):"floor"],f=a(m,p),y=m.getTimezoneOffset()-p.getTimezoneOffset(),E=g(f/60)-y;if("s"===(h=l.unit?String(l.unit):E<1?"s":E<60?"m":E<1440?"h":E<43200?"d":E<s?"M":"Y"))return u("xSeconds",f,v);if("m"===h)return u("xMinutes",E,v);if("h"===h)return u("xHours",g(E/60),v);if("d"===h)return u("xDays",g(E/1440),v);if("M"===h)return u("xMonths",g(E/43200),v);if("Y"===h)return u("xYears",g(E/s),v);throw new Error("Unknown unit: "+h)}},7911:function(e,t,n){var i=n(77521);e.exports=function(e,t){return i(Date.now(),e,t)}},16395:function(e,t,n){var i=n(92495);e.exports=function(e,t,n){var r=i(e),a=void 0!==n?n:1,o=i(t).getTime();if(r.getTime()>o)throw new Error("The first date cannot be after the second date");var s=[],l=r;for(l.setHours(0,0,0,0);l.getTime()<=o;)s.push(i(l)),l.setDate(l.getDate()+a);return s}},64566:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e);return t.setHours(23,59,59,999),t}},24275:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e);return t.setMinutes(59,59,999),t}},16888:function(e,t,n){var i=n(55911);e.exports=function(e){return i(e,{weekStartsOn:1})}},98768:function(e,t,n){var i=n(3047),r=n(70789);e.exports=function(e){var t=i(e),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var a=r(n);return a.setMilliseconds(a.getMilliseconds()-1),a}},17371:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e);return t.setSeconds(59,999),t}},36247:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},89:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e),n=t.getMonth();return t.setMonth(n-n%3+3,0),t.setHours(23,59,59,999),t}},57181:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e);return t.setMilliseconds(999),t}},19901:function(e,t,n){var i=n(64566);e.exports=function(){return i(new Date)}},84015:function(e){e.exports=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),i=e.getDate(),r=new Date(0);return r.setFullYear(t,n,i+1),r.setHours(23,59,59,999),r}},55911:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=t&&Number(t.weekStartsOn)||0,r=i(e),a=r.getDay(),o=6+(a<n?-7:0)-(a-n);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}},25857:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}},19676:function(e){e.exports=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),i=e.getDate(),r=new Date(0);return r.setFullYear(t,n,i-1),r.setHours(23,59,59,999),r}},23370:function(e,t,n){var i=n(47927),r=n(42516),a=n(3047),o=n(92495),s=n(64080),l=n(40246),c={M:function(e){return e.getMonth()+1},MM:function(e){return p(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return p(e.getDate(),2)},DDD:function(e){return i(e)},DDDD:function(e){return p(i(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return r(e)},WW:function(e){return p(r(e),2)},YY:function(e){return p(e.getFullYear(),4).substr(2)},YYYY:function(e){return p(e.getFullYear(),4)},GG:function(e){return String(a(e)).substr(2)},GGGG:function(e){return a(e)},H:function(e){return e.getHours()},HH:function(e){return p(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return p(c.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return p(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return p(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return p(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return p(e.getMilliseconds(),3)},Z:function(e){return u(e.getTimezoneOffset(),":")},ZZ:function(e){return u(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function d(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}function u(e,t){t=t||"";var n=e>0?"-":"+",i=Math.abs(e),r=i%60;return n+p(Math.floor(i/60),2)+t+p(r,2)}function p(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}e.exports=function(e,t,n){var i=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",r=(n||{}).locale,a=l.format.formatters,u=l.format.formattingTokensRegExp;r&&r.format&&r.format.formatters&&(a=r.format.formatters,r.format.formattingTokensRegExp&&(u=r.format.formattingTokensRegExp));var p=o(e);return s(p)?function(e,t,n){var i,r,a=e.match(n),o=a.length;for(i=0;i<o;i++)a[i]=(r=t[a[i]]||c[a[i]])?r:d(a[i]);return function(e){for(var t="",n=0;n<o;n++)t+=a[n]instanceof Function?a[n](e,c):a[n];return t}}(i,a,u)(p):"Invalid Date"}},33745:function(e,t,n){var i=n(92495);e.exports=function(e){return i(e).getDate()}},91697:function(e,t,n){var i=n(92495);e.exports=function(e){return i(e).getDay()}},47927:function(e,t,n){var i=n(92495),r=n(65479),a=n(50669);e.exports=function(e){var t=i(e);return a(t,r(t))+1}},70449:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e),n=t.getFullYear(),r=t.getMonth(),a=new Date(0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}},60319:function(e,t,n){var i=n(42244);e.exports=function(e){return i(e)?366:365}},71708:function(e,t,n){var i=n(92495);e.exports=function(e){return i(e).getHours()}},98936:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e).getDay();return 0===t&&(t=7),t}},42516:function(e,t,n){var i=n(92495),r=n(70789),a=n(86937);e.exports=function(e){var t=i(e),n=r(t).getTime()-a(t).getTime();return Math.round(n/6048e5)+1}},2928:function(e,t,n){var i=n(86937),r=n(89859);e.exports=function(e){var t=i(e),n=i(r(t,60)).valueOf()-t.valueOf();return Math.round(n/6048e5)}},3047:function(e,t,n){var i=n(92495),r=n(70789);e.exports=function(e){var t=i(e),n=t.getFullYear(),a=new Date(0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);var o=r(a),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var l=r(s);return t.getTime()>=o.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}},2470:function(e,t,n){var i=n(92495);e.exports=function(e){return i(e).getMilliseconds()}},44511:function(e,t,n){var i=n(92495);e.exports=function(e){return i(e).getMinutes()}},97267:function(e,t,n){var i=n(92495);e.exports=function(e){return i(e).getMonth()}},61411:function(e,t,n){var i=n(92495);e.exports=function(e,t,n,r){var a=i(e).getTime(),o=i(t).getTime(),s=i(n).getTime(),l=i(r).getTime();if(a>o||s>l)throw new Error("The start of the range cannot be after the end of the range");return a<l&&s<o?Math.ceil(((l>o?o:l)-(s<a?a:s))/864e5):0}},55456:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e);return Math.floor(t.getMonth()/3)+1}},45319:function(e,t,n){var i=n(92495);e.exports=function(e){return i(e).getSeconds()}},601:function(e,t,n){var i=n(92495);e.exports=function(e){return i(e).getTime()}},67091:function(e,t,n){var i=n(92495);e.exports=function(e){return i(e).getFullYear()}},51734:function(e,t,n){e.exports={addDays:n(51420),addHours:n(1999),addISOYears:n(40513),addMilliseconds:n(43635),addMinutes:n(70129),addMonths:n(87047),addQuarters:n(78634),addSeconds:n(51879),addWeeks:n(89859),addYears:n(50682),areRangesOverlapping:n(72722),closestIndexTo:n(51118),closestTo:n(1250),compareAsc:n(34570),compareDesc:n(36821),differenceInCalendarDays:n(50669),differenceInCalendarISOWeeks:n(52440),differenceInCalendarISOYears:n(60001),differenceInCalendarMonths:n(48299),differenceInCalendarQuarters:n(61294),differenceInCalendarWeeks:n(44282),differenceInCalendarYears:n(42395),differenceInDays:n(90357),differenceInHours:n(59506),differenceInISOYears:n(21834),differenceInMilliseconds:n(62968),differenceInMinutes:n(18340),differenceInMonths:n(63782),differenceInQuarters:n(97878),differenceInSeconds:n(45814),differenceInWeeks:n(69506),differenceInYears:n(95308),distanceInWords:n(77521),distanceInWordsStrict:n(19563),distanceInWordsToNow:n(7911),eachDay:n(16395),endOfDay:n(64566),endOfHour:n(24275),endOfISOWeek:n(16888),endOfISOYear:n(98768),endOfMinute:n(17371),endOfMonth:n(36247),endOfQuarter:n(89),endOfSecond:n(57181),endOfToday:n(19901),endOfTomorrow:n(84015),endOfWeek:n(55911),endOfYear:n(25857),endOfYesterday:n(19676),format:n(23370),getDate:n(33745),getDay:n(91697),getDayOfYear:n(47927),getDaysInMonth:n(70449),getDaysInYear:n(60319),getHours:n(71708),getISODay:n(98936),getISOWeek:n(42516),getISOWeeksInYear:n(2928),getISOYear:n(3047),getMilliseconds:n(2470),getMinutes:n(44511),getMonth:n(97267),getOverlappingDaysInRanges:n(61411),getQuarter:n(55456),getSeconds:n(45319),getTime:n(601),getYear:n(67091),isAfter:n(23301),isBefore:n(41309),isDate:n(38923),isEqual:n(13063),isFirstDayOfMonth:n(1335),isFriday:n(740),isFuture:n(46929),isLastDayOfMonth:n(61561),isLeapYear:n(42244),isMonday:n(6680),isPast:n(83762),isSameDay:n(28846),isSameHour:n(16931),isSameISOWeek:n(42262),isSameISOYear:n(71257),isSameMinute:n(83634),isSameMonth:n(70997),isSameQuarter:n(40020),isSameSecond:n(51727),isSameWeek:n(12596),isSameYear:n(48251),isSaturday:n(66e3),isSunday:n(83),isThisHour:n(70585),isThisISOWeek:n(82618),isThisISOYear:n(47068),isThisMinute:n(19557),isThisMonth:n(131),isThisQuarter:n(76069),isThisSecond:n(35063),isThisWeek:n(50213),isThisYear:n(38640),isThursday:n(54648),isToday:n(59862),isTomorrow:n(83061),isTuesday:n(80675),isValid:n(64080),isWednesday:n(29331),isWeekend:n(7188),isWithinRange:n(96796),isYesterday:n(23398),lastDayOfISOWeek:n(68945),lastDayOfISOYear:n(15542),lastDayOfMonth:n(34410),lastDayOfQuarter:n(89210),lastDayOfWeek:n(48480),lastDayOfYear:n(3293),max:n(69454),min:n(34605),parse:n(92495),setDate:n(4621),setDay:n(36871),setDayOfYear:n(65916),setHours:n(29530),setISODay:n(2521),setISOWeek:n(38560),setISOYear:n(31974),setMilliseconds:n(91351),setMinutes:n(28081),setMonth:n(79397),setQuarter:n(33675),setSeconds:n(82289),setYear:n(73144),startOfDay:n(90583),startOfHour:n(63134),startOfISOWeek:n(70789),startOfISOYear:n(86937),startOfMinute:n(51538),startOfMonth:n(349),startOfQuarter:n(96593),startOfSecond:n(19102),startOfToday:n(13849),startOfTomorrow:n(74809),startOfWeek:n(23083),startOfYear:n(65479),startOfYesterday:n(57581),subDays:n(1247),subHours:n(93748),subISOYears:n(99790),subMilliseconds:n(19633),subMinutes:n(18415),subMonths:n(97058),subQuarters:n(81216),subSeconds:n(67493),subWeeks:n(40737),subYears:n(46590)}},23301:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e),r=i(t);return n.getTime()>r.getTime()}},41309:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e),r=i(t);return n.getTime()<r.getTime()}},38923:function(e){e.exports=function(e){return e instanceof Date}},13063:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e),r=i(t);return n.getTime()===r.getTime()}},1335:function(e,t,n){var i=n(92495);e.exports=function(e){return 1===i(e).getDate()}},740:function(e,t,n){var i=n(92495);e.exports=function(e){return 5===i(e).getDay()}},46929:function(e,t,n){var i=n(92495);e.exports=function(e){return i(e).getTime()>(new Date).getTime()}},61561:function(e,t,n){var i=n(92495),r=n(64566),a=n(36247);e.exports=function(e){var t=i(e);return r(t).getTime()===a(t).getTime()}},42244:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e).getFullYear();return t%400==0||t%4==0&&t%100!=0}},6680:function(e,t,n){var i=n(92495);e.exports=function(e){return 1===i(e).getDay()}},83762:function(e,t,n){var i=n(92495);e.exports=function(e){return i(e).getTime()<(new Date).getTime()}},28846:function(e,t,n){var i=n(90583);e.exports=function(e,t){var n=i(e),r=i(t);return n.getTime()===r.getTime()}},16931:function(e,t,n){var i=n(63134);e.exports=function(e,t){var n=i(e),r=i(t);return n.getTime()===r.getTime()}},42262:function(e,t,n){var i=n(12596);e.exports=function(e,t){return i(e,t,{weekStartsOn:1})}},71257:function(e,t,n){var i=n(86937);e.exports=function(e,t){var n=i(e),r=i(t);return n.getTime()===r.getTime()}},83634:function(e,t,n){var i=n(51538);e.exports=function(e,t){var n=i(e),r=i(t);return n.getTime()===r.getTime()}},70997:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e),r=i(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}},40020:function(e,t,n){var i=n(96593);e.exports=function(e,t){var n=i(e),r=i(t);return n.getTime()===r.getTime()}},51727:function(e,t,n){var i=n(19102);e.exports=function(e,t){var n=i(e),r=i(t);return n.getTime()===r.getTime()}},12596:function(e,t,n){var i=n(23083);e.exports=function(e,t,n){var r=i(e,n),a=i(t,n);return r.getTime()===a.getTime()}},48251:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e),r=i(t);return n.getFullYear()===r.getFullYear()}},66e3:function(e,t,n){var i=n(92495);e.exports=function(e){return 6===i(e).getDay()}},83:function(e,t,n){var i=n(92495);e.exports=function(e){return 0===i(e).getDay()}},70585:function(e,t,n){var i=n(16931);e.exports=function(e){return i(new Date,e)}},82618:function(e,t,n){var i=n(42262);e.exports=function(e){return i(new Date,e)}},47068:function(e,t,n){var i=n(71257);e.exports=function(e){return i(new Date,e)}},19557:function(e,t,n){var i=n(83634);e.exports=function(e){return i(new Date,e)}},131:function(e,t,n){var i=n(70997);e.exports=function(e){return i(new Date,e)}},76069:function(e,t,n){var i=n(40020);e.exports=function(e){return i(new Date,e)}},35063:function(e,t,n){var i=n(51727);e.exports=function(e){return i(new Date,e)}},50213:function(e,t,n){var i=n(12596);e.exports=function(e,t){return i(new Date,e,t)}},38640:function(e,t,n){var i=n(48251);e.exports=function(e){return i(new Date,e)}},54648:function(e,t,n){var i=n(92495);e.exports=function(e){return 4===i(e).getDay()}},59862:function(e,t,n){var i=n(90583);e.exports=function(e){return i(e).getTime()===i(new Date).getTime()}},83061:function(e,t,n){var i=n(90583);e.exports=function(e){var t=new Date;return t.setDate(t.getDate()+1),i(e).getTime()===i(t).getTime()}},80675:function(e,t,n){var i=n(92495);e.exports=function(e){return 2===i(e).getDay()}},64080:function(e,t,n){var i=n(38923);e.exports=function(e){if(i(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}},29331:function(e,t,n){var i=n(92495);e.exports=function(e){return 3===i(e).getDay()}},7188:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e).getDay();return 0===t||6===t}},96796:function(e,t,n){var i=n(92495);e.exports=function(e,t,n){var r=i(e).getTime(),a=i(t).getTime(),o=i(n).getTime();if(a>o)throw new Error("The start of the range cannot be after the end of the range");return r>=a&&r<=o}},23398:function(e,t,n){var i=n(90583);e.exports=function(e){var t=new Date;return t.setDate(t.getDate()-1),i(e).getTime()===i(t).getTime()}},68945:function(e,t,n){var i=n(48480);e.exports=function(e){return i(e,{weekStartsOn:1})}},15542:function(e,t,n){var i=n(3047),r=n(70789);e.exports=function(e){var t=i(e),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var a=r(n);return a.setDate(a.getDate()-1),a}},34410:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}},89210:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e),n=t.getMonth();return t.setMonth(n-n%3+3,0),t.setHours(0,0,0,0),t}},48480:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=t&&Number(t.weekStartsOn)||0,r=i(e),a=r.getDay(),o=6+(a<n?-7:0)-(a-n);return r.setHours(0,0,0,0),r.setDate(r.getDate()+o),r}},3293:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(0,0,0,0),t}},99518:function(e){var t=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=function(e){var n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(i);var r=t.concat(n).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+r.join("|")+"|.)","g")}},66024:function(e){e.exports=function(){var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(t,n,i){var r;return i=i||{},r="string"==typeof e[t]?e[t]:1===n?e[t].one:e[t].other.replace("{{count}}",n),i.addSuffix?i.comparison>0?"in "+r:r+" ago":r}}}},40726:function(e,t,n){var i=n(99518);e.exports=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=["AM","PM"],s=["am","pm"],l=["a.m.","p.m."],c={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return e.getHours()/12>=1?o[1]:o[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?l[1]:l[0]}};return["M","D","DDD","d","Q","W"].forEach(function(e){c[e+"o"]=function(t,n){return function(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(n[e](t))}}),{formatters:c,formattingTokensRegExp:i(c)}}},40246:function(e,t,n){var i=n(66024),r=n(40726);e.exports={distanceInWords:i(),format:r()}},69454:function(e,t,n){var i=n(92495);e.exports=function(){var e=Array.prototype.slice.call(arguments),t=e.map(function(e){return i(e)}),n=Math.max.apply(null,t);return new Date(n)}},34605:function(e,t,n){var i=n(92495);e.exports=function(){var e=Array.prototype.slice.call(arguments),t=e.map(function(e){return i(e)}),n=Math.min.apply(null,t);return new Date(n)}},92495:function(e,t,n){var i=n(92686),r=n(38923),a=36e5,o=6e4,s=/[T ]/,l=/:/,c=/^(\d{2})$/,d=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],u=/^(\d{4})/,p=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],m=/^-(\d{2})$/,v=/^-?(\d{3})$/,h=/^-?(\d{2})-?(\d{2})$/,g=/^-?W(\d{2})$/,f=/^-?W(\d{2})-?(\d{1})$/,y=/^(\d{2}([.,]\d*)?)$/,E=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,S=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,x=/([Z+-].*)$/,w=/^(Z)$/,C=/^([+-])(\d{2})$/,b=/^([+-])(\d{2}):?(\d{2})$/;function D(e,t,n){t=t||0,n=n||0;var i=new Date(0);i.setUTCFullYear(e,0,4);var r=7*t+n+1-(i.getUTCDay()||7);return i.setUTCDate(i.getUTCDate()+r),i}e.exports=function(e,t){if(r(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n=(t||{}).additionalDigits;n=null==n?2:Number(n);var T=function(e){var t,n={},i=e.split(s);if(l.test(i[0])?(n.date=null,t=i[0]):(n.date=i[0],t=i[1]),t){var r=x.exec(t);r?(n.time=t.replace(r[1],""),n.timezone=r[1]):n.time=t}return n}(e),I=function(e,t){var n,i=d[t],r=p[t];if(n=u.exec(e)||r.exec(e)){var a=n[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(n=c.exec(e)||i.exec(e)){var o=n[1];return{year:100*parseInt(o,10),restDateString:e.slice(o.length)}}return{year:null}}(T.date,n),k=function(e,t){if(null===t)return null;var n,i,r;if(0===e.length)return(i=new Date(0)).setUTCFullYear(t),i;if(n=m.exec(e))return i=new Date(0),r=parseInt(n[1],10)-1,i.setUTCFullYear(t,r),i;if(n=v.exec(e)){i=new Date(0);var a=parseInt(n[1],10);return i.setUTCFullYear(t,0,a),i}if(n=h.exec(e)){i=new Date(0),r=parseInt(n[1],10)-1;var o=parseInt(n[2],10);return i.setUTCFullYear(t,r,o),i}return(n=g.exec(e))?D(t,parseInt(n[1],10)-1):(n=f.exec(e))?D(t,parseInt(n[1],10)-1,parseInt(n[2],10)-1):null}(I.restDateString,I.year);if(k){var O,F=k.getTime(),M=0;if(T.time&&(M=function(e){var t,n,i;if(t=y.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*a;if(t=E.exec(e))return n=parseInt(t[1],10),i=parseFloat(t[2].replace(",",".")),n%24*a+i*o;if(t=S.exec(e)){n=parseInt(t[1],10),i=parseInt(t[2],10);var r=parseFloat(t[3].replace(",","."));return n%24*a+i*o+1e3*r}return null}(T.time)),T.timezone)O=function(e){var t,n;return(t=w.exec(e))?0:(t=C.exec(e))?(n=60*parseInt(t[2],10),"+"===t[1]?-n:n):(t=b.exec(e))?(n=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-n:n):0}(T.timezone)*o;else{var A=F+M,P=new Date(A);O=i(P);var N=new Date(A);N.setDate(P.getDate()+1);var L=i(N)-i(P);L>0&&(O+=L)}return new Date(F+M+O)}return new Date(e)}},4621:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e),r=Number(t);return n.setDate(r),n}},36871:function(e,t,n){var i=n(92495),r=n(51420);e.exports=function(e,t,n){var a=n&&Number(n.weekStartsOn)||0,o=i(e),s=Number(t),l=o.getDay();return r(o,((s%7+7)%7<a?7:0)+s-l)}},65916:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e),r=Number(t);return n.setMonth(0),n.setDate(r),n}},29530:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e),r=Number(t);return n.setHours(r),n}},2521:function(e,t,n){var i=n(92495),r=n(51420),a=n(98936);e.exports=function(e,t){var n=i(e),o=Number(t),s=a(n);return r(n,o-s)}},38560:function(e,t,n){var i=n(92495),r=n(42516);e.exports=function(e,t){var n=i(e),a=Number(t),o=r(n)-a;return n.setDate(n.getDate()-7*o),n}},31974:function(e,t,n){var i=n(92495),r=n(86937),a=n(50669);e.exports=function(e,t){var n=i(e),o=Number(t),s=a(n,r(n)),l=new Date(0);return l.setFullYear(o,0,4),l.setHours(0,0,0,0),(n=r(l)).setDate(n.getDate()+s),n}},91351:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e),r=Number(t);return n.setMilliseconds(r),n}},28081:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e),r=Number(t);return n.setMinutes(r),n}},79397:function(e,t,n){var i=n(92495),r=n(70449);e.exports=function(e,t){var n=i(e),a=Number(t),o=n.getFullYear(),s=n.getDate(),l=new Date(0);l.setFullYear(o,a,15),l.setHours(0,0,0,0);var c=r(l);return n.setMonth(a,Math.min(s,c)),n}},33675:function(e,t,n){var i=n(92495),r=n(79397);e.exports=function(e,t){var n=i(e),a=Number(t)-(Math.floor(n.getMonth()/3)+1);return r(n,n.getMonth()+3*a)}},82289:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e),r=Number(t);return n.setSeconds(r),n}},73144:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=i(e),r=Number(t);return n.setFullYear(r),n}},90583:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e);return t.setHours(0,0,0,0),t}},63134:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e);return t.setMinutes(0,0,0),t}},70789:function(e,t,n){var i=n(23083);e.exports=function(e){return i(e,{weekStartsOn:1})}},86937:function(e,t,n){var i=n(3047),r=n(70789);e.exports=function(e){var t=i(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),r(n)}},51538:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e);return t.setSeconds(0,0),t}},349:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e);return t.setDate(1),t.setHours(0,0,0,0),t}},96593:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e),n=t.getMonth();return t.setMonth(n-n%3,1),t.setHours(0,0,0,0),t}},19102:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e);return t.setMilliseconds(0),t}},13849:function(e,t,n){var i=n(90583);e.exports=function(){return i(new Date)}},74809:function(e){e.exports=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),i=e.getDate(),r=new Date(0);return r.setFullYear(t,n,i+1),r.setHours(0,0,0,0),r}},23083:function(e,t,n){var i=n(92495);e.exports=function(e,t){var n=t&&Number(t.weekStartsOn)||0,r=i(e),a=r.getDay(),o=(a<n?7:0)+a-n;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}},65479:function(e,t,n){var i=n(92495);e.exports=function(e){var t=i(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},57581:function(e){e.exports=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),i=e.getDate(),r=new Date(0);return r.setFullYear(t,n,i-1),r.setHours(0,0,0,0),r}},1247:function(e,t,n){var i=n(51420);e.exports=function(e,t){var n=Number(t);return i(e,-n)}},93748:function(e,t,n){var i=n(1999);e.exports=function(e,t){var n=Number(t);return i(e,-n)}},99790:function(e,t,n){var i=n(40513);e.exports=function(e,t){var n=Number(t);return i(e,-n)}},19633:function(e,t,n){var i=n(43635);e.exports=function(e,t){var n=Number(t);return i(e,-n)}},18415:function(e,t,n){var i=n(70129);e.exports=function(e,t){var n=Number(t);return i(e,-n)}},97058:function(e,t,n){var i=n(87047);e.exports=function(e,t){var n=Number(t);return i(e,-n)}},81216:function(e,t,n){var i=n(78634);e.exports=function(e,t){var n=Number(t);return i(e,-n)}},67493:function(e,t,n){var i=n(51879);e.exports=function(e,t){var n=Number(t);return i(e,-n)}},40737:function(e,t,n){var i=n(89859);e.exports=function(e,t){var n=Number(t);return i(e,-n)}},46590:function(e,t,n){var i=n(50682);e.exports=function(e,t){var n=Number(t);return i(e,-n)}},87e3:function(e,t,n){"use strict";n.r(t),n.d(t,{CrmModule:function(){return Bs}});var i=n(38583),r=n(99266),a=n(72159),o=n(8239),s=n(51734),l=n(79765),c=n(35758),d=n(37716),u=function(){function e(){}return e.prototype.getAllStyles=function(e){return window.getComputedStyle(e)},e.prototype.getStyle=function(e,t){return this.getAllStyles(e)[t]},e.prototype.isStaticPositioned=function(e){return"static"===(this.getStyle(e,"position")||"static")},e.prototype.offsetParent=function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},e.prototype.position=function(e,t){void 0===t&&(t=!0);var n,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))n={top:(n=e.getBoundingClientRect()).top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{var r=this.offsetParent(e);n=this.offset(e,!1),r!==document.documentElement&&(i=this.offset(r,!1)),i.top+=r.clientTop,i.left+=r.clientLeft}return n.top-=i.top,n.bottom-=i.top,n.left-=i.left,n.right-=i.left,t&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},e.prototype.offset=function(e,t){void 0===t&&(t=!0);var n=e.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,r=window.pageXOffset-document.documentElement.clientLeft,a={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+r,right:n.right+r};return t&&(a.height=Math.round(a.height),a.width=Math.round(a.width),a.top=Math.round(a.top),a.bottom=Math.round(a.bottom),a.left=Math.round(a.left),a.right=Math.round(a.right)),a},e.prototype.positionElements=function(e,t,n,i){var r=n.split("-"),a=r[0],o=void 0===a?"top":a,s=r[1],l=void 0===s?"center":s,c=i?this.offset(e,!1):this.position(e,!1),d=this.getAllStyles(t),u=parseFloat(d.marginTop),p=parseFloat(d.marginBottom),m=parseFloat(d.marginLeft),v=parseFloat(d.marginRight),h=0,g=0;switch(o){case"top":h=c.top-(t.offsetHeight+u+p);break;case"bottom":h=c.top+c.height;break;case"left":g=c.left-(t.offsetWidth+m+v);break;case"right":g=c.left+c.width}switch(l){case"top":h=c.top;break;case"bottom":h=c.top+c.height-t.offsetHeight;break;case"left":g=c.left;break;case"right":g=c.left+c.width-t.offsetWidth;break;case"center":"top"===o||"bottom"===o?g=c.left+c.width/2-t.offsetWidth/2:h=c.top+c.height/2-t.offsetHeight/2}t.style.transform="translate("+Math.round(g)+"px, "+Math.round(h)+"px)";var f=t.getBoundingClientRect(),y=document.documentElement,E=window.innerHeight||y.clientHeight,S=window.innerWidth||y.clientWidth;return f.left>=0&&f.top>=0&&f.right<=S&&f.bottom<=E},e}(),p=/\s+/,m=new u,v=n(25917),h=n(46797),g=n(67574),f=n(46782),y=function(){return(y=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},E=(()=>{return(e=E||(E={}))[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY",E;var e})(),S=[E.SUNDAY,E.SATURDAY],x=86400;function w(e,t){var n=t.startDate,i=t.excluded,r=t.precision,a=void 0===r?"days":r;if(i.length<1)return 0;for(var o=e.getDay,s=e.addDays,l=(0,e.addSeconds)(n,t.seconds-1),c=o(n),d=o(l),u=0,p=n,m=function(){var t=o(p);i.some(function(e){return e===t})&&(u+=function(e,t){var n=t.day,i=t.dayEnd,r=t.startDate,a=t.endDate,o=e.differenceInSeconds,s=e.startOfDay;if("minutes"===t.precision){if(n===t.dayStart)return o((0,e.endOfDay)(r),r)+1;if(n===i)return o(a,s(a))+1}return x}(e,{dayStart:c,dayEnd:d,day:t,precision:a,startDate:n,endDate:l})),p=s(p,1)};p<l;)m();return u}function C(e,t){var n=t.periodStart,i=t.periodEnd;return t.events.filter(function(t){return function(e,t){var n=t.event,i=t.periodStart,r=t.periodEnd,a=e.isSameSecond,o=n.start,s=n.end||n.start;return!!(o>i&&o<r||s>i&&s<r||o<i&&s>r||a(o,i)||a(o,r)||a(s,i)||a(s,r))}(e,{event:t,periodStart:n,periodEnd:i})})}function b(e,t){var n=t.date,i=t.weekendDays,r=void 0===i?S:i,a=e.isSameDay,o=e.getDay,s=(0,e.startOfDay)(new Date),l=o(n);return{date:n,day:l,isPast:n<s,isToday:a(n,s),isFuture:n>s,isWeekend:r.indexOf(l)>-1}}function D(e,t){for(var n=t.excluded,i=void 0===n?[]:n,r=t.weekendDays,a=t.viewStart,o=void 0===a?e.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):a,s=t.viewEnd,l=void 0===s?e.addDays(o,7):s,c=e.addDays,d=e.getDay,u=[],p=o;p<l;)i.some(function(e){return d(p)===e})||u.push(b(e,{date:p,weekendDays:r})),p=c(p,1);return u}function T(e,t){var n=t.excluded,i=t.precision,r=t.absolutePositionedEvents,a=t.viewStart,o=t.viewEnd,s=t.eventsInPeriod,l=e.differenceInSeconds,c=e.differenceInDays,d=function(e,t){for(var n=t.date2,i=t.excluded,r=t.date1,a=0;r<n;)-1===i.indexOf(e.getDay(r))&&a++,r=e.addDays(r,1);return a}(e,{date1:a,date2:o,excluded:n}),u=c(o,a)+1,p=s.filter(function(e){return e.allDay}).map(function(t){var r=function(e,t){var n=t.event,i=t.startOfWeek,r=t.excluded,a=void 0===r?[]:r,o=t.precision,s=void 0===o?"days":o,l=e.differenceInDays,c=e.startOfDay,d=e.differenceInSeconds;if(n.start<i)return 0;var u=0;switch(s){case"days":u=l(c(n.start),i)*x;break;case"minutes":u=d(n.start,i)}return u-=w(e,{startDate:i,seconds:u,excluded:a,precision:s}),Math.abs(u/x)}(e,{event:t,startOfWeek:a,excluded:n,precision:i});return{event:t,offset:r,span:function(e,t){var n=t.event,i=t.offset,r=t.excluded,a=t.precision,o=void 0===a?"days":a,s=t.totalDaysInView,l=e.differenceInSeconds,c=e.addDays,d=e.endOfDay,u=e.differenceInDays,p=x,m=(0,e.max)(n.start,t.startOfWeekDate);if(n.end)switch(o){case"minutes":p=l(n.end,m);break;default:p=u(c(d(n.end),1),m)*x}var v=i*x,h=s*x;return v+p>h&&(p=h-v),(p-=w(e,{startDate:m,seconds:p,excluded:r,precision:o}))/x}(e,{event:t,offset:r,startOfWeekDate:a,excluded:n,precision:i,totalDaysInView:u})}}).filter(function(e){return e.offset<d}).filter(function(e){return e.span>0}).map(function(e){return{event:e.event,offset:e.offset,span:e.span,startsBeforeWeek:e.event.start<a,endsAfterWeek:(e.event.end||e.event.start)>o}}).sort(function(e,t){var n=l(e.event.start,t.event.start);return 0===n?l(t.event.end||t.event.start,e.event.end||e.event.start):n}),m=[],v=[];return p.forEach(function(e,t){if(-1===v.indexOf(e)){v.push(e);var n=e.span+e.offset,i=p.slice(t+1).filter(function(e){if(e.offset>=n&&n+e.span<=u&&-1===v.indexOf(e)){var t=e.offset-n;return r||(e.offset=t),n+=e.span+t,v.push(e),!0}}),a=[e].concat(i),o=a.filter(function(e){return e.event.id}).map(function(e){return e.event.id}).join("-");m.push(y({row:a},o?{id:o}:{}))}}),m}function I(e,t){var n=t.events,i=t.viewDate,r=t.hourSegments,a=t.dayStart,o=t.dayEnd,s=t.weekStartsOn,l=t.excluded,c=t.weekendDays,d=t.segmentHeight,u=t.viewStart,p=t.viewEnd,m=A(e,{viewDate:i,hourSegments:r,dayStart:a,dayEnd:o}),v=D(e,{viewDate:i,weekStartsOn:s,excluded:l,weekendDays:c,viewStart:u,viewEnd:p}),h=e.setHours,g=e.setMinutes,f=e.getHours,E=e.getMinutes;return v.map(function(t){var i=O(e,{events:n,viewDate:t.date,hourSegments:r,dayStart:a,dayEnd:o,segmentHeight:d,eventWidth:1}),s=m.map(function(e){var n=e.segments.map(function(e){var n=g(h(t.date,f(e.date)),E(e.date));return y({},e,{date:n})});return y({},e,{segments:n})});function l(e,t){var n=Math.max.apply(Math,t.map(function(e){return e.left+1})),i=e.filter(function(e){return e.left>=n}).filter(function(e){return k(t,e.top,e.top+e.height).length>0});return i.length>0?l(e,i):n}var c=i.events.map(function(e){var t=100/l(i.events,k(i.events,e.top,e.top+e.height));return y({},e,{left:e.left*t,width:t})});return{hours:s,date:t.date,events:c.map(function(e){var t=k(c.filter(function(t){return t.left>e.left}),e.top,e.top+e.height);return t.length>0?y({},e,{width:Math.min.apply(Math,t.map(function(e){return e.left}))-e.left}):e})}})}function k(e,t,n){return e.filter(function(e){var i=e.top,r=e.top+e.height;return t<r&&r<n||t<i&&i<n||i<=t&&n<=r})}function O(e,t){var n=t.events,i=void 0===n?[]:n,r=t.viewDate,a=t.hourSegments,o=t.dayStart,s=t.dayEnd,l=t.eventWidth,c=t.segmentHeight;i||(i=[]);var d=e.setMinutes,u=e.setHours,p=e.startOfDay,m=e.startOfMinute,v=e.endOfDay,h=e.differenceInMinutes,g=d(u(p(r),F(o.hour)),M(o.minute)),f=d(u(m(v(r)),F(s.hour)),M(s.minute)),y=[],E=C(e,{events:i.filter(function(e){return!e.allDay}),periodStart:g,periodEnd:f}),S=E.sort(function(e,t){return e.start.valueOf()-t.start.valueOf()}).map(function(e){var t=e.start,n=e.end||t,i=t<g,r=n>f,o=a*c/60,s=0;if(t>g){var d=t.getTimezoneOffset(),u=g.getTimezoneOffset()-d;s+=h(t,g)+u}s*=o;var p=h(r?f:n,i?g:t);e.end?p*=o:p=c;for(var m=k(y,s,s+p),v=0;m.some(function(e){return e.left===v});)v+=l;var E={event:e,height:p,width:l,top:s,left:v,startsBeforeDay:i,endsAfterDay:r};return y.push(E),E}),x=Math.max.apply(Math,S.map(function(e){return e.left+e.width}));return{events:S,width:x,allDayEvents:C(e,{events:i.filter(function(e){return e.allDay}),periodStart:p(g),periodEnd:v(f)}),period:{events:E,start:g,end:f}}}function F(e){return Math.max(Math.min(23,e),0)}function M(e){return Math.max(Math.min(59,e),0)}function A(e,t){var n=t.viewDate,i=t.hourSegments,r=t.dayStart,a=t.dayEnd,o=e.setMinutes,s=e.setHours,l=e.startOfDay,c=e.startOfMinute,d=e.endOfDay,u=e.addMinutes,p=e.addHours,m=e.addDays,v=[],h=o(s(l(n),F(r.hour)),M(r.minute)),g=o(s(c(d(n)),F(a.hour)),M(a.minute)),f=60/i,y=l(n),E=d(n),S=function(e){return e};y.getTimezoneOffset()!==E.getTimezoneOffset()&&(y=m(y,1),h=m(h,1),g=m(g,1),S=function(e){return m(e,-1)});for(var x=0;x<24;x++){for(var w=[],C=0;C<i;C++){var b=u(p(y,x),C*f);b>=h&&b<g&&w.push({date:S(b),displayDate:b,isStart:0===C})}w.length>0&&v.push({segments:w})}return v}var P=(()=>{return(e=P||(P={})).NotArray="Events must be an array",e.StartPropertyMissing="Event is missing the `start` property",e.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",e.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",e.EndsBeforeStart="Event `start` property occurs after the `end`",P;var e})(),N=n(82298),L=n(66682),B=n(9112),R=n(22759);function z(e,t){return"function"==typeof(e=function(e,t){return void 0===e?void 0===t?e:t:e}(e,t))?function(){for(var t=arguments,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=t[r];return!!e.apply(this,i)}:e?function(){return!0}:function(){return!1}}var V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},H=function(e){return null!=e&&"object"===(void 0===e?"undefined":V(e))&&1===e.nodeType&&"object"===V(e.style)&&"object"===V(e.ownerDocument)};function _(e,t){if(t=U(t,!0),!H(t))return-1;for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function Y(e,t){return-1!==_(e,t)}function j(e,t){for(var n=0;n<t.length;n++)Y(e,t[n])||e.push(t[n]);return t}function $(e){for(var t=arguments,n=[],i=arguments.length-1;i-- >0;)n[i]=t[i+1];return j(e,n=n.map(U))}function W(e){for(var t=arguments,n=[],i=arguments.length-1;i-- >0;)n[i]=t[i+1];return n.map(U).reduce(function(t,n){var i=_(e,n);return-1!==i?t.concat(e.splice(i,1)):t},[])}function U(e,t){if("string"==typeof e)try{return document.querySelector(e)}catch(n){throw n}if(!H(e)&&!t)throw new TypeError(e+" is not a DOM element.");return e}function G(e){if(e===window)return function(){var e={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},e);var t={};return Object.defineProperties(t,e),t}();try{var t=e.getBoundingClientRect();return void 0===t.x&&(t.x=t.left,t.y=t.top),t}catch{throw new TypeError("Can't call getBoundingClientRect on "+e)}}var X,J=void 0;"function"!=typeof Object.create?(X=function(){},J=function(e,t){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");X.prototype=e||{};var n=new X;return X.prototype=null,void 0!==t&&Object.defineProperties(n,t),null===e&&(n.__proto__=null),n}):J=Object.create;var q=J,Q=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function Z(e,t){t=t||{};for(var n=q(e),i=0;i<Q.length;i++)void 0!==t[Q[i]]&&(n[Q[i]]=t[Q[i]]);return n}function K(e,t){console.log("data ",t),e.data=t||{},e.dispatched="mousemove"}var ee=["webkit","moz","ms","o"],te=function(){if("undefined"==typeof window)return function(){};for(var e=0,t=ee.length;e<t&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[ee[e]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var n=0;window.requestAnimationFrame=function(e){var t=(new Date).getTime(),i=Math.max(0,16-t-n),r=window.setTimeout(function(){return e(t+i)},i);return n=t+i,r}}return window.requestAnimationFrame.bind(window)}(),ne=function(){if("undefined"==typeof window)return function(){};for(var e=0,t=ee.length;e<t&&!window.cancelAnimationFrame;++e)window.cancelAnimationFrame=window[ee[e]+"CancelAnimationFrame"]||window[ee[e]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function ie(e,t){void 0===t&&(t={});var n=this,i=4,r=!1;if("object"!=typeof t.margin){var a=t.margin||-1;this.margin={left:a,right:a,top:a,bottom:a}}else this.margin=t.margin;this.scrollWhenOutside=t.scrollWhenOutside||!1;var o={},s=function(e,t){var n=z((t=t||{}).allowUpdate,!0);return function(t){if(t=t||window.event,e.target=t.target||t.srcElement||t.originalTarget,e.element=this,e.type=t.type,n(t)){if(t.targetTouches)e.x=t.targetTouches[0].clientX,e.y=t.targetTouches[0].clientY,e.pageX=t.targetTouches[0].pageX,e.pageY=t.targetTouches[0].pageY,e.screenX=t.targetTouches[0].screenX,e.screenY=t.targetTouches[0].screenY;else{if(null===t.pageX&&null!==t.clientX){var i=t.target&&t.target.ownerDocument||document,r=i.documentElement,a=i.body;e.pageX=t.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)}else e.pageX=t.pageX,e.pageY=t.pageY;e.x=t.clientX,e.y=t.clientY,e.screenX=t.screenX,e.screenY=t.screenY}e.clientX=e.x,e.clientY=e.y}}}(o),l=function(e){var t={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};return{destroy:function(){t=null},dispatch:MouseEvent?function(e,n,i){var r=new MouseEvent("mousemove",Z(t,n));return K(r,i),e.dispatchEvent(r)}:"function"==typeof document.createEvent?function(e,n,i){var r=Z(t,n),a=document.createEvent("MouseEvents");return a.initMouseEvent("mousemove",!0,!0,window,0,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget),K(a,i),e.dispatchEvent(a)}:"function"==typeof document.createEventObject?function(e,n,i){var r=document.createEventObject(),a=Z(t,n);for(var o in a)r[o]=a[o];return K(r,i),e.dispatchEvent(r)}:void 0}}(),c=!1;window.addEventListener("mousemove",s,!1),window.addEventListener("touchmove",s,!1),isNaN(t.maxSpeed)||(i=t.maxSpeed),"object"!=typeof i&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=z(t.autoScroll),this.syncMove=z(t.syncMove,!1),this.destroy=function(t){window.removeEventListener("mousemove",s,!1),window.removeEventListener("touchmove",s,!1),window.removeEventListener("mousedown",g,!1),window.removeEventListener("touchstart",g,!1),window.removeEventListener("mouseup",f,!1),window.removeEventListener("touchend",f,!1),window.removeEventListener("pointerup",f,!1),window.removeEventListener("mouseleave",E,!1),window.removeEventListener("mousemove",x,!1),window.removeEventListener("touchmove",x,!1),window.removeEventListener("scroll",h,!0),e=[],t&&y()},this.add=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return $.apply(void 0,[e].concat(t)),this},this.remove=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return W.apply(void 0,[e].concat(t))};var d,u,p=null;"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),u=e,e=[],u.forEach(function(e){e===window?p=window:n.add(e)}),Object.defineProperties(this,{down:{get:function(){return c}},maxSpeed:{get:function(){return i}},point:{get:function(){return o}},scrolling:{get:function(){return r}}});var m,v=null;function h(t){for(var n=0;n<e.length;n++)if(e[n]===t.target){r=!0;break}r&&te(function(){return r=!1})}function g(){c=!0}function f(){c=!1,y()}function y(){ne(m),ne(d)}function E(){c=!1}function S(){for(var t=null,n=0;n<e.length;n++)re(o,e[n])&&(t=e[n]);return t}function x(t){if(n.autoScroll()&&!t.dispatched){var i=t.target,r=document.body;v&&!re(o,v)&&(n.scrollWhenOutside||(v=null)),i&&i.parentNode===r?i=S():(i=function(t){if(!t)return null;if(v===t||Y(e,t))return t;for(;t=t.parentNode;)if(Y(e,t))return t;return null}(i))||(i=S()),i&&i!==v&&(v=i),p&&(ne(d),d=te(w)),v&&(ne(m),m=te(C))}}function w(){b(p),ne(d),d=te(w)}function C(){!v||(b(v),ne(m),m=te(C))}function b(e){var t,i,r=G(e);t=o.x<r.left+n.margin.left?Math.floor(Math.max(-1,(o.x-r.left)/n.margin.left-1)*n.maxSpeed.left):o.x>r.right-n.margin.right?Math.ceil(Math.min(1,(o.x-r.right)/n.margin.right+1)*n.maxSpeed.right):0,i=o.y<r.top+n.margin.top?Math.floor(Math.max(-1,(o.y-r.top)/n.margin.top-1)*n.maxSpeed.top):o.y>r.bottom-n.margin.bottom?Math.ceil(Math.min(1,(o.y-r.bottom)/n.margin.bottom+1)*n.maxSpeed.bottom):0,n.syncMove()&&l.dispatch(e,{pageX:o.pageX+t,pageY:o.pageY+i,clientX:o.x+t,clientY:o.y+i}),setTimeout(function(){i&&function(e,t){e===window?window.scrollTo(e.pageXOffset,e.pageYOffset+t):e.scrollTop+=t}(e,i),t&&function(e,t){e===window?window.scrollTo(e.pageXOffset+t,e.pageYOffset):e.scrollLeft+=t}(e,t)})}window.addEventListener("mousedown",g,!1),window.addEventListener("touchstart",g,!1),window.addEventListener("mouseup",f,!1),window.addEventListener("touchend",f,!1),window.addEventListener("pointerup",f,!1),window.addEventListener("mousemove",x,!1),window.addEventListener("touchmove",x,!1),window.addEventListener("mouseleave",E,!1),window.addEventListener("scroll",h,!0)}function re(e,t,n){return n?e.y>n.top&&e.y<n.bottom&&e.x>n.left&&e.x<n.right:function(e,t){var n=G(t);return e.y>n.top&&e.y<n.bottom&&e.x>n.left&&e.x<n.right}(e,t)}var ae=n(45435),oe=n(19773),se=n(39761),le=n(88002),ce=n(78345),de=n(15257),ue=n(548),pe=n(77393);class me{constructor(e,t){this.predicate=e,this.source=t}call(e,t){return t.subscribe(new ve(e,this.predicate,this.source))}}class ve extends pe.L{constructor(e,t,n){super(e),this.predicate=t,this.source=n,this.count=0,this.index=0}_next(e){this.predicate?this._tryPredicate(e):this.count++}_tryPredicate(e){let t;try{t=this.predicate(e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}var he=n(59328),ge=n(87519);class fe{constructor(){this.currentDrag=new l.xQ}}fe.\u0275fac=function(e){return new(e||fe)},fe.\u0275prov=d.\u0275\u0275defineInjectable({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe.ngInjectableDef=(0,d.defineInjectable)({factory:function(){return new fe},token:fe,providedIn:"root"});let ye=(()=>{class e{constructor(e){this.elementRef=e,this.activeLongPressDrag=!1,this.longPressConfig={duration:300,delta:30}}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(d.ElementRef))},e.\u0275dir=d.\u0275\u0275defineDirective({type:e,selectors:[["","mwlDraggableScrollContainer",""]],inputs:{activeLongPressDrag:"activeLongPressDrag",longPressConfig:"longPressConfig"}}),e})();function Ee(e,t,n){n&&n.split(" ").forEach(n=>e.addClass(t.nativeElement,n))}function Se(e,t,n){n&&n.split(" ").forEach(n=>e.removeClass(t.nativeElement,n))}let xe=(()=>{class e{constructor(e,t,n,i,r,a,o){this.element=e,this.renderer=t,this.draggableHelper=n,this.zone=i,this.vcr=r,this.scrollContainer=a,this.document=o,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new d.EventEmitter,this.dragStart=new d.EventEmitter,this.ghostElementCreated=new d.EventEmitter,this.dragging=new d.EventEmitter,this.dragEnd=new d.EventEmitter,this.pointerDown$=new l.xQ,this.pointerMove$=new l.xQ,this.pointerUp$=new l.xQ,this.eventListenerSubscriptions={},this.destroy$=new l.xQ,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe((0,ae.h)(()=>this.canDrag()),(0,oe.zg)(e=>{e.event.stopPropagation&&!this.scrollContainer&&e.event.stopPropagation();const t=this.renderer.createElement("style");this.renderer.setAttribute(t,"type","text/css"),this.renderer.appendChild(t,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(t)});const n=this.getScrollPosition(),i=new g.y(e=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",t=>e.next(t))).pipe((0,se.O)(n),(0,le.U)(()=>this.getScrollPosition())),r=new l.xQ,a=new N.t;this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const o=(0,L.T)(this.pointerUp$,this.pointerDown$,a,this.destroy$).pipe((0,ce.B)()),s=(0,B.aj)([this.pointerMove$,i]).pipe((0,le.U)(([t,n])=>({currentDrag$:r,transformX:t.clientX-e.clientX,transformY:t.clientY-e.clientY,clientX:t.clientX,clientY:t.clientY,scrollLeft:n.left,scrollTop:n.top,target:t.event.target})),(0,le.U)(e=>(this.dragSnapGrid.x&&(e.transformX=Math.round(e.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(e.transformY=Math.round(e.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),e)),(0,le.U)(e=>(this.dragAxis.x||(e.transformX=0),this.dragAxis.y||(e.transformY=0),e)),(0,le.U)(e=>Object.assign({},e,{x:e.transformX+(e.scrollLeft-n.left),y:e.transformY+(e.scrollTop-n.top)})),(0,ae.h)(({x:e,y:t,transformX:n,transformY:i})=>!this.validateDrag||this.validateDrag({x:e,y:t,transform:{x:n,y:i}})),(0,f.R)(o),(0,ce.B)()),c=s.pipe((0,de.q)(1),(0,ce.B)()),d=s.pipe((0,ue.h)(1),(0,ce.B)());return c.subscribe(({clientX:e,clientY:t,x:n,y:i})=>{if(this.zone.run(()=>{this.dragStart.next({cancelDrag$:a})}),this.scroller=function(e,t){return new ie(e,t)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],Object.assign({},this.autoScroll,{autoScroll:()=>!0})),Ee(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const r=this.element.nativeElement.getBoundingClientRect(),a=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(a):this.element.nativeElement.parentNode.insertBefore(a,this.element.nativeElement.nextSibling),this.ghostElement=a,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(a,{position:"fixed",top:`${r.top}px`,left:`${r.left}px`,width:`${r.width}px`,height:`${r.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const e=this.vcr.createEmbeddedView(this.ghostElementTemplate);a.innerHTML="",e.rootNodes.filter(e=>e instanceof Node).forEach(e=>{a.appendChild(e)}),d.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(e))})}this.zone.run(()=>{this.ghostElementCreated.emit({clientX:e-n,clientY:t-i,element:a})}),d.subscribe(()=>{a.parentElement.removeChild(a),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(r)}),d.pipe((0,oe.zg)(e=>{const t=a.pipe(e=>e.lift(new me(void 0,e)),(0,de.q)(1),(0,le.U)(t=>Object.assign({},e,{dragCancelled:t>0})));return a.complete(),t})).subscribe(({x:e,y:t,dragCancelled:n})=>{this.scroller.destroy(),this.zone.run(()=>{this.dragEnd.next({x:e,y:t,dragCancelled:n})}),Se(this.renderer,this.element,this.dragActiveClass),r.complete()}),(0,L.T)(o,d).pipe((0,de.q)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(t)})}),s}),(0,ce.B)());(0,L.T)(e.pipe((0,de.q)(1),(0,le.U)(e=>[,e])),e.pipe((0,he.G)())).pipe((0,ae.h)(([e,t])=>!e||e.x!==t.x||e.y!==t.y),(0,le.U)(([e,t])=>t)).subscribe(({x:e,y:t,currentDrag$:n,clientX:i,clientY:r,transformX:a,transformY:o,target:s})=>{this.zone.run(()=>{this.dragging.next({x:e,y:t})}),requestAnimationFrame(()=>{if(this.ghostElement){const e=`translate3d(${a}px, ${o}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:e,"-webkit-transform":e,"-ms-transform":e,"-moz-transform":e,"-o-transform":e})}}),n.next({clientX:i,clientY:r,dropData:this.dropData,target:s})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),t=Object.keys(this.eventListenerSubscriptions).length>0;e&&!t?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",e=>{this.onMouseDown(e)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",e=>{this.onMouseUp(e)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",e=>{this.onTouchStart(e)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",e=>{this.onTouchEnd(e)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",e=>{this.onTouchEnd(e)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&t&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",e=>{this.pointerMove$.next({event:e,clientX:e.clientX,clientY:e.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let t,n,i;if((this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&(this.timeLongPress.timerBegin=Date.now(),n=!1,i=this.hasScrollbar(),t=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const r=(0,R.R)(this.document,"contextmenu").subscribe(e=>{e.preventDefault()}),a=(0,R.R)(this.document,"touchmove",{passive:!1}).subscribe(r=>{(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&!n&&i&&(n=this.shouldBeginDrag(e,r,t)),((!this.scrollContainer||!this.scrollContainer.activeLongPressDrag)&&!this.touchStartLongPress||!i||n)&&(r.preventDefault(),this.pointerMove$.next({event:r,clientX:r.targetTouches[0].clientX,clientY:r.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{r.unsubscribe(),a.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,(this.scrollContainer&&this.scrollContainer.activeLongPressDrag||this.touchStartLongPress)&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,t){Object.keys(t).forEach(n=>{this.renderer.setStyle(e,n,t[n])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,t,n){const i=this.getScrollPosition(),r=Math.abs(i.top-n.top),a=Math.abs(i.left-n.left),o=Math.abs(t.targetTouches[0].clientX-e.touches[0].clientX)-a,s=Math.abs(t.targetTouches[0].clientY-e.touches[0].clientY)-r,l=this.touchStartLongPress?this.touchStartLongPress:{delta:this.scrollContainer.longPressConfig.delta,delay:this.scrollContainer.longPressConfig.duration};return(o+s>l.delta||r>0||a>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=l.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(d.ElementRef),d.\u0275\u0275directiveInject(d.Renderer2),d.\u0275\u0275directiveInject(fe),d.\u0275\u0275directiveInject(d.NgZone),d.\u0275\u0275directiveInject(d.ViewContainerRef),d.\u0275\u0275directiveInject(ye,8),d.\u0275\u0275directiveInject(i.DOCUMENT))},e.\u0275dir=d.\u0275\u0275defineDirective({type:e,selectors:[["","mwlDraggable",""]],inputs:{dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",dragCursor:"dragCursor",autoScroll:"autoScroll",dropData:"dropData",validateDrag:"validateDrag",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[d.\u0275\u0275NgOnChangesFeature]}),e})();function we(e,t,n){return e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}let Ce=(()=>{class e{constructor(e,t,n,i,r){this.element=e,this.draggableHelper=t,this.zone=n,this.renderer=i,this.scrollContainer=r,this.dragEnter=new d.EventEmitter,this.dragLeave=new d.EventEmitter,this.dragOver=new d.EventEmitter,this.drop=new d.EventEmitter}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{Ee(this.renderer,this.element,this.dragActiveClass);const t={updateCache:!0},n=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{t.updateCache=!0});let i;const r=e.pipe((0,le.U)(({clientX:e,clientY:n,dropData:r,target:a})=>{i=r,t.updateCache&&(t.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(t.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),t.updateCache=!1);const o=we(e,n,t.rect),s=!this.validateDrop||this.validateDrop({clientX:e,clientY:n,target:a});return t.scrollContainerRect?o&&s&&we(e,n,t.scrollContainerRect):o&&s})),a=r.pipe((0,ge.x)());let o;a.pipe((0,ae.h)(e=>e)).subscribe(()=>{o=!0,Ee(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragEnter.next({dropData:i})})}),r.pipe((0,ae.h)(e=>e)).subscribe(()=>{this.zone.run(()=>{this.dragOver.next({dropData:i})})}),a.pipe((0,he.G)(),(0,ae.h)(([e,t])=>e&&!t)).subscribe(()=>{o=!1,Se(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragLeave.next({dropData:i})})}),e.subscribe({complete:()=>{n(),Se(this.renderer,this.element,this.dragActiveClass),o&&(Se(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.drop.next({dropData:i})}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(d.ElementRef),d.\u0275\u0275directiveInject(fe),d.\u0275\u0275directiveInject(d.NgZone),d.\u0275\u0275directiveInject(d.Renderer2),d.\u0275\u0275directiveInject(ye,8))},e.\u0275dir=d.\u0275\u0275defineDirective({type:e,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),e})(),be=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=d.\u0275\u0275defineInjector({}),e})();var De=n(59193),Te=n(68307),Ie=n(43190),ke=n(80013);const Oe="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function Fe(e,t,n=3){return Math.abs(e-t)<n}function Me(e,t,n,i){const r={top:e.top,bottom:e.bottom,left:e.left,right:e.right};return t.top&&(r.top+=i),t.bottom&&(r.bottom+=i),t.left&&(r.left+=n),t.right&&(r.right+=n),r.height=r.bottom-r.top,r.width=r.right-r.left,r}function Ae({clientY:e,rect:t}){return e>=t.top&&e<=t.bottom}function Pe({clientX:e,rect:t}){return e>=t.left&&e<=t.right}function Ne({clientX:e,clientY:t,elm:n,allowedEdges:i,cursorPrecision:r}){const a=n.nativeElement.getBoundingClientRect(),o={};return i.left&&Fe(e,a.left,r)&&Ae({clientY:t,rect:a})&&(o.left=!0),i.right&&Fe(e,a.right,r)&&Ae({clientY:t,rect:a})&&(o.right=!0),i.top&&Fe(t,a.top,r)&&Pe({clientX:e,rect:a})&&(o.top=!0),i.bottom&&Fe(t,a.bottom,r)&&Pe({clientX:e,rect:a})&&(o.bottom=!0),o}const Le=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function Be(e,t){return e.left&&e.top?t.topLeft:e.right&&e.top?t.topRight:e.left&&e.bottom?t.bottomLeft:e.right&&e.bottom?t.bottomRight:e.left||e.right?t.leftOrRight:e.top||e.bottom?t.topOrBottom:""}function Re({edges:e,initialRectangle:t,newRectangle:n}){const i={};return Object.keys(e).forEach(e=>{i[e]=(n[e]||0)-(t[e]||0)}),i}const ze="resize-active";let Ve=(()=>{class e{constructor(e,t,n,i){this.platformId=e,this.renderer=t,this.elm=n,this.zone=i,this.resizeEdges={},this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=Le,this.resizeCursorPrecision=3,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new d.EventEmitter,this.resizing=new d.EventEmitter,this.resizeEnd=new d.EventEmitter,this.mouseup=new l.xQ,this.mousedown=new l.xQ,this.mousemove=new l.xQ,this.destroy$=new l.xQ,this.resizeEdges$=new l.xQ,this.pointerEventListeners=He.getInstance(t,i)}ngOnInit(){const e=(0,L.T)(this.pointerEventListeners.pointerDown,this.mousedown),t=(0,L.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,Te.b)(({event:e})=>{if(i)try{e.preventDefault()}catch{}}),(0,ce.B)()),n=(0,L.T)(this.pointerEventListeners.pointerUp,this.mouseup);let i;const r=()=>{i&&i.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(i.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},a=()=>Object.assign({},Le,this.resizeCursors);this.resizeEdges$.pipe((0,se.O)(this.resizeEdges),(0,le.U)(()=>this.resizeEdges&&Object.keys(this.resizeEdges).some(e=>!!this.resizeEdges[e])),(0,Ie.w)(e=>e?t:De.E),(0,ke.e)(this.mouseMoveThrottleMS),(0,f.R)(this.destroy$)).subscribe(({clientX:e,clientY:t})=>{const n=Ne({clientX:e,clientY:t,elm:this.elm,allowedEdges:this.resizeEdges,cursorPrecision:this.resizeCursorPrecision}),r=a();if(!i){const e=Be(n,r);this.renderer.setStyle(this.elm.nativeElement,"cursor",e)}this.setElementClass(this.elm,"resize-left-hover",!0===n.left),this.setElementClass(this.elm,"resize-right-hover",!0===n.right),this.setElementClass(this.elm,"resize-top-hover",!0===n.top),this.setElementClass(this.elm,"resize-bottom-hover",!0===n.bottom)}),e.pipe((0,oe.zg)(r=>{function a(e){return{clientX:e.clientX-r.clientX,clientY:e.clientY-r.clientY}}const o=()=>{const e={x:1,y:1};return i&&(this.resizeSnapGrid.left&&i.edges.left?e.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&i.edges.right&&(e.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&i.edges.top?e.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&i.edges.bottom&&(e.y=+this.resizeSnapGrid.bottom)),e};function s(e,t){return{x:Math.ceil(e.clientX/t.x),y:Math.ceil(e.clientY/t.y)}}return(0,L.T)(t.pipe((0,de.q)(1)).pipe((0,le.U)(e=>[,e])),t.pipe((0,he.G)())).pipe((0,le.U)(([e,t])=>[e&&a(e),a(t)])).pipe((0,ae.h)(([e,t])=>{if(!e)return!0;const n=o(),i=s(e,n),r=s(t,n);return i.x!==r.x||i.y!==r.y})).pipe((0,le.U)(([,e])=>{const t=o();return{clientX:Math.round(e.clientX/t.x)*t.x,clientY:Math.round(e.clientY/t.y)*t.y}})).pipe((0,f.R)((0,L.T)(n,e)))})).pipe((0,ae.h)(()=>!!i)).pipe((0,le.U)(({clientX:e,clientY:t})=>Me(i.startingRect,i.edges,e,t))).pipe((0,ae.h)(e=>this.allowNegativeResizes||!!(e.height&&e.width&&e.height>0&&e.width>0))).pipe((0,ae.h)(e=>!this.validateResize||this.validateResize({rectangle:e,edges:Re({edges:i.edges,initialRectangle:i.startingRect,newRectangle:e})})),(0,f.R)(this.destroy$)).subscribe(e=>{i&&i.clonedNode&&(this.renderer.setStyle(i.clonedNode,"height",`${e.height}px`),this.renderer.setStyle(i.clonedNode,"width",`${e.width}px`),this.renderer.setStyle(i.clonedNode,"top",`${e.top}px`),this.renderer.setStyle(i.clonedNode,"left",`${e.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:Re({edges:i.edges,initialRectangle:i.startingRect,newRectangle:e}),rectangle:e})}),i.currentRect=e}),e.pipe((0,le.U)(({clientX:e,clientY:t,edges:n})=>n||Ne({clientX:e,clientY:t,elm:this.elm,allowedEdges:this.resizeEdges,cursorPrecision:this.resizeCursorPrecision}))).pipe((0,ae.h)(e=>Object.keys(e).length>0),(0,f.R)(this.destroy$)).subscribe(e=>{i&&r();const t=function(e,t){let n=0,i=0;const r=e.nativeElement.style,a=["transform","-ms-transform","-moz-transform","-o-transform"].map(e=>r[e]).find(e=>!!e);if(a&&a.includes("translate")&&(n=a.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=a.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:e.nativeElement.offsetHeight,width:e.nativeElement.offsetWidth,top:e.nativeElement.offsetTop-i,bottom:e.nativeElement.offsetHeight+e.nativeElement.offsetTop-i,left:e.nativeElement.offsetLeft-n,right:e.nativeElement.offsetWidth+e.nativeElement.offsetLeft-n};{const t=e.nativeElement.getBoundingClientRect();return{height:t.height,width:t.width,top:t.top-i,bottom:t.bottom-i,left:t.left-n,right:t.right-n,scrollTop:e.nativeElement.scrollTop,scrollLeft:e.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);i={edges:e,startingRect:t,currentRect:t};const n=a(),o=Be(i.edges,n);this.renderer.setStyle(document.body,"cursor",o),this.setElementClass(this.elm,ze,!0),this.enableGhostResize&&(i.clonedNode=this.elm.nativeElement.cloneNode(!0),this.elm.nativeElement.parentElement.appendChild(i.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(i.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(i.clonedNode,"left",`${i.startingRect.left}px`),this.renderer.setStyle(i.clonedNode,"top",`${i.startingRect.top}px`),this.renderer.setStyle(i.clonedNode,"height",`${i.startingRect.height}px`),this.renderer.setStyle(i.clonedNode,"width",`${i.startingRect.width}px`),this.renderer.setStyle(i.clonedNode,"cursor",Be(i.edges,n)),this.renderer.addClass(i.clonedNode,"resize-ghost-element"),i.clonedNode.scrollTop=i.startingRect.scrollTop,i.clonedNode.scrollLeft=i.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:Re({edges:e,initialRectangle:t,newRectangle:t}),rectangle:Me(t,{},0,0)})})}),n.pipe((0,f.R)(this.destroy$)).subscribe(()=>{i&&(this.renderer.removeClass(this.elm.nativeElement,ze),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:Re({edges:i.edges,initialRectangle:i.startingRect,newRectangle:i.currentRect}),rectangle:i.currentRect})}),r(),i=null)})}ngOnChanges(e){e.resizeEdges&&this.resizeEdges$.next(this.resizeEdges)}ngOnDestroy(){(0,i.isPlatformBrowser)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.resizeEdges$.complete(),this.destroy$.next()}setElementClass(e,t,n){n?this.renderer.addClass(e.nativeElement,t):this.renderer.removeClass(e.nativeElement,t)}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(d.PLATFORM_ID),d.\u0275\u0275directiveInject(d.Renderer2),d.\u0275\u0275directiveInject(d.ElementRef),d.\u0275\u0275directiveInject(d.NgZone))},e.\u0275dir=d.\u0275\u0275defineDirective({type:e,selectors:[["","mwlResizable",""]],inputs:{resizeEdges:"resizeEdges",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",resizeCursorPrecision:"resizeCursorPrecision",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS",validateResize:"validateResize"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"],features:[d.\u0275\u0275NgOnChangesFeature]}),e})();class He{static getInstance(e,t){return He.instance||(He.instance=new He(e,t)),He.instance}constructor(e,t){this.pointerDown=new g.y(n=>{let i,r;return t.runOutsideAngular(()=>{i=e.listen("document","mousedown",e=>{n.next({clientX:e.clientX,clientY:e.clientY,event:e})}),Oe&&(r=e.listen("document","touchstart",e=>{n.next({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY,event:e})}))}),()=>{i(),Oe&&r()}}).pipe((0,ce.B)()),this.pointerMove=new g.y(n=>{let i,r;return t.runOutsideAngular(()=>{i=e.listen("document","mousemove",e=>{n.next({clientX:e.clientX,clientY:e.clientY,event:e})}),Oe&&(r=e.listen("document","touchmove",e=>{n.next({clientX:e.targetTouches[0].clientX,clientY:e.targetTouches[0].clientY,event:e})}))}),()=>{i(),Oe&&r()}}).pipe((0,ce.B)()),this.pointerUp=new g.y(n=>{let i,r,a;return t.runOutsideAngular(()=>{i=e.listen("document","mouseup",e=>{n.next({clientX:e.clientX,clientY:e.clientY,event:e})}),Oe&&(r=e.listen("document","touchend",e=>{n.next({clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,event:e})}),a=e.listen("document","touchcancel",e=>{n.next({clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,event:e})}))}),()=>{i(),Oe&&(r(),a())}}).pipe((0,ce.B)())}}let _e=(()=>{class e{constructor(e,t,n,i){this.renderer=e,this.element=t,this.zone=n,this.resizableDirective=i,this.resizeEdges={},this.eventListeners={},this.destroy$=new l.xQ}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(e=>{this.onMousedown(e,e.clientX,e.clientY)}),this.listenOnTheHost("mouseup").subscribe(e=>{this.onMouseup(e.clientX,e.clientY)}),Oe&&(this.listenOnTheHost("touchstart").subscribe(e=>{this.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}),(0,L.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(e=>{this.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(e,t,n){e.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",e=>{this.onMousemove(e,e.targetTouches[0].clientX,e.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",e=>{this.onMousemove(e,e.clientX,e.clientY)})),this.resizable.mousedown.next({clientX:t,clientY:n,edges:this.resizeEdges})}onMouseup(e,t){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:t,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(e,t,n){this.resizable.mousemove.next({clientX:t,clientY:n,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}listenOnTheHost(e){return(0,R.R)(this.element.nativeElement,e).pipe((0,f.R)(this.destroy$))}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(d.Renderer2),d.\u0275\u0275directiveInject(d.ElementRef),d.\u0275\u0275directiveInject(d.NgZone),d.\u0275\u0275directiveInject(Ve,8))},e.\u0275dir=d.\u0275\u0275defineDirective({type:e,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),e})(),Ye=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=d.\u0275\u0275defineInjector({}),e})();var je=n(17238),$e=n(19806);function We(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"a",5),d.\u0275\u0275listener("mwlClick",function(){const t=d.\u0275\u0275restoreView(e).$implicit,n=d.\u0275\u0275nextContext(2).event;return t.onClick({event:n})}),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit;d.\u0275\u0275property("ngClass",e.cssClass)("innerHtml",e.label,d.\u0275\u0275sanitizeHtml)}}function Ue(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"span",3),d.\u0275\u0275template(1,We,1,2,"a",4),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext(),t=e.event,n=e.trackByActionId;d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",t.actions)("ngForTrackBy",n)}}function Ge(e,t){1&e&&d.\u0275\u0275template(0,Ue,2,2,"span",2),2&e&&d.\u0275\u0275property("ngIf",t.event.actions)}function Xe(e,t){}const Je=function(e,t){return{event:e,trackByActionId:t}};function qe(e,t){if(1&e&&(d.\u0275\u0275element(0,"span",2),d.\u0275\u0275pipe(1,"calendarEventTitle")),2&e){const e=t.event;d.\u0275\u0275property("innerHTML",d.\u0275\u0275pipeBind3(1,1,e.title,t.view,e),d.\u0275\u0275sanitizeHtml)}}function Qe(e,t){}const Ze=function(e,t){return{event:e,view:t}};function Ke(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",2),d.\u0275\u0275element(1,"div",3),d.\u0275\u0275element(2,"div",4),d.\u0275\u0275elementEnd()),2&e){const e=t.contents;d.\u0275\u0275property("ngClass","cal-tooltip-"+t.placement),d.\u0275\u0275advance(2),d.\u0275\u0275property("innerHtml",e,d.\u0275\u0275sanitizeHtml)}}function et(e,t){}const tt=function(e,t,n){return{contents:e,placement:t,event:n}},nt=function(e){return{backgroundColor:e}};function it(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"mwl-calendar-month-cell",7),d.\u0275\u0275listener("mwlClick",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(2).dayClicked.emit({day:t})})("highlightDay",function(t){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).toggleDayHighlight(t.event,!0)})("unhighlightDay",function(t){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).toggleDayHighlight(t.event,!1)})("drop",function(t){const n=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(2).eventDropped(n,t.dropData.event,t.dropData.draggedFrom)})("eventClicked",function(t){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).eventClicked.emit({event:t.event})}),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext(2);d.\u0275\u0275property("ngClass",null==e?null:e.cssClass)("day",e)("openDay",n.openDay)("locale",n.locale)("tooltipPlacement",n.tooltipPlacement)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipTemplate",n.tooltipTemplate)("tooltipDelay",n.tooltipDelay)("customTemplate",n.cellTemplate)("ngStyle",d.\u0275\u0275pureFunction1(11,nt,e.backgroundColor))("clickListenerDisabled",0===n.dayClicked.observers.length)}}function rt(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275elementStart(1,"div",4),d.\u0275\u0275template(2,it,1,13,"mwl-calendar-month-cell",5),d.\u0275\u0275pipe(3,"slice"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(4,"mwl-calendar-open-day-events",6),d.\u0275\u0275listener("eventClicked",function(t){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().eventClicked.emit({event:t.event})})("drop",function(t){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275nextContext();return n.eventDropped(n.openDay,t.dropData.event,t.dropData.draggedFrom)}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext();d.\u0275\u0275advance(2),d.\u0275\u0275property("ngForOf",d.\u0275\u0275pipeBind3(3,7,n.view.days,e,e+n.view.totalDaysVisibleInWeek))("ngForTrackBy",n.trackByDate),d.\u0275\u0275advance(2),d.\u0275\u0275property("isOpen",n.openRowIndex===e)("events",null==n.openDay?null:n.openDay.events)("customTemplate",n.openDayEventsTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)}}function at(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",4),d.\u0275\u0275listener("click",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(2).columnHeaderClicked.emit(t.day)}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"calendarDate"),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext().locale;d.\u0275\u0275classProp("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),d.\u0275\u0275property("ngClass",e.cssClass),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind3(2,10,e.date,"monthViewColumnHeader",n)," ")}}function ot(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",2),d.\u0275\u0275template(1,at,3,14,"div",3),d.\u0275\u0275elementEnd()),2&e){const e=t.days,n=t.trackByWeekDayHeaderDate;d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",e)("ngForTrackBy",n)}}function st(e,t){}const lt=function(e,t,n){return{days:e,locale:t,trackByWeekDayHeaderDate:n}};function ct(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"span",6),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().day;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(e.badgeTotal)}}const dt=function(e,t){return{event:e,draggedFrom:t}},ut=function(e,t){return{x:e,y:t}};function pt(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",9),d.\u0275\u0275listener("mouseenter",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(2).highlightDay.emit({event:t})})("mouseleave",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(2).unhighlightDay.emit({event:t})})("mwlClick",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(2).eventClicked.emit({event:t})}),d.\u0275\u0275pipe(1,"calendarEventTitle"),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext(2),i=n.tooltipPlacement,r=n.tooltipTemplate,a=n.tooltipAppendToBody,o=n.tooltipDelay,s=n.day,l=n.validateDrag;d.\u0275\u0275classProp("cal-draggable",e.draggable),d.\u0275\u0275property("ngStyle",d.\u0275\u0275pureFunction1(17,nt,null==e.color?null:e.color.primary))("ngClass",null==e?null:e.cssClass)("mwlCalendarTooltip",d.\u0275\u0275pipeBind3(1,13,e.title,"monthTooltip",e))("tooltipPlacement",i)("tooltipEvent",e)("tooltipTemplate",r)("tooltipAppendToBody",a)("tooltipDelay",o)("dropData",d.\u0275\u0275pureFunction2(19,dt,e,s))("dragAxis",d.\u0275\u0275pureFunction2(22,ut,e.draggable,e.draggable))("validateDrag",l)}}function mt(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",7),d.\u0275\u0275template(1,pt,2,25,"div",8),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext(),t=e.day,n=e.trackByEventId;d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",t.events)("ngForTrackBy",n)}}function vt(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",2),d.\u0275\u0275template(1,ct,2,1,"span",3),d.\u0275\u0275elementStart(2,"span",4),d.\u0275\u0275text(3),d.\u0275\u0275pipe(4,"calendarDate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(5,mt,2,2,"div",5)),2&e){const e=t.day,n=t.locale;d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",e.badgeTotal>0),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind3(4,3,e.date,"monthViewDayNumber",n)),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",e.events.length>0)}}function ht(e,t){}const gt=function(e,t,n,i,r,a,o,s,l,c,d,u){return{day:e,openDay:t,locale:n,tooltipPlacement:i,highlightDay:r,unhighlightDay:a,eventClicked:o,tooltipTemplate:s,tooltipAppendToBody:l,tooltipDelay:c,trackByEventId:d,validateDrag:u}},ft=function(e){return{event:e}};function yt(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",5),d.\u0275\u0275element(1,"span",6),d.\u0275\u0275text(2," "),d.\u0275\u0275elementStart(3,"mwl-calendar-event-title",7),d.\u0275\u0275listener("mwlClick",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(2).eventClicked.emit({event:t})}),d.\u0275\u0275elementEnd(),d.\u0275\u0275text(4," "),d.\u0275\u0275element(5,"mwl-calendar-event-actions",8),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext(2).validateDrag,i=d.\u0275\u0275nextContext();d.\u0275\u0275classProp("cal-draggable",e.draggable),d.\u0275\u0275property("ngClass",null==e?null:e.cssClass)("dropData",d.\u0275\u0275pureFunction1(11,ft,e))("dragAxis",d.\u0275\u0275pureFunction2(13,ut,e.draggable,e.draggable))("validateDrag",n),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngStyle",d.\u0275\u0275pureFunction1(16,nt,null==e.color?null:e.color.primary)),d.\u0275\u0275advance(2),d.\u0275\u0275property("event",e)("customTemplate",i.eventTitleTemplate),d.\u0275\u0275advance(2),d.\u0275\u0275property("event",e)("customTemplate",i.eventActionsTemplate)}}function Et(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",3),d.\u0275\u0275template(1,yt,6,18,"div",4),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext(),t=e.events,n=e.trackByEventId;d.\u0275\u0275property("@collapse",void 0),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",t)("ngForTrackBy",n)}}function St(e,t){1&e&&d.\u0275\u0275template(0,Et,2,3,"div",2),2&e&&d.\u0275\u0275property("ngIf",t.isOpen)}function xt(e,t){}const wt=function(e,t,n,i,r){return{events:e,eventClicked:t,isOpen:n,trackByEventId:i,validateDrag:r}};function Ct(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",13),d.\u0275\u0275listener("drop",function(t){const n=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(2).eventDropped(t,n.date,!0)}),d.\u0275\u0275elementEnd()}}const bt=function(){return{left:!0}};function Dt(e,t){1&e&&d.\u0275\u0275element(0,"div",22),2&e&&d.\u0275\u0275property("resizeEdges",d.\u0275\u0275pureFunction0(1,bt))}const Tt=function(){return{right:!0}};function It(e,t){1&e&&d.\u0275\u0275element(0,"div",23),2&e&&d.\u0275\u0275property("resizeEdges",d.\u0275\u0275pureFunction0(1,Tt))}const kt=function(e,t){return{left:e,right:t}},Ot=function(e,t){return{event:e,calendarId:t}},Ft=function(e){return{x:e}},Mt=function(){return{}};function At(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",17,18),d.\u0275\u0275listener("resizeStart",function(t){const n=d.\u0275\u0275restoreView(e).$implicit;d.\u0275\u0275nextContext();const i=d.\u0275\u0275reference(1);return d.\u0275\u0275nextContext(2).allDayEventResizeStarted(i,n,t)})("resizing",function(t){const n=d.\u0275\u0275restoreView(e).$implicit,i=d.\u0275\u0275nextContext(3);return i.allDayEventResizing(n,t,i.dayColumnWidth)})("resizeEnd",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(3).allDayEventResizeEnded(t)})("dragStart",function(){d.\u0275\u0275restoreView(e);const t=d.\u0275\u0275reference(1);d.\u0275\u0275nextContext();const n=d.\u0275\u0275reference(1);return d.\u0275\u0275nextContext(2).dragStarted(n,t)})("dragging",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(3).allDayEventDragMove()})("dragEnd",function(t){const n=d.\u0275\u0275restoreView(e).$implicit,i=d.\u0275\u0275nextContext(3);return i.dragEnded(n,t,i.dayColumnWidth)}),d.\u0275\u0275template(2,Dt,1,2,"div",19),d.\u0275\u0275elementStart(3,"mwl-calendar-week-view-event",20),d.\u0275\u0275listener("eventClicked",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(3).eventClicked.emit({event:t.event})}),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(4,It,1,2,"div",21),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext(3);d.\u0275\u0275styleProp("width",100/n.days.length*e.span,"%")("margin-left",100/n.days.length*e.offset,"%"),d.\u0275\u0275classProp("cal-draggable",e.event.draggable&&0===n.allDayEventResizes.size)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),d.\u0275\u0275property("ngClass",null==e.event?null:e.event.cssClass)("resizeSnapGrid",d.\u0275\u0275pureFunction2(27,kt,n.dayColumnWidth,n.dayColumnWidth))("validateResize",n.validateResize)("dropData",d.\u0275\u0275pureFunction2(30,Ot,e.event,n.calendarId))("dragAxis",d.\u0275\u0275pureFunction2(33,ut,e.event.draggable&&0===n.allDayEventResizes.size,!n.snapDraggedEvents&&e.event.draggable&&0===n.allDayEventResizes.size))("dragSnapGrid",n.snapDraggedEvents?d.\u0275\u0275pureFunction1(36,Ft,n.dayColumnWidth):d.\u0275\u0275pureFunction0(38,Mt))("validateDrag",n.validateDrag),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),d.\u0275\u0275advance(1),d.\u0275\u0275property("weekEvent",e)("tooltipPlacement",n.tooltipPlacement)("tooltipTemplate",n.tooltipTemplate)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipDelay",n.tooltipDelay)("customTemplate",n.eventTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function Pt(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",14,15),d.\u0275\u0275template(2,At,5,39,"div",16),d.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(2),d.\u0275\u0275property("ngForOf",e.row)("ngForTrackBy",n.trackByDayOrWeekEvent)}}function Nt(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",8,9),d.\u0275\u0275listener("dragEnter",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().dragEnter("allDay")})("dragLeave",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().dragLeave("allDay")}),d.\u0275\u0275elementStart(2,"div",5),d.\u0275\u0275element(3,"div",10),d.\u0275\u0275template(4,Ct,1,0,"div",11),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(5,Pt,3,2,"div",12),d.\u0275\u0275elementEnd()}if(2&e){const e=d.\u0275\u0275nextContext();d.\u0275\u0275advance(3),d.\u0275\u0275property("ngTemplateOutlet",e.allDayEventsLabelTemplate),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function Lt(e,t){if(1&e&&d.\u0275\u0275element(0,"mwl-calendar-week-view-hour-segment",28),2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext(3);d.\u0275\u0275styleProp("height",n.hourSegmentHeight,"px"),d.\u0275\u0275property("segment",e)("segmentHeight",n.hourSegmentHeight)("locale",n.locale)("customTemplate",n.hourSegmentTemplate)("isTimeLabel",!0)}}function Bt(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",26),d.\u0275\u0275template(1,Lt,1,7,"mwl-calendar-week-view-hour-segment",27),d.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=t.odd,i=d.\u0275\u0275nextContext(2);d.\u0275\u0275classProp("cal-hour-odd",n),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",e.segments)("ngForTrackBy",i.trackByHourSegment)}}function Rt(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",24),d.\u0275\u0275template(1,Bt,2,4,"div",25),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}const zt=function(){return{left:!0,top:!0}};function Vt(e,t){1&e&&d.\u0275\u0275element(0,"div",22),2&e&&d.\u0275\u0275property("resizeEdges",d.\u0275\u0275pureFunction0(1,zt))}const Ht=function(){return{right:!0,bottom:!0}};function _t(e,t){1&e&&d.\u0275\u0275element(0,"div",23),2&e&&d.\u0275\u0275property("resizeEdges",d.\u0275\u0275pureFunction0(1,Ht))}const Yt=function(e,t,n,i){return{left:e,right:t,top:n,bottom:i}};function jt(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",31,18),d.\u0275\u0275listener("resizeStart",function(t){const n=d.\u0275\u0275restoreView(e).$implicit,i=d.\u0275\u0275nextContext(2),r=d.\u0275\u0275reference(6);return i.timeEventResizeStarted(r,n,t)})("resizing",function(t){const n=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(2).timeEventResizing(n,t)})("resizeEnd",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(2).timeEventResizeEnded(t)})("dragStart",function(){const t=d.\u0275\u0275restoreView(e).$implicit,n=d.\u0275\u0275reference(1),i=d.\u0275\u0275nextContext(2),r=d.\u0275\u0275reference(6);return i.dragStarted(r,n,t)})("dragging",function(t){const n=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(2).dragMove(n,t)})("dragEnd",function(t){const n=d.\u0275\u0275restoreView(e).$implicit,i=d.\u0275\u0275nextContext(2);return i.dragEnded(n,t,i.dayColumnWidth,!0)}),d.\u0275\u0275template(2,Vt,1,2,"div",19),d.\u0275\u0275elementStart(3,"mwl-calendar-week-view-event",32),d.\u0275\u0275listener("eventClicked",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(2).eventClicked.emit({event:t.event})}),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(4,_t,1,2,"div",21),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext().$implicit,i=d.\u0275\u0275nextContext();d.\u0275\u0275styleProp("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),d.\u0275\u0275classProp("cal-draggable",e.event.draggable&&0===i.timeEventResizes.size)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),d.\u0275\u0275property("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeSnapGrid",d.\u0275\u0275pureFunction4(36,Yt,i.dayColumnWidth,i.dayColumnWidth,i.eventSnapSize||i.hourSegmentHeight,i.eventSnapSize||i.hourSegmentHeight))("validateResize",i.validateResize)("allowNegativeResizes",!0)("dropData",d.\u0275\u0275pureFunction2(41,Ot,e.event,i.calendarId))("dragAxis",d.\u0275\u0275pureFunction2(44,ut,e.event.draggable&&0===i.timeEventResizes.size,e.event.draggable&&0===i.timeEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?d.\u0275\u0275pureFunction2(47,ut,i.dayColumnWidth,i.eventSnapSize||i.hourSegmentHeight):d.\u0275\u0275pureFunction0(50,Mt))("ghostDragEnabled",!i.snapDraggedEvents)("validateDrag",i.validateDrag),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),d.\u0275\u0275advance(1),d.\u0275\u0275property("weekEvent",e)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDisabled",i.dragActive||i.timeEventResizes.size>0)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("column",n),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function $t(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"mwl-calendar-week-view-hour-segment",34),d.\u0275\u0275listener("mwlClick",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(3).hourSegmentClicked.emit({date:t.date})})("drop",function(t){const n=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(3).eventDropped(t,n.date,!1)}),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext(3);d.\u0275\u0275styleProp("height",n.hourSegmentHeight,"px"),d.\u0275\u0275property("segment",e)("segmentHeight",n.hourSegmentHeight)("locale",n.locale)("customTemplate",n.hourSegmentTemplate)("clickListenerDisabled",0===n.hourSegmentClicked.observers.length)("dragOverClass",n.dragActive&&n.snapDraggedEvents?null:"cal-drag-over")}}function Wt(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",26),d.\u0275\u0275template(1,$t,1,8,"mwl-calendar-week-view-hour-segment",33),d.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=t.odd,i=d.\u0275\u0275nextContext(2);d.\u0275\u0275classProp("cal-hour-odd",n),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",e.segments)("ngForTrackBy",i.trackByHourSegment)}}function Ut(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",29),d.\u0275\u0275template(1,jt,5,51,"div",30),d.\u0275\u0275template(2,Wt,2,4,"div",25),d.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",e.events)("ngForTrackBy",n.trackByDayOrWeekEvent),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",e.hours)("ngForTrackBy",n.trackByHour)}}function Gt(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",4),d.\u0275\u0275listener("mwlClick",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext().dayHeaderClicked.emit({day:t})})("drop",function(t){const n=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext().eventDropped.emit({event:t.dropData.event,newStart:n.date})}),d.\u0275\u0275elementStart(1,"b"),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"calendarDate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(4,"br"),d.\u0275\u0275elementStart(5,"span"),d.\u0275\u0275text(6),d.\u0275\u0275pipe(7,"calendarDate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext().locale;d.\u0275\u0275classProp("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),d.\u0275\u0275property("ngClass",e.cssClass),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind3(3,11,e.date,"weekViewColumnHeader",n)),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind3(7,15,e.date,"weekViewColumnSubHeader",n))}}function Xt(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",2),d.\u0275\u0275template(1,Gt,8,19,"div",3),d.\u0275\u0275elementEnd()),2&e){const e=t.days,n=t.trackByWeekDayHeaderDate;d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",e)("ngForTrackBy",n)}}function Jt(e,t){}const qt=function(e,t,n,i,r){return{days:e,locale:t,dayHeaderClicked:n,eventDropped:i,trackByWeekDayHeaderDate:r}},Qt=function(e,t){return{backgroundColor:e,borderColor:t}};function Zt(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",2),d.\u0275\u0275listener("mwlClick",function(){return d.\u0275\u0275restoreView(e).eventClicked.emit()}),d.\u0275\u0275pipe(1,"calendarEventTitle"),d.\u0275\u0275element(2,"mwl-calendar-event-actions",3),d.\u0275\u0275text(3," "),d.\u0275\u0275element(4,"mwl-calendar-event-title",4),d.\u0275\u0275elementEnd()}if(2&e){const e=t.weekEvent,n=t.tooltipPlacement,i=t.tooltipTemplate,r=t.tooltipAppendToBody,a=t.tooltipDisabled,o=t.tooltipDelay,s=d.\u0275\u0275nextContext();d.\u0275\u0275property("ngStyle",d.\u0275\u0275pureFunction2(15,Qt,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",a?"":d.\u0275\u0275pipeBind3(1,11,e.event.title,"weekTooltip",e.event))("tooltipPlacement",n)("tooltipEvent",e.event)("tooltipTemplate",i)("tooltipAppendToBody",r)("tooltipDelay",o),d.\u0275\u0275advance(2),d.\u0275\u0275property("event",e.event)("customTemplate",s.eventActionsTemplate),d.\u0275\u0275advance(2),d.\u0275\u0275property("event",e.event)("customTemplate",s.eventTitleTemplate)}}function Kt(e,t){}const en=function(e,t,n,i,r,a,o,s){return{weekEvent:e,tooltipPlacement:t,eventClicked:n,tooltipTemplate:i,tooltipAppendToBody:r,tooltipDisabled:a,tooltipDelay:o,column:s}};function tn(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",4),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"calendarDate"),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext(),t=e.segment,n=e.locale;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind3(2,1,t.displayDate,"weekViewHour",n)," ")}}function nn(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",2),d.\u0275\u0275template(1,tn,3,5,"div",3),d.\u0275\u0275elementEnd()),2&e){const e=t.segment,n=t.isTimeLabel;d.\u0275\u0275styleProp("height",t.segmentHeight,"px"),d.\u0275\u0275classProp("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),d.\u0275\u0275property("ngClass",e.cssClass),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",n)}}function rn(e,t){}const an=function(e,t,n,i){return{segment:e,locale:t,segmentHeight:n,isTimeLabel:i}};function on(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"mwl-calendar-day-view-event",8),d.\u0275\u0275listener("eventClicked",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext().eventClicked.emit({event:t})}),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext();d.\u0275\u0275classProp("cal-draggable",!n.snapDraggedEvents&&e.draggable),d.\u0275\u0275property("ngClass",e.cssClass)("dayEvent",d.\u0275\u0275pureFunction1(13,ft,e))("tooltipPlacement",n.tooltipPlacement)("tooltipTemplate",n.tooltipTemplate)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipDelay",n.tooltipDelay)("customTemplate",n.eventTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)("dropData",d.\u0275\u0275pureFunction2(15,Ot,e,n.calendarId))("dragAxis",d.\u0275\u0275pureFunction2(18,ut,!n.snapDraggedEvents&&e.draggable,!n.snapDraggedEvents&&e.draggable))}}const sn=function(){return{top:!0}};function ln(e,t){1&e&&d.\u0275\u0275element(0,"div",14),2&e&&d.\u0275\u0275property("resizeEdges",d.\u0275\u0275pureFunction0(1,sn))}const cn=function(){return{bottom:!0}};function dn(e,t){1&e&&d.\u0275\u0275element(0,"div",15),2&e&&d.\u0275\u0275property("resizeEdges",d.\u0275\u0275pureFunction0(1,cn))}const un=function(e,t){return{top:e,bottom:t}},pn=function(e){return{y:e}};function mn(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",9,10),d.\u0275\u0275listener("resizeStart",function(t){const n=d.\u0275\u0275restoreView(e).$implicit,i=d.\u0275\u0275nextContext(),r=d.\u0275\u0275reference(4);return i.resizeStarted(n,t,r)})("resizing",function(t){const n=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext().resizing(n,t)})("resizeEnd",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext().resizeEnded(t)})("dragStart",function(){const t=d.\u0275\u0275restoreView(e).$implicit,n=d.\u0275\u0275reference(1),i=d.\u0275\u0275nextContext(),r=d.\u0275\u0275reference(4);return i.dragStarted(n,r,t)})("dragging",function(t){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().dragMove(t)})("dragEnd",function(t){const n=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext().dragEnded(n,t)}),d.\u0275\u0275template(2,ln,1,2,"div",11),d.\u0275\u0275elementStart(3,"mwl-calendar-day-view-event",12),d.\u0275\u0275listener("eventClicked",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext().eventClicked.emit({event:t.event})}),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(4,dn,1,2,"div",13),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext();d.\u0275\u0275styleProp("margin-top",e.top,"px")("height",e.height,"px")("margin-left",e.left+70,"px")("width",e.width-1,"px"),d.\u0275\u0275classProp("cal-draggable",e.event.draggable)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),d.\u0275\u0275property("ngClass",e.event.cssClass)("resizeSnapGrid",d.\u0275\u0275pureFunction2(32,un,n.eventSnapSize||n.hourSegmentHeight,n.eventSnapSize||n.hourSegmentHeight))("validateResize",n.validateResize)("dropData",d.\u0275\u0275pureFunction2(35,Ot,e.event,n.calendarId))("dragAxis",d.\u0275\u0275pureFunction2(38,ut,!n.snapDraggedEvents&&e.event.draggable&&0===n.currentResizes.size,e.event.draggable&&0===n.currentResizes.size))("dragSnapGrid",n.snapDraggedEvents?d.\u0275\u0275pureFunction1(41,pn,n.eventSnapSize||n.hourSegmentHeight):d.\u0275\u0275pureFunction0(43,Mt))("validateDrag",n.validateDrag)("ghostDragEnabled",!n.snapDraggedEvents),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),d.\u0275\u0275advance(1),d.\u0275\u0275property("dayEvent",e)("tooltipPlacement",n.tooltipPlacement)("tooltipTemplate",n.tooltipTemplate)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipDelay",n.tooltipDelay)("customTemplate",n.eventTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function vn(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"mwl-calendar-day-view-hour-segment",18),d.\u0275\u0275listener("mwlClick",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(2).hourSegmentClicked.emit({date:t.date})})("drop",function(t){const n=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext(2).eventDropped(t,n.date,!1)}),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext(2);d.\u0275\u0275styleProp("height",n.hourSegmentHeight,"px"),d.\u0275\u0275property("segment",e)("segmentHeight",n.hourSegmentHeight)("locale",n.locale)("customTemplate",n.hourSegmentTemplate)("clickListenerDisabled",0===n.hourSegmentClicked.observers.length)}}function hn(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",16),d.\u0275\u0275template(1,vn,1,7,"mwl-calendar-day-view-hour-segment",17),d.\u0275\u0275elementEnd()),2&e){const e=t.$implicit,n=d.\u0275\u0275nextContext();d.\u0275\u0275styleProp("min-width",(null==n.view?null:n.view.width)+70,"px"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",e.segments)("ngForTrackBy",n.trackByHourSegment)}}function gn(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",2),d.\u0275\u0275elementStart(1,"div",3),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"calendarDate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e){const e=t.segment,n=t.locale;d.\u0275\u0275styleProp("height",t.segmentHeight,"px"),d.\u0275\u0275classProp("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),d.\u0275\u0275property("ngClass",e.cssClass),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind3(3,8,e.displayDate,"dayViewHour",n)," ")}}function fn(e,t){}const yn=function(e,t,n){return{segment:e,locale:t,segmentHeight:n}};function En(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",2),d.\u0275\u0275listener("mwlClick",function(){return d.\u0275\u0275restoreView(e).eventClicked.emit()}),d.\u0275\u0275pipe(1,"calendarEventTitle"),d.\u0275\u0275element(2,"mwl-calendar-event-actions",3),d.\u0275\u0275text(3," "),d.\u0275\u0275element(4,"mwl-calendar-event-title",4),d.\u0275\u0275elementEnd()}if(2&e){const e=t.dayEvent,n=t.tooltipPlacement,i=t.tooltipTemplate,r=t.tooltipAppendToBody,a=t.tooltipDelay,o=d.\u0275\u0275nextContext();d.\u0275\u0275property("ngStyle",d.\u0275\u0275pureFunction2(15,Qt,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",d.\u0275\u0275pipeBind3(1,11,e.event.title,"dayTooltip",e.event))("tooltipPlacement",n)("tooltipEvent",e.event)("tooltipTemplate",i)("tooltipAppendToBody",r)("tooltipDelay",a),d.\u0275\u0275advance(2),d.\u0275\u0275property("event",e.event)("customTemplate",o.eventActionsTemplate),d.\u0275\u0275advance(2),d.\u0275\u0275property("event",e.event)("customTemplate",o.eventTitleTemplate)}}function Sn(e,t){}const xn=function(e,t,n,i,r,a){return{dayEvent:e,tooltipPlacement:t,eventClicked:n,tooltipTemplate:i,tooltipAppendToBody:r,tooltipDelay:a}};let wn=(()=>{class e{constructor(){this.trackByActionId=(e,t)=>t.id?t.id:t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;",3,"ngClass","innerHtml","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick"]],template:function(e,t){if(1&e&&(d.\u0275\u0275template(0,Ge,1,1,"ng-template",null,0,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(2,Xe,0,0,"ng-template",1)),2&e){const e=d.\u0275\u0275reference(1);d.\u0275\u0275advance(2),d.\u0275\u0275property("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",d.\u0275\u0275pureFunction2(2,Je,t.event,t.trackByActionId))}},directives:function(){return[i.NgTemplateOutlet,i.NgIf,i.NgForOf,i.NgClass,Zn]},encapsulation:2}),e})(),Cn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,t){if(1&e&&(d.\u0275\u0275template(0,qe,2,5,"ng-template",null,0,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(2,Qe,0,0,"ng-template",1)),2&e){const e=d.\u0275\u0275reference(1);d.\u0275\u0275advance(2),d.\u0275\u0275property("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",d.\u0275\u0275pureFunction2(2,Ze,t.event,t.view))}},directives:function(){return[i.NgTemplateOutlet]},pipes:function(){return[Qn]},encapsulation:2}),e})(),bn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,t){if(1&e&&(d.\u0275\u0275template(0,Ke,3,2,"ng-template",null,0,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(2,et,0,0,"ng-template",1)),2&e){const e=d.\u0275\u0275reference(1);d.\u0275\u0275advance(2),d.\u0275\u0275property("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",d.\u0275\u0275pureFunction3(2,tt,t.contents,t.placement,t.event))}},directives:[i.NgTemplateOutlet,i.NgClass],encapsulation:2}),e})(),Dn=(()=>{class e{constructor(e,t,n,i,r,a){this.elementRef=e,this.injector=t,this.renderer=n,this.viewContainerRef=r,this.document=a,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new l.xQ,this.tooltipFactory=i.resolveComponentFactory(bn)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?(0,v.of)("now"):(0,h.H)(this.delay)).pipe((0,f.R)(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function(e,t,n,i,r){var a=Array.isArray(n)?n:n.split(p),o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],s=function(e){e.split("-");var t=[];return t},l=a.findIndex(function(e){return"auto"===e});l>=0&&o.forEach(function(e){null==a.find(function(t){return-1!==t.search("^"+e)})&&a.splice(l++,1,e)});var c=t.style;c.position="absolute",c.top="0",c.left="0",c["will-change"]="transform";for(var d,u=!1,v=0,h=a;v<h.length;v++){s(d=h[v]);if(m.positionElements(e,t,d,i)){u=!0;break}}return u||(s(d=a[0]),m.positionElements(e,t,d,i)),d}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(d.ElementRef),d.\u0275\u0275directiveInject(d.Injector),d.\u0275\u0275directiveInject(d.Renderer2),d.\u0275\u0275directiveInject(d.ComponentFactoryResolver),d.\u0275\u0275directiveInject(d.ViewContainerRef),d.\u0275\u0275directiveInject(i.DOCUMENT))},e.\u0275dir=d.\u0275\u0275defineDirective({type:e,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,t){1&e&&d.\u0275\u0275listener("mouseenter",function(){return t.onMouseOver()})("mouseleave",function(){return t.onMouseOut()})},inputs:{placement:["tooltipPlacement","placement"],delay:["tooltipDelay","delay"],contents:["mwlCalendarTooltip","contents"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"]},features:[d.\u0275\u0275NgOnChangesFeature]}),e})();class Tn{}const In={Month:"month",Week:"week",Day:"day"},kn=e=>function(e,t){var n=!0;function i(e,i){t(e,i),n=!1}return Array.isArray(e)?(e.forEach(function(e){e.start?e.start instanceof Date||i(P.StartPropertyNotDate,e):i(P.StartPropertyMissing,e),e.end&&(e.end instanceof Date||i(P.EndPropertyNotDate,e),e.start>e.end&&i(P.EndsBeforeStart,e))}),n):(t(P.NotArray,e),!1)}(e,(...e)=>console.warn("angular-calendar",...e));function On(e,t){return Math.floor(e.left)<=Math.ceil(t.left)&&Math.floor(t.left)<=Math.ceil(e.right)&&Math.floor(e.left)<=Math.ceil(t.right)&&Math.floor(t.right)<=Math.ceil(e.right)&&Math.floor(e.top)<=Math.ceil(t.top)&&Math.floor(t.top)<=Math.ceil(e.bottom)&&Math.floor(e.top)<=Math.ceil(t.bottom)&&Math.floor(t.bottom)<=Math.ceil(e.bottom)}function Fn(e,t){return Math.round(e/t)*t}const Mn=(e,t)=>t.id?t.id:t,An=(e,t)=>t.date.toISOString(),Pn=(e,t)=>t.date.toISOString(),Nn=(e,t)=>t.segments[0].date.toISOString(),Ln=(e,t)=>t.event.id?t.event.id:t.event;function Bn(e,t,n,i){return Fn(e,i||n)*(60/(t*n))}function Rn(e,t){return 60/(e*t)*t}function zn(e,t,n){return t.end?t.end:e.addMinutes(t.start,n)}function Vn(e,t,n,i){let r=0,a=0;const o=n<0?e.subDays:e.addDays;let s=t;for(;a<=Math.abs(n);){s=o(t,r);const n=e.getDay(s);-1===i.indexOf(n)&&a++,r++}return s}function Hn(e,t,n){const i=t||e;return n.start<=e&&e<=n.end||n.start<=i&&i<=n.end}function _n(e,t,n,i){return e.dropData&&e.dropData.event&&(e.dropData.calendarId!==i||e.dropData.event.allDay&&!n||!e.dropData.event.allDay&&n)}function Yn(e,t,n,i=[],r){let a=r?e.startOfDay(t):e.startOfWeek(t,{weekStartsOn:n});const o=e.endOfWeek(t,{weekStartsOn:n});for(;i.indexOf(e.getDay(a))>-1&&a<o;)a=e.addDays(a,1);if(r)return{viewStart:a,viewEnd:e.endOfDay(Vn(e,a,r-1,i))};{let t=o;for(;i.indexOf(e.getDay(t))>-1&&t>a;)t=e.subDays(t,1);return{viewStart:a,viewEnd:t}}}function jn({x:e,y:t}){return Math.abs(e)>1||Math.abs(t)>1}let $n=(()=>{class e{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new d.EventEmitter}onClick(){const e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===In.Day?Vn(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===In.Week&&this.daysInWeek?Vn(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(Tn))},e.\u0275dir=d.\u0275\u0275defineDirective({type:e,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,t){1&e&&d.\u0275\u0275listener("click",function(){return t.onClick()})},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),e})(),Wn=(()=>{class e{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new d.EventEmitter}onClick(){const e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===In.Day?Vn(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===In.Week&&this.daysInWeek?Vn(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(Tn))},e.\u0275dir=d.\u0275\u0275defineDirective({type:e,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,t){1&e&&d.\u0275\u0275listener("click",function(){return t.onClick()})},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),e})(),Un=(()=>{class e{constructor(e){this.dateAdapter=e,this.viewDateChange=new d.EventEmitter}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(Tn))},e.\u0275dir=d.\u0275\u0275defineDirective({type:e,selectors:[["","mwlCalendarToday",""]],hostBindings:function(e,t){1&e&&d.\u0275\u0275listener("click",function(){return t.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),e})(),Gn=(()=>{class e{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:t}){return(0,i.formatDate)(e,"EEEE",t)}monthViewDayNumber({date:e,locale:t}){return(0,i.formatDate)(e,"d",t)}monthViewTitle({date:e,locale:t}){return(0,i.formatDate)(e,"LLLL y",t)}weekViewColumnHeader({date:e,locale:t}){return(0,i.formatDate)(e,"EEEE",t)}weekViewColumnSubHeader({date:e,locale:t}){return(0,i.formatDate)(e,"MMM d",t)}weekViewTitle({date:e,locale:t,weekStartsOn:n,excludeDays:r,daysInWeek:a}){const{viewStart:o,viewEnd:s}=Yn(this.dateAdapter,e,n,r,a),l=(e,n)=>(0,i.formatDate)(e,"MMM d"+(n?", yyyy":""),t);return`${l(o,o.getUTCFullYear()!==s.getUTCFullYear())} - ${l(s,!0)}`}weekViewHour({date:e,locale:t}){return(0,i.formatDate)(e,"h a",t)}dayViewHour({date:e,locale:t}){return(0,i.formatDate)(e,"h a",t)}dayViewTitle({date:e,locale:t}){return(0,i.formatDate)(e,"EEEE, MMMM d, y",t)}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275inject(Tn))},e.\u0275prov=d.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})(),Xn=(()=>{class e extends Gn{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=d.\u0275\u0275getInheritedFactory(e)))(n||e)}}(),e.\u0275prov=d.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})(),Jn=(()=>{class e{constructor(e,t){this.dateFormatter=e,this.locale=t}transform(e,t,n=this.locale,i=0,r=[],a){if(void 0===this.dateFormatter[t]){const e=Object.getOwnPropertyNames(Object.getPrototypeOf(Xn.prototype)).filter(e=>"constructor"!==e);throw new Error(`${t} is not a valid date formatter. Can only be one of ${e.join(", ")}`)}return this.dateFormatter[t]({date:e,locale:n,weekStartsOn:i,excludeDays:r,daysInWeek:a})}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(Xn,16),d.\u0275\u0275directiveInject(d.LOCALE_ID,16))},e.\u0275pipe=d.\u0275\u0275definePipe({name:"calendarDate",type:e,pure:!0}),e})();class qn{month(e,t){return e.title}monthTooltip(e,t){return e.title}week(e,t){return e.title}weekTooltip(e,t){return e.title}day(e,t){return e.title}dayTooltip(e,t){return e.title}}let Qn=(()=>{class e{constructor(e){this.calendarEventTitle=e}transform(e,t,n){return this.calendarEventTitle[t](n,e)}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(qn,16))},e.\u0275pipe=d.\u0275\u0275definePipe({name:"calendarEventTitle",type:e,pure:!0}),e})(),Zn=(()=>{class e{constructor(e,t,n){this.renderer=e,this.elm=t,this.document=n,this.clickListenerDisabled=!1,this.click=new d.EventEmitter,this.destroy$=new l.xQ}ngOnInit(){this.clickListenerDisabled||this.listen().pipe((0,f.R)(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new g.y(e=>this.renderer.listen(this.elm.nativeElement,"click",t=>{e.next(t)}))}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(d.Renderer2),d.\u0275\u0275directiveInject(d.ElementRef),d.\u0275\u0275directiveInject(i.DOCUMENT))},e.\u0275dir=d.\u0275\u0275defineDirective({type:e,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),e})(),Kn=(()=>{class e{constructor(e){this.dateAdapter=e}getMonthView(e){return function(e,t){var n=t.events,i=void 0===n?[]:n,r=t.viewDate,a=t.weekStartsOn,o=t.excluded,s=void 0===o?[]:o,l=t.viewStart,c=void 0===l?e.startOfMonth(r):l,d=t.viewEnd,u=void 0===d?e.endOfMonth(r):d,p=t.weekendDays;i||(i=[]);for(var m,v=e.endOfWeek,h=e.differenceInDays,g=e.startOfDay,f=e.addHours,y=e.endOfDay,E=e.isSameMonth,S=e.getDay,x=e.getMonth,w=(0,e.startOfWeek)(c,{weekStartsOn:a}),D=v(u,{weekStartsOn:a}),T=C(e,{events:i,periodStart:w,periodEnd:D}),I=[],k=function(t){var n;if(m?(n=g(f(m,24)),m.getTime()===n.getTime()&&(n=g(f(m,25))),m=n):n=m=w,!s.some(function(e){return S(n)===e})){var i=b(e,{date:n,weekendDays:p}),a=C(e,{events:T,periodStart:g(n),periodEnd:y(n)});i.inMonth=E(n,r),i.events=a,i.badgeTotal=a.length,I.push(i)}},O=0;O<h(D,w)+1;O++)k();var F=[],M=7-s.length;if(M<7)for(O=0;O<I.length;O+=M){var A=I.slice(O,O+M);A.some(function(e){return x(e.date)===x(r)})&&(F=F.concat(A))}else F=I;var P=Math.floor(F.length/M),N=[];for(O=0;O<P;O++)N.push(O*M);return{rowOffsets:N,totalDaysVisibleInWeek:M,days:F,period:{start:F[0].date,end:y(F[F.length-1].date),events:T}}}(this.dateAdapter,e)}getWeekViewHeader(e){return D(this.dateAdapter,e)}getWeekView(e){return function(e,t){var n=t.events,i=void 0===n?[]:n,r=t.viewDate,a=t.weekStartsOn,o=t.excluded,s=void 0===o?[]:o,l=t.precision,c=void 0===l?"days":l,d=t.absolutePositionedEvents,u=void 0!==d&&d,p=t.hourSegments,m=t.dayStart,v=t.dayEnd,h=t.weekendDays,g=t.segmentHeight,f=t.viewStart,y=void 0===f?e.startOfWeek(r,{weekStartsOn:a}):f,E=t.viewEnd,S=void 0===E?e.endOfWeek(r,{weekStartsOn:a}):E;i||(i=[]);var x=e.endOfDay,w=C(e,{events:i,periodStart:y=(0,e.startOfDay)(y),periodEnd:S=x(S)}),b=D(e,{viewDate:r,weekStartsOn:a,excluded:s,weekendDays:h,viewStart:y,viewEnd:S});return{allDayEventRows:T(e,{events:i,excluded:s,precision:c,absolutePositionedEvents:u,viewStart:y,viewEnd:S,eventsInPeriod:w}),period:{events:w,start:b[0].date,end:x(b[b.length-1].date)},hourColumns:I(e,{events:i,viewDate:r,hourSegments:p,dayStart:m,dayEnd:v,weekStartsOn:a,excluded:s,weekendDays:h,segmentHeight:g,viewStart:y,viewEnd:S})}}(this.dateAdapter,e)}getDayView(e){return O(this.dateAdapter,e)}getDayViewHourGrid(e){return A(this.dateAdapter,e)}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275inject(Tn))},e.\u0275prov=d.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})();new d.InjectionToken("Moment");let ei=(()=>{class e{static forRoot(t,n={}){return{ngModule:e,providers:[t,n.eventTitleFormatter||qn,n.dateFormatter||Xn,n.utils||Kn]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=d.\u0275\u0275defineInjector({imports:[[i.CommonModule]]}),e})(),ti=(()=>{class e{constructor(e,t,n,i){this.cdr=e,this.utils=t,this.dateAdapter=i,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new d.EventEmitter,this.dayClicked=new d.EventEmitter,this.eventClicked=new d.EventEmitter,this.columnHeaderClicked=new d.EventEmitter,this.eventTimesChanged=new d.EventEmitter,this.trackByRowOffset=(e,t)=>this.view.days.slice(t,this.view.totalDaysVisibleInWeek).map(e=>e.date.toISOString()).join("-"),this.trackByDate=(e,t)=>t.date.toISOString(),this.locale=n}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const t=e.viewDate||e.excludeDays||e.weekendDays,n=e.viewDate||e.events||e.excludeDays||e.weekendDays;t&&this.refreshHeader(),e.events&&kn(this.events),n&&this.refreshBody(),(t||n)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,t){this.view.days.forEach(n=>{t&&n.events.indexOf(e)>-1?n.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete n.backgroundColor})}eventDropped(e,t,n){if(e!==n){const n=this.dateAdapter.getYear(e.date),i=this.dateAdapter.getMonth(e.date),r=this.dateAdapter.getDate(e.date),a=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(t.start,n),i),r);let o;if(t.end){const e=this.dateAdapter.differenceInSeconds(a,t.start);o=this.dateAdapter.addSeconds(t.end,e)}this.eventTimesChanged.emit({event:t,newStart:a,newEnd:o,day:e,type:"drop"})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(t=>this.dateAdapter.isSameDay(t.date,e));const t=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(t/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(d.ChangeDetectorRef),d.\u0275\u0275directiveInject(Kn),d.\u0275\u0275directiveInject(d.LOCALE_ID),d.\u0275\u0275directiveInject(Tn))},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["mwl-calendar-month-view"]],inputs:{events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",locale:"locale",viewDate:"viewDate",activeDay:"activeDay",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[d.\u0275\u0275NgOnChangesFeature],decls:5,vars:5,consts:[[1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-cell-row"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"isOpen","events","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",0),d.\u0275\u0275elementStart(1,"mwl-calendar-month-view-header",1),d.\u0275\u0275listener("columnHeaderClicked",function(e){return t.columnHeaderClicked.emit(e)}),d.\u0275\u0275text(2," > "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"div",2),d.\u0275\u0275template(4,rt,5,11,"div",3),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275property("days",t.columnHeaders)("locale",t.locale)("customTemplate",t.headerTemplate),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngForOf",t.view.rowOffsets)("ngForTrackBy",t.trackByRowOffset))},directives:function(){return[ni,i.NgForOf,ai,Ce,ii,i.NgClass,i.NgStyle,Zn]},pipes:function(){return[i.SlicePipe]},encapsulation:2}),e})(),ni=(()=>{class e{constructor(){this.columnHeaderClicked=new d.EventEmitter,this.trackByWeekDayHeaderDate=An}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-row","cal-header"],["class","cal-cell",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-cell",3,"ngClass","click"]],template:function(e,t){if(1&e&&(d.\u0275\u0275template(0,ot,2,2,"ng-template",null,0,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(2,st,0,0,"ng-template",1)),2&e){const e=d.\u0275\u0275reference(1);d.\u0275\u0275advance(2),d.\u0275\u0275property("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",d.\u0275\u0275pureFunction3(2,lt,t.days,t.locale,t.trackByWeekDayHeaderDate))}},directives:[i.NgTemplateOutlet,i.NgForOf,i.NgClass],pipes:[Jn],encapsulation:2}),e})(),ii=(()=>{class e{constructor(){this.highlightDay=new d.EventEmitter,this.unhighlightDay=new d.EventEmitter,this.eventClicked=new d.EventEmitter,this.trackByEventId=Mn,this.validateDrag=jn}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,t){2&e&&d.\u0275\u0275classProp("cal-past",t.day.isPast)("cal-today",t.day.isToday)("cal-future",t.day.isFuture)("cal-weekend",t.day.isWeekend)("cal-in-month",t.day.inMonth)("cal-out-month",!t.day.inMonth)("cal-has-events",t.day.events.length>0)("cal-open",t.day===t.openDay)("cal-event-highlight",!!t.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","mouseenter","mouseleave","mwlClick"]],template:function(e,t){if(1&e&&(d.\u0275\u0275template(0,vt,6,7,"ng-template",null,0,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(2,ht,0,0,"ng-template",1)),2&e){const e=d.\u0275\u0275reference(1);d.\u0275\u0275advance(2),d.\u0275\u0275property("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",d.\u0275\u0275pureFunctionV(2,gt,[t.day,t.openDay,t.locale,t.tooltipPlacement,t.highlightDay,t.unhighlightDay,t.eventClicked,t.tooltipTemplate,t.tooltipAppendToBody,t.tooltipDelay,t.trackByEventId,t.validateDrag]))}},directives:[i.NgTemplateOutlet,i.NgIf,i.NgForOf,xe,i.NgStyle,i.NgClass,Dn,Zn],pipes:[Jn,Qn],encapsulation:2}),e})();const ri=(0,je.X$)("collapse",[(0,je.SB)("void",(0,je.oB)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),(0,je.SB)("*",(0,je.oB)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),(0,je.eR)("* => void",(0,je.jt)("150ms ease-out")),(0,je.eR)("void => *",(0,je.jt)("150ms ease-in"))]);let ai=(()=>{class e{constructor(){this.isOpen=!1,this.eventClicked=new d.EventEmitter,this.trackByEventId=Mn,this.validateDrag=jn}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["mwl-calendar-open-day-events"]],inputs:{isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events",4,"ngIf"],[1,"cal-open-day-events"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag"],[1,"cal-event",3,"ngStyle"],["view","month",3,"event","customTemplate","mwlClick"],[3,"event","customTemplate"]],template:function(e,t){if(1&e&&(d.\u0275\u0275template(0,St,1,1,"ng-template",null,0,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(2,xt,0,0,"ng-template",1)),2&e){const e=d.\u0275\u0275reference(1);d.\u0275\u0275advance(2),d.\u0275\u0275property("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",d.\u0275\u0275pureFunction5(2,wt,t.events,t.eventClicked,t.isOpen,t.trackByEventId,t.validateDrag))}},directives:[i.NgTemplateOutlet,i.NgIf,i.NgForOf,xe,i.NgClass,i.NgStyle,Cn,Zn,wn],encapsulation:2,data:{animation:[ri]}}),e})(),oi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=d.\u0275\u0275defineInjector({imports:[[i.CommonModule,be,ei],be]}),e})();class si{constructor(e,t){this.dragContainerElement=e,this.startPosition=t.getBoundingClientRect()}validateDrag({x:e,y:t,snapDraggedEvents:n,dragAlreadyMoved:i,transform:r}){if(n){const n=Object.assign({},this.startPosition,{left:this.startPosition.left+r.x,right:this.startPosition.right+r.x,top:this.startPosition.top+r.y,bottom:this.startPosition.bottom+r.y});return(jn({x:e,y:t})||i)&&On(this.dragContainerElement.getBoundingClientRect(),n)}return jn({x:e,y:t})||i}}class li{constructor(e,t){this.resizeContainerElement=e,this.minWidth=t}validateResize({rectangle:e}){return!(this.minWidth&&Math.ceil(e.width)<Math.ceil(this.minWidth))&&On(this.resizeContainerElement.getBoundingClientRect(),e)}}let ci=(()=>{class e{constructor(e,t,n,i){this.cdr=e,this.utils=t,this.dateAdapter=i,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new d.EventEmitter,this.eventClicked=new d.EventEmitter,this.eventTimesChanged=new d.EventEmitter,this.beforeViewRender=new d.EventEmitter,this.hourSegmentClicked=new d.EventEmitter,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.trackByWeekDayHeaderDate=An,this.trackByHourSegment=Pn,this.trackByHour=Nn,this.trackByDayOrWeekEvent=Ln,this.trackByHourColumn=(e,t)=>t.hours[0]?t.hours[0].segments[0].date.toISOString():t,this.trackById=(e,t)=>t.id,this.locale=n}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const t=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,n=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek;t&&this.refreshHeader(),e.events&&kn(this.events),n&&this.refreshBody(),(t||n)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}resizeStarted(e,t){this.dayColumnWidth=this.getDayColumnWidth(e);const n=new li(e,t);this.validateResize=({rectangle:e})=>n.validateResize({rectangle:e}),this.cdr.markForCheck()}timeEventResizeStarted(e,t,n){this.timeEventResizes.set(t.event,n),this.resizeStarted(e)}timeEventResizing(e,t){this.timeEventResizes.set(e.event,t);const n=new Map,i=[...this.events];this.timeEventResizes.forEach((e,t)=>{const r=this.getTimeEventResizedDates(t,e),a=Object.assign({},t,r);n.set(a,t);const o=i.indexOf(t);i[o]=a}),this.restoreOriginalEvents(i,n)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);const t=this.timeEventResizes.get(e.event);if(t){this.timeEventResizes.delete(e.event);const n=this.getTimeEventResizedDates(e.event,t);this.eventTimesChanged.emit({newStart:n.start,newEnd:n.end,event:e.event,type:"resize"})}}allDayEventResizeStarted(e,t,n){this.allDayEventResizes.set(t,{originalOffset:t.offset,originalSpan:t.span,edge:void 0!==n.edges.left?"left":"right"}),this.resizeStarted(e,this.getDayColumnWidth(e))}allDayEventResizing(e,t,n){const i=this.allDayEventResizes.get(e);if(void 0!==t.edges.left){const r=Math.round(+t.edges.left/n);e.offset=i.originalOffset+r,e.span=i.originalSpan-r}else if(void 0!==t.edges.right){const r=Math.round(+t.edges.right/n);e.span=i.originalSpan+r}}allDayEventResizeEnded(e){const t=this.allDayEventResizes.get(e);if(t){const n="left"===t.edge;let i;i=n?e.offset-t.originalOffset:e.span-t.originalSpan,e.offset=t.originalOffset,e.span=t.originalSpan;let r=e.event.start,a=e.event.end||e.event.start;n?r=Vn(this.dateAdapter,r,i,this.excludeDays):a=Vn(this.dateAdapter,a,i,this.excludeDays),this.eventTimesChanged.emit({newStart:r,newEnd:a,event:e.event,type:"resize"}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}eventDropped(e,t,n){_n(e,0,n,this.calendarId)&&this.eventTimesChanged.emit({type:"drop",event:e.dropData.event,newStart:t,allDay:n})}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,t,n){this.dayColumnWidth=this.getDayColumnWidth(e);const i=new si(e,t);this.validateDrag=({x:e,y:t,transform:n})=>0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&i.validateDrag({x:e,y:t,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:n}),this.dragActive=!0,this.dragAlreadyMoved=!1,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&n&&this.view.hourColumns.forEach(e=>{const t=e.events.find(e=>e.event===n.event&&e!==n);t&&(t.width=0,t.height=0)}),this.cdr.markForCheck()}dragMove(e,t){if(this.snapDraggedEvents){const n=this.getDragMovedEventTimes(e,t,this.dayColumnWidth,!0),i=e.event,r=Object.assign({},i,n),a=this.events.map(e=>e===i?r:e);this.restoreOriginalEvents(a,new Map([[r,i]]))}this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,t,n,i=!1){this.view=this.getWeekView(this.events),this.dragActive=!1;const{start:r,end:a}=this.getDragMovedEventTimes(e,t,n,i);this.eventDragEnterByType[i?"time":"allDay"]>0&&Hn(r,a,this.view.period)&&this.eventTimesChanged.emit({newStart:r,newEnd:a,event:e.event,type:"drag",allDay:!i})}refreshHeader(){this.days=this.utils.getWeekViewHeader(Object.assign({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},Yn(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Object.assign({header:this.days},this.view))}getWeekView(e){return this.utils.getWeekView(Object.assign({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays},Yn(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(e,t,n,i){const r=Fn(t.x,n)/n,a=i?Bn(t.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize):0,o=this.dateAdapter.addMinutes(Vn(this.dateAdapter,e.event.start,r,this.excludeDays),a);let s;return e.event.end&&(s=this.dateAdapter.addMinutes(Vn(this.dateAdapter,e.event.end,r,this.excludeDays),a)),{start:o,end:s}}restoreOriginalEvents(e,t){const n=this.view;this.view=this.getWeekView(e);const i=e.filter(e=>t.has(e));this.view.hourColumns.forEach((e,r)=>{n.hourColumns[r].hours.forEach((t,n)=>{t.segments.forEach((t,i)=>{e.hours[n].segments[i].cssClass=t.cssClass})}),i.forEach(n=>{const i=t.get(n),r=e.events.find(e=>e.event===n);r?r.event=i:e.events.push({event:i,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1})})}),t.clear()}getTimeEventResizedDates(e,t){const n=Rn(this.hourSegments,this.hourSegmentHeight),i={start:e.start,end:zn(this.dateAdapter,e,n)},r=(0,$e.__rest)(e,["end"]),a={start:this.dateAdapter.addMinutes(i.end,-1*n),end:zn(this.dateAdapter,r,n)};if(void 0!==t.edges.left){const e=Math.round(+t.edges.left/this.dayColumnWidth),n=Vn(this.dateAdapter,i.start,e,this.excludeDays);i.start=n<a.start?n:a.start}else if(void 0!==t.edges.right){const e=Math.round(+t.edges.right/this.dayColumnWidth),n=Vn(this.dateAdapter,i.end,e,this.excludeDays);i.end=n>a.end?n:a.end}if(void 0!==t.edges.top){const e=Bn(t.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),n=this.dateAdapter.addMinutes(i.start,e);i.start=n<a.start?n:a.start}else if(void 0!==t.edges.bottom){const e=Bn(t.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),n=this.dateAdapter.addMinutes(i.end,e);i.end=n>a.end?n:a.end}return i}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(d.ChangeDetectorRef),d.\u0275\u0275directiveInject(Kn),d.\u0275\u0275directiveInject(d.LOCALE_ID),d.\u0275\u0275directiveInject(Tn))},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["mwl-calendar-week-view"]],inputs:{events:"events",excludeDays:"excludeDays",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",precision:"precision",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",locale:"locale",viewDate:"viewDate",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[d.\u0275\u0275NgOnChangesFeature],decls:8,vars:9,consts:[[1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel"],[1,"cal-day-column"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","ghostDragEnabled","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","ghostDragEnabled","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","clickListenerDisabled","dragOverClass","mwlClick","drop",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","clickListenerDisabled","dragOverClass","mwlClick","drop"]],template:function(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",0),d.\u0275\u0275elementStart(1,"mwl-calendar-week-view-header",1),d.\u0275\u0275listener("dayHeaderClicked",function(e){return t.dayHeaderClicked.emit(e)})("eventDropped",function(e){return t.eventDropped({dropData:e},e.newStart,!0)}),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(2,Nt,6,5,"div",2),d.\u0275\u0275elementStart(3,"div",3),d.\u0275\u0275listener("dragEnter",function(){return t.dragEnter("time")})("dragLeave",function(){return t.dragLeave("time")}),d.\u0275\u0275template(4,Rt,2,2,"div",4),d.\u0275\u0275elementStart(5,"div",5,6),d.\u0275\u0275template(7,Ut,3,4,"div",7),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275property("days",t.days)("locale",t.locale)("customTemplate",t.headerTemplate),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",t.view.allDayEventRows.length>0),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",t.view.hourColumns.length>0),d.\u0275\u0275advance(1),d.\u0275\u0275classProp("cal-resize-active",t.timeEventResizes.size>0),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngForOf",t.view.hourColumns)("ngForTrackBy",t.trackByHourColumn))},directives:function(){return[di,i.NgIf,Ce,i.NgForOf,i.NgTemplateOutlet,Ve,xe,i.NgClass,ui,_e,pi,Zn]},encapsulation:2}),e})(),di=(()=>{class e{constructor(){this.dayHeaderClicked=new d.EventEmitter,this.eventDropped=new d.EventEmitter,this.trackByWeekDayHeaderDate=An}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-header",3,"ngClass","mwlClick","drop"]],template:function(e,t){if(1&e&&(d.\u0275\u0275template(0,Xt,2,2,"ng-template",null,0,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(2,Jt,0,0,"ng-template",1)),2&e){const e=d.\u0275\u0275reference(1);d.\u0275\u0275advance(2),d.\u0275\u0275property("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",d.\u0275\u0275pureFunction5(2,qt,t.days,t.locale,t.dayHeaderClicked,t.eventDropped,t.trackByWeekDayHeaderDate))}},directives:[i.NgTemplateOutlet,i.NgForOf,Ce,i.NgClass,Zn],pipes:[Jn],encapsulation:2}),e})(),ui=(()=>{class e{constructor(){this.eventClicked=new d.EventEmitter}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["mwl-calendar-week-view-event"]],inputs:{weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column"},outputs:{eventClicked:"eventClicked"},decls:3,vars:11,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick"],[3,"event","customTemplate"],["view","week",3,"event","customTemplate"]],template:function(e,t){if(1&e&&(d.\u0275\u0275template(0,Zt,5,18,"ng-template",null,0,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(2,Kt,0,0,"ng-template",1)),2&e){const e=d.\u0275\u0275reference(1);d.\u0275\u0275advance(2),d.\u0275\u0275property("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",d.\u0275\u0275pureFunction8(2,en,t.weekEvent,t.tooltipPlacement,t.eventClicked,t.tooltipTemplate,t.tooltipAppendToBody,t.tooltipDisabled,t.tooltipDelay,t.column))}},directives:[i.NgTemplateOutlet,i.NgStyle,Dn,Zn,wn,Cn],pipes:[Qn],encapsulation:2}),e})(),pi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",customTemplate:"customTemplate"},decls:3,vars:7,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,t){if(1&e&&(d.\u0275\u0275template(0,nn,2,8,"ng-template",null,0,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(2,rn,0,0,"ng-template",1)),2&e){const e=d.\u0275\u0275reference(1);d.\u0275\u0275advance(2),d.\u0275\u0275property("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",d.\u0275\u0275pureFunction4(2,an,t.segment,t.locale,t.segmentHeight,t.isTimeLabel))}},directives:[i.NgTemplateOutlet,i.NgClass,i.NgIf],pipes:[Jn],encapsulation:2}),e})(),mi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=d.\u0275\u0275defineInjector({imports:[[i.CommonModule,Ye,be,ei],Ye,be]}),e})(),vi=(()=>{class e{constructor(e,t,n,i){this.cdr=e,this.utils=t,this.dateAdapter=i,this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.eventWidth=150,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new d.EventEmitter,this.hourSegmentClicked=new d.EventEmitter,this.eventTimesChanged=new d.EventEmitter,this.beforeViewRender=new d.EventEmitter,this.hours=[],this.width=0,this.currentResizes=new Map,this.eventDragEnter=0,this.calendarId=Symbol("angular calendar day view id"),this.dragAlreadyMoved=!1,this.trackByEventId=Mn,this.trackByHour=Nn,this.trackByHourSegment=Pn,this.trackByDayEvent=Ln,this.locale=n}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngOnChanges(e){const t=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments,n=e.viewDate||e.events||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.eventWidth||e.hourSegments;t&&this.refreshHourGrid(),e.events&&kn(this.events),n&&this.refreshView(),(t||n)&&this.emitBeforeViewRender()}eventDropped(e,t,n){_n(e,0,n,this.calendarId)&&this.eventTimesChanged.emit({type:"drop",event:e.dropData.event,newStart:t,allDay:n})}resizeStarted(e,t,n){this.currentResizes.set(e,{originalTop:e.top,originalHeight:e.height,edge:void 0!==t.edges.top?"top":"bottom"});const i=new li(n);this.validateResize=({rectangle:e})=>i.validateResize({rectangle:e}),this.cdr.markForCheck()}resizing(e,t){const n=this.currentResizes.get(e);void 0!==t.edges.top?(e.top=n.originalTop+ +t.edges.top,e.height=n.originalHeight-+t.edges.top):void 0!==t.edges.bottom&&(e.height=n.originalHeight+ +t.edges.bottom)}resizeEnded(e){const t=this.currentResizes.get(e),n="top"===t.edge;let i;i=n?e.top-t.originalTop:e.height-t.originalHeight,e.top=t.originalTop,e.height=t.originalHeight;const r=Bn(i,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize);let a=e.event.start,o=zn(this.dateAdapter,e.event,Rn(this.hourSegments,this.hourSegmentHeight));n?a=this.dateAdapter.addMinutes(a,r):o=this.dateAdapter.addMinutes(o,r),this.eventTimesChanged.emit({newStart:a,newEnd:o,event:e.event,type:"resize"}),this.currentResizes.delete(e)}dragStarted(e,t,n){const i=new si(t,e);this.validateDrag=({x:e,y:t,transform:n})=>0===this.currentResizes.size&&i.validateDrag({x:e,y:t,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:n}),this.eventDragEnter=0,this.dragAlreadyMoved=!1,this.currentDrag={dayEvent:n,originalTop:n.top,originalLeft:n.left},this.cdr.markForCheck()}dragMove(e){this.dragAlreadyMoved=!0,this.snapDraggedEvents&&(this.currentDrag.dayEvent.top=this.currentDrag.originalTop+e.y,this.currentDrag.dayEvent.left=this.currentDrag.originalLeft+e.x)}dragEnded(e,t){if(this.currentDrag.dayEvent.top=this.currentDrag.originalTop,this.currentDrag.dayEvent.left=this.currentDrag.originalLeft,this.currentDrag=null,this.eventDragEnter>0){let n,i=Bn(t.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),r=this.dateAdapter.addMinutes(e.event.start,i);t.y<0&&r<this.view.period.start&&(i+=this.dateAdapter.differenceInMinutes(this.view.period.start,r),r=this.view.period.start),e.event.end&&(n=this.dateAdapter.addMinutes(e.event.end,i)),Hn(r,n,this.view.period)&&this.eventTimesChanged.emit({newStart:r,newEnd:n,event:e.event,type:"drag",allDay:!1})}}refreshHourGrid(){this.hours=this.utils.getDayViewHourGrid({viewDate:this.viewDate,hourSegments:this.hourSegments,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute}})}refreshView(){this.view=this.utils.getDayView({events:this.events,viewDate:this.viewDate,hourSegments:this.hourSegments,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},eventWidth:this.eventWidth,segmentHeight:this.hourSegmentHeight})}refreshAll(){this.refreshHourGrid(),this.refreshView(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.hours&&this.view&&this.beforeViewRender.emit({body:{hourGrid:this.hours,allDayEvents:this.view.allDayEvents},period:this.view.period})}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(d.ChangeDetectorRef),d.\u0275\u0275directiveInject(Kn),d.\u0275\u0275directiveInject(d.LOCALE_ID),d.\u0275\u0275directiveInject(Tn))},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["mwl-calendar-day-view"]],inputs:{events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",eventWidth:"eventWidth",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",snapDraggedEvents:"snapDraggedEvents",locale:"locale",viewDate:"viewDate",refresh:"refresh",eventSnapSize:"eventSnapSize",tooltipTemplate:"tooltipTemplate",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},features:[d.\u0275\u0275NgOnChangesFeature],decls:8,vars:6,consts:[[1,"cal-day-view"],["mwlDroppable","","dragOverClass","cal-drag-over","dragActiveClass","cal-drag-active",1,"cal-all-day-events",3,"drop"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dayEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","cal-draggable","dropData","dragAxis","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-hour-rows",3,"dragEnter","dragLeave"],["dayEventsContainer",""],[1,"cal-events"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","ghostDragEnabled","marginTop","height","marginLeft","width","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-hour",3,"minWidth",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dayEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","dropData","dragAxis","eventClicked"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","ghostDragEnabled","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"dayEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-hour"],["mwlDroppable","","dragOverClass","cal-drag-over","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","clickListenerDisabled","mwlClick","drop",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","clickListenerDisabled","mwlClick","drop"]],template:function(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",0),d.\u0275\u0275elementStart(1,"div",1),d.\u0275\u0275listener("drop",function(e){return t.eventDropped(e,t.view.period.start,!0)}),d.\u0275\u0275template(2,on,1,21,"mwl-calendar-day-view-event",2),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"div",3,4),d.\u0275\u0275listener("dragEnter",function(){return t.eventDragEnter=t.eventDragEnter+1})("dragLeave",function(){return t.eventDragEnter=t.eventDragEnter-1}),d.\u0275\u0275elementStart(5,"div",5),d.\u0275\u0275template(6,mn,5,44,"div",6),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(7,hn,2,4,"div",7),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(2),d.\u0275\u0275property("ngForOf",t.view.allDayEvents)("ngForTrackBy",t.trackByEventId),d.\u0275\u0275advance(4),d.\u0275\u0275property("ngForOf",null==t.view?null:t.view.events)("ngForTrackBy",t.trackByDayEvent),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",t.hours)("ngForTrackBy",t.trackByHour))},directives:function(){return[Ce,i.NgForOf,gi,xe,i.NgClass,Ve,i.NgIf,_e,hi,Zn]},encapsulation:2}),e})(),hi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["mwl-calendar-day-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],[1,"cal-time"]],template:function(e,t){if(1&e&&(d.\u0275\u0275template(0,gn,4,12,"ng-template",null,0,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(2,fn,0,0,"ng-template",1)),2&e){const e=d.\u0275\u0275reference(1);d.\u0275\u0275advance(2),d.\u0275\u0275property("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",d.\u0275\u0275pureFunction3(2,yn,t.segment,t.locale,t.segmentHeight))}},directives:[i.NgTemplateOutlet,i.NgClass],pipes:[Jn],encapsulation:2}),e})(),gi=(()=>{class e{constructor(){this.eventClicked=new d.EventEmitter}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["mwl-calendar-day-view-event"]],inputs:{dayEvent:"dayEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{eventClicked:"eventClicked"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick"],[3,"event","customTemplate"],["view","day",3,"event","customTemplate"]],template:function(e,t){if(1&e&&(d.\u0275\u0275template(0,En,5,18,"ng-template",null,0,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(2,Sn,0,0,"ng-template",1)),2&e){const e=d.\u0275\u0275reference(1);d.\u0275\u0275advance(2),d.\u0275\u0275property("ngTemplateOutlet",t.customTemplate||e)("ngTemplateOutletContext",d.\u0275\u0275pureFunction6(2,xn,t.dayEvent,t.tooltipPlacement,t.eventClicked,t.tooltipTemplate,t.tooltipAppendToBody,t.tooltipDelay))}},directives:[i.NgTemplateOutlet,i.NgStyle,Dn,Zn,wn,Cn],pipes:[Qn],encapsulation:2}),e})(),fi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=d.\u0275\u0275defineInjector({imports:[[i.CommonModule,Ye,be,ei],Ye,be]}),e})(),yi=(()=>{class e{static forRoot(t,n={}){return{ngModule:e,providers:[t,n.eventTitleFormatter||qn,n.dateFormatter||Xn,n.utils||Kn]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=d.\u0275\u0275defineInjector({imports:[[ei,oi,mi,fi],ei,oi,mi,fi]}),e})();var Ei=n(3679),Si=n(985),xi=n(16778),wi=n(58762),Ci=n(55041),bi=n(9575),Di=n.n(bi),Ti=n(3929),Ii=n.n(Ti),ki=n(22194),Oi=n.n(ki),Fi=n(9308),Mi=n(26772),Ai=n(44760),Pi=n(664);class Ni{constructor(){}}class Li{}var Bi=n(34581);class Ri{}var zi=n(61181),Vi=n(8756),Hi=n(63279),_i=n(28970),Yi=n(28813),ji=n(90590),$i=n(85627),Wi=n(29790),Ui=n(65981),Gi=n(39577),Xi=n(41464),Ji=n(14449),qi=n(45961),Qi=n(24048),Zi=n(23990),Ki=n(96239),er=n(35554),tr=n(57552),nr=n(82613),ir=n(56949),rr=n(70946),ar=n(83446),or=n(96516),sr=n(33013);const lr=["modalContent"],cr=["modalContentConsult"];function dr(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275elementStart(1,"ngx-select-dropdown",34),d.\u0275\u0275listener("change",function(t){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).teamMemberChanged(t)}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){const e=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(1),d.\u0275\u0275property("multiple",!0)("options",e.teamUsers)("config",e.configTeams)}}function ur(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",33),d.\u0275\u0275template(1,dr,2,3,"div",11),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",e.teamOptionSelected)}}function pr(e,t){1&e&&(d.\u0275\u0275elementStart(0,"span"),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"button.create")," "))}function mr(e,t){1&e&&(d.\u0275\u0275elementStart(0,"span"),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"button.assign_event")," "))}function vr(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"mwl-calendar-month-view",35),d.\u0275\u0275listener("dayClicked",function(t){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().dayClicked(t.day)})("eventClicked",function(t){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().handleEvent("Clicked",t.event)})("eventTimesChanged",function(t){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().eventTimesChanged(t)}),d.\u0275\u0275elementEnd()}if(2&e){const e=d.\u0275\u0275nextContext(),t=d.\u0275\u0275reference(74);d.\u0275\u0275property("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)("activeDayIsOpen",e.activeDayIsOpen)("cellTemplate",t)("weekStartsOn",e.weekStartsOn)("weekendDays",e.weekendDays)("locale",e.getLang())}}function hr(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"mwl-calendar-week-view",36),d.\u0275\u0275listener("eventClicked",function(t){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().handleEvent("Clicked",t.event)})("eventTimesChanged",function(t){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().eventTimesChanged(t)}),d.\u0275\u0275elementEnd()}if(2&e){const e=d.\u0275\u0275nextContext();d.\u0275\u0275property("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)("locale",e.getLang())}}function gr(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"mwl-calendar-day-view",36),d.\u0275\u0275listener("eventClicked",function(t){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().handleEvent("Clicked",t.event)})("eventTimesChanged",function(t){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().eventTimesChanged(t)}),d.\u0275\u0275elementEnd()}if(2&e){const e=d.\u0275\u0275nextContext();d.\u0275\u0275property("viewDate",e.viewDate)("events",e.events)("refresh",e.refresh)("locale",e.getLang())}}function fr(e,t){1&e&&(d.\u0275\u0275elementStart(0,"h5",62),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind1(2,1,"task.new_event")," "))}function yr(e,t){1&e&&(d.\u0275\u0275elementStart(0,"h5",62),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"task.modif_event"),""))}function Er(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",43),d.\u0275\u0275elementStart(1,"label"),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(4,"div"),d.\u0275\u0275element(5,"input",63),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(3,2,"task.category"),""),d.\u0275\u0275advance(3),d.\u0275\u0275property("value",""!==e.eventSelected.category?e.eventSelected.category:"PROSPECTING")}}function Sr(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",43),d.\u0275\u0275elementStart(1,"label"),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(4,"span",44),d.\u0275\u0275text(5,"*"),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(6,"ngx-select-dropdown",64),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(3,6,"task.user"),""),d.\u0275\u0275advance(4),d.\u0275\u0275property("ngClass",!0===e.emptyUser?"ACM-responsible-error":"")("disabled",void 0!==e.eventSelected.id)("multiple",!1)("options",e.teamUsers)("config",e.configTeams)}}function xr(e,t){if(1&e&&d.\u0275\u0275text(0),2&e){const e=t.$implicit;d.\u0275\u0275textInterpolate2(" ",e.customerNameNoPipe," (",e.customerNumber,") ")}}function wr(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275elementStart(1,"span",44),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(3,1,"invalid_time")))}function Cr(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275elementStart(1,"span",44),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(3,1,"invalid_time")))}function br(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",65),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).onSubmit()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}if(2&e){const e=d.\u0275\u0275nextContext(2);d.\u0275\u0275property("disabled",e.eventForm.invalid),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,2,"button.save"))}}function Dr(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",66),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).collectionDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"collections.open_collection"),""))}function Tr(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",66),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).loanDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"task.open_loan")))}function Ir(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",66),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).clientDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"button.Go_to_costumer")))}function kr(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",66),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).claimDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"button.Go_to_claim")))}function Or(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",66),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).itemDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"button.Go_to_Wf")))}function Fr(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",66),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).collectionDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"collections.open_legal_collection"),""))}const Mr=function(e){return{"text-end":e}},Ar=function(){return{width:"100%"}};function Pr(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",37),d.\u0275\u0275elementStart(1,"div",38),d.\u0275\u0275template(2,fr,3,3,"h5",39),d.\u0275\u0275template(3,yr,3,3,"h5",39),d.\u0275\u0275elementStart(4,"button",40),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e).close()}),d.\u0275\u0275elementStart(5,"span",41),d.\u0275\u0275text(6,"\xd7"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(7,"div",12),d.\u0275\u0275elementStart(8,"form",42),d.\u0275\u0275listener("change",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().changeForm()}),d.\u0275\u0275elementStart(9,"div",43),d.\u0275\u0275elementStart(10,"label"),d.\u0275\u0275text(11),d.\u0275\u0275pipe(12,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(13,"span",44),d.\u0275\u0275text(14,"*"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(15,"div"),d.\u0275\u0275element(16,"input",45),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(17,Er,6,4,"div",46),d.\u0275\u0275template(18,Sr,7,8,"div",46),d.\u0275\u0275elementStart(19,"div",43),d.\u0275\u0275elementStart(20,"label"),d.\u0275\u0275text(21),d.\u0275\u0275pipe(22,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(23,"p-autoComplete",47),d.\u0275\u0275listener("completeMethod",function(t){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().filterCustomerName(t)}),d.\u0275\u0275pipe(24,"translate"),d.\u0275\u0275template(25,xr,1,2,"ng-template",48),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(26,"br"),d.\u0275\u0275element(27,"br"),d.\u0275\u0275elementStart(28,"div",43),d.\u0275\u0275elementStart(29,"label"),d.\u0275\u0275text(30),d.\u0275\u0275pipe(31,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(32,"span",44),d.\u0275\u0275text(33,"*"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(34,"div",49),d.\u0275\u0275elementStart(35,"div",50),d.\u0275\u0275elementStart(36,"input",51),d.\u0275\u0275listener("change",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().dateChanged()}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(37,"div",50),d.\u0275\u0275element(38,"input",52),d.\u0275\u0275template(39,wr,4,3,"div",11),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(40,"br"),d.\u0275\u0275elementStart(41,"div",43),d.\u0275\u0275elementStart(42,"label"),d.\u0275\u0275text(43),d.\u0275\u0275pipe(44,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(45,"span",44),d.\u0275\u0275text(46,"*"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(47,"div",49),d.\u0275\u0275elementStart(48,"div",50),d.\u0275\u0275elementStart(49,"input",53),d.\u0275\u0275listener("change",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().dateChanged()}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(50,"div",50),d.\u0275\u0275element(51,"input",54),d.\u0275\u0275template(52,Cr,4,3,"div",11),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(53,"div",43),d.\u0275\u0275elementStart(54,"label"),d.\u0275\u0275text(55),d.\u0275\u0275pipe(56,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(57,"ngx-select-dropdown",55),d.\u0275\u0275listener("change",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().participantMethod()}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(58,"br"),d.\u0275\u0275elementStart(59,"div",43),d.\u0275\u0275elementStart(60,"label"),d.\u0275\u0275text(61),d.\u0275\u0275pipe(62,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(63,"div",49),d.\u0275\u0275element(64,"input",56),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(65,"br"),d.\u0275\u0275elementStart(66,"div",43),d.\u0275\u0275elementStart(67,"label"),d.\u0275\u0275text(68),d.\u0275\u0275pipe(69,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(70,"div",49),d.\u0275\u0275elementStart(71,"textarea",57),d.\u0275\u0275text(72,"          "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(73,"div",58),d.\u0275\u0275elementStart(74,"button",59),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().reset()}),d.\u0275\u0275text(75),d.\u0275\u0275pipe(76,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(77,br,3,4,"button",60),d.\u0275\u0275template(78,Dr,3,3,"button",61),d.\u0275\u0275template(79,Tr,3,3,"button",61),d.\u0275\u0275template(80,Ir,3,3,"button",61),d.\u0275\u0275template(81,kr,3,3,"button",61),d.\u0275\u0275template(82,Or,3,3,"button",61),d.\u0275\u0275template(83,Fr,3,3,"button",61),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){const e=d.\u0275\u0275nextContext();d.\u0275\u0275propertyInterpolate("dir",e.getDirection()),d.\u0275\u0275property("ngClass",d.\u0275\u0275pureFunction1(58,Mr,"ar"===e.translate.currentLang)),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",void 0===e.eventSelected.id),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",void 0!==e.eventSelected.id&&!e.teamOptionSelected),d.\u0275\u0275advance(1),d.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),d.\u0275\u0275advance(4),d.\u0275\u0275property("formGroup",e.eventForm),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(12,40,"task.title"),""),d.\u0275\u0275advance(6),d.\u0275\u0275property("ngIf",e.eventSelected.category||e.eventSelected.customerName),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",e.teamOptionSelected),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(22,42,"task.customer"),""),d.\u0275\u0275advance(2),d.\u0275\u0275styleMap(d.\u0275\u0275pureFunction0(60,Ar)),d.\u0275\u0275propertyInterpolate("placeholder",d.\u0275\u0275pipeBind1(24,44,"upload_document.Customer_Name")),d.\u0275\u0275property("suggestions",e.customerPaginationEntity.resultsCustomers)("size",30)("minLength",1)("forceSelection",!0)("inputStyle",d.\u0275\u0275pureFunction0(61,Ar)),d.\u0275\u0275advance(7),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(31,46,"task.start_date"),""),d.\u0275\u0275advance(6),d.\u0275\u0275property("min",e.minDate),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngIf",null==e.eventForm.errors?null:e.eventForm.errors.invalidStartTime),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(44,48,"task.end_date"),""),d.\u0275\u0275advance(6),d.\u0275\u0275property("min",e.eventForm.controls.startDate.value),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngIf",null==e.eventForm.errors?null:e.eventForm.errors.invalidTimeRange),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(56,50,"task.participant")),d.\u0275\u0275advance(2),d.\u0275\u0275property("multiple",!0)("options",e.participants)("config",e.configParticipants),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(62,52,"task.location"),""),d.\u0275\u0275advance(7),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(69,54,"task.description"),""),d.\u0275\u0275advance(7),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(76,56,"button.cancel")),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",!e.teamOptionSelected||e.teamOptionSelected&&void 0===e.eventSelected.id),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",(null==e.eventSelected?null:e.eventSelected.category)===e.collectionCategory),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",(null==e.eventSelected?null:e.eventSelected.category)===e.loanCategory),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",null!=(null==e.eventSelected?null:e.eventSelected.idCustomerExtern)&&("PROSPECT"===e.eventSelected.category||"CUSTOMER"===e.eventSelected.category)),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf","CLAIM"===e.eventSelected.category),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",(null==e.eventSelected?null:e.eventSelected.category)===e.prospectionCategory||(null==e.eventSelected?null:e.eventSelected.category)===e.genericCategory),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",(null==e.eventSelected?null:e.eventSelected.category)===e.legalCategory)}}function Nr(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"span",70),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().day;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",e.badgeTotal,"")}}function Lr(e,t){}function Br(e,t){1&e&&d.\u0275\u0275template(0,Lr,0,0,"ng-template")}const Rr=function(e){return{backgroundColor:e}};function zr(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",76),d.\u0275\u0275listener("mwlClick",function(){d.\u0275\u0275restoreView(e);const t=d.\u0275\u0275nextContext(2).$implicit;return d.\u0275\u0275nextContext(2).eventClicked.emit({event:t})}),d.\u0275\u0275pipe(1,"calendarEventTitle"),d.\u0275\u0275text(2),d.\u0275\u0275elementEnd()}if(2&e){const e=d.\u0275\u0275nextContext(2).$implicit,t=d.\u0275\u0275nextContext(2),n=t.tooltipPlacement,i=t.tooltipTemplate,r=t.tooltipAppendToBody,a=t.tooltipDelay;d.\u0275\u0275property("ngStyle",d.\u0275\u0275pureFunction1(13,Rr,null==e.color?null:e.color.primary))("ngClass",e.cssClass)("mwlCalendarTooltip",d.\u0275\u0275pipeBind3(1,9,e.title,"monthTooltip",e))("tooltipPlacement",n)("tooltipEvent",e)("tooltipTemplate",i)("tooltipAppendToBody",r)("tooltipDelay",a),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",e.title," ")}}function Vr(e,t){if(1&e&&d.\u0275\u0275template(0,zr,3,15,"div",75),2&e){const e=d.\u0275\u0275nextContext().index,t=d.\u0275\u0275nextContext(3);d.\u0275\u0275property("ngIf",e<t.eventLimit)}}function Hr(e,t){if(1&e&&(d.\u0275\u0275elementContainerStart(0),d.\u0275\u0275elementStart(1,"div",77),d.\u0275\u0275elementStart(2,"a",78),d.\u0275\u0275text(3),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementContainerEnd()),2&e){const e=d.\u0275\u0275nextContext(4).day,t=d.\u0275\u0275nextContext();d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",e.events.length-t.eventLimit," More \u21e3 ")}}function _r(e,t){if(1&e&&d.\u0275\u0275template(0,Hr,4,1,"ng-container",11),2&e){const e=d.\u0275\u0275nextContext().index,t=d.\u0275\u0275nextContext(3);d.\u0275\u0275property("ngIf",e===t.eventLimit)}}function Yr(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275template(1,Br,1,0,void 0,72),d.\u0275\u0275template(2,Vr,1,1,"ng-template",null,73,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(4,_r,1,1,"ng-template",null,74,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275elementEnd()),2&e){const e=t.index,n=d.\u0275\u0275reference(3),i=d.\u0275\u0275reference(5),r=d.\u0275\u0275nextContext(3);d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",e<r.eventLimit)("ngIfThen",n)("ngIfElse",i)}}function jr(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275template(1,Yr,6,3,"div",71),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().day,t=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",e.events)("ngForTrackBy",t.trackByEventId)}}function $r(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",67),d.\u0275\u0275template(1,Nr,2,1,"span",68),d.\u0275\u0275elementStart(2,"span",69),d.\u0275\u0275text(3),d.\u0275\u0275pipe(4,"calendarDate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(5,jr,2,2,"div",11)),2&e){const e=t.day,n=t.locale;d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",e.badgeTotal>0),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind3(4,3,e.date,"monthViewDayNumber",n),""),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",e.events.length>0)}}function Wr(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"tr"),d.\u0275\u0275elementStart(1,"td"),d.\u0275\u0275text(2),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"td"),d.\u0275\u0275text(4),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",e.login,""),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(e.fullName)}}function Ur(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"table",93),d.\u0275\u0275elementStart(1,"thead"),d.\u0275\u0275elementStart(2,"tr"),d.\u0275\u0275elementStart(3,"th"),d.\u0275\u0275text(4),d.\u0275\u0275pipe(5,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(6,"th"),d.\u0275\u0275text(7),d.\u0275\u0275pipe(8,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(9,"tbody",85),d.\u0275\u0275template(10,Wr,5,2,"tr",94),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind1(5,3,"setting.setting_users.login")," "),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind1(8,5,"guarantors.name")," "),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngForOf",e.eventSelected.participantList)}}function Gr(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275elementStart(1,"div",12),d.\u0275\u0275elementStart(2,"h6",95),d.\u0275\u0275text(3),d.\u0275\u0275pipe(4,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(4,1,"customer.no_data_to_display")))}function Xr(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",66),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).collectionDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"collections.open_collection"),""))}function Jr(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",66),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).loanDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"task.open_loan")))}function qr(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",66),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).clientDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"button.Go_to_costumer")))}function Qr(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",66),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).collectionDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"collections.open_legal_collection"),""))}function Zr(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",37),d.\u0275\u0275elementStart(1,"div",38),d.\u0275\u0275elementStart(2,"h5",62),d.\u0275\u0275text(3),d.\u0275\u0275pipe(4,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(5,"button",40),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e).close()}),d.\u0275\u0275elementStart(6,"span",41),d.\u0275\u0275text(7,"\xd7"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(8,"div",12),d.\u0275\u0275elementStart(9,"div",79),d.\u0275\u0275elementStart(10,"div",79),d.\u0275\u0275elementStart(11,"div",80),d.\u0275\u0275elementStart(12,"div",81),d.\u0275\u0275elementStart(13,"div",82),d.\u0275\u0275elementStart(14,"div",83),d.\u0275\u0275elementStart(15,"div",84),d.\u0275\u0275text(16),d.\u0275\u0275pipe(17,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(18,"div",85),d.\u0275\u0275elementStart(19,"label"),d.\u0275\u0275text(20),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(21,"hr"),d.\u0275\u0275elementStart(22,"div",79),d.\u0275\u0275elementStart(23,"div",80),d.\u0275\u0275elementStart(24,"div",81),d.\u0275\u0275elementStart(25,"div",82),d.\u0275\u0275elementStart(26,"div",83),d.\u0275\u0275elementStart(27,"div",84),d.\u0275\u0275text(28),d.\u0275\u0275pipe(29,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(30,"div",85),d.\u0275\u0275elementStart(31,"label"),d.\u0275\u0275text(32),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(33,"hr"),d.\u0275\u0275elementStart(34,"div",79),d.\u0275\u0275elementStart(35,"div",80),d.\u0275\u0275elementStart(36,"div",81),d.\u0275\u0275elementStart(37,"div",82),d.\u0275\u0275elementStart(38,"div",83),d.\u0275\u0275elementStart(39,"div",84),d.\u0275\u0275text(40),d.\u0275\u0275pipe(41,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(42,"div",85),d.\u0275\u0275elementStart(43,"label"),d.\u0275\u0275text(44),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(45,"hr"),d.\u0275\u0275elementStart(46,"div",86),d.\u0275\u0275elementStart(47,"div",87),d.\u0275\u0275elementStart(48,"div",81),d.\u0275\u0275elementStart(49,"div",82),d.\u0275\u0275elementStart(50,"div",83),d.\u0275\u0275elementStart(51,"div",84),d.\u0275\u0275text(52),d.\u0275\u0275pipe(53,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(54,"div",85),d.\u0275\u0275element(55,"input",88),d.\u0275\u0275element(56,"input",89),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(57,"div",87),d.\u0275\u0275elementStart(58,"div",81),d.\u0275\u0275elementStart(59,"div",82),d.\u0275\u0275elementStart(60,"div",83),d.\u0275\u0275elementStart(61,"div",84),d.\u0275\u0275text(62),d.\u0275\u0275pipe(63,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(64,"div",85),d.\u0275\u0275element(65,"input",88),d.\u0275\u0275element(66,"input",89),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(67,"hr"),d.\u0275\u0275elementStart(68,"div",90),d.\u0275\u0275elementStart(69,"div",81),d.\u0275\u0275elementStart(70,"div",82),d.\u0275\u0275elementStart(71,"div",83),d.\u0275\u0275elementStart(72,"div",84),d.\u0275\u0275text(73),d.\u0275\u0275pipe(74,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(75,Ur,11,7,"table",91),d.\u0275\u0275template(76,Gr,5,3,"div",11),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(77,"hr"),d.\u0275\u0275elementStart(78,"div",79),d.\u0275\u0275elementStart(79,"div",92),d.\u0275\u0275elementStart(80,"div",80),d.\u0275\u0275elementStart(81,"div",81),d.\u0275\u0275elementStart(82,"div",82),d.\u0275\u0275elementStart(83,"div",83),d.\u0275\u0275elementStart(84,"div",84),d.\u0275\u0275text(85),d.\u0275\u0275pipe(86,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(87,"div",85),d.\u0275\u0275elementStart(88,"label"),d.\u0275\u0275text(89),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(90,"hr"),d.\u0275\u0275elementStart(91,"div",79),d.\u0275\u0275elementStart(92,"div",80),d.\u0275\u0275elementStart(93,"div",81),d.\u0275\u0275elementStart(94,"div",82),d.\u0275\u0275elementStart(95,"div",83),d.\u0275\u0275elementStart(96,"div",84),d.\u0275\u0275text(97),d.\u0275\u0275pipe(98,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(99,"div",85),d.\u0275\u0275elementStart(100,"label"),d.\u0275\u0275text(101),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(102,"hr"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(103,"div",58),d.\u0275\u0275template(104,Xr,3,3,"button",61),d.\u0275\u0275template(105,Jr,3,3,"button",61),d.\u0275\u0275template(106,qr,3,3,"button",61),d.\u0275\u0275template(107,Qr,3,3,"button",61),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){const e=d.\u0275\u0275nextContext();d.\u0275\u0275propertyInterpolate("dir",e.getDirection()),d.\u0275\u0275property("ngClass",d.\u0275\u0275pureFunction1(47,Mr,"ar"===e.translate.currentLang)),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(4,29,"task.consulter_event")," "),d.\u0275\u0275advance(2),d.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),d.\u0275\u0275advance(11),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(17,31,"task.user")),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate(e.eventSelected.user.fullName),d.\u0275\u0275advance(8),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(29,33,"task.title")),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate1(" ",e.eventSelected.libelleEvent," "),d.\u0275\u0275advance(8),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(41,35,"task.customer"),""),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate1(" ",e.eventSelected.customerName,""),d.\u0275\u0275advance(8),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(53,37,"task.start_date"),""),d.\u0275\u0275advance(3),d.\u0275\u0275property("value",e.eventSelected.dateDebut),d.\u0275\u0275advance(1),d.\u0275\u0275property("value",e.eventSelected.startHour),d.\u0275\u0275advance(6),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(63,39,"task.end_date"),""),d.\u0275\u0275advance(3),d.\u0275\u0275property("value",e.eventSelected.dateFin),d.\u0275\u0275advance(1),d.\u0275\u0275property("value",e.eventSelected.endHour),d.\u0275\u0275advance(7),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(74,41,"task.participant")),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",0!==e.eventSelected.participantList.length),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",0===e.eventSelected.participantList.length),d.\u0275\u0275advance(9),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind1(86,43,"task.location")," "),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate1(" ",e.eventSelected.place,""),d.\u0275\u0275advance(8),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind1(98,45,"task.description")," "),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate1(" ",e.eventSelected.description,""),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngIf",(null==e.eventSelected?null:e.eventSelected.category)===e.collectionCategory),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",(null==e.eventSelected?null:e.eventSelected.category)===e.loanCategory),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",null!=(null==e.eventSelected?null:e.eventSelected.idCustomerExtern)),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",(null==e.eventSelected?null:e.eventSelected.category)===e.legalCategory)}}(0,i.registerLocaleData)(Di()),(0,i.registerLocaleData)(Ii()),(0,i.registerLocaleData)(Oi());const Kr={primary:"#ff93b4",secondary:"#FAE3E3"},ea={primary:"#a4ddf1",secondary:"#D1E8FF"},ta={primary:" #9E9E9E"},na={primary:"#b0e5b8"},ia={primary:"#001aff5e"},ra={primary:"rgba(255,184,163,0.76)"},aa={primary:"#80BCBD"};let oa=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,d,u,p,m,v,h,g,f,y,S,x,w){this.modal=e,this.router=t,this.dialog=n,this.crmService=i,this.settingsService=r,this.visitReportServices=a,this.formBuilder=o,this.customerService=s,this.devToolsServices=c,this.translate=d,this.sharedService=u,this.datePipe=p,this.library=m,this.customer360Services=v,this.loanSharedService=h,this.collectionServices=g,this.customerListService=f,this.genericWorkService=y,this.settingService=S,this.loanManagementService=x,this.customerManagementService=w,this.activeDayIsOpen=!0,this.calendarEventsEntity=new xi.J,this.selectedTasks=[],this.users=[],this.selectUser=[],this.selectCustomer=[],this.dropdownSettings={},this.userToInsert="",this.selectedTask=new xi.J,this.weekStartsOn=E.MONDAY,this.weekendDays=[E.FRIDAY,E.SATURDAY],this.teamOptionSelected=!1,this.eventLimit=3,this.configTeams={search:!0,displayKey:"loginAndName",searchOnKey:"login",placeholder:" "},this.teamUsers=[],this.teamUsersSelected=[],this.customers=[],this.filteredCustomerSingle=[],this.view=In.Month,this.CalendarView=In,this.viewDate=new Date,this.actions=[{label:'<i class="fa fa-fw fa-pencil"></i>',onClick:({event:e})=>{this.editEvent(e)}},{label:'<i class="fa fa-fw fa-times"></i>',onClick:({event:e})=>{this.openDialog(e)}}],this.refresh=new l.xQ,this.events=[],this.userEvents=[],this.teamEvents=[],this.moreEvents=[],this.asyncP=new l.xQ,this.collectionCategory=wi.J.COLLECTION_CATEGORY,this.legalCategory=wi.J.LEGAL_CATEGORY,this.loanCategory=wi.J.LOAN_CATEGORY,this.prospectionCategory=wi.J.PROSPECTION,this.claimCategory=wi.J.CLAIM,this.genericCategory=wi.J.GENERIC_CATEGORY,this.taskType=wi.J.EVENT_TYPE_TASK,this.appointmentType=wi.J.EVENT_TYPE_APPOINTEMENT,this.customersSelected=[],this.customersList=[],this.configCustomers={displayKey:"customerNameNoPipe",search:!0,placeholder:" ",searchOnKey:"customerNameNoPipe"},this.usersSelected=[],this.configUsers={displayKey:"fullName",search:!0,placeholder:" ",searchOnKey:"fullName"},this.configParticipants={displayKey:"fullName",search:!0,placeholder:" ",searchOnKey:"fullName"},this.userList=[],this.collaborators=null,this.customerPaginationEntity=new Pi.W,this.eventSelected=new xi.J,this.participants=[],this.formUpdated=!1,this.participantSelectedList="",this.emptyUser=!1}ngOnInit(){var e=this;return(0,o.Z)(function*(){const t=new Mi.H;t.responsableId=e.sharedService.getUser().login,yield e.settingsService.getUsers(t).toPromise().then(t=>{e.teamUsers=t,e.asyncP.next(!0)}),e.userConnectedLogin=e.sharedService.getUser().login,e.calendarEventsEntity.allTeamsTasks=!1,e.calendarEventsEntity.username=e.userConnectedLogin,e.crmService.find(e.calendarEventsEntity).subscribe(t=>{let n;for(let i=0;i<t.length;i++){n=t[i].category===wi.J.COLLECTION_CATEGORY?ra:t[i].category===wi.J.LEGAL_CATEGORY?Kr:t[i].category===wi.J.LOAN_CATEGORY?ea:t[i].category===wi.J.PROSPECTION?na:t[i].category===wi.J.GENERIC_CATEGORY?ia:t[i].category===wi.J.CLAIM?aa:ta;let r="";t[i].statut===wi.J.CLOSED&&(r="calendar-closed-task");const a={id:t[i].id,start:new Date(t[i].dateDebut),end:new Date(t[i].dateFin),title:t[i].libelleEvent,color:n,actions:e.actions,typeEvent:t[i].typeEvent,participant:t[i].participant,place:t[i].place,description:t[i].description,customer:t[i].customerName,meta:[{username:t[i].username}],statut:t[i].statut,cssClass:r,idLoanExtern:t[i].idLoanExtern,idCollection:t[i].idCollection,category:t[i].category,calendarEvent:t[i]};e.userEvents.push(a)}e.refresh.next()}),e.events=e.userEvents,e.visitReportServices.getUsersVisit().subscribe(t=>{e.participants=t;for(let n=0;n<t.length;n++)e.users.push({item_id:t[n].login,item_text:t[n].simpleName});e.loanSharedService.setUsers(e.users)}),e.dropdownSettings={singleSelection:!1,defaultOpen:!1,idField:"item_id",textField:"item_text",selectAllText:"Select All",unSelectAllText:"UnSelect All",enableCheckAll:!0,itemsShowLimit:3,allowSearchFilter:!0}})()}dayClicked({date:e,events:t}){(0,s.isSameMonth)(e,this.viewDate)&&(this.viewDate=e,this.activeDayIsOpen=!((0,s.isSameDay)(this.viewDate,e)&&!0===this.activeDayIsOpen||0===t.length))}eventTimesChanged({event:e,newStart:t,newEnd:n}){this.events=this.events.map(i=>i===e?{...e,start:t,end:n}:i),this.handleEvent("Dropped or resized",e)}handleEvent(e,t){this.modalData={event:t,action:e},this.editEvent(t)}setView(e){this.view=e}closeOpenMonthViewDay(){this.activeDayIsOpen=!1}addEvent(){this.eventSelected=new xi.J,this.eventSelected.typeEvent=wi.J.EVENT_TYPE_APPOINTEMENT,this.createForm();const e=new Date;e.setHours(0,0,0,0),this.minDate=this.datePipe.transform(e.setDate(e.getDate()),"yyyy-MM-dd"),this.formUpdated=!1,this.modal.open(this.modalContent,{size:"md"})}editEvent(e){new Date,e.start=this.datePipe.transform(e.start,"yyyy-MM-dd HH:mm:ss"),e.end=this.datePipe.transform(e.end,"yyyy-MM-dd HH:mm:ss"),this.eventSelected=e.calendarEvent;const t=new Date(e.start).toISOString().substring(0,10),n=new Date(e.start).toISOString().substring(11,16),i=new Date(e.end).toISOString().substring(0,10),r=new Date(e.end).toISOString().substring(11,16),a=[];if(null!=e.participant){const t=(e.participant.match(/,/g)||[]).length+1;e.participant.split(",",t).forEach(e=>{this.participants.find(t=>{t.login===e&&a.push(t)})})}const o=this.userConnectedLogin!==this.eventSelected.username?this.teamUsers.find(e=>e.login===this.eventSelected.username):this.sharedService.getUser();if(this.teamOptionSelected)this.eventSelected.dateDebut=t,this.eventSelected.startHour=n,this.eventSelected.dateFin=i,this.eventSelected.endHour=r,this.eventSelected.participantList=a,this.eventSelected.user=o,this.modal.open(this.modalContentConsult,{size:"md"});else{this.createForm(),this.eventForm.controls.title.setValue(this.eventSelected.libelleEvent),this.eventForm.controls.hourDate.setValue(n),this.eventForm.controls.startDate.setValue(t),this.eventForm.controls.description.setValue(this.eventSelected.description),this.eventForm.controls.category.setValue(this.eventSelected.category),this.eventForm.controls.typeEvent.setValue(this.eventSelected.typeEvent);const e=new Ai.x;e.customerIdExtern=this.eventSelected.idCustomerExtern,e.customerNameNoPipe=this.eventSelected.customerName,this.eventForm.controls.customer.setValue(e),this.eventForm.controls.endDate.setValue(i),this.eventForm.controls.hourEndDate.setValue(r),this.eventForm.controls.location.setValue(this.eventSelected.place),this.eventForm.controls.user.setValue(o),this.eventForm.controls.participant.setValue(a),this.participantMethod(),this.formUpdated=!1,this.modal.open(this.modalContent,{size:"md"})}}createForm(){this.eventForm=this.formBuilder.group({title:["",Ei.kI.required],category:[""],startDate:["",Ei.kI.required],hourDate:["",Ei.kI.required],endDate:["",Ei.kI.required],hourEndDate:["",Ei.kI.required],customer:[""],user:[""],location:[""],description:[""],participant:[""],typeEvent:[wi.J.EVENT_TYPE_TASK]},{validators:this.timeValidation()})}onSubmit(){this.eventForm.valid&&(""!==this.eventForm.controls.startDate.value&&""!==this.eventForm.controls.endDate.value&&this.eventForm.controls.startDate.value>this.eventForm.controls.endDate.value||""!==this.eventForm.controls.hourDate.value&&""!==this.eventForm.controls.hourEndDate.value&&this.eventForm.controls.startDate.value==this.eventForm.controls.endDate.value&&this.eventForm.controls.hourDate.value>this.eventForm.controls.hourEndDate.value?this.devToolsServices.openToast(3,"alert.error_date"):(this.emptyUser=!1,null!=this.eventSelected.id?this.update():this.save().then(()=>{!1===this.emptyUser&&this.devToolsServices.openToast(0,"alert.success")})))}formatDate(e){return this.datePipe.transform(e,"yyyy-MM-ddTHH:mm:ss.SSS")}save(){var e=this;return(0,o.Z)(function*(){e.eventSelected.typeEvent=e.eventForm.value.typeEvent,e.eventSelected.libelleEvent=e.eventForm.value.title,e.eventSelected.description=e.eventForm.value.description,e.teamOptionSelected&&""===e.eventForm.controls.user.value?e.emptyUser=!0:(""!==e.eventForm.value.user?(e.eventSelected.username=e.eventForm.value.user.login,e.eventSelected.userFullName=e.eventForm.value.user.userFullName,e.eventSelected.userEmail=e.eventForm.value.user.email):(e.eventSelected.username=e.sharedService.getUser().login,e.eventSelected.userFullName=e.sharedService.getUser().fullName,e.eventSelected.userEmail=e.sharedService.getUser().email),e.eventSelected.category=wi.J.PROSPECT_CATEGORY,null!==e.eventForm.value.customer&&(e.eventSelected.idCustomerExtern=e.eventForm.value.customer.customerIdExtern,e.eventSelected.customerName=e.eventForm.value.customer.customerNameNoPipe,e.eventSelected.customerNumber=e.eventForm.value.customer.customerNumber),e.eventSelected.dateDebut=e.formatDate(""!==e.eventForm.value.hourDate?e.eventForm.value.startDate+"T"+e.eventForm.value.hourDate:e.eventForm.value.startDate+"T08:00"),e.eventSelected.dateFin=e.formatDate(""!==e.eventForm.value.hourEndDate?e.eventForm.value.endDate+"T"+e.eventForm.value.hourEndDate:e.eventForm.value.endDate+"T18:00"),e.eventSelected.place=e.eventForm.value.location,""!==e.eventForm.value.participant&&(e.eventSelected.participant=e.participantSelectedList.slice(0,-1),e.eventSelected.fullNameParticipants=e.fullNameParticipants.substring(1)),yield e.crmService.create(e.eventSelected).toPromise().then(t=>{let n;e.formUpdated=!1,e.modal.dismissAll(),n=t.typeEvent===wi.J.EVENT_TYPE_TASK?na:Kr;const i={id:t.id,start:new Date(t.dateDebut),end:new Date(t.dateFin),title:t.libelleEvent,color:n,actions:e.actions,typeEvent:t.typeEvent,participant:t.participant,place:t.place,description:t.description,customer:t.customerName,username:t.username,statut:t.statut,idLoanExtern:t.idLoanExtern,idCollection:t.idCollection,category:t.category,calendarEvent:t};t.username===e.userConnectedLogin?e.userEvents.push(i):e.teamEvents.push(i),e.refresh.next()}))})()}update(){var e=this;return(0,o.Z)(function*(){e.eventSelected.typeEvent=e.eventForm.value.typeEvent,e.eventSelected.libelleEvent=e.eventForm.value.title,e.eventSelected.description=e.eventForm.value.description,null!==e.eventForm.value.customer&&(e.eventSelected.idCustomerExtern=e.eventForm.value.customer.customerIdExtern,e.eventSelected.customerName=e.eventForm.value.customer.customerNameNoPipe),e.eventSelected.dateDebut=""!==e.eventForm.value.hourDate?e.eventForm.value.startDate+"T"+e.eventForm.value.hourDate+".000+0000":e.eventForm.value.startDate,e.eventSelected.dateFin=""!==e.eventForm.value.hourEndDate?e.eventForm.value.endDate+"T"+e.eventForm.value.hourEndDate+".000+0000":e.eventForm.value.endDate,e.eventSelected.place=e.eventForm.value.location,""!==e.eventForm.value.participant&&(e.eventSelected.participant=e.participantSelectedList.slice(0,-1)),yield e.crmService.update(e.eventSelected).toPromise().then(t=>{e.formUpdated=!1,e.modal.dismissAll();const n=e.events.findIndex(e=>e.id===t.id);let i;i=t.category===wi.J.COLLECTION?ra:t.typeEvent===wi.J.EVENT_TYPE_TASK?na:ea;const r={id:t.id,start:new Date(t.dateDebut),end:new Date(t.dateFin),title:t.libelleEvent,color:i,actions:e.actions,typeEvent:t.typeEvent,participant:t.participant,place:t.place,description:t.description,customer:t.customerName,username:t.username,statut:t.statut,idLoanExtern:t.idLoanExtern,idCollection:t.idCollection,category:t.category,calendarEvent:t};e.events[n]=r,e.refresh.next()})})()}participantMethod(){this.fullNameParticipants="",this.participantSelectedList="",this.eventForm.controls.participant.value.forEach(e=>{this.participantSelectedList=e.login+","+this.participantSelectedList,this.fullNameParticipants=this.fullNameParticipants+","+e.fullName}),void 0!==this.fullNameParticipants&&""!==this.fullNameParticipants&&(this.fullNameParticipants=this.fullNameParticipants.substring(1))}getCustomers(){this.customerService.getCustomerByOwner().subscribe(e=>{e.forEach(e=>{e.customerNameNoPipe=this.sharedService.getCustomerName(e)}),this.customers=e})}clearForm(){this.selectedTasks=[],this.eventForm.reset()}filterCustomerSingle(e){this.filteredCustomerSingle=[];for(let t=0;t<this.customers.length;t++){const n=this.customers[t];0===n.toLowerCase().indexOf(e.query.toLowerCase())&&this.filteredCustomerSingle.push({name:n,code:t})}}reset(){this.clearForm(),this.modal.dismissAll()}onItemSelect(e){this.userToInsert=this.userToInsert+e.item_id.concat(",")}onItemDeSelect(e){try{this.userToInsert=this.userToInsert.replace(e.item_id+",","")}catch{this.userToInsert=this.userToInsert.replace(e.item_id,"")}}onSelectAll(e){const t=JSON.stringify(e);JSON.parse(t,(e,t)=>{"string"==typeof t&&(this.userToInsert=this.userToInsert+t.concat(","))})}onDeSelectAll(e){this.userToInsert=""}onDropDownClose(){close()}openDialog(e){this.dialog.open(Si.z,{width:"350px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:"confirmation_dialog.delete_task"}}).afterClosed().subscribe(t=>{t&&this.crmService.delete(e.id).subscribe(t=>{this.events=this.events.filter(t=>t!==e),this.selectedTasks=[],this.selectedTasks.splice(this.selectedTasks.indexOf(e.id),1),this.devToolsServices.openToast(0,"alert.success")})})}getDirection(){return Ci.y.direction}getLang(){return this.translate.currentLang}dateChanged(){""!==this.eventForm.controls.startDate.value&&""!==this.eventForm.controls.endDate.value&&this.eventForm.controls.startDate.value>this.eventForm.controls.endDate.value&&this.devToolsServices.openToast(3,"alert.error_date")}collectionDetails(){var e=this;return(0,o.Z)(function*(){yield e.customer360Services.findLoanByIdExtern(e.eventSelected.idLoanExtern).pipe((0,le.U)(t=>(e.sharedService.setLoan(t),t)),(0,oe.zg)(t=>{const n=e.customerService.getCustomerInformation(t.customerDTO.id),i=new Fi.F;i.id=e.eventSelected.idCollection;const r=e.collectionServices.getCollection(i);return(0,c.D)([n,r])})).subscribe(t=>{e.modal.dismissAll(),e.sharedService.setCustomer(t[0]),e.sharedService.setCollection(t[1][0]),e.sharedService.rootingCollectionUrlByStatut("calendar")})})()}clientDetails(){var e=this;return(0,o.Z)(function*(){if(!0!==e.formUpdated)if(e.eventSelected.idLoanExtern)e.customer360Services.findLoanByIdExtern(e.eventSelected.idLoanExtern).subscribe(t=>{e.sharedService.setCustomer(t.customerDTO),e.modal.dismissAll(),e.router.navigate([wi.J.CUSTOMER_360_DETAILS_URL],{queryParams:{source:"calendar"}})});else{const t=new Ai.x;t.customerIdExtern=e.eventSelected.idCustomerExtern,e.customerService.findCustomer(t).subscribe(t=>{e.sharedService.setCustomer(t[0]),e.modal.dismissAll(),e.router.navigate([wi.J.CUSTOMER_360_DETAILS_URL],{queryParams:{source:"calendar"}})})}else e.devToolsServices.openToast(3,"alert.save_before_exit")})()}optionChange(e){"2"===e.value?(0===this.teamEvents.length&&(this.calendarEventsEntity.allTeamsTasks=!0,this.crmService.find(this.calendarEventsEntity).subscribe(e=>{let t;for(let n=0;n<e.length;n++){t=e[n].category===wi.J.COLLECTION_CATEGORY?ra:e[n].category===wi.J.LEGAL_CATEGORY?Kr:e[n].typeEvent===wi.J.EVENT_TYPE_TASK?na:ea;let i="";e[n].statut===wi.J.CLOSED&&(i="calendar-closed-task");const r=void 0!==this.teamUsers.find(t=>t.login===e[n].username)?" ("+this.teamUsers.find(t=>t.login===e[n].username).fullName+")":"",a={id:e[n].id,start:new Date(e[n].dateDebut),end:new Date(e[n].dateFin),title:e[n].libelleEvent+r,color:t,actions:this.actions,typeEvent:e[n].typeEvent,participant:e[n].participant,place:e[n].place,description:e[n].description,customer:e[n].customerName,meta:[{username:e[n].username}],statut:e[n].statut,cssClass:i,idLoanExtern:e[n].idLoanExtern,idCollection:e[n].idCollection,category:e[n].category,calendarEvent:e[n]};this.teamEvents.push(a)}this.refresh.next()})),this.events=this.teamEvents,this.teamOptionSelected=!0):"1"===e.value&&(this.events=this.userEvents,this.teamOptionSelected=!1)}teamMemberChanged(e){this.events=0===e.value.length?this.teamEvents:this.teamEvents.filter(t=>e.value.find(e=>e.login===t.meta[0].username))}loanDetails(){var e=this;return(0,o.Z)(function*(){yield e.customer360Services.findLoanByIdExtern(e.eventSelected.idLoanExtern).subscribe(t=>{e.settingService.findProductById(t.productId).subscribe(n=>{t.productDTO=n,e.loanSharedService.openLoan(t,"calendar"),e.modal.dismissAll()})})})()}itemDetails(){var e=this;return(0,o.Z)(function*(){e.eventSelected.category===e.genericCategory?yield e.settingService.finItemById(e.eventSelected.idItem).subscribe(t=>{e.sharedService.setItem(t),e.modal.dismissAll(),e.router.navigate([wi.J.GENERIC_WORKFLOW_SCREEN_URL])}):e.eventSelected.category===e.prospectionCategory&&e.customer360Services.findLoanByIdExtern(e.eventSelected.idLoanExtern).toPromise().then(t=>{const n=new Fi.F;n.id=e.eventSelected.idCollection,e.collectionServices.getCollection(n).subscribe(n=>{void 0===n[0].pendingCollectionInstance&&e.getPendingCollectionInstance(n[0]),e.sharedService.setLoan(t),e.sharedService.setCollection(n[0]),e.modal.dismissAll(),e.router.navigate(["acm/"+n[0].pendingCollectionInstance.ihmRoot],{queryParams:{source:"dashboard-collection"}})})})})()}getPendingCollectionInstance(e){if(e.collectionInstancesDtos.length>0){const t=new Date;if(-1!==String(e.availableDate).indexOf("-")){const t=String(e.availableDate).substring(0,4),n=String(e.availableDate).substring(5,7),i=String(e.availableDate).substring(8,10);e.availableDate=new Date(t+"-"+n+"-"+Number(i))}if(t>=e.availableDate)e.pendingCollectionInstance=e.collectionInstancesDtos.find(t=>t.idAcmCollectionStep===e.idAcmCollectionStep);else if(e.collectionInstancesDtos.sort((e,t)=>e.idAcmCollectionStep-t.idAcmCollectionStep),e.collectionInstancesDtos[0].idAcmCollectionStep===e.idAcmCollectionStep)e.pendingCollectionInstance=e.collectionInstancesDtos[0];else{const t=e.collectionInstancesDtos.find(t=>t.idAcmCollectionStep===e.idAcmCollectionStep);e.pendingCollectionInstance=e.collectionInstancesDtos.find(e=>e.orderEtapeProcess===t.orderEtapeProcess-1)}}return e}getCollaborators(){var e=this;return(0,o.Z)(function*(){if(null==e.collaborators){const t=new Mi.H;t.responsableId=e.sharedService.getUser().responsableId,yield e.settingsService.getUsers(t).toPromise().then(t=>{e.collaborators=t})}})()}filterCustomerName(e){this.customerPaginationEntity.pageSize=25,this.customerPaginationEntity.pageNumber=0,this.customerPaginationEntity.params=new Ai.x,this.customerPaginationEntity.params.customerName=e.query,this.customerListService.getCustomersPagination(this.customerPaginationEntity).subscribe(e=>{this.customerPaginationEntity=e,this.customerPaginationEntity.resultsCustomers.forEach(e=>{e.customerNameNoPipe=this.sharedService.getCustomerName(e)})})}compareCategory(e,t){return e===t}changeForm(){this.formUpdated=!0}claimDetails(){const e=new Ni;e.id=this.eventSelected.idClaim,e.pageSize=1,e.pageNumber=0;const t=new Bi.z,n=new Li;n.id=this.eventSelected.idClaim,t.claim=n,e.params=t,this.loanManagementService.findClaimsPagination(e).subscribe(e=>{if(this.sharedService.setClaim(e.resultsClaims[0]),e.resultsClaims[0].claim.idCustomer)this.customerManagementService.getCustomerInformationForClaims(e.resultsClaims[0].claim.idCustomer).subscribe(e=>{this.sharedService.setCustomer(e),this.sharedService.setProspect(null),this.router.navigate([wi.J.DETAIL_CLAIM])});else{const t=new Ri;t.name=e.resultsClaims[0].claim.name,t.email=e.resultsClaims[0].claim.email,t.phone=e.resultsClaims[0].claim.phone,this.sharedService.setProspect(t),this.router.navigate([wi.J.DETAIL_CLAIM])}this.reset()})}timeValidation(){return e=>{const t=e.get("startDate")?.value,n=e.get("hourDate")?.value,i=e.get("endDate")?.value,r=e.get("hourEndDate")?.value,a=new Date,o=a.toISOString().split("T")[0],s=`${a.getHours().toString().padStart(2,"0")}:${a.getMinutes().toString().padStart(2,"0")}`;if(t===o&&n&&n<s)return{invalidStartTime:!0};if(t&&n&&i&&r){const e=new Date(`${t}T${n}`);if(new Date(`${i}T${r}`)<=e)return{invalidTimeRange:!0}}return null}}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(zi.FF),d.\u0275\u0275directiveInject(r.F0),d.\u0275\u0275directiveInject(Vi.uw),d.\u0275\u0275directiveInject(Hi._),d.\u0275\u0275directiveInject(_i.g),d.\u0275\u0275directiveInject(Yi.d),d.\u0275\u0275directiveInject(Ei.qu),d.\u0275\u0275directiveInject(ji.U),d.\u0275\u0275directiveInject($i.R),d.\u0275\u0275directiveInject(Wi.sK),d.\u0275\u0275directiveInject(Ui.F),d.\u0275\u0275directiveInject(i.DatePipe),d.\u0275\u0275directiveInject(Gi.by),d.\u0275\u0275directiveInject(Xi.W),d.\u0275\u0275directiveInject(Ui.F),d.\u0275\u0275directiveInject(Ji.f),d.\u0275\u0275directiveInject(qi.c),d.\u0275\u0275directiveInject(Qi.E),d.\u0275\u0275directiveInject(_i.g),d.\u0275\u0275directiveInject(Zi.q),d.\u0275\u0275directiveInject(Ki.n))},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["app-calendar"]],viewQuery:function(e,t){if(1&e&&(d.\u0275\u0275viewQuery(lr,7),d.\u0275\u0275viewQuery(cr,7)),2&e){let e;d.\u0275\u0275queryRefresh(e=d.\u0275\u0275loadQuery())&&(t.modalContent=e.first),d.\u0275\u0275queryRefresh(e=d.\u0275\u0275loadQuery())&&(t.modalContentConsult=e.first)}},decls:77,vars:76,consts:[[3,"heading","icon","account","status"],[1,"card","mb-3"],[1,"card-header-tab","card-header"],[1,"d-flex","flex-row","position-relative","form-group","col-4","mt-2"],["labelPosition","after",1,"d-flex","flex-row","bd-highlight","mb-3",3,"change"],["value","1",1,"pt-2","px-3","bd-highlight",3,"checked"],["value","2",1,"pt-2","px-3","bd-highlight"],["class","col-6 mt-1",4,"ngIf"],[1,"btn-actions-pane-right"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[1,"mx-2",3,"icon"],[4,"ngIf"],[1,"card-body"],[1,"row","text-center"],[1,"col-md-4"],[1,"btn-group"],["mwlCalendarPreviousView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],["mwlCalendarToday","",1,"btn","btn-outline-secondary",3,"viewDate","viewDateChange"],["mwlCalendarNextView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],[1,"btn","btn-primary",3,"click"],[3,"ngSwitch"],[3,"viewDate","events","refresh","activeDayIsOpen","cellTemplate","weekStartsOn","weekendDays","locale","dayClicked","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"viewDate","events","refresh","locale","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[1,"d-block","py-4","px-0","text-right","card-footer"],[1,"badge-collection","mx-2"],[1,"badge-loan","mx-2"],[1,"badge-legal","mx-2"],[1,"badge-prospect","mx-2"],[1,"badge-generic-wf","mx-2"],[1,"badge-claim","mx-2"],["modalContent",""],["customCellTemplate",""],["modalContentConsult",""],[1,"col-6","mt-1"],["tabindex","0",3,"multiple","options","config","change"],[3,"viewDate","events","refresh","activeDayIsOpen","cellTemplate","weekStartsOn","weekendDays","locale","dayClicked","eventClicked","eventTimesChanged"],[3,"viewDate","events","refresh","locale","eventClicked","eventTimesChanged"],[3,"dir","ngClass"],[1,"modal-header","py-2"],["class","modal-title",4,"ngIf"],["type","button",3,"click"],["aria-hidden","true"],[1,"form",3,"formGroup","change"],[1,"position-relative"],[1,"text-danger"],["type","text","formControlName","title",1,"form-control"],["class","position-relative",4,"ngIf"],["formControlName","customer","field","customerNameNoPipe","id","user-autocomplete",3,"suggestions","placeholder","size","minLength","forceSelection","inputStyle","completeMethod"],["pTemplate","item"],[1,"input-group"],[1,"col-6"],["type","date","formControlName","startDate",1,"form-control",3,"min","change"],["type","time","formControlName","hourDate",1,"form-control"],["type","date","formControlName","endDate",1,"form-control",3,"min","change"],["type","time","formControlName","hourEndDate",1,"form-control"],["tabindex","0","formControlName","participant",3,"multiple","options","config","change"],["type","text","formControlName","location",1,"form-control"],["rows","3","cols","20","pInputTextarea","","formControlName","description",1,"form-control"],[1,"modal-footer","py-1"],["type","reset",1,"mb-2","mx-2","btn","btn-outline-danger",3,"click"],["class","mb-2 btn btn-primary",3,"disabled","click",4,"ngIf"],["class","mb-2 mx-2 btn btn-outline-primary",3,"click",4,"ngIf"],[1,"modal-title"],["disabled","","type","text",1,"form-control",3,"value"],["tabindex","0","formControlName","user",3,"ngClass","disabled","multiple","options","config"],[1,"mb-2","btn","btn-primary",3,"disabled","click"],[1,"mb-2","mx-2","btn","btn-outline-primary",3,"click"],[1,"cal-cell-top"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],[1,"cal-day-badge"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf","ngIfThen","ngIfElse"],["showEventsBlock",""],["showMoreBlock",""],["class","cal-events body-events mt-1",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick",4,"ngIf"],[1,"cal-events","body-events","mt-1",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick"],[1,"cal-events"],[1,"show-more"],[1,"col-xl-12","col-sm-12"],[1,"widget-content","p-1"],[1,"widget-content-outer"],[1,"widget-content-wrapper"],[1,"widget-content-left"],[1,"widget-heading"],[1,"widget-subheading"],[1,"row","p-2"],[1,"col-xl-6","col-sm-6","widget-content","p-1"],["type","date","disabled","",1,"form-control",3,"value"],["type","time",1,"form-control",3,"value"],[1,"col-xl-12","col-sm-12","widget-content","p-1"],["class","mb-0 table green",4,"ngIf"],[1,"widget-content"],[1,"mb-0","table","green"],[4,"ngFor","ngForOf"],[1,"text-danger","pt-3"]],template:function(e,t){1&e&&(d.\u0275\u0275element(0,"app-page-title",0),d.\u0275\u0275pipe(1,"translate"),d.\u0275\u0275elementStart(2,"div",1),d.\u0275\u0275elementStart(3,"div",2),d.\u0275\u0275elementStart(4,"div",3),d.\u0275\u0275elementStart(5,"mat-radio-group",4),d.\u0275\u0275listener("change",function(e){return t.optionChange(e)}),d.\u0275\u0275elementStart(6,"mat-radio-button",5),d.\u0275\u0275text(7),d.\u0275\u0275pipe(8,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(9,"mat-radio-button",6),d.\u0275\u0275text(10),d.\u0275\u0275pipe(11,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(12,ur,2,1,"div",7),d.\u0275\u0275pipe(13,"async"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(14,"div",8),d.\u0275\u0275elementStart(15,"button",9),d.\u0275\u0275listener("click",function(){return t.addEvent()}),d.\u0275\u0275element(16,"fa-icon",10),d.\u0275\u0275template(17,pr,3,3,"span",11),d.\u0275\u0275template(18,mr,3,3,"span",11),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(19,"div",12),d.\u0275\u0275elementStart(20,"div",13),d.\u0275\u0275elementStart(21,"div",14),d.\u0275\u0275elementStart(22,"div",15),d.\u0275\u0275elementStart(23,"div",16),d.\u0275\u0275listener("viewDateChange",function(e){return t.viewDate=e})("viewDateChange",function(){return t.closeOpenMonthViewDay()}),d.\u0275\u0275text(24),d.\u0275\u0275pipe(25,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(26,"div",17),d.\u0275\u0275listener("viewDateChange",function(e){return t.viewDate=e}),d.\u0275\u0275text(27),d.\u0275\u0275pipe(28,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(29,"div",18),d.\u0275\u0275listener("viewDateChange",function(e){return t.viewDate=e})("viewDateChange",function(){return t.closeOpenMonthViewDay()}),d.\u0275\u0275text(30),d.\u0275\u0275pipe(31,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(32,"div",14),d.\u0275\u0275elementStart(33,"h3"),d.\u0275\u0275text(34),d.\u0275\u0275pipe(35,"calendarDate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(36,"div",14),d.\u0275\u0275elementStart(37,"div",15),d.\u0275\u0275elementStart(38,"div",19),d.\u0275\u0275listener("click",function(){return t.setView(t.CalendarView.Month)}),d.\u0275\u0275text(39),d.\u0275\u0275pipe(40,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(41,"div",19),d.\u0275\u0275listener("click",function(){return t.setView(t.CalendarView.Week)}),d.\u0275\u0275text(42),d.\u0275\u0275pipe(43,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(44,"div",19),d.\u0275\u0275listener("click",function(){return t.setView(t.CalendarView.Day)}),d.\u0275\u0275text(45),d.\u0275\u0275pipe(46,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(47,"br"),d.\u0275\u0275elementStart(48,"div",20),d.\u0275\u0275template(49,vr,1,8,"mwl-calendar-month-view",21),d.\u0275\u0275template(50,hr,1,4,"mwl-calendar-week-view",22),d.\u0275\u0275template(51,gr,1,4,"mwl-calendar-day-view",22),d.\u0275\u0275elementStart(52,"div",23),d.\u0275\u0275element(53,"span",24),d.\u0275\u0275text(54),d.\u0275\u0275pipe(55,"translate"),d.\u0275\u0275element(56,"span",25),d.\u0275\u0275text(57),d.\u0275\u0275pipe(58,"translate"),d.\u0275\u0275element(59,"span",26),d.\u0275\u0275text(60),d.\u0275\u0275pipe(61,"translate"),d.\u0275\u0275element(62,"span",27),d.\u0275\u0275text(63),d.\u0275\u0275pipe(64,"translate"),d.\u0275\u0275element(65,"span",28),d.\u0275\u0275text(66),d.\u0275\u0275pipe(67,"translate"),d.\u0275\u0275element(68,"span",29),d.\u0275\u0275text(69),d.\u0275\u0275pipe(70,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(71,Pr,84,62,"ng-template",null,30,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(73,$r,6,7,"ng-template",null,31,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275template(75,Zr,108,49,"ng-template",null,32,d.\u0275\u0275templateRefExtractor),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275property("heading",d.\u0275\u0275pipeBind1(1,39,"sidebar.calender"))("icon","lnr-calendar-full")("account","")("status",-1),d.\u0275\u0275advance(6),d.\u0275\u0275property("checked",!0),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(8,41,"dashboard.task")," "),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(11,43,"dashboard.teams_tasks")," "),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",d.\u0275\u0275pipeBind1(13,45,t.asyncP)),d.\u0275\u0275advance(4),d.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!t.teamOptionSelected),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",t.teamOptionSelected),d.\u0275\u0275advance(5),d.\u0275\u0275property("view",t.view)("viewDate",t.viewDate),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(25,47,"button.previous")," "),d.\u0275\u0275advance(2),d.\u0275\u0275property("viewDate",t.viewDate),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(28,49,"button.today")," "),d.\u0275\u0275advance(2),d.\u0275\u0275property("view",t.view)("viewDate",t.viewDate),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(31,51,"button.next")," "),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind4(35,53,t.viewDate,t.view+"ViewTitle",t.getLang(),t.weekStartsOn)),d.\u0275\u0275advance(4),d.\u0275\u0275classProp("active",t.view===t.CalendarView.Month),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(40,58,"button.month")," "),d.\u0275\u0275advance(2),d.\u0275\u0275classProp("active",t.view===t.CalendarView.Week),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(43,60,"button.week")," "),d.\u0275\u0275advance(2),d.\u0275\u0275classProp("active",t.view===t.CalendarView.Day),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(46,62,"button.day")," "),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngSwitch",t.view),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase",t.CalendarView.Month),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase",t.CalendarView.Week),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase",t.CalendarView.Day),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind1(55,64,"collections.collection")," "),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind1(58,66,"upload_document.Loan")," "),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind1(61,68,"legal.legal")," "),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind1(64,70,"task.prospecting")," "),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(67,72,"generic-wf.generic-wf")," "),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(70,74,"claims.claim")," "))},directives:[er.T,tr.HK,nr.VQ,nr.U0,i.NgIf,Gi.BN,$n,Un,Wn,i.NgSwitch,i.NgSwitchCase,ir.rL,ti,ci,vi,rr.Lv,i.NgClass,Ei._Y,Ei.JL,Ei.sg,tr.MU,ar.jv,Ei.Fj,tr.oH,Ei.JJ,Ei.u,ar.wj,or.Qc,sr.jx,i.NgForOf,i.NgStyle,Dn,Zn],pipes:[Wi.X$,i.AsyncPipe,Jn,Qn],encapsulation:2,changeDetection:0}),e})();var sa=n(42663),la=n(15603);const ca=["modalContent"],da=["ngxLoading"];function ua(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"span"),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"date"),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind2(2,1,null==e?null:e.dateDebut,"EEEE dd MMMM "),"")}}function pa(e,t){1&e&&d.\u0275\u0275element(0,"div",38)}function ma(e,t){1&e&&d.\u0275\u0275element(0,"div",39)}function va(e,t){1&e&&d.\u0275\u0275element(0,"div",40)}function ha(e,t){1&e&&d.\u0275\u0275element(0,"div",40)}function ga(e,t){1&e&&d.\u0275\u0275element(0,"div",41)}function fa(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",42),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"status.new"),""))}function ya(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",43),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"status.done"),""))}function Ea(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",44),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"status.cancel"),""))}function Sa(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",45),d.\u0275\u0275elementStart(1,"button",46),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(e);const t=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext().editEvent(t)}),d.\u0275\u0275element(2,"fa-icon",47),d.\u0275\u0275elementEnd(),d.\u0275\u0275text(3," \xa0 "),d.\u0275\u0275elementStart(4,"button",48),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(e);const t=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext().openDialog(null==t?null:t.id)}),d.\u0275\u0275element(5,"fa-icon",47),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){const e=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(1),d.\u0275\u0275property("hidden",e.iconButton),d.\u0275\u0275advance(1),d.\u0275\u0275property("icon",e.library.getIconDefinition("fas","pencil-ruler")),d.\u0275\u0275advance(2),d.\u0275\u0275property("hidden",e.iconButton),d.\u0275\u0275advance(1),d.\u0275\u0275property("icon",e.library.getIconDefinition("fas","trash"))}}function xa(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"ul",16),d.\u0275\u0275elementStart(1,"div",17),d.\u0275\u0275template(2,ua,3,4,"span",18),d.\u0275\u0275pipe(3,"date"),d.\u0275\u0275pipe(4,"date"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(5,"li",19),d.\u0275\u0275template(6,pa,1,0,"div",20),d.\u0275\u0275template(7,ma,1,0,"div",21),d.\u0275\u0275template(8,va,1,0,"div",22),d.\u0275\u0275template(9,ha,1,0,"div",23),d.\u0275\u0275template(10,ga,1,0,"div",24),d.\u0275\u0275elementStart(11,"div",25),d.\u0275\u0275elementStart(12,"div",26),d.\u0275\u0275elementStart(13,"div",27),d.\u0275\u0275elementStart(14,"div",28),d.\u0275\u0275elementStart(15,"input",29),d.\u0275\u0275listener("change",function(){const t=d.\u0275\u0275restoreView(e),n=t.$implicit,i=t.index;return d.\u0275\u0275nextContext().onChange(n,i)}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(16,"label",30),d.\u0275\u0275text(17,"\xa0"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(18,"div",31),d.\u0275\u0275elementStart(19,"div",32),d.\u0275\u0275text(20),d.\u0275\u0275template(21,fa,3,3,"div",33),d.\u0275\u0275template(22,ya,3,3,"div",34),d.\u0275\u0275template(23,Ea,3,3,"div",35),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(24,"div",36),d.\u0275\u0275elementStart(25,"i"),d.\u0275\u0275text(26),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(27,Sa,6,4,"div",37),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(28,"div"),d.\u0275\u0275elementEnd()}if(2&e){const e=t.$implicit,n=t.index,i=d.\u0275\u0275nextContext();d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",0==n||d.\u0275\u0275pipeBind2(3,16,null==e?null:e.dateDebut,"EEEE dd MMMM ")!==d.\u0275\u0275pipeBind2(4,19,null==i.tasks[n-1]?null:i.tasks[n-1].dateDebut,"EEEE dd MMMM ")),d.\u0275\u0275advance(4),d.\u0275\u0275property("ngIf",e.category===i.loan_category),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",e.category===i.legal_category),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",e.category===i.collection_category),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",e.category===i.prospect_category),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",e.category===i.claim_category),d.\u0275\u0275advance(5),d.\u0275\u0275property("id",null==e?null:e.id),d.\u0275\u0275advance(1),d.\u0275\u0275property("for",null==e?null:e.id),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate3(" ",null!==(null==e?null:e.dateDebut)?null==e?null:e.dateDebut.substring(11,16):null==e?null:e.dateDebut,"- ",null!==(null==e?null:e.dateFin)?null==e?null:e.dateFin.substring(11,16):null==e?null:e.dateFin," \xa0\xa0\xa0",null==e?null:e.libelleEvent," "),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf","New"===e.statut),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf","Done"===e.statut||"CLOSED"===e.statut),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf","Canceled"===e.statut),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(null==e?null:e.description),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",i.visibleIndices.has(n))}}function wa(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",49),d.\u0275\u0275elementStart(1,"ul",16),d.\u0275\u0275elementStart(2,"h6",50),d.\u0275\u0275text(3),d.\u0275\u0275pipe(4,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind1(4,1,"task.missing_task")," "))}function Ca(e,t){1&e&&(d.\u0275\u0275elementStart(0,"h5",75),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"task.new_event")))}function ba(e,t){1&e&&(d.\u0275\u0275elementStart(0,"h5",75),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"task.modif_event")))}function Da(e,t){if(1&e&&d.\u0275\u0275text(0),2&e){const e=t.$implicit;d.\u0275\u0275textInterpolate2(" ",e.customerNameNoPipe," (",e.customerNumber,") ")}}function Ta(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",76),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).collectionDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"collections.open_collection"),""))}function Ia(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",76),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).loanDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"task.open_loan")))}function ka(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",76),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).clientDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"button.Go_to_costumer")))}function Oa(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",76),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).itemDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"button.Go_to_Wf")))}function Fa(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",76),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).itemDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"button.Go_to_Wf")))}function Ma(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",76),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).collectionDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"collections.open_legal_collection"),""))}const Aa=function(e){return{"text-end":e}},Pa=function(){return{width:"100%"}};function Na(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",51),d.\u0275\u0275elementStart(1,"div",52),d.\u0275\u0275template(2,Ca,3,3,"h5",53),d.\u0275\u0275template(3,ba,3,3,"h5",53),d.\u0275\u0275elementStart(4,"button",54),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e).close()}),d.\u0275\u0275elementStart(5,"span",55),d.\u0275\u0275text(6,"\xd7"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(7,"div",56),d.\u0275\u0275elementStart(8,"form",57),d.\u0275\u0275listener("ngSubmit",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().onSubmit()})("change",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().changeForm()}),d.\u0275\u0275elementStart(9,"div",58),d.\u0275\u0275elementStart(10,"label"),d.\u0275\u0275text(11),d.\u0275\u0275pipe(12,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(13,"div"),d.\u0275\u0275element(14,"input",59),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(15,"br"),d.\u0275\u0275elementStart(16,"div",58),d.\u0275\u0275elementStart(17,"label"),d.\u0275\u0275text(18),d.\u0275\u0275pipe(19,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(20,"p-autoComplete",60),d.\u0275\u0275listener("completeMethod",function(t){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().filterCustomerSingle(t)}),d.\u0275\u0275template(21,Da,1,2,"ng-template",61),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(22,"br"),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(23,"br"),d.\u0275\u0275elementStart(24,"div",58),d.\u0275\u0275elementStart(25,"label"),d.\u0275\u0275text(26),d.\u0275\u0275pipe(27,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(28,"div",62),d.\u0275\u0275elementStart(29,"div",63),d.\u0275\u0275elementStart(30,"input",64),d.\u0275\u0275listener("change",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().dateChanged()}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(31,"div",63),d.\u0275\u0275element(32,"input",65),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(33,"br"),d.\u0275\u0275elementStart(34,"div",58),d.\u0275\u0275elementStart(35,"label"),d.\u0275\u0275text(36),d.\u0275\u0275pipe(37,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(38,"div",62),d.\u0275\u0275elementStart(39,"div",63),d.\u0275\u0275elementStart(40,"input",66),d.\u0275\u0275listener("change",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().dateChanged()}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(41,"div",63),d.\u0275\u0275element(42,"input",67),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(43,"br"),d.\u0275\u0275elementStart(44,"div"),d.\u0275\u0275elementStart(45,"label"),d.\u0275\u0275text(46),d.\u0275\u0275pipe(47,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(48,"ngx-select-dropdown",68),d.\u0275\u0275listener("change",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().participantMethod()}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(49,"br"),d.\u0275\u0275elementStart(50,"div",58),d.\u0275\u0275elementStart(51,"label"),d.\u0275\u0275text(52),d.\u0275\u0275pipe(53,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(54,"div",62),d.\u0275\u0275element(55,"input",69),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(56,"br"),d.\u0275\u0275elementStart(57,"div",58),d.\u0275\u0275elementStart(58,"label"),d.\u0275\u0275text(59),d.\u0275\u0275pipe(60,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(61,"div",62),d.\u0275\u0275elementStart(62,"textarea",70),d.\u0275\u0275text(63,"          "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(64,"div",71),d.\u0275\u0275elementStart(65,"button",72),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().reset()}),d.\u0275\u0275text(66),d.\u0275\u0275pipe(67,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(68,"button",73),d.\u0275\u0275text(69),d.\u0275\u0275pipe(70,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(71,Ta,3,3,"button",74),d.\u0275\u0275template(72,Ia,3,3,"button",74),d.\u0275\u0275template(73,ka,3,3,"button",74),d.\u0275\u0275template(74,Oa,3,3,"button",74),d.\u0275\u0275template(75,Fa,3,3,"button",74),d.\u0275\u0275template(76,Ma,3,3,"button",74),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){const e=d.\u0275\u0275nextContext();d.\u0275\u0275propertyInterpolate("dir",e.getDirection()),d.\u0275\u0275property("ngClass",d.\u0275\u0275pureFunction1(53,Aa,"ar"===e.translate.currentLang)),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",void 0===e.calendarEventsEntity.id),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",void 0!==e.calendarEventsEntity.id),d.\u0275\u0275advance(1),d.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),d.\u0275\u0275advance(4),d.\u0275\u0275property("formGroup",e.eventForm),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(12,35,"task.title"),""),d.\u0275\u0275advance(7),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(19,37,"task.customers"),""),d.\u0275\u0275advance(2),d.\u0275\u0275styleMap(d.\u0275\u0275pureFunction0(55,Pa)),d.\u0275\u0275property("suggestions",e.customerPaginationEntity.resultsCustomers)("size",30)("minLength",1)("forceSelection",!0)("inputStyle",d.\u0275\u0275pureFunction0(56,Pa)),d.\u0275\u0275advance(6),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(27,39,"task.start_date"),""),d.\u0275\u0275advance(4),d.\u0275\u0275property("min",e.minDate),d.\u0275\u0275advance(6),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(37,41,"task.end_date"),""),d.\u0275\u0275advance(4),d.\u0275\u0275property("min",e.eventForm.controls.startDate.value),d.\u0275\u0275advance(6),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind1(47,43,"task.participant")," "),d.\u0275\u0275advance(2),d.\u0275\u0275property("multiple",!0)("options",e.participants)("config",e.configParticipants),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(53,45,"task.location"),""),d.\u0275\u0275advance(7),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(60,47,"task.description"),""),d.\u0275\u0275advance(7),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(67,49,"button.cancel")),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(70,51,"button.save")),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",(null==e.calendarEventsEntity?null:e.calendarEventsEntity.category)===e.collectionCategory),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",(null==e.calendarEventsEntity?null:e.calendarEventsEntity.category)===e.loanCategory),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",null!=(null==e.calendarEventsEntity?null:e.calendarEventsEntity.idCustomerExtern)),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",(null==e.calendarEventsEntity?null:e.calendarEventsEntity.category)===e.genericWorkflowCategory),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",(null==e.calendarEventsEntity?null:e.calendarEventsEntity.category)===e.genericWorkflowCategory),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",(null==e.calendarEventsEntity?null:e.calendarEventsEntity.category)===e.legalCategory)}}const La=function(e,t,n){return{animationType:e,primaryColour:t,tertiaryColour:n,backdropBorderRadius:"3px"}},Ba="var(--primary)";let Ra=(()=>{class e{constructor(e,t,n,i,r,a,o,s,l,c,d,u,p,m,v,h,g){this.modal=e,this.router=t,this.dialog=n,this.settingService=i,this.crmService=r,this.loanSharedService=a,this.collectionServices=o,this.visitReportServices=s,this.formBuilder=l,this.customerService=c,this.datePipe=d,this.customer360Services=u,this.devToolsServices=p,this.translate=m,this.customerListService=v,this.sharedService=h,this.library=g,this.ngxLoadingAnimationTypes=sa.Sn,this.primaryColour=Ba,this.config={animationType:sa.Sn.none,primaryColour:Ba},this.loading=!0,this.tasks=[],this.calendarEventsEntity=new xi.J,this.calendarEventsEntityToReload=new xi.J,this.selectedTasks=[],this.users=[],this.selectCustomer=[],this.block=!0,this.iconButton=!0,this.visibleIndices=new Set,this.task_category=wi.J.EVENT_TYPE_TASK,this.loan_category=wi.J.LOAN_CATEGORY,this.legal_category=wi.J.LEGAL_CATEGORY,this.collection_category=wi.J.COLLECTION_CATEGORY,this.prospect_category=wi.J.PROSPECT_CATEGORY,this.claim_category=wi.J.CLAIM,this.customerPaginationEntity=new Pi.W,this.configParticipants={displayKey:"fullName",search:!0,placeholder:" ",searchOnKey:"fullName"},this.participants=[],this.participantSelectedList="",this.collectionCategory=wi.J.COLLECTION_CATEGORY,this.legalCategory=wi.J.LEGAL_CATEGORY,this.loanCategory=wi.J.LOAN_CATEGORY,this.genericWorkflowCategory=wi.J.GENERIC_CATEGORY,this.formUpdated=!1,this.customers=[],this.filteredCustomerSingle=[]}ngOnInit(){this.calendarEventsEntity.sortedByDate=!0,this.calendarEventsEntity.username=this.sharedService.getUser().login,this.crmService.find(this.calendarEventsEntity).subscribe(e=>{this.tasks=e,this.loading=!1}),this.visitReportServices.getUsersVisit().subscribe(e=>{this.participants=e;for(let t=0;t<e.length;t++)this.users.push({item_id:e[t].login,item_text:e[t].simpleName});this.loanSharedService.setUsers(this.users)})}addEvent(){this.calendarEventsEntity=new xi.J;const e=new Date;e.setHours(0,0,0,0),this.minDate=this.datePipe.transform(e.setDate(e.getDate()),"yyyy-MM-dd"),void 0!==this.eventForm&&this.clearForm(),this.createForm(),this.formUpdated=!1,this.modal.open(this.modalContent,{size:"md"})}editEvent(e){this.createForm(),this.formUpdated=!1,this.calendarEventsEntity=e,this.eventForm.controls.startDate.setValue(e.dateDebut.substring(0,10)),this.eventForm.controls.hourDate.setValue(e.dateDebut.substring(11,16)),this.eventForm.controls.endDate.setValue(e.dateFin.substring(0,10)),this.eventForm.controls.hourEndDate.setValue(e.dateFin.substring(11,16)),this.eventForm.controls.title.setValue(e.libelleEvent),this.eventForm.controls.description.setValue(e.description),this.eventForm.controls.location.setValue(e.place),this.eventForm.controls.startDate.setValue(e.dateDebut.substring(0,10)),this.eventForm.controls.hourDate.setValue(e.dateDebut.substring(11,16)),this.eventForm.controls.title.setValue(e.libelleEvent),this.eventForm.controls.description.setValue(e.description);const t=[];if(null!=e.participant){const n=(e.participant.match(/,/g)||[]).length+1;e.participant.split(",",n).forEach(e=>{this.participants.find(n=>{n.login===e&&t.push(n)})})}this.eventForm.controls.participant.setValue(t),this.participantMethod();const n=new Ai.x;n.customerIdExtern=e.idCustomerExtern,n.customerNameNoPipe=e.customerName,this.eventForm.controls.customer.setValue(n),this.modal.open(this.modalContent,{size:"md"})}createForm(){this.eventForm=this.formBuilder.group({title:["",Ei.kI.required],startDate:["",Ei.kI.required],hourDate:[""],endDate:["",Ei.kI.required],hourEndDate:[""],customer:[""],location:[""],description:[""],participant:[""]})}doneTask(){var e=this;return(0,o.Z)(function*(){for(let t=0;t<e.selectedTasks.length;t++)e.calendarEventsEntity=e.selectedTasks[t],e.calendarEventsEntity.statut=wi.J.CLOSED,yield e.crmService.update(e.calendarEventsEntity).toPromise().then(t=>{e.reloadTable()})})()}cancelTask(){var e=this;return(0,o.Z)(function*(){for(let t=0;t<e.selectedTasks.length;t++)e.calendarEventsEntity.id=e.selectedTasks[t].id,e.calendarEventsEntity.statut=wi.J.TASK_STATUS_CANCELED,yield e.crmService.update(e.calendarEventsEntity).toPromise().then(t=>{e.reloadTable()})})()}onSubmit(){this.eventForm.valid&&(""!==this.eventForm.controls.startDate.value&&""!==this.eventForm.controls.endDate.value&&this.eventForm.controls.startDate.value>this.eventForm.controls.endDate.value?this.devToolsServices.openToast(3,"alert.error_date"):void 0!==this.calendarEventsEntity.id?this.update():this.save().then(()=>{this.devToolsServices.openToast(0,"alert.success")}))}save(){var e=this;return(0,o.Z)(function*(){e.calendarEventsEntity.libelleEvent=e.eventForm.value.title,e.calendarEventsEntity.description=e.eventForm.value.description,e.calendarEventsEntity.username=e.sharedService.getUser().login,e.calendarEventsEntity.userFullName=e.sharedService.getUser().fullName,e.calendarEventsEntity.category=wi.J.PROSPECT_CATEGORY,null!==e.eventForm.value.customer&&(e.calendarEventsEntity.idCustomerExtern=e.eventForm.value.customer.customerIdExtern,e.calendarEventsEntity.customerName=e.eventForm.value.customer.customerNameNoPipe),e.calendarEventsEntity.dateDebut=""!==e.eventForm.value.hourDate?e.eventForm.value.startDate+"T"+e.eventForm.value.hourDate:e.eventForm.value.startDate,e.calendarEventsEntity.dateFin=""!==e.eventForm.value.hourEndDate?e.eventForm.value.endDate+"T"+e.eventForm.value.hourEndDate+".000+0000":e.eventForm.value.endDate,""!==e.eventForm.value.participant&&(e.calendarEventsEntity.participant=e.participantSelectedList.slice(0,-1),e.calendarEventsEntity.fullNameParticipants=e.fullNameParticipants),e.calendarEventsEntity.typeEvent=wi.J.EVENT_TYPE_TASK,e.calendarEventsEntity.enabled=!0,e.calendarEventsEntity.userEmail=e.sharedService.getUser().email,e.calendarEventsEntity.customerNumber=e.eventForm.value.customer.customerNumber,yield e.crmService.create(e.calendarEventsEntity).toPromise().then(t=>{e.formUpdated=!1,e.reloadTable(),e.clearForm(),e.visibleIndices.clear(),e.modal.dismissAll()})})()}update(){var e=this;return(0,o.Z)(function*(){e.calendarEventsEntity.libelleEvent=e.eventForm.value.title,e.calendarEventsEntity.description=e.eventForm.value.description,null!==e.eventForm.value.customer&&(e.calendarEventsEntity.idCustomerExtern=e.eventForm.value.customer.customerIdExtern,e.calendarEventsEntity.customerName=e.eventForm.value.customer.customerNameNoPipe),e.calendarEventsEntity.dateDebut=""!==e.eventForm.value.hourDate&&null!==e.eventForm.value.hourDate?e.eventForm.value.startDate+"T"+e.eventForm.value.hourDate+".000+0000":e.eventForm.value.startDate,e.calendarEventsEntity.dateFin=""!==e.eventForm.value.hourEndDate&&null!==e.eventForm.value.hourEndDate?e.eventForm.value.endDate+"T"+e.eventForm.value.hourEndDate+".000+0000":e.eventForm.value.endDate,e.calendarEventsEntity.place=e.eventForm.value.location,""!==e.eventForm.value.participant&&(e.calendarEventsEntity.participant=e.participantSelectedList.slice(0,-1)),yield e.crmService.update(e.calendarEventsEntity).toPromise().then(t=>{e.formUpdated=!1,e.reloadTable(),e.modal.dismissAll(),e.clearForm(),e.visibleIndices.clear()})})()}participantMethod(){this.participantSelectedList="",this.fullNameParticipants="",this.eventForm.controls.participant.value.forEach(e=>{this.participantSelectedList=e.login+","+this.participantSelectedList,this.fullNameParticipants=this.fullNameParticipants+","+e.fullName}),void 0!==this.fullNameParticipants&&""!==this.fullNameParticipants&&(this.fullNameParticipants=this.fullNameParticipants.substring(1))}clearForm(){this.selectedTasks=[],this.eventForm.reset()}filterCustomerSingle(e){this.customerPaginationEntity.pageSize=25,this.customerPaginationEntity.pageNumber=0,this.customerPaginationEntity.params=new Ai.x,this.customerPaginationEntity.params.customerName=e.query,this.customerListService.getCustomersPagination(this.customerPaginationEntity).subscribe(e=>{this.customerPaginationEntity=e,this.customerPaginationEntity.resultsCustomers.forEach(e=>{e.customerNameNoPipe=this.sharedService.getCustomerName(e)})})}onChange(e,t){-1===this.selectedTasks.indexOf(e)?this.selectedTasks.push(e):this.selectedTasks.splice(this.selectedTasks.indexOf(e),1),this.block=!(this.selectedTasks.length>0),this.visibleIndices.delete(t)||this.visibleIndices.add(t),this.iconButton=this.selectedTasks.length>1||0===this.selectedTasks.length}reset(){this.eventForm.reset(),this.modal.dismissAll()}openDialog(e){this.dialog.open(Si.z,{width:"350px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:"confirmation_dialog.delete_task"}}).afterClosed().subscribe(t=>{t&&this.crmService.delete(e).subscribe(t=>{this.reloadTable(),this.selectedTasks=[],this.selectedTasks.splice(this.selectedTasks.indexOf(e),1),this.devToolsServices.openToast(0,"alert.success")})})}reloadTable(){this.calendarEventsEntityToReload.sortedByDate=!0,this.calendarEventsEntityToReload.username=this.sharedService.getUser().login,this.loading=!0,this.crmService.find(this.calendarEventsEntityToReload).subscribe(e=>{this.tasks=e,this.selectedTasks=[],this.loading=!1})}getDirection(){return Ci.y.direction}dateChanged(){""!==this.eventForm.controls.startDate.value&&""!==this.eventForm.controls.endDate.value&&this.eventForm.controls.startDate.value>this.eventForm.controls.endDate.value&&this.devToolsServices.openToast(3,"alert.error_date")}getTranslationOption(e){return this.translate.get("customer."+e).subscribe(t=>{e=t}),e}collectionDetails(){var e=this;return(0,o.Z)(function*(){yield e.customer360Services.findLoanByIdExtern(e.calendarEventsEntity.idLoanExtern).pipe((0,le.U)(t=>(e.sharedService.setLoan(t),t)),(0,oe.zg)(t=>{const n=e.customerService.getCustomerInformation(t.customerDTO.id),i=new Fi.F;i.id=e.calendarEventsEntity.idCollection;const r=e.collectionServices.getCollection(i);return(0,c.D)([n,r])})).subscribe(t=>{e.modal.dismissAll(),e.sharedService.setCustomer(t[0]),e.sharedService.setCollection(t[1][0]),e.sharedService.rootingCollectionUrlByStatut("planning")})})()}loanDetails(){var e=this;return(0,o.Z)(function*(){yield e.customer360Services.findLoanByIdExtern(e.calendarEventsEntity.idLoanExtern).subscribe(t=>{e.settingService.findProductById(t.productId).subscribe(n=>{t.productDTO=n,e.loanSharedService.openLoan(t,"planning"),e.modal.dismissAll()})})})()}clientDetails(){var e=this;return(0,o.Z)(function*(){if(!0!==e.formUpdated){const t=new Ai.x;t.customerIdExtern=e.calendarEventsEntity.idCustomerExtern,e.customerService.findCustomer(t).subscribe(t=>{e.sharedService.setCustomer(t[0]),e.modal.dismissAll(),e.router.navigate([wi.J.CUSTOMER_360_DETAILS_URL],{queryParams:{source:"planning"}})})}else e.devToolsServices.openToast(3,"alert.save_before_exit")})()}changeForm(){this.formUpdated=!0}itemDetails(){var e=this;return(0,o.Z)(function*(){yield e.settingService.finItemById(e.calendarEventsEntity.idItem).subscribe(t=>{e.sharedService.setItem(t),e.modal.dismissAll(),e.router.navigate([wi.J.GENERIC_WORKFLOW_SCREEN_URL])})})()}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(zi.FF),d.\u0275\u0275directiveInject(r.F0),d.\u0275\u0275directiveInject(Vi.uw),d.\u0275\u0275directiveInject(_i.g),d.\u0275\u0275directiveInject(Hi._),d.\u0275\u0275directiveInject(Ui.F),d.\u0275\u0275directiveInject(Ji.f),d.\u0275\u0275directiveInject(Yi.d),d.\u0275\u0275directiveInject(Ei.qu),d.\u0275\u0275directiveInject(ji.U),d.\u0275\u0275directiveInject(i.DatePipe),d.\u0275\u0275directiveInject(Xi.W),d.\u0275\u0275directiveInject($i.R),d.\u0275\u0275directiveInject(Wi.sK),d.\u0275\u0275directiveInject(qi.c),d.\u0275\u0275directiveInject(Ui.F),d.\u0275\u0275directiveInject(Gi.by))},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["app-task"]],viewQuery:function(e,t){if(1&e&&(d.\u0275\u0275viewQuery(ca,7),d.\u0275\u0275viewQuery(da,5)),2&e){let e;d.\u0275\u0275queryRefresh(e=d.\u0275\u0275loadQuery())&&(t.modalContent=e.first),d.\u0275\u0275queryRefresh(e=d.\u0275\u0275loadQuery())&&(t.ngxLoadingComponent=e.first)}},decls:24,vars:27,consts:[[3,"heading","icon","account","status"],[1,"card","mb-3"],[1,"card-header-tab","card-header"],[1,"btn-actions-pane-right"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[1,"mx-2",3,"icon"],[1,"card-body","ACM-task"],[3,"show","config"],[1,"scroll-area-lg"],[3,"autoPropagation"],["class","todo-list-wrapper list-group list-group-flush",4,"ngFor","ngForOf"],["class","pt-3",4,"ngIf"],[1,"d-block","text-end","card-footer","pt-3","mx-2"],[1,"mb-2","mx-2","btn","btn-outline-danger",3,"disabled","click"],[1,"mb-2","btn","btn-success",3,"disabled","click"],["modalContent",""],[1,"todo-list-wrapper","list-group","list-group-flush"],[1,"ACM-taskdate"],[4,"ngIf"],[1,"list-group-item"],["class","todo-indicator  ","style","background-color: #a4ddf1",4,"ngIf"],["class","todo-indicator  ","style","background-color: #dc5b75",4,"ngIf"],["class","todo-indicator  ","style","background-color: #b0e5b8",4,"ngIf"],["class","todo-indicator ","style","background-color: #b0e5b8",4,"ngIf"],["class","todo-indicator","style","background-color: #80BCBD;",4,"ngIf"],[1,"widget-content","p-0"],[1,"widget-content-wrapper"],[1,"widget-content-left","mx-2"],[1,"custom-checkbox","custom-control"],["type","checkbox",1,"custom-control-input",3,"id","change"],[1,"custom-control-label",3,"for"],[1,"widget-content-left"],[1,"widget-heading"],["class","badge badge bg-warning ml-2",4,"ngIf"],["class","badge badge bg-success ml-2",4,"ngIf"],["class","badge badge bg-danger ml-2",4,"ngIf"],[1,"widget-subheading-left"],["class","widget-content-right widget-content-actions",4,"ngIf"],[1,"todo-indicator",2,"background-color","#a4ddf1"],[1,"todo-indicator",2,"background-color","#dc5b75"],[1,"todo-indicator",2,"background-color","#b0e5b8"],[1,"todo-indicator",2,"background-color","#80BCBD"],[1,"badge","badge","bg-warning","ml-2"],[1,"badge","badge","bg-success","ml-2"],[1,"badge","badge","bg-danger","ml-2"],[1,"widget-content-right","widget-content-actions"],[1,"btn","btn-warning","text-white",3,"hidden","click"],[3,"icon"],[1,"btn","btn-danger",3,"hidden","click"],[1,"pt-3"],[2,"color","red"],[3,"dir","ngClass"],[1,"modal-header","py-2"],["class","modal-title",4,"ngIf"],["type","button",3,"click"],["aria-hidden","true"],[1,"card-body"],[1,"form",3,"formGroup","ngSubmit","change"],[1,"position-relative"],["type","text","formControlName","title",1,"form-control"],["formControlName","customer","field","customerNameNoPipe",3,"suggestions","size","minLength","forceSelection","inputStyle","completeMethod"],["pTemplate","item"],[1,"input-group"],[1,"col-6"],["type","date","formControlName","startDate",1,"form-control",3,"min","change"],["type","time","formControlName","hourDate",1,"form-control"],["type","date","formControlName","endDate",1,"form-control",3,"min","change"],["type","time","formControlName","hourEndDate",1,"form-control"],["tabindex","0","formControlName","participant",3,"multiple","options","config","change"],["type","text","formControlName","location",1,"form-control"],["rows","3","cols","20","pInputTextarea","","formControlName","description",1,"form-control"],[1,"modal-footer","py-1"],["type","reset",1,"mb-2","mx-2","btn","btn-outline-danger",3,"click"],["type","submit",1,"mb-2","btn","btn-primary"],["class","mb-2 mx-2 btn btn-outline-primary",3,"click",4,"ngIf"],[1,"modal-title"],[1,"mb-2","mx-2","btn","btn-outline-primary",3,"click"]],template:function(e,t){1&e&&(d.\u0275\u0275element(0,"app-page-title",0),d.\u0275\u0275pipe(1,"translate"),d.\u0275\u0275elementStart(2,"div",1),d.\u0275\u0275elementStart(3,"div",2),d.\u0275\u0275elementStart(4,"div",3),d.\u0275\u0275elementStart(5,"button",4),d.\u0275\u0275listener("click",function(){return t.addEvent()}),d.\u0275\u0275element(6,"fa-icon",5),d.\u0275\u0275text(7),d.\u0275\u0275pipe(8,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(9,"div",6),d.\u0275\u0275element(10,"ngx-loading",7),d.\u0275\u0275elementStart(11,"div",8),d.\u0275\u0275elementStart(12,"perfect-scrollbar",9),d.\u0275\u0275template(13,xa,29,22,"ul",10),d.\u0275\u0275template(14,wa,5,3,"div",11),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(15,"div",12),d.\u0275\u0275elementStart(16,"button",13),d.\u0275\u0275listener("click",function(){return t.cancelTask()}),d.\u0275\u0275text(17),d.\u0275\u0275pipe(18,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(19,"button",14),d.\u0275\u0275listener("click",function(){return t.doneTask()}),d.\u0275\u0275text(20),d.\u0275\u0275pipe(21,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(22,Na,77,57,"ng-template",null,15,d.\u0275\u0275templateRefExtractor)),2&e&&(d.\u0275\u0275property("heading",d.\u0275\u0275pipeBind1(1,15,"sidebar.tasks"))("icon","lnr-database")("account","")("status",-1),d.\u0275\u0275advance(6),d.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(8,17,"button.create")," "),d.\u0275\u0275advance(3),d.\u0275\u0275property("show",t.loading)("config",d.\u0275\u0275pureFunction3(23,La,t.ngxLoadingAnimationTypes.circle,t.primaryColour,t.primaryColour)),d.\u0275\u0275advance(2),d.\u0275\u0275property("autoPropagation",!0),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",t.tasks),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",0===t.tasks.length),d.\u0275\u0275advance(2),d.\u0275\u0275property("disabled",t.block),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(18,19,"button.cancel")),d.\u0275\u0275advance(2),d.\u0275\u0275property("disabled",t.block),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(21,21,"button.done")))},directives:[er.T,Gi.BN,sa.RJ,la.Vv,i.NgForOf,i.NgIf,tr.oH,rr.Lv,i.NgClass,Ei._Y,Ei.JL,Ei.sg,tr.MU,ar.jv,Ei.Fj,Ei.JJ,Ei.u,ar.wj,or.Qc,sr.jx,ir.rL],pipes:[Wi.X$,i.DatePipe],styles:[""]}),e})();var za=n(3896),Va=n(65939),Ha=n(95514),_a=n(4207);function Ya(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"th",9),d.\u0275\u0275elementStart(1,"div",10),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275element(4,"p-sortIcon",11),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;d.\u0275\u0275property("pSortableColumn",e.field),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(3,3,e.header)," "),d.\u0275\u0275advance(2),d.\u0275\u0275property("field",e.field)}}function ja(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"input",20),d.\u0275\u0275listener("input",function(t){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2),d.\u0275\u0275reference(3).filter(t.target.value,n.field,"contains")}),d.\u0275\u0275elementEnd()}}function $a(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"select",21),d.\u0275\u0275listener("change",function(t){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2),d.\u0275\u0275reference(3).filter(t.target.value,n.field,"equals")}),d.\u0275\u0275elementStart(1,"option",22),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(4,"option",23),d.\u0275\u0275text(5),d.\u0275\u0275pipe(6,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(7,"option",24),d.\u0275\u0275text(8),d.\u0275\u0275pipe(9,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(3,3,"category_loan.all")),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(6,5,"task.customer")),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(9,7,"category_customer.prospect")))}function Wa(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"input",25),d.\u0275\u0275listener("input",function(t){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2),d.\u0275\u0275reference(3).filter(t.target.value,n.field,"contains")}),d.\u0275\u0275elementEnd()}}function Ua(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"input",26),d.\u0275\u0275listener("input",function(t){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2),d.\u0275\u0275reference(3).filter(t.target.value,n.field,"contains")}),d.\u0275\u0275elementEnd()}}function Ga(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"input",27),d.\u0275\u0275listener("input",function(t){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2),d.\u0275\u0275reference(3).filter(t.target.value,n.field,"contains")}),d.\u0275\u0275elementEnd()}}function Xa(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"input",27),d.\u0275\u0275listener("input",function(t){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2),d.\u0275\u0275reference(3).filter(t.target.value,n.field,"contains")}),d.\u0275\u0275elementEnd()}}function Ja(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"input",26),d.\u0275\u0275listener("input",function(t){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2),d.\u0275\u0275reference(3).filter(t.target.value,n.field,"contains")}),d.\u0275\u0275elementEnd()}}function qa(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"input",26),d.\u0275\u0275listener("input",function(t){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2),d.\u0275\u0275reference(3).filter(t.target.value,n.field,"contains")}),d.\u0275\u0275elementEnd()}}function Qa(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"input",28),d.\u0275\u0275listener("input",function(t){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2),d.\u0275\u0275reference(3).filter(t.target.value,n.field,"contains")}),d.\u0275\u0275elementEnd()}}function Za(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"input",29),d.\u0275\u0275listener("input",function(t){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2),d.\u0275\u0275reference(3).filter(t.target.value,n.field,"contains")}),d.\u0275\u0275elementEnd()}}function Ka(e,t){1&e&&(d.\u0275\u0275elementStart(0,"th",12),d.\u0275\u0275template(1,ja,1,0,"input",13),d.\u0275\u0275template(2,$a,10,9,"select",14),d.\u0275\u0275template(3,Wa,1,0,"input",15),d.\u0275\u0275template(4,Ua,1,0,"input",16),d.\u0275\u0275template(5,Ga,1,0,"input",17),d.\u0275\u0275template(6,Xa,1,0,"input",17),d.\u0275\u0275template(7,Ja,1,0,"input",16),d.\u0275\u0275template(8,qa,1,0,"input",16),d.\u0275\u0275template(9,Qa,1,0,"input",18),d.\u0275\u0275template(10,Za,1,0,"input",19),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275property("ngSwitch",t.$implicit.field),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","id"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","category"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","subject"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","customer"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","dateInsertion"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","dueDate"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","ownerName"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","priority"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","claimOwner"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","claimGroupOwner"))}function eo(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"tr"),d.\u0275\u0275template(1,Ya,5,5,"th",6),d.\u0275\u0275element(2,"th",7),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"tr"),d.\u0275\u0275template(4,Ka,11,11,"th",8),d.\u0275\u0275element(5,"th",7),d.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",e),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngForOf",e)}}function to(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit,t=d.\u0275\u0275nextContext(2).$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(t[e.field])}}function no(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit,t=d.\u0275\u0275nextContext(2).$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(t[e.field])}}function io(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit,t=d.\u0275\u0275nextContext(2).$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(t[e.field])}}function ro(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",37),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit,t=d.\u0275\u0275nextContext(2).$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(t[e.field])}}function ao(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"date"),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit,t=d.\u0275\u0275nextContext(2).$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind2(2,1,t[e.field],"dd/MM/yyyy"))}}function oo(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"date"),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit,t=d.\u0275\u0275nextContext(2).$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind2(2,1,t[e.field],"dd/MM/yyyy"))}}function so(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit,t=d.\u0275\u0275nextContext(2).$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(t[e.field])}}function lo(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit,t=d.\u0275\u0275nextContext(2).$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(t[e.field])}}function co(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit,t=d.\u0275\u0275nextContext(2).$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(t[e.field])}}function uo(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"number"),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit,t=d.\u0275\u0275nextContext(2),n=t.$implicit,i=t.$implicit,r=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate2(" ",d.\u0275\u0275pipeBind3(2,2,n[e.field],r.devToolsServices.getDecimalPlaces(i.currencyDecimalPlaces),"fr")," ",null==i?null:i.currencySymbol," ")}}function po(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit,t=d.\u0275\u0275nextContext(2).$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(t[e.field])}}function mo(e,t){1&e&&(d.\u0275\u0275elementStart(0,"td",34),d.\u0275\u0275template(1,to,2,1,"div",35),d.\u0275\u0275template(2,no,2,1,"div",35),d.\u0275\u0275template(3,io,2,1,"div",35),d.\u0275\u0275template(4,ro,2,1,"div",36),d.\u0275\u0275template(5,ao,3,4,"div",35),d.\u0275\u0275template(6,oo,3,4,"div",35),d.\u0275\u0275template(7,so,2,1,"div",35),d.\u0275\u0275template(8,lo,2,1,"div",35),d.\u0275\u0275template(9,co,2,1,"div",35),d.\u0275\u0275template(10,uo,3,6,"div",35),d.\u0275\u0275template(11,po,2,1,"div",35),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275property("ngSwitch",t.$implicit.field),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","id"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","category"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","subject"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","customer"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","dateInsertion"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","dueDate"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","ownerName"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","priority"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","claimOwner"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","unpaidAmount"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","claimGroupOwner"))}function vo(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"tr",31),d.\u0275\u0275template(1,mo,12,12,"td",32),d.\u0275\u0275elementStart(2,"td"),d.\u0275\u0275elementStart(3,"button",33),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(e);const t=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext().claimDetails(t)}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){const e=d.\u0275\u0275nextContext(),t=e.columns;d.\u0275\u0275property("pSelectableRow",e.$implicit),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",t)}}function ho(e,t){1&e&&d.\u0275\u0275template(0,vo,4,2,"tr",30),2&e&&d.\u0275\u0275property("ngIf",t.$implicit)}const go=function(){return[5,10,20,50,100]};let fo=(()=>{class e{constructor(e,t,n,i,r,a){this.loanManagementService=e,this.settingService=t,this.customerManagementService=n,this.datePipe=i,this.sharedService=r,this.router=a,this.claimsEntity=new Li,this.claimsSetting=new za.t,this.claimsPaginationEntity=new Ni}ngOnInit(){this.cols=[{field:"id",header:"claim.Reference"},{field:"category",header:"claim.Category"},{field:"subject",header:"claim.subject"},{field:"customer",header:"claim.customer_name"},{field:"dateInsertion",header:"claim.Created"},{field:"dueDate",header:"claim.dueDate"},{field:"ownerName",header:"claim.ownerName"},{field:"priority",header:"claim.periority"},{field:"claimOwner",header:"claim.claim_owner"},{field:"claimGroupOwner",header:"claim.claims_group_owner"}],this.selectedColumns=this.cols,this.pageSize=10,this.page=1;const e=new Ni;e.pageSize=this.pageSize,e.pageNumber=0;const t=new Bi.z,n=new Li;n.status=this.claimsStatus?this.claimsStatus:null,t.claim=n,e.params=t,this.loanManagementService.findClaimsPagination(e).subscribe(e=>{this.claimsListEntityLst=e.resultsClaims,this.claimsPaginationEntity=e})}Claims(){this.ngOnInit()}loadClaimsDataFromIb(e){var t=this;return(0,o.Z)(function*(){const n=new Li;n.status=e,t.claimsListEntityLst=[],yield t.settingService.findsettingClaimsById(t.claimsSetting).toPromise().then(e=>{t.loanManagementService.findClaimsBystatus(n).subscribe(n=>{n.forEach(n=>{n.subject&&(t.claimsListEntity=new Bi.z,t.claimsListEntity.id=n.id,t.claimsListEntity.claim=n,t.claimsListEntity.ownerName=e.filter(e=>e.id==parseInt(n.subject))[0].assignement,t.claimsListEntity.claimGroupOwner=e.filter(e=>e.id==parseInt(n.subject))[0].assignement,t.claimsListEntity.dateInsertion=n.dateInsertion,t.claimsListEntity.customer=n.name,t.claimsListEntity.estimation=e.filter(e=>e.id==parseInt(n.subject))[0].processingTimeLine,t.claimsListEntity.dueDate=n.dueDate,t.claimsListEntity.priority=e.filter(e=>e.id==parseInt(n.subject))[0].pripority,t.claimsListEntity.category=e.filter(e=>e.id==parseInt(n.subject))[0].category,t.claimsListEntity.subject=e.filter(e=>e.id==parseInt(n.subject))[0].subject),t.claimsListEntityLst.push(t.claimsListEntity)}),t.claimsPaginationEntity.resultsClaims=t.claimsListEntityLst})})})()}claimDetails(e){if(this.sharedService.setClaim(e),e.claim.idCustomer)this.customerManagementService.getCustomerInformationForClaims(e.claim.idCustomer).subscribe(e=>{this.sharedService.setCustomer(e),this.sharedService.setProspect(null),this.router.navigate([wi.J.DETAIL_CLAIM])});else{const t=new Ri;t.name=e.claim.name,t.email=e.claim.email,t.phone=e.claim.phone,this.sharedService.setProspect(t),this.router.navigate([wi.J.DETAIL_CLAIM])}}reloadClaimList(e){var t=this;return(0,o.Z)(function*(){const n=new Ni;n.pageSize=e.rows,n.pageNumber=0===e.first?e.first:e.first/e.rows;const i=new Bi.z;void 0!==e.filters&&(i.id=void 0!==e.filters.id?e.filters.id.value:null,i.category=void 0!==e.filters.category?e.filters.category.value:null,i.subject=void 0!==e.filters.subject?e.filters.subject.value:null,i.customer=void 0!==e.filters.customer?e.filters.customer.value:null,i.dateInsertion=void 0!==e.filters.dateInsertion?e.filters.dateInsertion.value:null,i.dueDate=void 0!==e.filters.dueDate?e.filters.dueDate.value:null,i.priority=void 0!==e.filters.priority?e.filters.priority.value:null,i.claimGroupOwner=void 0!==e.filters.claimGroupOwner?e.filters.claimGroupOwner.value:null,i.ownerName=void 0!==e.filters.ownerName?e.filters.ownerName.value:null);const r=new Li;r.status=t.claimsStatus?t.claimsStatus:null,i.claim=r,n.params=i;let a=!1;if(void 0!==e.multiSortMeta&&e.multiSortMeta.length>0){const t=e.multiSortMeta[0].field;"category"===t||"dueDate"===t||"ownerName"===t||"priority"===t||"claimGroupOwner"===t?a=!0:(n.sortField="customer"===e.multiSortMeta[0].field?"name":e.multiSortMeta[0].field,n.sortDirection=e.multiSortMeta[0].order)}t.loanManagementService.findClaimsPagination(n).subscribe(n=>{a&&(n.resultsClaims.sort((t,n)=>"category"===e.multiSortMeta[0].field?t.category.localeCompare(n.category):"dueDate"===e.multiSortMeta[0].field?new Date(t.dueDate).getTime()-new Date(n.dueDate).getTime():"ownerName"===e.multiSortMeta[0].field?t.ownerName.localeCompare(n.ownerName):"priority"===e.multiSortMeta[0].field?t.priority.localeCompare(n.priority):"claimGroupOwner"===e.multiSortMeta[0].field?t.claimGroupOwner.localeCompare(n.claimGroupOwner):0),-1===e.multiSortMeta[0].order&&n.resultsClaims.reverse()),t.claimsListEntityLst=n.resultsClaims,t.claimsPaginationEntity=n})})()}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(Zi.q),d.\u0275\u0275directiveInject(_i.g),d.\u0275\u0275directiveInject(Ki.n),d.\u0275\u0275directiveInject(i.DatePipe),d.\u0275\u0275directiveInject(Ui.F),d.\u0275\u0275directiveInject(r.F0))},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["app-claims-table"]],inputs:{claimsStatus:"claimsStatus",claimsListEntityLst:"claimsListEntityLst"},decls:6,vars:14,consts:[[1,"main-card","mb-3","card"],[1,"card-body"],["sortMode","multiple","sortMode","multiple","selectionMode","single",3,"responsive","autoLayout","value","lazy","lazyLoadOnInit","rowsPerPageOptions","paginator","pageLinks","rows","columns","totalRecords","showCurrentPageReport","selection","onLazyLoad","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["class","text-center",3,"pSortableColumn",4,"ngFor","ngForOf"],[2,"width","40px"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"text-center",3,"pSortableColumn"],[1,"center-elem","text-center"],[1,"pl-1",3,"field"],[3,"ngSwitch"],["class","form-control placeholder","type","text",3,"input",4,"ngSwitchCase"],["class","form-control",3,"change",4,"ngSwitchCase"],["class","form-control ACM-Dashbord-customername-col","type","text",3,"input",4,"ngSwitchCase"],["class","form-control","type","text",3,"input",4,"ngSwitchCase"],["class","form-control ACM-Dashbord-Date-col","type","date",3,"input",4,"ngSwitchCase"],["class","form-control","type","text","min","0","step","50",3,"input",4,"ngSwitchCase"],["class","form-control","type","text","min","0","step","1",3,"input",4,"ngSwitchCase"],["type","text",1,"form-control","placeholder",3,"input"],[1,"form-control",3,"change"],["value",""],["value","CUSTOMER"],["value","PROSPECT"],["type","text",1,"form-control","ACM-Dashbord-customername-col",3,"input"],["type","text",1,"form-control",3,"input"],["type","date",1,"form-control","ACM-Dashbord-Date-col",3,"input"],["type","text","min","0","step","50",1,"form-control",3,"input"],["type","text","min","0","step","1",1,"form-control",3,"input"],[3,"pSelectableRow",4,"ngIf"],[3,"pSelectableRow"],["class","text-center",3,"ngSwitch",4,"ngFor","ngForOf"],["pButton","","type","button","icon","fa fa-edit",3,"click"],[1,"text-center",3,"ngSwitch"],[4,"ngSwitchCase"],["class","ACM-Dashbord-customernametd-col",4,"ngSwitchCase"],[1,"ACM-Dashbord-customernametd-col"]],template:function(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",0),d.\u0275\u0275elementStart(1,"div",1),d.\u0275\u0275elementStart(2,"p-table",2,3),d.\u0275\u0275listener("onLazyLoad",function(e){return t.reloadClaimList(e)})("selectionChange",function(e){return t.claimsListEntity=e}),d.\u0275\u0275template(4,eo,6,2,"ng-template",4),d.\u0275\u0275template(5,ho,1,1,"ng-template",5),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(2),d.\u0275\u0275property("responsive",!0)("autoLayout",!0)("value",t.claimsPaginationEntity.resultsClaims)("lazy",!0)("lazyLoadOnInit",!1)("rowsPerPageOptions",d.\u0275\u0275pureFunction0(13,go))("paginator",(null==t.claimsPaginationEntity.resultsClaims?null:t.claimsPaginationEntity.resultsClaims.length)>0)("pageLinks",5)("rows",10)("columns",t.selectedColumns)("totalRecords",t.claimsPaginationEntity.totalElements)("showCurrentPageReport",!0)("selection",t.claimsListEntity))},directives:[Ha.iA,sr.jx,i.NgForOf,Ha.lQ,Ha.fz,i.NgSwitch,i.NgSwitchCase,tr.oH,Ei.YN,Ei.Kr,i.NgIf,Ha.Ei,_a.Hq],pipes:[Wi.X$,i.DatePipe,i.DecimalPipe],styles:[""]}),e})();const yo=["refreshTable"];function Eo(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",8),d.\u0275\u0275element(1,"span",9),d.\u0275\u0275elementStart(2,"span",10),d.\u0275\u0275text(3),d.\u0275\u0275pipe(4,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(4,1,"claims.new")))}function So(e,t){if(1&e&&d.\u0275\u0275element(0,"app-claims-table",11,12),2&e){const e=d.\u0275\u0275nextContext();d.\u0275\u0275property("claimsListEntityLst",e.claimsListEntityLst)("claimsStatus","NEW")}}function xo(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",8),d.\u0275\u0275element(1,"span",13),d.\u0275\u0275elementStart(2,"span",10),d.\u0275\u0275text(3),d.\u0275\u0275pipe(4,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(4,1,"claims.inprogress")))}function wo(e,t){if(1&e&&d.\u0275\u0275element(0,"app-claims-table",11),2&e){const e=d.\u0275\u0275nextContext();d.\u0275\u0275property("claimsListEntityLst",e.claimsListEntityLst)("claimsStatus","IN PROGRESS")}}function Co(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",8),d.\u0275\u0275element(1,"span",14),d.\u0275\u0275elementStart(2,"span",10),d.\u0275\u0275text(3),d.\u0275\u0275pipe(4,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(4,1,"claims.closed")))}function bo(e,t){if(1&e&&d.\u0275\u0275element(0,"app-claims-table",11),2&e){const e=d.\u0275\u0275nextContext();d.\u0275\u0275property("claimsListEntityLst",e.claimsListEntityLst)("claimsStatus","CLOSED")}}let Do=(()=>{class e{constructor(e,t,n,i,r){this.loanManagementService=e,this.settingService=t,this.customerManagementService=n,this.datePipe=i,this.activatedRoute=r,this.claimsListEntityLst=[],this.lstClaimsSetting=[],this.claimsSetting=new za.t,this.status=wi.J.NEW,this.selectedTabIndex=0}ngOnInit(){var e=this;return(0,o.Z)(function*(){yield e.activatedRoute.queryParams.subscribe(t=>{const n=t.statut;if(n)switch(n){case wi.J.NEW:e.status=wi.J.NEW,e.selectedTabIndex=0;break;case wi.J.IN_PROGRESS:e.status=wi.J.IN_PROGRESS,e.selectedTabIndex=1;break;case wi.J.CLOSED:e.status=wi.J.CLOSED,e.selectedTabIndex=2}})})()}refreshParentComponent(){var e=this;return(0,o.Z)(function*(){e.refreshTable.Claims()})()}changeTabs(e){switch(e.index){case 0:this.status=wi.J.NEW;break;case 1:this.status=wi.J.IN_PROGRESS;break;case 2:this.status=wi.J.CLOSED;break;default:this.loadClaimsDataFromIb(wi.J.NEW)}}loadClaimsDataFromIb(e){var t=this;return(0,o.Z)(function*(){const n=new Li;n.status=e,t.claimsListEntityLst=[],yield t.settingService.findsettingClaimsById(t.claimsSetting).toPromise().then(e=>{t.loanManagementService.findClaimsBystatus(n).subscribe(n=>{n.forEach(n=>{n.subject&&(t.claimsListEntity=new Bi.z,t.claimsListEntity.id=n.id,t.claimsListEntity.claim=n,t.claimsListEntity.ownerName=e.filter(e=>e.id==parseInt(n.subject))[0].assignement,t.claimsListEntity.claimGroupOwner=e.filter(e=>e.id==parseInt(n.subject))[0].assignement,t.claimsListEntity.dateInsertion=n.dateInsertion,t.claimsListEntity.customer=n.name,t.claimsListEntity.dueDate=n.dueDate,t.claimsListEntity.priority=e.filter(e=>e.id==parseInt(n.subject))[0].pripority,t.claimsListEntity.category=e.filter(e=>e.id==parseInt(n.subject))[0].category,t.claimsListEntity.subject=e.filter(e=>e.id==parseInt(n.subject))[0].subject),t.claimsListEntityLst.push(t.claimsListEntity)})})})})()}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(Zi.q),d.\u0275\u0275directiveInject(_i.g),d.\u0275\u0275directiveInject(Ki.n),d.\u0275\u0275directiveInject(i.DatePipe),d.\u0275\u0275directiveInject(r.gz))},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["app-claims-dashboard"]],viewQuery:function(e,t){if(1&e&&d.\u0275\u0275viewQuery(yo,5),2&e){let e;d.\u0275\u0275queryRefresh(e=d.\u0275\u0275loadQuery())&&(t.refreshTable=e.first)}},decls:13,vars:11,consts:[[3,"heading","icon","account","status","addClaims","refreshParentEvent"],[1,"col-xl-12"],[1,"page-mat-tabs",3,"selectedIndex","selectedIndexChange","selectedTabChange"],["index","0",1,"col-xl-2"],["matTabLabel",""],[3,"claimsListEntityLst","claimsStatus",4,"ngIf"],["index","1",1,"col-xl-2"],["index","2",1,"col-xl-2"],[1,"col-xl-2"],[1,"loans-lenght","text-info","fa","fa-hourglass-start","icon-size-fa","ng-star-inserted"],[1,"size-text"],[3,"claimsListEntityLst","claimsStatus"],["refreshTable",""],[1,"loans-lenght","text-danger","fa","fa-pencil-square-o","icon-size-fa","ng-star-inserted"],[1,"loans-lenght","text-success","fa","fa-check-circle","icon-size-fa","ng-star-inserted"]],template:function(e,t){1&e&&(d.\u0275\u0275elementStart(0,"app-page-title",0),d.\u0275\u0275listener("refreshParentEvent",function(){return t.refreshParentComponent()}),d.\u0275\u0275pipe(1,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(2,"div",1),d.\u0275\u0275elementStart(3,"mat-tab-group",2),d.\u0275\u0275listener("selectedIndexChange",function(e){return t.selectedTabIndex=e})("selectedTabChange",function(e){return t.changeTabs(e)}),d.\u0275\u0275elementStart(4,"mat-tab",3),d.\u0275\u0275template(5,Eo,5,3,"ng-template",4),d.\u0275\u0275template(6,So,2,2,"app-claims-table",5),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(7,"mat-tab",6),d.\u0275\u0275template(8,xo,5,3,"ng-template",4),d.\u0275\u0275template(9,wo,1,2,"app-claims-table",5),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(10,"mat-tab",7),d.\u0275\u0275template(11,Co,5,3,"ng-template",4),d.\u0275\u0275template(12,bo,1,2,"app-claims-table",5),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275property("heading",d.\u0275\u0275pipeBind1(1,9,"claims.dashboard"))("icon","pe-7s-culture")("account","")("status",-1)("addClaims",1),d.\u0275\u0275advance(3),d.\u0275\u0275property("selectedIndex",t.selectedTabIndex),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngIf","NEW"==t.status),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngIf","IN PROGRESS"==t.status),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngIf","CLOSED"==t.status))},directives:[er.T,Va.SP,Va.uX,Va.uD,i.NgIf,fo],pipes:[Wi.X$],styles:[""]}),e})();var To=n(59217),Io=n(17287),ko=n(91906);function Oo(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",39),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).actionReoppen()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"button.reopen")," "))}function Fo(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",40),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).actionInProgress()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"button.accept")," "))}function Mo(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",41),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).actionCompleted()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"button.complete")," "))}function Ao(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",1),d.\u0275\u0275elementStart(1,"div",33),d.\u0275\u0275elementStart(2,"div",34),d.\u0275\u0275elementStart(3,"button",35),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().exit()}),d.\u0275\u0275text(4),d.\u0275\u0275pipe(5,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(6,Oo,3,3,"button",36),d.\u0275\u0275template(7,Fo,3,3,"button",37),d.\u0275\u0275template(8,Mo,3,3,"button",38),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){const e=d.\u0275\u0275nextContext();d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(5,4,"button.exit")," "),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf","CLOSED"==e.claim.status),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf","NEW"==e.claim.status),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf","IN PROGRESS"==e.claim.status)}}let Po=(()=>{class e{constructor(e,t,n,i,r){this.sharedService=e,this.router=t,this.loanManagementService=n,this.crmService=i,this.devToolsServices=r,this.expanded=!0,this.btnStatus=!0,this.action=!1}ngOnInit(){this.claimRecord=this.sharedService.getClaim(),this.claim=this.claimRecord.claim,this.category=this.claimRecord.category,this.action=this.sharedService.getUser().groupes.some(e=>e.libelle===this.claimRecord.claimGroupOwner)}actionCompleted(){let e=new xi.J;e.idClaim=this.claim.id,this.crmService.find(e).toPromise().then(e=>{let t=!0;e&&(t=!e.some(e=>"CLOSED"!==e.statut)),t?(this.claimRecord.claim.status="CLOSED",this.loanManagementService.updateClaimsInIb(this.claimRecord.claim).subscribe(()=>{this.router.navigate(["/crm/claims"],{queryParams:{statut:"CLOSED"}}).then(()=>{window.scrollTo(0,0)})})):this.devToolsServices.openToast(3,"alert.cannot_close_claim")})}actionInProgress(){this.claimRecord.claim.status="IN PROGRESS",this.loanManagementService.updateClaimsInIb(this.claimRecord.claim).subscribe(()=>{this.router.navigate(["/crm/claims"],{queryParams:{statut:"IN PROGRESS"}}).then(()=>{window.scrollTo(0,0)})})}actionReoppen(){this.claimRecord.claim.status="NEW",this.loanManagementService.updateClaimsInIb(this.claimRecord.claim).subscribe(()=>{this.router.navigate(["/crm/claims"],{queryParams:{statut:"NEW"}}).then(()=>{window.scrollTo(0,0)})})}exit(){this.router.navigate([wi.J.DASHBOARD_CLAIM])}toggleCollapse(){this.expanded=!this.expanded}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(Ui.F),d.\u0275\u0275directiveInject(r.F0),d.\u0275\u0275directiveInject(Zi.q),d.\u0275\u0275directiveInject(Hi._),d.\u0275\u0275directiveInject($i.R))},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["app-claim-details"]],decls:72,vars:36,consts:[[3,"heading","icon","claimStatut"],[1,"row"],[1,"col-md-12","col-xl-12","px-1"],[1,"mb-1","card"],[1,"card-header-tab","card-header"],[1,"card-header-title","font-size-lg","text-capitalize","fw-normal"],[1,"header-icon","lnr-charts","icon-gradient","bg-happy-green"],[1,"g-0","row"],[1,"col-sm-6","col-md-4","col-xl-4"],[1,"card","no-shadow","rm-border","bg-transparent","widget-chart","text-start"],[1,"icon-wrapper","rounded-circle"],[1,"icon-wrapper-bg","opacity-10","bg-primary"],[1,"lnr-clock","text-white","opacity-8"],[1,"widget-chart-content"],[1,"widget-subheading"],[1,"widget-numbers"],[1,"divider","m-0","d-md-none","d-sm-block"],[1,"icon-wrapper-bg","opacity-9","bg-warning"],[1,"lnr-list","text-white"],[1,"col-sm-12","col-md-4","col-xl-4"],[1,"icon-wrapper-bg","opacity-9","bg-danger"],[1,"pe-7s-credit","text-white"],[2,"margin-bottom","1%"],[1,"card"],["id","headingOne","data-target","#collapseCustomerNote","aria-expanded","true","aria-controls","collapseCustomerNote",1,"card-header","d-flex","justify-content-between"],[1,"lnr-book","text-secondary","px-2"],["id","collapseCustomerNote","aria-labelledby","headingOne"],[1,"claim-div"],[2,"padding","20px 40px","display","flex","flex-direction","column","gap","20px"],[2,"font-weight","600"],[3,"category","expanded","collection"],[3,"expanded","source"],["class","row",4,"ngIf"],[1,"col-xl-12","col-md-12","pr-0","mt-2"],[1,"d-block","text-end","card-footer","p-2"],[1,"mx-2","btn","btn-outline-danger",3,"click"],["class","mx-2 mx-2 btn btn-warning",3,"click",4,"ngIf"],["class","mx-2 mx-2 btn btn-info",3,"click",4,"ngIf"],["class","mx-2 mx-2 btn btn-success",3,"click",4,"ngIf"],[1,"mx-2","mx-2","btn","btn-warning",3,"click"],[1,"mx-2","mx-2","btn","btn-info",3,"click"],[1,"mx-2","mx-2","btn","btn-success",3,"click"]],template:function(e,t){1&e&&(d.\u0275\u0275element(0,"app-page-title",0),d.\u0275\u0275pipe(1,"translate"),d.\u0275\u0275elementStart(2,"div",1),d.\u0275\u0275elementStart(3,"div",2),d.\u0275\u0275elementStart(4,"div",3),d.\u0275\u0275elementStart(5,"div",4),d.\u0275\u0275elementStart(6,"div",5),d.\u0275\u0275element(7,"i",6),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(8,"div",7),d.\u0275\u0275elementStart(9,"div",8),d.\u0275\u0275elementStart(10,"div",9),d.\u0275\u0275elementStart(11,"div",10),d.\u0275\u0275element(12,"div",11),d.\u0275\u0275element(13,"i",12),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(14,"div",13),d.\u0275\u0275elementStart(15,"div",14),d.\u0275\u0275text(16),d.\u0275\u0275pipe(17,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(18,"div",15),d.\u0275\u0275text(19),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(20,"div",16),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(21,"div",8),d.\u0275\u0275elementStart(22,"div",9),d.\u0275\u0275elementStart(23,"div",10),d.\u0275\u0275element(24,"div",17),d.\u0275\u0275element(25,"i",18),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(26,"div",13),d.\u0275\u0275elementStart(27,"div",14),d.\u0275\u0275text(28),d.\u0275\u0275pipe(29,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(30,"div",15),d.\u0275\u0275elementStart(31,"span"),d.\u0275\u0275text(32),d.\u0275\u0275pipe(33,"date"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(34,"div",16),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(35,"div",19),d.\u0275\u0275elementStart(36,"div",9),d.\u0275\u0275elementStart(37,"div",10),d.\u0275\u0275element(38,"div",20),d.\u0275\u0275element(39,"i",21),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(40,"div",13),d.\u0275\u0275elementStart(41,"div",14),d.\u0275\u0275text(42),d.\u0275\u0275pipe(43,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(44,"div",15),d.\u0275\u0275elementStart(45,"span"),d.\u0275\u0275text(46),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(47,"div",22),d.\u0275\u0275elementStart(48,"div",23),d.\u0275\u0275elementStart(49,"div",24),d.\u0275\u0275elementStart(50,"div"),d.\u0275\u0275element(51,"i",25),d.\u0275\u0275text(52),d.\u0275\u0275pipe(53,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(54,"div",26),d.\u0275\u0275elementStart(55,"div"),d.\u0275\u0275elementStart(56,"div"),d.\u0275\u0275elementStart(57,"div",27),d.\u0275\u0275elementStart(58,"div",28),d.\u0275\u0275elementStart(59,"div",29),d.\u0275\u0275text(60),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(61,"div",28),d.\u0275\u0275elementStart(62,"div"),d.\u0275\u0275elementStart(63,"span",29),d.\u0275\u0275text(64),d.\u0275\u0275pipe(65,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(66,"div"),d.\u0275\u0275text(67),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(68,"app-customer",30),d.\u0275\u0275element(69,"app-customer-notes",31),d.\u0275\u0275element(70,"app-event-table",31),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(71,Ao,9,6,"div",32)),2&e&&(d.\u0275\u0275property("heading",d.\u0275\u0275pipeBind1(1,21,"sidebar.claim"))("icon","pe-7s-note2")("claimStatut",t.claim.status),d.\u0275\u0275advance(16),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(17,23,"setting.claim.Estimation"),""),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1("",t.claimRecord.estimation," "),d.\u0275\u0275advance(9),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind1(29,25,"setting.claim.dueDate")," "),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind2(33,27,t.claimRecord.dueDate,"dd/MM/yyyy")),d.\u0275\u0275advance(10),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(43,30,"setting.claim.periority")),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate(t.claimRecord.priority),d.\u0275\u0275advance(6),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(53,32,"claim.subject")," "),d.\u0275\u0275advance(8),d.\u0275\u0275textInterpolate1(" ",t.claimRecord.subject," "),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(65,34,"claim.Description"),""),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",t.claim.body," "),d.\u0275\u0275advance(1),d.\u0275\u0275property("category",t.category)("expanded",!0)("collection","inCollection"),d.\u0275\u0275advance(1),d.\u0275\u0275property("expanded",!0)("source","CLAIM"),d.\u0275\u0275advance(1),d.\u0275\u0275property("expanded",!0)("source","CLAIM"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",t.action))},directives:[er.T,To.y,Io.L,ko.x,i.NgIf],pipes:[Wi.X$,i.DatePipe],styles:[""]}),e})();class No{constructor(){}}const Lo=["modalContent"];function Bo(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",18),d.\u0275\u0275elementStart(1,"ngx-select-dropdown",19),d.\u0275\u0275listener("change",function(t){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().teamMemberChanged(t)}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){const e=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275property("multiple",!0)("options",e.teamUsers)("config",e.configTeams)}}function Ro(e,t){1&e&&(d.\u0275\u0275elementStart(0,"span"),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"button.create")," "))}function zo(e,t){1&e&&(d.\u0275\u0275elementStart(0,"span"),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"button.assign_event")," "))}function Vo(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"th",23),d.\u0275\u0275elementStart(1,"div",24),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275element(4,"p-sortIcon",25),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;d.\u0275\u0275property("pSortableColumn",e.field),d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(3,3,e.header)," "),d.\u0275\u0275advance(2),d.\u0275\u0275property("field",e.field)}}function Ho(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"input",31),d.\u0275\u0275listener("input",function(t){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2),d.\u0275\u0275reference(20).filter(t.target.value,n.field,"contains")}),d.\u0275\u0275elementEnd()}}function _o(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"select",32),d.\u0275\u0275listener("change",function(t){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2),d.\u0275\u0275reference(20).filter(t.target.value,n.field,"equals")}),d.\u0275\u0275elementStart(1,"option",33),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(4,"option",34),d.\u0275\u0275text(5),d.\u0275\u0275pipe(6,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(7,"option",35),d.\u0275\u0275text(8),d.\u0275\u0275pipe(9,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(10,"option",36),d.\u0275\u0275text(11),d.\u0275\u0275pipe(12,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(13,"option",37),d.\u0275\u0275text(14),d.\u0275\u0275pipe(15,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(16,"option",38),d.\u0275\u0275text(17),d.\u0275\u0275pipe(18,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(19,"option",39),d.\u0275\u0275text(20),d.\u0275\u0275pipe(21,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(22,"option",40),d.\u0275\u0275text(23),d.\u0275\u0275pipe(24,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(3,8,"category_loan.all")),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(6,10,"collections.collection")),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(9,12,"legal.legal")),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(12,14,"upload_document.Loan")),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(15,16,"category_customer.prospect")),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(18,18,"category_customer.generic-wf")),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(21,20,"setting.claim.claims")),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(24,22,"task.prospecting")))}function Yo(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"input",41),d.\u0275\u0275listener("input",function(t){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2),d.\u0275\u0275reference(20).filter(t.target.value,n.field,"contains")}),d.\u0275\u0275elementEnd()}}function jo(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"input",41),d.\u0275\u0275listener("input",function(t){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2),d.\u0275\u0275reference(20).filter(t.target.value,n.field,"contains")}),d.\u0275\u0275elementEnd()}}function $o(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"input",42),d.\u0275\u0275listener("input",function(t){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2),d.\u0275\u0275reference(20).filter(t.target.value,n.field,"contains")}),d.\u0275\u0275elementEnd()}}function Wo(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"input",42),d.\u0275\u0275listener("input",function(t){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2),d.\u0275\u0275reference(20).filter(t.target.value,n.field,"contains")}),d.\u0275\u0275elementEnd()}}function Uo(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"select",32),d.\u0275\u0275listener("change",function(t){d.\u0275\u0275restoreView(e);const n=d.\u0275\u0275nextContext().$implicit;return d.\u0275\u0275nextContext(2),d.\u0275\u0275reference(20).filter(t.target.value,n.field,"equals")}),d.\u0275\u0275elementStart(1,"option",33),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(4,"option",43),d.\u0275\u0275text(5),d.\u0275\u0275pipe(6,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(7,"option",44),d.\u0275\u0275text(8),d.\u0275\u0275pipe(9,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(3,3,"category_loan.all")),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(6,5,"status.new")),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(9,7,"status.closed")))}function Go(e,t){1&e&&(d.\u0275\u0275elementStart(0,"th",26),d.\u0275\u0275template(1,Ho,1,0,"input",27),d.\u0275\u0275template(2,_o,25,24,"select",28),d.\u0275\u0275template(3,Yo,1,0,"input",29),d.\u0275\u0275template(4,jo,1,0,"input",29),d.\u0275\u0275template(5,$o,1,0,"input",30),d.\u0275\u0275template(6,Wo,1,0,"input",30),d.\u0275\u0275template(7,Uo,10,9,"select",28),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275property("ngSwitch",t.$implicit.field),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","customerName"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","category"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","libelleEvent"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","userFullName"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","dateDebut"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","dateFin"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","statut"))}function Xo(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"tr"),d.\u0275\u0275template(1,Vo,5,5,"th",20),d.\u0275\u0275element(2,"th",21),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(3,"tr"),d.\u0275\u0275template(4,Go,8,8,"th",22),d.\u0275\u0275element(5,"th",21),d.\u0275\u0275elementEnd()),2&e){const e=t.$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",e),d.\u0275\u0275advance(3),d.\u0275\u0275property("ngForOf",e)}}function Jo(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",52),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit,t=d.\u0275\u0275nextContext().$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(t[e.field])}}function qo(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit,t=d.\u0275\u0275nextContext().$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(t[e.field])}}function Qo(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit,t=d.\u0275\u0275nextContext().$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(t[e.field])}}function Zo(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit,t=d.\u0275\u0275nextContext().$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(t[e.field])}}function Ko(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"date"),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit,t=d.\u0275\u0275nextContext().$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind2(2,1,t[e.field],"dd/MM/yyyy"))}}function es(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"date"),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit,t=d.\u0275\u0275nextContext().$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind2(2,1,t[e.field],"dd/MM/yyyy"))}}function ts(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div"),d.\u0275\u0275text(1),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext().$implicit,t=d.\u0275\u0275nextContext().$implicit;d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(t[e.field])}}function ns(e,t){1&e&&(d.\u0275\u0275elementStart(0,"td",49),d.\u0275\u0275template(1,Jo,2,1,"div",50),d.\u0275\u0275template(2,qo,2,1,"div",51),d.\u0275\u0275template(3,Qo,2,1,"div",51),d.\u0275\u0275template(4,Zo,2,1,"div",51),d.\u0275\u0275template(5,Ko,3,4,"div",51),d.\u0275\u0275template(6,es,3,4,"div",51),d.\u0275\u0275template(7,ts,2,1,"div",51),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275property("ngSwitch",t.$implicit.field),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","customerName"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","category"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","libelleEvent"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","userFullName"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","dateDebut"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","dateFin"),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngSwitchCase","statut"))}function is(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"tr",45),d.\u0275\u0275template(1,ns,8,8,"td",46),d.\u0275\u0275elementStart(2,"td"),d.\u0275\u0275elementStart(3,"button",47),d.\u0275\u0275listener("click",function(){const t=d.\u0275\u0275restoreView(e).$implicit;return d.\u0275\u0275nextContext().updateEvent(t)}),d.\u0275\u0275element(4,"i",48),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){const e=t.columns;d.\u0275\u0275property("pSelectableRow",t.$implicit),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngForOf",e)}}function rs(e,t){1&e&&(d.\u0275\u0275elementStart(0,"h5",78),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1("",d.\u0275\u0275pipeBind1(2,1,"task.new_event")," "))}function as(e,t){1&e&&(d.\u0275\u0275elementStart(0,"h5",78),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"task.modif_event"),""))}function os(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",59),d.\u0275\u0275elementStart(1,"label"),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(4,"div",65),d.\u0275\u0275element(5,"input",79),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(3,2,"task.category"),""),d.\u0275\u0275advance(3),d.\u0275\u0275property("value",""!==e.eventsEntity.category?e.eventsEntity.category:"PROSPECTING")}}function ss(e,t){if(1&e&&(d.\u0275\u0275elementStart(0,"div",59),d.\u0275\u0275elementStart(1,"label"),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(4,"span",60),d.\u0275\u0275text(5,"*"),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(6,"ngx-select-dropdown",80),d.\u0275\u0275elementEnd()),2&e){const e=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(3,5,"task.user"),""),d.\u0275\u0275advance(4),d.\u0275\u0275property("ngClass",!0===e.emptyUser?"ACM-responsible-error":"")("multiple",!1)("options",e.teamUsers)("config",e.configTeams)}}function ls(e,t){if(1&e&&d.\u0275\u0275text(0),2&e){const e=t.$implicit;d.\u0275\u0275textInterpolate2(" ",e.customerNameNoPipe," (",e.customerNumber,") ")}}function cs(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",81),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).collectionDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"collections.open_collection"),""))}function ds(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",81),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).loanDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"task.open_loan")))}function us(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",81),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).clientDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"button.Go_to_costumer")))}function ps(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",81),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).itemDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(2,1,"button.Go_to_Wf")))}function ms(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"button",81),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext(2).collectionDetails()}),d.\u0275\u0275text(1),d.\u0275\u0275pipe(2,"translate"),d.\u0275\u0275elementEnd()}2&e&&(d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(2,1,"collections.open_legal_collection"),""))}const vs=function(e){return{"text-end":e}},hs=function(){return{width:"100%"}};function gs(e,t){if(1&e){const e=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"div",53),d.\u0275\u0275elementStart(1,"div",54),d.\u0275\u0275template(2,rs,3,3,"h5",55),d.\u0275\u0275template(3,as,3,3,"h5",55),d.\u0275\u0275elementStart(4,"button",56),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e).close()}),d.\u0275\u0275elementStart(5,"span",57),d.\u0275\u0275text(6,"\xd7"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(7,"div",12),d.\u0275\u0275elementStart(8,"form",58),d.\u0275\u0275listener("change",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().changeForm()}),d.\u0275\u0275elementStart(9,"div",59),d.\u0275\u0275elementStart(10,"label"),d.\u0275\u0275text(11),d.\u0275\u0275pipe(12,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(13,"span",60),d.\u0275\u0275text(14,"*"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(15,"div"),d.\u0275\u0275element(16,"input",61),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(17,os,6,4,"div",62),d.\u0275\u0275template(18,ss,7,7,"div",62),d.\u0275\u0275elementStart(19,"div",59),d.\u0275\u0275elementStart(20,"label"),d.\u0275\u0275text(21),d.\u0275\u0275pipe(22,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(23,"p-autoComplete",63),d.\u0275\u0275listener("completeMethod",function(t){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().filterCustomerName(t)}),d.\u0275\u0275pipe(24,"translate"),d.\u0275\u0275template(25,ls,1,2,"ng-template",64),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(26,"br"),d.\u0275\u0275element(27,"br"),d.\u0275\u0275elementStart(28,"div",59),d.\u0275\u0275elementStart(29,"label"),d.\u0275\u0275text(30),d.\u0275\u0275pipe(31,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(32,"span",60),d.\u0275\u0275text(33,"*"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(34,"div",65),d.\u0275\u0275elementStart(35,"div",66),d.\u0275\u0275elementStart(36,"input",67),d.\u0275\u0275listener("change",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().dateChanged()}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(37,"div",66),d.\u0275\u0275element(38,"input",68),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(39,"br"),d.\u0275\u0275elementStart(40,"div",59),d.\u0275\u0275elementStart(41,"label"),d.\u0275\u0275text(42),d.\u0275\u0275pipe(43,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(44,"span",60),d.\u0275\u0275text(45,"*"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(46,"div",65),d.\u0275\u0275elementStart(47,"div",66),d.\u0275\u0275elementStart(48,"input",69),d.\u0275\u0275listener("change",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().dateChanged()}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(49,"div",66),d.\u0275\u0275element(50,"input",70),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(51,"div",59),d.\u0275\u0275elementStart(52,"label"),d.\u0275\u0275text(53),d.\u0275\u0275pipe(54,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(55,"ngx-select-dropdown",71),d.\u0275\u0275listener("change",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().participantMethod()}),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(56,"br"),d.\u0275\u0275elementStart(57,"div",59),d.\u0275\u0275elementStart(58,"label"),d.\u0275\u0275text(59),d.\u0275\u0275pipe(60,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(61,"div",65),d.\u0275\u0275element(62,"input",72),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275element(63,"br"),d.\u0275\u0275elementStart(64,"div",59),d.\u0275\u0275elementStart(65,"label"),d.\u0275\u0275text(66),d.\u0275\u0275pipe(67,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(68,"div",65),d.\u0275\u0275elementStart(69,"textarea",73),d.\u0275\u0275text(70,"          "),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(71,"div",74),d.\u0275\u0275elementStart(72,"button",75),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().reset()}),d.\u0275\u0275text(73),d.\u0275\u0275pipe(74,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(75,"button",76),d.\u0275\u0275listener("click",function(){return d.\u0275\u0275restoreView(e),d.\u0275\u0275nextContext().onSubmit()}),d.\u0275\u0275text(76),d.\u0275\u0275pipe(77,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(78,cs,3,3,"button",77),d.\u0275\u0275template(79,ds,3,3,"button",77),d.\u0275\u0275template(80,us,3,3,"button",77),d.\u0275\u0275template(81,ps,3,3,"button",77),d.\u0275\u0275template(82,ms,3,3,"button",77),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()}if(2&e){const e=d.\u0275\u0275nextContext();d.\u0275\u0275propertyInterpolate("dir",e.getDirection()),d.\u0275\u0275property("ngClass",d.\u0275\u0275pureFunction1(57,vs,"ar"===e.translate.currentLang)),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",void 0===e.eventsEntity.id),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",void 0!==e.eventsEntity.id),d.\u0275\u0275advance(1),d.\u0275\u0275classMapInterpolate1("close ACM-modal-header-",e.translate.currentLang,""),d.\u0275\u0275advance(4),d.\u0275\u0275property("formGroup",e.eventForm),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(12,37,"task.title"),""),d.\u0275\u0275advance(6),d.\u0275\u0275property("ngIf",e.eventsEntity.category||e.eventsEntity.customerName),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",e.teamOptionSelected),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(22,39,"task.customer"),""),d.\u0275\u0275advance(2),d.\u0275\u0275styleMap(d.\u0275\u0275pureFunction0(59,hs)),d.\u0275\u0275propertyInterpolate("placeholder",d.\u0275\u0275pipeBind1(24,41,"upload_document.Customer_Name")),d.\u0275\u0275property("suggestions",e.customerPaginationEntity.resultsCustomers)("size",30)("minLength",1)("forceSelection",!0)("inputStyle",d.\u0275\u0275pureFunction0(60,hs)),d.\u0275\u0275advance(7),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(31,43,"task.start_date"),""),d.\u0275\u0275advance(6),d.\u0275\u0275property("min",e.minDate),d.\u0275\u0275advance(6),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(43,45,"task.end_date"),""),d.\u0275\u0275advance(6),d.\u0275\u0275property("min",e.eventForm.controls.startDate.value),d.\u0275\u0275advance(5),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(54,47,"task.participant")),d.\u0275\u0275advance(2),d.\u0275\u0275property("multiple",!0)("options",e.participants)("config",e.configParticipants),d.\u0275\u0275advance(4),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(60,49,"task.location"),""),d.\u0275\u0275advance(7),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(67,51,"task.description"),""),d.\u0275\u0275advance(7),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(74,53,"button.cancel")),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(77,55,"button.save")),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",(null==e.eventsEntity?null:e.eventsEntity.category)===e.collectionCategory),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",(null==e.eventsEntity?null:e.eventsEntity.category)===e.loanCategory),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",null!=(null==e.eventsEntity?null:e.eventsEntity.idCustomerExtern)),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",(null==e.eventsEntity?null:e.eventsEntity.category)===e.workflowCategory||(null==e.eventsEntity?null:e.eventsEntity.category)===e.genericWorkflowCategory),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",(null==e.eventsEntity?null:e.eventsEntity.category)===e.legalCategory)}}const fs=function(){return[5,10,20,50,100]};let ys=(()=>{class e{constructor(e,t,n,i,r,a,o,s,c,d,u,p,m,v,h){this.settingsService=e,this.formBuilder=t,this.modal=n,this.crmService=i,this.library=r,this.translate=a,this.datePipe=o,this.devToolsServices=s,this.customerListService=c,this.sharedService=d,this.customerService=u,this.router=p,this.customer360Services=m,this.visitReportServices=v,this.collectionServices=h,this.selectedTasks=[],this.participants=[],this.eventsEntity=new xi.J,this.teamOptionSelected=!1,this.eventsPaginationEntity=new No,this.refresh=new l.xQ,this.users=[],this.teamUsers=[],this.formUpdated=!1,this.emptyUser=!1,this.participantSelectedList="",this.collectionCategory=wi.J.COLLECTION_CATEGORY,this.legalCategory=wi.J.LEGAL_CATEGORY,this.loanCategory=wi.J.LOAN_CATEGORY,this.taskType=wi.J.EVENT_TYPE_TASK,this.appointmentType=wi.J.EVENT_TYPE_APPOINTEMENT,this.workflowCategory=wi.J.GENERIC_WF_CATEGORY,this.genericWorkflowCategory=wi.J.GENERIC_CATEGORY,this.customerPaginationEntity=new Pi.W,this.configParticipants={displayKey:"fullName",search:!0,placeholder:" ",searchOnKey:"fullName"},this.configTeams={search:!0,displayKey:"loginAndName",searchOnKey:"login",placeholder:" "}}ngOnInit(){var e=this;return(0,o.Z)(function*(){e.cols=[{field:"customerName",header:"task.customer"},{field:"category",header:"task.category"},{field:"libelleEvent",header:"task.title"},{field:"userFullName",header:"task.user_full_name"},{field:"dateDebut",header:"task.start_date"},{field:"dateFin",header:"task.end_date"},{field:"statut",header:"task.status"}],e.selectedColumns=e.cols,e.pageSize=10,e.page=1;const t=new Mi.H;t.responsableId=e.sharedService.getUser().login,e.settingsService.getUsers(t).toPromise().then(t=>{e.teamUsers=t}),e.userConnectedLogin=e.sharedService.getUser().login,e.eventsPaginationEntity.params=new xi.J,e.eventsPaginationEntity.params.allTeamsTasks=!1,e.eventsPaginationEntity.params.username=e.userConnectedLogin,e.getEvents(),e.getParticipants()})()}getEvents(){var e=this;return(0,o.Z)(function*(){e.crmService.findPagination(e.eventsPaginationEntity).subscribe(t=>{e.eventsPaginationEntity=t})})()}reloadEventsList(e){var t=this;return(0,o.Z)(function*(){const n=new No;n.pageSize=e.rows,n.pageNumber=0===e.first?e.first:e.first/e.rows;const i=new xi.J;void 0!==e.filters&&(i.dateDebut=void 0!==e.filters.dateDebut?e.filters.dateDebut.value:null,i.dateFin=void 0!==e.filters.dateFin?e.filters.dateFin.value:null,i.customerName=void 0!==e.filters.customerName?e.filters.customerName.value:null,i.category=void 0!==e.filters.category?e.filters.category.value:null,i.libelleEvent=void 0!==e.filters.libelleEvent?e.filters.libelleEvent.value:null,i.userFullName=void 0!==e.filters.userFullName?e.filters.userFullName.value:null,i.statut=void 0!==e.filters.statut?e.filters.statut.value:null),i.allTeamsTasks=!!t.teamOptionSelected,t.teamOptionSelected&&t.userNames?(i.username=t.userNames,i.teamFilter=!0):i.username=t.userConnectedLogin,n.params=i,void 0!==e.multiSortMeta&&e.multiSortMeta.length>0&&(n.sortField=e.multiSortMeta[0].field,n.sortDirection=e.multiSortMeta[0].order),t.crmService.findPagination(n).subscribe(e=>{t.eventsPaginationEntity=e})})()}teamMemberChanged(e){const t=new No,n=new xi.J;n.username=this.userNames=e.value.map(e=>e.login).join(","),this.userNames&&(n.teamFilter=!0),n.allTeamsTasks=!0,t.params=n,this.crmService.findPagination(t).subscribe(e=>{this.eventsPaginationEntity=e})}optionChange(e){const t=new No,n=new xi.J;"2"===e.value&&(this.teamOptionSelected=!0,n.allTeamsTasks=!0),"1"===e.value&&(this.userNames=null,this.teamOptionSelected=!1,n.allTeamsTasks=!1,n.username=this.userConnectedLogin),this.resetFilters(),t.params=n,this.crmService.findPagination(t).subscribe(e=>{this.eventsPaginationEntity=e})}resetFilters(){document.querySelectorAll(".form-control").forEach(e=>{("text"===e.type||"date"===e.type)&&(e.value="",e.dispatchEvent(new Event("input",{bubbles:!0})))}),document.querySelectorAll(".form-control").forEach(e=>{"SELECT"===e.tagName&&(e.selectedIndex=0,e.dispatchEvent(new Event("change",{bubbles:!0})))})}addEvent(){this.eventsEntity=new xi.J,this.eventsEntity.typeEvent=wi.J.EVENT_TYPE_APPOINTEMENT,this.createForm();const e=new Date;e.setHours(0,0,0,0),this.minDate=this.datePipe.transform(e.setDate(e.getDate()),"yyyy-MM-dd"),this.formUpdated=!1,this.modal.open(this.modalContent,{size:"md"})}updateEvent(e){this.eventsEntity=e;const t=new Date(e.dateDebut).toISOString().substring(0,10),n=new Date(e.dateDebut).toISOString().substring(11,16),i=new Date(e.dateFin).toISOString().substring(0,10),r=new Date(e.dateFin).toISOString().substring(11,16),a=[];if(null!=e.participant){const t=(e.participant.match(/,/g)||[]).length+1;e.participant.split(",",t).forEach(e=>{this.participants.find(t=>{t.login===e&&a.push(t)})})}const o=this.userConnectedLogin!==this.eventsEntity.username?this.teamUsers.find(e=>e.login===this.eventsEntity.username):this.sharedService.getUser();this.createForm(),this.eventForm.controls.title.setValue(this.eventsEntity.libelleEvent),this.eventForm.controls.hourDate.setValue(n),this.eventForm.controls.startDate.setValue(t),this.eventForm.controls.description.setValue(this.eventsEntity.description),this.eventForm.controls.category.setValue(this.eventsEntity.category),this.eventForm.controls.typeEvent.setValue(this.eventsEntity.typeEvent);const s=new Ai.x;s.customerIdExtern=this.eventsEntity.idCustomerExtern,s.customerNameNoPipe=this.eventsEntity.customerName,this.eventForm.controls.customer.setValue(s),this.eventForm.controls.endDate.setValue(i),this.eventForm.controls.hourEndDate.setValue(r),this.eventForm.controls.location.setValue(this.eventsEntity.place),this.eventForm.controls.user.setValue(o),this.eventForm.controls.participant.setValue(a),this.participantMethod(),this.formUpdated=!1,this.modal.open(this.modalContent)}createForm(){this.eventForm=this.formBuilder.group({title:["",Ei.kI.required],category:[""],startDate:["",Ei.kI.required],hourDate:["",Ei.kI.required],endDate:["",Ei.kI.required],hourEndDate:["",Ei.kI.required],customer:[""],user:[""],location:[""],description:[""],participant:[""],typeEvent:[wi.J.EVENT_TYPE_TASK]})}changeForm(){this.formUpdated=!0}getLang(){return this.translate.currentLang}dateChanged(){""!==this.eventForm.controls.startDate.value&&""!==this.eventForm.controls.endDate.value&&this.eventForm.controls.startDate.value>this.eventForm.controls.endDate.value&&this.devToolsServices.openToast(3,"alert.error_date")}hourChanged(){""!==this.eventForm.controls.hourDate.value&&""!==this.eventForm.controls.hourEndDate.value&&this.eventForm.controls.startDate.value==this.eventForm.controls.endDate.value&&this.eventForm.controls.hourDate.value>this.eventForm.controls.hourEndDate.value&&this.devToolsServices.openToast(3,"alert.error_date")}getDirection(){return Ci.y.direction}filterCustomerName(e){this.customerPaginationEntity.pageSize=25,this.customerPaginationEntity.pageNumber=0,this.customerPaginationEntity.params=new Ai.x,this.customerPaginationEntity.params.customerName=e.query,this.customerListService.getCustomersPagination(this.customerPaginationEntity).subscribe(e=>{this.customerPaginationEntity=e,this.customerPaginationEntity.resultsCustomers.forEach(e=>{e.customerNameNoPipe=this.sharedService.getCustomerName(e)})})}reset(){this.clearForm(),this.modal.dismissAll()}clearForm(){this.selectedTasks=[],this.eventForm.reset()}formatDate(e){return this.datePipe.transform(e,"yyyy-MM-ddTHH:mm:ss.SSSZ","UTC")}save(){var e=this;return(0,o.Z)(function*(){e.eventsEntity.typeEvent=e.eventForm.value.typeEvent,e.eventsEntity.libelleEvent=e.eventForm.value.title,e.eventsEntity.description=e.eventForm.value.description,e.teamOptionSelected&&""===e.eventForm.controls.user.value?e.emptyUser=!0:(""!==e.eventForm.value.user?(e.eventsEntity.username=e.eventForm.value.user.login,e.eventsEntity.userFullName=e.eventForm.value.user.fullName,e.eventsEntity.userEmail=e.eventForm.value.user.email):(e.eventsEntity.username=e.sharedService.getUser().login,e.eventsEntity.userFullName=e.sharedService.getUser().fullName,e.eventsEntity.userEmail=e.sharedService.getUser().email),e.eventsEntity.category=wi.J.PROSPECT_CATEGORY,null!==e.eventForm.value.customer&&(e.eventsEntity.idCustomerExtern=e.eventForm.value.customer.customerIdExtern,e.eventsEntity.customerName=e.eventForm.value.customer.customerNameNoPipe,e.eventsEntity.customerNumber=e.eventForm.value.customer.customerNumber),""!==e.eventForm.value.hourDate&&(e.eventsEntity.dateDebut=e.formatDate(e.eventForm.value.startDate+"T"+e.eventForm.value.hourDate)),""!==e.eventForm.value.hourEndDate&&(e.eventsEntity.dateFin=e.formatDate(e.eventForm.value.endDate+"T"+e.eventForm.value.hourEndDate)),e.eventsEntity.place=e.eventForm.value.location,""!==e.eventForm.value.participant&&(e.eventsEntity.participant=e.participantSelectedList.slice(0,-1),e.eventsEntity.fullNameParticipants=e.fullNameParticipants.substring(1)),yield e.crmService.create(e.eventsEntity).toPromise().then(()=>{e.formUpdated=!1,e.modal.dismissAll(),e.getEvents()}))})()}update(){var e=this;return(0,o.Z)(function*(){e.eventsEntity.typeEvent=e.eventForm.value.typeEvent,e.eventsEntity.libelleEvent=e.eventForm.value.title,e.eventsEntity.description=e.eventForm.value.description,null!==e.eventForm.value.customer&&(e.eventsEntity.idCustomerExtern=e.eventForm.value.customer.customerIdExtern,e.eventsEntity.customerName=e.eventForm.value.customer.customerNameNoPipe),e.eventsEntity.dateDebut=""!==e.eventForm.value.hourDate?e.eventForm.value.startDate+"T"+e.eventForm.value.hourDate+".000+0000":e.eventForm.value.startDate,e.eventsEntity.dateFin=""!==e.eventForm.value.hourEndDate?e.eventForm.value.endDate+"T"+e.eventForm.value.hourEndDate+".000+0000":e.eventForm.value.endDate,e.eventsEntity.place=e.eventForm.value.location,""!==e.eventForm.value.participant&&(e.eventsEntity.participant=e.participantSelectedList.slice(0,-1)),""!==e.eventForm.value.user&&e.teamOptionSelected&&(e.eventsEntity.username=e.eventForm.value.user.login,e.eventsEntity.userFullName=e.eventForm.value.user.fullName,e.eventsEntity.userEmail=e.eventForm.value.user.email),yield e.crmService.update(e.eventsEntity).toPromise().then(()=>{e.formUpdated=!1,e.modal.dismissAll(),e.getEvents()})})()}participantMethod(){this.fullNameParticipants="",this.participantSelectedList="",this.eventForm.controls.participant.value.forEach(e=>{this.participantSelectedList=e.login+","+this.participantSelectedList,this.fullNameParticipants=this.fullNameParticipants+","+e.fullName}),void 0!==this.fullNameParticipants&&""!==this.fullNameParticipants&&(this.fullNameParticipants=this.fullNameParticipants.substring(1))}onSubmit(){this.eventForm.valid&&(""!==this.eventForm.controls.startDate.value&&""!==this.eventForm.controls.endDate.value&&this.eventForm.controls.startDate.value>this.eventForm.controls.endDate.value||""!==this.eventForm.controls.hourDate.value&&""!==this.eventForm.controls.hourEndDate.value&&this.eventForm.controls.startDate.value==this.eventForm.controls.endDate.value&&this.eventForm.controls.hourDate.value>this.eventForm.controls.hourEndDate.value?this.devToolsServices.openToast(3,"alert.error_date"):(this.emptyUser=!1,null!=this.eventsEntity.id?this.update():this.save().then(()=>{!1===this.emptyUser&&this.devToolsServices.openToast(0,"alert.success")})))}collectionDetails(){var e=this;return(0,o.Z)(function*(){yield e.customer360Services.findLoanByIdExtern(e.eventsEntity.idLoanExtern).pipe((0,le.U)(t=>(e.sharedService.setLoan(t),t)),(0,oe.zg)(t=>{const n=e.customerService.getCustomerInformation(t.customerDTO.id),i=new Fi.F;i.id=e.eventsEntity.idCollection;const r=e.collectionServices.getCollection(i);return(0,c.D)([n,r])})).subscribe(t=>{e.modal.dismissAll(),e.sharedService.setCustomer(t[0]),e.sharedService.setCollection(t[1][0]),e.sharedService.rootingCollectionUrlByStatut("calendar")})})()}loanDetails(){var e=this;return(0,o.Z)(function*(){yield e.customer360Services.findLoanByIdExtern(e.eventsEntity.idLoanExtern).subscribe(t=>{e.settingsService.findProductById(t.productId).subscribe(n=>{t.productDTO=n,e.sharedService.openLoan(t,"calendar"),e.modal.dismissAll()})})})()}clientDetails(){var e=this;return(0,o.Z)(function*(){if(!0!==e.formUpdated)if(e.eventsEntity.idLoanExtern)e.customer360Services.findLoanByIdExtern(e.eventsEntity.idLoanExtern).subscribe(t=>{e.sharedService.setCustomer(t.customerDTO),e.modal.dismissAll(),e.router.navigate([wi.J.CUSTOMER_360_DETAILS_URL],{queryParams:{source:"calendar"}})});else{const t=new Ai.x;t.customerIdExtern=e.eventsEntity.idCustomerExtern,e.customerService.findCustomer(t).subscribe(t=>{e.sharedService.setCustomer(t[0]),e.modal.dismissAll(),e.router.navigate([wi.J.CUSTOMER_360_DETAILS_URL],{queryParams:{source:"calendar"}})})}else e.devToolsServices.openToast(3,"alert.save_before_exit")})()}getParticipants(){this.visitReportServices.getUsersVisit().subscribe(e=>{this.participants=e;for(let t=0;t<e.length;t++)this.users.push({item_id:e[t].login,item_text:e[t].simpleName});this.sharedService.setUsers(this.users)})}itemDetails(){var e=this;return(0,o.Z)(function*(){yield e.settingsService.finItemById(e.eventsEntity.idItem).subscribe(t=>{e.sharedService.setItem(t),e.modal.dismissAll(),e.router.navigate([wi.J.GENERIC_WORKFLOW_SCREEN_URL])})})()}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(_i.g),d.\u0275\u0275directiveInject(Ei.qu),d.\u0275\u0275directiveInject(zi.FF),d.\u0275\u0275directiveInject(Hi._),d.\u0275\u0275directiveInject(Gi.by),d.\u0275\u0275directiveInject(Wi.sK),d.\u0275\u0275directiveInject(i.DatePipe),d.\u0275\u0275directiveInject($i.R),d.\u0275\u0275directiveInject(qi.c),d.\u0275\u0275directiveInject(Ui.F),d.\u0275\u0275directiveInject(ji.U),d.\u0275\u0275directiveInject(r.F0),d.\u0275\u0275directiveInject(Xi.W),d.\u0275\u0275directiveInject(Yi.d),d.\u0275\u0275directiveInject(Ji.f))},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["app-task-list"]],viewQuery:function(e,t){if(1&e&&d.\u0275\u0275viewQuery(Lo,7),2&e){let e;d.\u0275\u0275queryRefresh(e=d.\u0275\u0275loadQuery())&&(t.modalContent=e.first)}},decls:25,vars:31,consts:[[3,"heading","icon","account","status"],[1,"card-header-tab","card-header"],[1,"d-flex","flex-row","position-relative","form-group","col-4","mt-2"],["labelPosition","after",1,"d-flex","flex-row","bd-highlight","mb-3",3,"change"],["value","1",1,"pt-2","px-3","bd-highlight",3,"checked"],["value","2",1,"pt-2","px-3","bd-highlight"],["class","col-6 mt-1",4,"ngIf"],[1,"btn-actions-pane-right"],[1,"d-inline-flex","align-items-center","btn","btn-primary",3,"click"],[1,"mx-2",3,"icon"],[4,"ngIf"],[1,"main-card","mb-3","card"],[1,"card-body"],["sortMode","multiple","selectionMode","single",3,"responsive","autoLayout","value","lazy","lazyLoadOnInit","totalRecords","rowsPerPageOptions","paginator","pageLinks","rows","columns","showCurrentPageReport","selection","onLazyLoad","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["modalContent",""],[1,"col-6","mt-1"],["tabindex","0",3,"multiple","options","config","change"],["class","text-center",3,"pSortableColumn",4,"ngFor","ngForOf"],[2,"width","40px"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"text-center",3,"pSortableColumn"],[1,"text-center","center-elem"],[1,"pl-1",3,"field"],[3,"ngSwitch"],["class","form-control ACM-Dashbord-customername-col","type","text",3,"input",4,"ngSwitchCase"],["class","form-control",3,"change",4,"ngSwitchCase"],["class","form-control","type","text",3,"input",4,"ngSwitchCase"],["class","form-control ACM-Dashbord-Date-col","type","date",3,"input",4,"ngSwitchCase"],["type","text",1,"form-control","ACM-Dashbord-customername-col",3,"input"],[1,"form-control",3,"change"],["value",""],["value","COLLECTION"],["value","LEGAL"],["value","LOAN"],["value","PROSPECT"],["value","GENERIC"],["value","CLAIM"],["value","PROSPECTION"],["type","text",1,"form-control",3,"input"],["type","date",1,"form-control","ACM-Dashbord-Date-col",3,"input"],["value","NEW"],["value","CLOSED"],[3,"pSelectableRow"],["class","text-center",3,"ngSwitch",4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"click"],[1,"pe-7s-pen","btn-icon-wrapper","text-white"],[1,"text-center",3,"ngSwitch"],["class","ACM-Dashbord-customernametd-col",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"ACM-Dashbord-customernametd-col"],[3,"dir","ngClass"],[1,"modal-header","py-2"],["class","modal-title",4,"ngIf"],["type","button",3,"click"],["aria-hidden","true"],[1,"form",3,"formGroup","change"],[1,"position-relative"],[1,"text-danger"],["type","text","formControlName","title",1,"form-control"],["class","position-relative",4,"ngIf"],["formControlName","customer","field","customerNameNoPipe","id","user-autocomplete",3,"suggestions","placeholder","size","minLength","forceSelection","inputStyle","completeMethod"],["pTemplate","item"],[1,"input-group"],[1,"col-6"],["type","date","formControlName","startDate",1,"form-control",3,"min","change"],["type","time","formControlName","hourDate",1,"form-control"],["type","date","formControlName","endDate",1,"form-control",3,"min","change"],["type","time","formControlName","hourEndDate",1,"form-control"],["tabindex","0","formControlName","participant",3,"multiple","options","config","change"],["type","text","formControlName","location",1,"form-control"],["rows","3","cols","20","pInputTextarea","","formControlName","description",1,"form-control"],[1,"modal-footer","py-1"],["type","reset",1,"mb-2","mx-2","btn","btn-outline-danger",3,"click"],[1,"mb-2","btn","btn-primary",3,"click"],["class","mb-2 mx-2 btn btn-outline-primary",3,"click",4,"ngIf"],[1,"modal-title"],["disabled","","type","text",1,"form-control",3,"value"],["tabindex","0","formControlName","user",3,"ngClass","multiple","options","config"],[1,"mb-2","mx-2","btn","btn-outline-primary",3,"click"]],template:function(e,t){1&e&&(d.\u0275\u0275element(0,"app-page-title",0),d.\u0275\u0275pipe(1,"translate"),d.\u0275\u0275elementStart(2,"div",1),d.\u0275\u0275elementStart(3,"div",2),d.\u0275\u0275elementStart(4,"mat-radio-group",3),d.\u0275\u0275listener("change",function(e){return t.optionChange(e)}),d.\u0275\u0275elementStart(5,"mat-radio-button",4),d.\u0275\u0275text(6),d.\u0275\u0275pipe(7,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(8,"mat-radio-button",5),d.\u0275\u0275text(9),d.\u0275\u0275pipe(10,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(11,Bo,2,3,"div",6),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(12,"div",7),d.\u0275\u0275elementStart(13,"button",8),d.\u0275\u0275listener("click",function(){return t.addEvent()}),d.\u0275\u0275element(14,"fa-icon",9),d.\u0275\u0275template(15,Ro,3,3,"span",10),d.\u0275\u0275template(16,zo,3,3,"span",10),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(17,"div",11),d.\u0275\u0275elementStart(18,"div",12),d.\u0275\u0275elementStart(19,"p-table",13,14),d.\u0275\u0275listener("onLazyLoad",function(e){return t.reloadEventsList(e)})("selectionChange",function(e){return t.eventsEntity=e}),d.\u0275\u0275template(21,Xo,6,2,"ng-template",15),d.\u0275\u0275template(22,is,5,2,"ng-template",16),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(23,gs,83,61,"ng-template",null,17,d.\u0275\u0275templateRefExtractor)),2&e&&(d.\u0275\u0275property("heading",d.\u0275\u0275pipeBind1(1,24,"sidebar.task_list"))("icon","pe-7s-search")("account","")("status",-1),d.\u0275\u0275advance(5),d.\u0275\u0275property("checked",!0),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(7,26,"dashboard.task")," "),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate1(" ",d.\u0275\u0275pipeBind1(10,28,"dashboard.teams_tasks")," "),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngIf",t.teamOptionSelected),d.\u0275\u0275advance(3),d.\u0275\u0275property("icon",t.library.getIconDefinition("fas","plus")),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",!t.teamOptionSelected),d.\u0275\u0275advance(1),d.\u0275\u0275property("ngIf",t.teamOptionSelected),d.\u0275\u0275advance(3),d.\u0275\u0275property("responsive",!0)("autoLayout",!0)("value",t.eventsPaginationEntity.resultsEvents)("lazy",!0)("lazyLoadOnInit",!1)("totalRecords",t.eventsPaginationEntity.totalElements)("rowsPerPageOptions",d.\u0275\u0275pureFunction0(30,fs))("paginator",!0)("pageLinks",5)("rows",10)("columns",t.selectedColumns)("showCurrentPageReport",!0)("selection",t.eventsEntity))},directives:[er.T,tr.HK,nr.VQ,nr.U0,i.NgIf,Gi.BN,Ha.iA,sr.jx,ir.rL,i.NgForOf,Ha.lQ,Ha.fz,i.NgSwitch,i.NgSwitchCase,tr.oH,Ei.YN,Ei.Kr,Ha.Ei,rr.Lv,i.NgClass,Ei._Y,Ei.JL,Ei.sg,tr.MU,ar.jv,Ei.Fj,Ei.JJ,Ei.u,ar.wj,or.Qc],pipes:[Wi.X$,i.DatePipe],styles:[""]}),e})();var Es=n(65538),Ss=n(20494);function xs(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",4),d.\u0275\u0275element(1,"span",7),d.\u0275\u0275elementStart(2,"span",8),d.\u0275\u0275text(3),d.\u0275\u0275pipe(4,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(4,1,"collections.collection-dashboard.active")))}function ws(e,t){1&e&&(d.\u0275\u0275elementStart(0,"div",4),d.\u0275\u0275element(1,"span",9),d.\u0275\u0275elementStart(2,"span",8),d.\u0275\u0275text(3),d.\u0275\u0275pipe(4,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(4,1,"prospection.closed")))}let Cs=(()=>{class e{constructor(e,t){this.collectionService=e,this.router=t,this.products=[],this.branches=[],this.statusList=[],this.collectionPaginationEntity=new Es.z,this.type=wi.J.PROSPECTION}ngOnInit(){var e=this;return(0,o.Z)(function*(){const t=new Fi.F;t.status=0,t.collectionType=e.type,e.loadFilterCollectionProduct(t),e.loadFilterCollectionBranch(t),e.loadFilterCollectionStatus(t),e.loadCollectionsByPaginations(t,0,10),e.router.routeReuseStrategy.shouldReuseRoute=()=>!1})()}loadCollectionsByPaginations(e,t,n){var i=this;return(0,o.Z)(function*(){const r=new Es.z;r.params=e,r.pageSize=n,r.pageNumber=t,yield i.collectionService.loadDashboardByStatusPagination(r).subscribe(e=>{i.collectionPaginationEntity=e})})()}loadFilterCollectionBranch(e){var t=this;return(0,o.Z)(function*(){yield t.collectionService.loadFilterCollectionBranch(e).subscribe(e=>{t.branches=[],e.forEach(e=>{t.branches.push({label:e.branchDescription,value:e.branchDescription})})})})()}loadFilterCollectionStatus(e){var t=this;return(0,o.Z)(function*(){yield t.collectionService.loadFilterCollectionStatus(e).subscribe(e=>{t.statusList=[];const n=[];e.forEach(e=>{void 0!==e.statutLibelle?n.push(e.statutLibelle):-1===n.indexOf(e.statutLibelleDone)&&n.push(e.statutLibelleDone)}),n.forEach(e=>t.statusList.push({label:e,value:e}))})})()}loadFilterCollectionProduct(e){var t=this;return(0,o.Z)(function*(){yield t.collectionService.loadFilterCollectionProduct(e).subscribe(e=>{t.products=[],e.forEach(e=>{t.products.push({label:e.productDescription,value:e.productDescription})})})})()}changeTabs(e){const t=new Fi.F;if(t.collectionType=this.type,t.status=0,"PROSPECTION"===this.type)switch(e.index){case 0:t.status=0;break;case 1:t.status=1}this.loadCollectionsByPaginations(t,0,10),this.loadFilterCollectionBranch(t),this.loadFilterCollectionProduct(t),this.loadFilterCollectionStatus(t)}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275directiveInject(Ji.f),d.\u0275\u0275directiveInject(r.F0))},e.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["app-prospection"]],decls:11,vars:18,consts:[[3,"heading","icon","account","status"],[1,"row","mr-30"],[1,"col-xl-12"],[1,"page-mat-tabs",3,"selectedTabChange"],[1,"col-xl-2"],["matTabLabel",""],[3,"collectionPaginationEntity","statusTab","products","branches","statusList","collectionType"],[1,"loans-lenght","text-info","fa","fa-hourglass-start","icon-size-fa","ng-star-inserted"],[1,"size-text"],[1,"loans-lenght","text-success","fa","fa-check-circle","icon-size-fa","ng-star-inserted"]],template:function(e,t){1&e&&(d.\u0275\u0275element(0,"app-page-title",0),d.\u0275\u0275pipe(1,"translate"),d.\u0275\u0275elementStart(2,"div",1),d.\u0275\u0275elementStart(3,"div",2),d.\u0275\u0275elementStart(4,"mat-tab-group",3),d.\u0275\u0275listener("selectedTabChange",function(e){return t.changeTabs(e)}),d.\u0275\u0275elementStart(5,"mat-tab",4),d.\u0275\u0275template(6,xs,5,3,"ng-template",5),d.\u0275\u0275element(7,"app-table-collection",6),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(8,"mat-tab",4),d.\u0275\u0275template(9,ws,5,3,"ng-template",5),d.\u0275\u0275element(10,"app-table-collection",6),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementEnd()),2&e&&(d.\u0275\u0275property("heading",d.\u0275\u0275pipeBind1(1,16,"sidebar.prospection_dashboard"))("icon","lnr-history")("account","")("status",0),d.\u0275\u0275advance(7),d.\u0275\u0275property("collectionPaginationEntity",t.collectionPaginationEntity)("statusTab",0)("products",t.products)("branches",t.branches)("statusList",t.statusList)("collectionType",t.type),d.\u0275\u0275advance(3),d.\u0275\u0275property("collectionPaginationEntity",t.collectionPaginationEntity)("statusTab",1)("products",t.products)("branches",t.branches)("statusList",t.statusList)("collectionType",t.type))},directives:[er.T,Va.SP,Va.uX,Va.uD,Ss.s],pipes:[Wi.X$],styles:[""]}),e})();var bs=n(56411);const Ds=[{path:"",children:[{path:"task",canActivate:[a.P],component:Ra},{path:"calendar",canActivate:[a.P],component:oa},{path:"claims",canActivate:[a.P],component:Do},{path:"claim-detail",canActivate:[a.P],component:Po},{path:"task-list",canActivate:[a.P],component:ys},{path:"prospection",canActivate:[a.P],component:Cs},{path:"unassigned-prospections",canActivate:[a.P],component:bs.g}]}];let Ts=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=d.\u0275\u0275defineInjector({imports:[[r.Bz.forChild(Ds)],r.Bz]}),e})();var Is=n(39929),ks=n(67827),Os=n(35885),Fs=n(49976),Ms=n(50103),As=n(36949),Ps=n(87564),Ns=n(76569),Ls=n(90838);let Bs=(()=>{class e{constructor(e){this.library=e,e.addIconPacks(Fs.mRB),e.addIcons(Fs.SvR)}}return e.\u0275fac=function(t){return new(t||e)(d.\u0275\u0275inject(Gi.by))},e.\u0275mod=d.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=d.\u0275\u0275defineInjector({imports:[[i.CommonModule,nr.Fk,Ts,Is.p,Gi.uH,or.WN,sa.q.forRoot({}),ks.ZQ.forRoot(),la.Xd,Ei.UX,ir._c,tr.VN,yi.forRoot({provide:Tn,useFactory:Os.x}),Wi.aw,Ha.U$,or.WN,Ms.kW,As.q4,Ps.JH,Ei.u5,Va.Nh,Ns.GenericModule,Ls.u,ar.sm.forRoot({type:"validation",invalidClass:"invalid-input"})]]}),e})()},19806:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return r},__assign:function(){return a},__rest:function(){return o},__decorate:function(){return s},__param:function(){return l},__metadata:function(){return c},__awaiter:function(){return d},__generator:function(){return u},__createBinding:function(){return p},__exportStar:function(){return m},__values:function(){return v},__read:function(){return h},__spread:function(){return g},__spreadArrays:function(){return f},__await:function(){return y},__asyncGenerator:function(){return E},__asyncDelegator:function(){return S},__asyncValues:function(){return x},__makeTemplateObject:function(){return w},__importStar:function(){return C},__importDefault:function(){return b},__classPrivateFieldGet:function(){return D},__classPrivateFieldSet:function(){return T}});var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function s(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function l(e,t){return function(n,i){t(n,i,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,n,i){return new(n||(n=Promise))(function(r,a){function o(e){try{l(i.next(e))}catch(t){a(t)}}function s(e){try{l(i.throw(e))}catch(t){a(t)}}function l(e){e.done?r(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}l((i=i.apply(e,t||[])).next())})}function u(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function p(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}function m(e,t){for(var n in e)"default"!==n&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function v(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=a.next()).done;)o.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function f(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function E(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){r[e]&&(i[e]=function(t){return new Promise(function(n,i){a.push([e,t,n,i])>1||s(e,t)})})}function s(e,t){try{!function(e){e.value instanceof y?Promise.resolve(e.value.v).then(l,c):d(a[0][2],e)}(r[e](t))}catch(n){d(a[0][3],n)}}function l(e){s("next",e)}function c(e){s("throw",e)}function d(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function S(e){var t,n;return t={},i("next"),i("throw",function(e){throw e}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,r){t[i]=e[i]?function(t){return(n=!n)?{value:y(e[i](t)),done:"return"===i}:r?r(t):t}:r}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=v(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise(function(i,r){!function(e,t,n,i){Promise.resolve(i).then(function(t){e({value:t,done:n})},t)}(i,r,(t=e[n](t)).done,t.value)})}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}}]);